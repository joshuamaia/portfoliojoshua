var r7=Object.defineProperty,ov=Object.defineProperties;var rv=Object.getOwnPropertyDescriptors;var s7=Object.getOwnPropertySymbols,cv=Object.getPrototypeOf,av=Object.prototype.hasOwnProperty,lv=Object.prototype.propertyIsEnumerable,uv=Reflect.get;var co=(n,e)=>(e=Symbol[n])?e:Symbol.for("Symbol."+n);var o7=(n,e,t)=>e in n?r7(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,N=(n,e)=>{for(var t in e||={})av.call(e,t)&&o7(n,t,e[t]);if(s7)for(var t of s7(e))lv.call(e,t)&&o7(n,t,e[t]);return n},t1=(n,e)=>ov(n,rv(e));var c7=(n,e)=>{for(var t in e)r7(n,t,{get:e[t],enumerable:!0})};var m3=(n,e,t)=>uv(cv(n),t,e);var S=(n,e,t)=>new Promise((i,s)=>{var o=a=>{try{c(t.next(a))}catch(l){s(l)}},r=a=>{try{c(t.throw(a))}catch(l){s(l)}},c=a=>a.done?i(a.value):Promise.resolve(a.value).then(o,r);c((t=t.apply(n,e)).next())}),p0=function(n,e){this[0]=n,this[1]=e},ao=(n,e,t)=>{var i=(r,c,a,l)=>{try{var u=t[r](c),f=(c=u.value)instanceof p0,d=u.done;Promise.resolve(f?c[0]:c).then(h=>f?i(r==="return"?r:"next",c[1]?{done:h.done,value:h.value}:h,a,l):a({value:h,done:d})).catch(h=>i("throw",h,a,l))}catch(h){l(h)}},s=r=>o[r]=c=>new Promise((a,l)=>i(r,c,a,l)),o={};return t=t.apply(n,e),o[co("asyncIterator")]=()=>o,s("next"),s("throw"),s("return"),o};var a7=(n,e,t)=>(e=n[co("asyncIterator")])?e.call(n):(n=n[co("iterator")](),e={},t=(i,s)=>(s=n[i])&&(e[i]=o=>new Promise((r,c,a)=>(o=s.call(n,o),a=o.done,Promise.resolve(o.value).then(l=>r({value:l,done:a}),c)))),t("next"),t("return"),e);function l7(n,e){return Object.is(n,e)}var B1=null,m0=!1,uo=1,r2=Symbol("SIGNAL");function c1(n){let e=B1;return B1=n,e}function u7(){return B1}var g0={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function fo(n){if(m0)throw new Error("");if(B1===null)return;B1.consumerOnSignalRead(n);let e=B1.nextProducerIndex++;if(C0(B1),e<B1.producerNode.length&&B1.producerNode[e]!==n&&kn(B1)){let t=B1.producerNode[e];v0(t,B1.producerIndexOfThis[e])}B1.producerNode[e]!==n&&(B1.producerNode[e]=n,B1.producerIndexOfThis[e]=kn(B1)?m7(n,B1,e):0),B1.producerLastReadVersion[e]=n.version}function fv(){uo++}function f7(n){if(!(kn(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===uo)){if(!n.producerMustRecompute(n)&&!po(n)){lo(n);return}n.producerRecomputeValue(n),lo(n)}}function d7(n){if(n.liveConsumerNode===void 0)return;let e=m0;m0=!0;try{for(let t of n.liveConsumerNode)t.dirty||dv(t)}finally{m0=e}}function h7(){return B1?.consumerAllowSignalWrites!==!1}function dv(n){n.dirty=!0,d7(n),n.consumerMarkedDirty?.(n)}function lo(n){n.dirty=!1,n.lastCleanEpoch=uo}function ho(n){return n&&(n.nextProducerIndex=0),c1(n)}function p7(n,e){if(c1(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(kn(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)v0(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function po(n){C0(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(f7(t),i!==t.version))return!0}return!1}function mo(n){if(C0(n),kn(n))for(let e=0;e<n.producerNode.length;e++)v0(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function m7(n,e,t){if(g7(n),n.liveConsumerNode.length===0&&v7(n))for(let i=0;i<n.producerNode.length;i++)n.producerIndexOfThis[i]=m7(n.producerNode[i],n,i);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function v0(n,e){if(g7(n),n.liveConsumerNode.length===1&&v7(n))for(let i=0;i<n.producerNode.length;i++)v0(n.producerNode[i],n.producerIndexOfThis[i]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let i=n.liveConsumerIndexOfThis[e],s=n.liveConsumerNode[e];C0(s),s.producerIndexOfThis[i]=e}}function kn(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function C0(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function g7(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function v7(n){return n.producerNode!==void 0}function hv(){throw new Error}var C7=hv;function b7(){C7()}function M7(n){C7=n}var pv=null;function y7(n){let e=Object.create(go);e.value=n;let t=()=>(fo(e),e.value);return t[r2]=e,t}function b0(n,e){h7()||b7(),n.equal(n.value,e)||(n.value=e,mv(n))}function _7(n,e){h7()||b7(),b0(n,e(n.value))}var go=t1(N({},g0),{equal:l7,value:void 0});function mv(n){n.version++,fv(),d7(n),pv?.()}function V(n){return typeof n=="function"}function g3(n){let t=n(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var M0=g3(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,s)=>`${s+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Nt(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var T1=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(V(i))try{i()}catch(o){e=o instanceof M0?o.errors:[o]}let{_finalizers:s}=this;if(s){this._finalizers=null;for(let o of s)try{L7(o)}catch(r){e=e??[],r instanceof M0?e=[...e,...r.errors]:e.push(r)}}if(e)throw new M0(e)}}add(e){var t;if(e&&e!==this)if(this.closed)L7(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Nt(t,e)}remove(e){let{_finalizers:t}=this;t&&Nt(t,e),e instanceof n&&e._removeParent(this)}};T1.EMPTY=(()=>{let n=new T1;return n.closed=!0,n})();var vo=T1.EMPTY;function y0(n){return n instanceof T1||n&&"closed"in n&&V(n.remove)&&V(n.add)&&V(n.unsubscribe)}function L7(n){V(n)?n():n.unsubscribe()}var Ge={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var v3={setTimeout(n,e,...t){let{delegate:i}=v3;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=v3;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function _0(n){v3.setTimeout(()=>{let{onUnhandledError:e}=Ge;if(e)e(n);else throw n})}function Tt(){}var w7=Co("C",void 0,void 0);function z7(n){return Co("E",void 0,n)}function x7(n){return Co("N",n,void 0)}function Co(n,e,t){return{kind:n,value:e,error:t}}var It=null;function C3(n){if(Ge.useDeprecatedSynchronousErrorHandling){let e=!It;if(e&&(It={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:i}=It;if(It=null,t)throw i}}else n()}function S7(n){Ge.useDeprecatedSynchronousErrorHandling&&It&&(It.errorThrown=!0,It.error=n)}var kt=class extends T1{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,y0(e)&&e.add(this)):this.destination=Cv}static create(e,t,i){return new b3(e,t,i)}next(e){this.isStopped?Mo(x7(e),this):this._next(e)}error(e){this.isStopped?Mo(z7(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Mo(w7,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},gv=Function.prototype.bind;function bo(n,e){return gv.call(n,e)}var yo=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){L0(i)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){L0(i)}else L0(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){L0(t)}}},b3=class extends kt{constructor(e,t,i){super();let s;if(V(e)||!e)s={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&Ge.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),s={next:e.next&&bo(e.next,o),error:e.error&&bo(e.error,o),complete:e.complete&&bo(e.complete,o)}):s=e}this.destination=new yo(s)}};function L0(n){Ge.useDeprecatedSynchronousErrorHandling?S7(n):_0(n)}function vv(n){throw n}function Mo(n,e){let{onStoppedNotification:t}=Ge;t&&v3.setTimeout(()=>t(n,e))}var Cv={closed:!0,next:Tt,error:vv,complete:Tt};var M3=typeof Symbol=="function"&&Symbol.observable||"@@observable";function fe(n){return n}function _o(...n){return Lo(n)}function Lo(n){return n.length===0?fe:n.length===1?n[0]:function(t){return n.reduce((i,s)=>s(i),t)}}var J=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,s){let o=Mv(t)?t:new b3(t,i,s);return C3(()=>{let{operator:r,source:c}=this;o.add(r?r.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=A7(i),new i((s,o)=>{let r=new b3({next:c=>{try{t(c)}catch(a){o(a),r.unsubscribe()}},error:o,complete:s});this.subscribe(r)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[M3](){return this}pipe(...t){return Lo(t)(this)}toPromise(t){return t=A7(t),new t((i,s)=>{let o;this.subscribe(r=>o=r,r=>s(r),()=>i(o))})}}return n.create=e=>new n(e),n})();function A7(n){var e;return(e=n??Ge.Promise)!==null&&e!==void 0?e:Promise}function bv(n){return n&&V(n.next)&&V(n.error)&&V(n.complete)}function Mv(n){return n&&n instanceof kt||bv(n)&&y0(n)}function wo(n){return V(n?.lift)}function n1(n){return e=>{if(wo(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function G(n,e,t,i,s){return new zo(n,e,t,i,s)}var zo=class extends kt{constructor(e,t,i,s,o,r){super(e),this.onFinalize=o,this.shouldUnsubscribe=r,this._next=t?function(c){try{t(c)}catch(a){e.error(a)}}:super._next,this._error=s?function(c){try{s(c)}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function y3(){return n1((n,e)=>{let t=null;n._refCount++;let i=G(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let s=n._connection,o=t;t=null,s&&(!o||s===o)&&s.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}var _3=class extends J{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,wo(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new T1;let t=this.getSubject();e.add(this.source.subscribe(G(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=T1.EMPTY)}return e}refCount(){return y3()(this)}};var E7=g3(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var g1=(()=>{class n extends J{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new w0(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new E7}next(t){C3(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){C3(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){C3(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:s,observers:o}=this;return i||s?vo:(this.currentObservers=null,o.push(t),new T1(()=>{this.currentObservers=null,Nt(o,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:s,isStopped:o}=this;i?t.error(s):o&&t.complete()}asObservable(){let t=new J;return t.source=this,t}}return n.create=(e,t)=>new w0(e,t),n})(),w0=class extends g1{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,e)}error(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&i!==void 0?i:vo}};var q1=class extends g1{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var xo={now(){return(xo.delegate||Date).now()},delegate:void 0};var z0=class extends T1{constructor(e,t){super()}schedule(e,t=0){return this}};var On={setInterval(n,e,...t){let{delegate:i}=On;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=On;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var x0=class extends z0{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;let s=this.id,o=this.scheduler;return s!=null&&(this.id=this.recycleAsyncId(o,s,t)),this.pending=!0,this.delay=t,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return On.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return t;t!=null&&On.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,t);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i=!1,s;try{this.work(e)}catch(o){i=!0,s=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),s}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Nt(i,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var L3=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}};L3.now=xo.now;var S0=class extends L3{constructor(e,t=L3.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}};var So=new S0(x0),D7=So;var J1=new J(n=>n.complete());function A0(n){return n&&V(n.schedule)}function N7(n){return n[n.length-1]}function w3(n){return V(N7(n))?n.pop():void 0}function et(n){return A0(N7(n))?n.pop():void 0}function I7(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function c(u){try{l(i.next(u))}catch(f){r(f)}}function a(u){try{l(i.throw(u))}catch(f){r(f)}}function l(u){u.done?o(u.value):s(u.value).then(c,a)}l((i=i.apply(n,e||[])).next())})}function T7(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ot(n){return this instanceof Ot?(this.v=n,this):new Ot(n)}function k7(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),s,o=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",r),s[Symbol.asyncIterator]=function(){return this},s;function r(h){return function(p){return Promise.resolve(p).then(h,f)}}function c(h,p){i[h]&&(s[h]=function(m){return new Promise(function(v,g){o.push([h,m,v,g])>1||a(h,m)})},p&&(s[h]=p(s[h])))}function a(h,p){try{l(i[h](p))}catch(m){d(o[0][3],m)}}function l(h){h.value instanceof Ot?Promise.resolve(h.value.v).then(u,f):d(o[0][2],h)}function u(h){a("next",h)}function f(h){a("throw",h)}function d(h,p){h(p),o.shift(),o.length&&a(o[0][0],o[0][1])}}function O7(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof T7=="function"?T7(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(r){return new Promise(function(c,a){r=n[o](r),s(c,a,r.done,r.value)})}}function s(o,r,c,a){Promise.resolve(a).then(function(l){o({value:l,done:c})},r)}}var z3=n=>n&&typeof n.length=="number"&&typeof n!="function";function E0(n){return V(n?.then)}function D0(n){return V(n[M3])}function N0(n){return Symbol.asyncIterator&&V(n?.[Symbol.asyncIterator])}function T0(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function yv(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var I0=yv();function k0(n){return V(n?.[I0])}function O0(n){return k7(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:i,done:s}=yield Ot(t.read());if(s)return yield Ot(void 0);yield yield Ot(i)}}finally{t.releaseLock()}})}function P0(n){return V(n?.getReader)}function M1(n){if(n instanceof J)return n;if(n!=null){if(D0(n))return _v(n);if(z3(n))return Lv(n);if(E0(n))return wv(n);if(N0(n))return P7(n);if(k0(n))return zv(n);if(P0(n))return xv(n)}throw T0(n)}function _v(n){return new J(e=>{let t=n[M3]();if(V(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Lv(n){return new J(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function wv(n){return new J(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,_0)})}function zv(n){return new J(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function P7(n){return new J(e=>{Sv(n,e).catch(t=>e.error(t))})}function xv(n){return P7(O0(n))}function Sv(n,e){var t,i,s,o;return I7(this,void 0,void 0,function*(){try{for(t=O7(n);i=yield t.next(),!i.done;){let r=i.value;if(e.next(r),e.closed)return}}catch(r){s={error:r}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(s)throw s.error}}e.complete()})}function he(n,e,t,i=0,s=!1){let o=e.schedule(function(){t(),s?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!s)return o}function R0(n,e=0){return n1((t,i)=>{t.subscribe(G(i,s=>he(i,n,()=>i.next(s),e),()=>he(i,n,()=>i.complete(),e),s=>he(i,n,()=>i.error(s),e)))})}function F0(n,e=0){return n1((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function R7(n,e){return M1(n).pipe(F0(e),R0(e))}function F7(n,e){return M1(n).pipe(F0(e),R0(e))}function H7(n,e){return new J(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}function V7(n,e){return new J(t=>{let i;return he(t,e,()=>{i=n[I0](),he(t,e,()=>{let s,o;try{({value:s,done:o}=i.next())}catch(r){t.error(r);return}o?t.complete():t.next(s)},0,!0)}),()=>V(i?.return)&&i.return()})}function H0(n,e){if(!n)throw new Error("Iterable cannot be null");return new J(t=>{he(t,e,()=>{let i=n[Symbol.asyncIterator]();he(t,e,()=>{i.next().then(s=>{s.done?t.complete():t.next(s.value)})},0,!0)})})}function B7(n,e){return H0(O0(n),e)}function j7(n,e){if(n!=null){if(D0(n))return R7(n,e);if(z3(n))return H7(n,e);if(E0(n))return F7(n,e);if(N0(n))return H0(n,e);if(k0(n))return V7(n,e);if(P0(n))return B7(n,e)}throw T0(n)}function _1(n,e){return e?j7(n,e):M1(n)}function F(...n){let e=et(n);return _1(n,e)}function x3(n,e){let t=V(n)?n:()=>n,i=s=>s.error(t());return new J(e?s=>e.schedule(i,0,s):i)}function Ao(n){return!!n&&(n instanceof J||V(n.lift)&&V(n.subscribe))}var z2=g3(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function U7(n){return n instanceof Date&&!isNaN(n)}function i1(n,e){return n1((t,i)=>{let s=0;t.subscribe(G(i,o=>{i.next(n.call(e,o,s++))}))})}var{isArray:Av}=Array;function Ev(n,e){return Av(e)?n(...e):n(e)}function V0(n){return i1(e=>Ev(n,e))}var{isArray:Dv}=Array,{getPrototypeOf:Nv,prototype:Tv,keys:Iv}=Object;function $7(n){if(n.length===1){let e=n[0];if(Dv(e))return{args:e,keys:null};if(kv(e)){let t=Iv(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function kv(n){return n&&typeof n=="object"&&Nv(n)===Tv}function G7(n,e){return n.reduce((t,i,s)=>(t[i]=e[s],t),{})}function S3(...n){let e=et(n),t=w3(n),{args:i,keys:s}=$7(n);if(i.length===0)return _1([],e);let o=new J(Ov(i,e,s?r=>G7(s,r):fe));return t?o.pipe(V0(t)):o}function Ov(n,e,t=fe){return i=>{W7(e,()=>{let{length:s}=n,o=new Array(s),r=s,c=s;for(let a=0;a<s;a++)W7(e,()=>{let l=_1(n[a],e),u=!1;l.subscribe(G(i,f=>{o[a]=f,u||(u=!0,c--),c||i.next(t(o.slice()))},()=>{--r||i.complete()}))},i)},i)}}function W7(n,e,t){n?he(t,n,e):e()}function q7(n,e,t,i,s,o,r,c){let a=[],l=0,u=0,f=!1,d=()=>{f&&!a.length&&!l&&e.complete()},h=m=>l<i?p(m):a.push(m),p=m=>{o&&e.next(m),l++;let v=!1;M1(t(m,u++)).subscribe(G(e,g=>{s?.(g),o?h(g):e.next(g)},()=>{v=!0},void 0,()=>{if(v)try{for(l--;a.length&&l<i;){let g=a.shift();r?he(e,r,()=>p(g)):p(g)}d()}catch(g){e.error(g)}}))};return n.subscribe(G(e,h,()=>{f=!0,d()})),()=>{c?.()}}function S1(n,e,t=1/0){return V(e)?S1((i,s)=>i1((o,r)=>e(i,o,s,r))(M1(n(i,s))),t):(typeof e=="number"&&(t=e),n1((i,s)=>q7(i,s,n,t)))}function tt(n=1/0){return S1(fe,n)}function Z7(){return tt(1)}function nt(...n){return Z7()(_1(n,et(n)))}function B0(n){return new J(e=>{M1(n()).subscribe(e)})}var Pv=["addListener","removeListener"],Rv=["addEventListener","removeEventListener"],Fv=["on","off"];function d1(n,e,t,i){if(V(t)&&(i=t,t=void 0),i)return d1(n,e,t).pipe(V0(i));let[s,o]=Bv(n)?Rv.map(r=>c=>n[r](e,c,t)):Hv(n)?Pv.map(Y7(n,e)):Vv(n)?Fv.map(Y7(n,e)):[];if(!s&&z3(n))return S1(r=>d1(r,e,t))(M1(n));if(!s)throw new TypeError("Invalid event target");return new J(r=>{let c=(...a)=>r.next(1<a.length?a:a[0]);return s(c),()=>o(c)})}function Y7(n,e){return t=>i=>n[t](e,i)}function Hv(n){return V(n.addListener)&&V(n.removeListener)}function Vv(n){return V(n.on)&&V(n.off)}function Bv(n){return V(n.addEventListener)&&V(n.removeEventListener)}function Eo(n=0,e,t=D7){let i=-1;return e!=null&&(A0(e)?t=e:i=e),new J(s=>{let o=U7(n)?+n-t.now():n;o<0&&(o=0);let r=0;return t.schedule(function(){s.closed||(s.next(r++),0<=i?this.schedule(void 0,i):s.complete())},o)})}var{isArray:jv}=Array;function j0(n){return n.length===1&&jv(n[0])?n[0]:n}function j1(n,e){return n1((t,i)=>{let s=0;t.subscribe(G(i,o=>n.call(e,o,s++)&&i.next(o)))})}function Do(...n){return n=j0(n),n.length===1?M1(n[0]):new J(Uv(n))}function Uv(n){return e=>{let t=[];for(let i=0;t&&!e.closed&&i<n.length;i++)t.push(M1(n[i]).subscribe(G(e,s=>{if(t){for(let o=0;o<t.length;o++)o!==i&&t[o].unsubscribe();t=null}e.next(s)})))}}function Pn(...n){let e=w3(n),t=j0(n);return t.length?new J(i=>{let s=t.map(()=>[]),o=t.map(()=>!1);i.add(()=>{s=o=null});for(let r=0;!i.closed&&r<t.length;r++)M1(t[r]).subscribe(G(i,c=>{if(s[r].push(c),s.every(a=>a.length)){let a=s.map(l=>l.shift());i.next(e?e(...a):a),s.some((l,u)=>!l.length&&o[u])&&i.complete()}},()=>{o[r]=!0,!s[r].length&&i.complete()}));return()=>{s=o=null}}):J1}function it(n){return n1((e,t)=>{let i=null,s=!1,o;i=e.subscribe(G(t,void 0,void 0,r=>{o=M1(n(r,it(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):s=!0})),s&&(i.unsubscribe(),i=null,o.subscribe(t))})}function J7(n,e,t,i,s){return(o,r)=>{let c=t,a=e,l=0;o.subscribe(G(r,u=>{let f=l++;a=c?n(a,u,f):(c=!0,u),i&&r.next(a)},s&&(()=>{c&&r.next(a),r.complete()})))}}function Pt(n,e){return V(e)?S1(n,e,1):S1(n,1)}function No(n,e=So){return n1((t,i)=>{let s=null,o=null,r=null,c=()=>{if(s){s.unsubscribe(),s=null;let l=o;o=null,i.next(l)}};function a(){let l=r+n,u=e.now();if(u<l){s=this.schedule(void 0,l-u),i.add(s);return}c()}t.subscribe(G(i,l=>{o=l,r=e.now(),s||(s=e.schedule(a,n),i.add(s))},()=>{c(),i.complete()},void 0,()=>{o=s=null}))})}function st(n){return n1((e,t)=>{let i=!1;e.subscribe(G(t,s=>{i=!0,t.next(s)},()=>{i||t.next(n),t.complete()}))})}function Oe(n){return n<=0?()=>J1:n1((e,t)=>{let i=0;e.subscribe(G(t,s=>{++i<=n&&(t.next(s),n<=i&&t.complete())}))})}function To(n){return i1(()=>n)}function U0(n=$v){return n1((e,t)=>{let i=!1;e.subscribe(G(t,s=>{i=!0,t.next(s)},()=>i?t.complete():t.error(n())))})}function $v(){return new z2}function Io(...n){return e=>nt(e,F(...n))}function A3(n){return n1((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function c2(n,e){let t=arguments.length>=2;return i=>i.pipe(n?j1((s,o)=>n(s,o,i)):fe,Oe(1),t?st(e):U0(()=>new z2))}function E3(n){return n<=0?()=>J1:n1((e,t)=>{let i=[];e.subscribe(G(t,s=>{i.push(s),n<i.length&&i.shift()},()=>{for(let s of i)t.next(s);t.complete()},void 0,()=>{i=null}))})}function ko(n,e){let t=arguments.length>=2;return i=>i.pipe(n?j1((s,o)=>n(s,o,i)):fe,E3(1),t?st(e):U0(()=>new z2))}function Oo(n,e){return n1(J7(n,e,arguments.length>=2,!0))}function $0(...n){let e=et(n);return n1((t,i)=>{(e?nt(n,t,e):nt(n,t)).subscribe(i)})}function pe(n,e){return n1((t,i)=>{let s=null,o=0,r=!1,c=()=>r&&!s&&i.complete();t.subscribe(G(i,a=>{s?.unsubscribe();let l=0,u=o++;M1(n(a,u)).subscribe(s=G(i,f=>i.next(e?e(a,f,u,l++):f),()=>{s=null,c()}))},()=>{r=!0,c()}))})}function K(n){return n1((e,t)=>{M1(n).subscribe(G(t,()=>t.complete(),Tt)),!t.closed&&e.subscribe(t)})}function U1(n,e,t){let i=V(n)||e||t?{next:n,error:e,complete:t}:n;return i?n1((s,o)=>{var r;(r=i.subscribe)===null||r===void 0||r.call(i);let c=!0;s.subscribe(G(o,a=>{var l;(l=i.next)===null||l===void 0||l.call(i,a),o.next(a)},()=>{var a;c=!1,(a=i.complete)===null||a===void 0||a.call(i),o.complete()},a=>{var l;c=!1,(l=i.error)===null||l===void 0||l.call(i,a),o.error(a)},()=>{var a,l;c&&((a=i.unsubscribe)===null||a===void 0||a.call(i)),(l=i.finalize)===null||l===void 0||l.call(i)}))}):fe}function G0(...n){let e=w3(n);return n1((t,i)=>{let s=n.length,o=new Array(s),r=n.map(()=>!1),c=!1;for(let a=0;a<s;a++)M1(n[a]).subscribe(G(i,l=>{o[a]=l,!c&&!r[a]&&(r[a]=!0,(c=r.every(fe))&&(r=null))},Tt));t.subscribe(G(i,a=>{if(c){let l=[a,...o];i.next(e?e(...l):l)}}))})}var j9="https://g.co/ng/security#xss",O=class extends Error{code;constructor(e,t){super(ec(e,t)),this.code=e}};function ec(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}var U9=Symbol("InputSignalNode#UNSET"),Gv=t1(N({},go),{transformFn:void 0,applyValueToInputSignal(n,e){b0(n,e)}});function $9(n,e){let t=Object.create(Gv);t.value=n,t.transformFn=e?.transform;function i(){if(fo(t),t.value===U9)throw new O(-950,!1);return t.value}return i[r2]=t,i}function Yn(n){return{toString:n}.toString()}var W0="__parameters__";function Wv(n){return function(...t){if(n){let i=n(...t);for(let s in i)this[s]=i[s]}}}function G9(n,e,t){return Yn(()=>{let i=Wv(e);function s(...o){if(this instanceof s)return i.apply(this,o),this;let r=new s(...o);return c.annotation=r,c;function c(a,l,u){let f=a.hasOwnProperty(W0)?a[W0]:Object.defineProperty(a,W0,{value:[]})[W0];for(;f.length<=u;)f.push(null);return(f[u]=f[u]||[]).push(r),a}}return t&&(s.prototype=Object.create(t.prototype)),s.prototype.ngMetadataName=n,s.annotationCls=s,s})}var we=globalThis;function y1(n){for(let e in n)if(n[e]===y1)return e;throw Error("Could not find renamed property on target object.")}function me(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(me).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function qo(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var qv=y1({__forward_ref__:y1});function tc(n){return n.__forward_ref__=tc,n.toString=function(){return me(this())},n}function Re(n){return W9(n)?n():n}function W9(n){return typeof n=="function"&&n.hasOwnProperty(qv)&&n.__forward_ref__===tc}function I(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function h1(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ti(n){return K7(n,Z9)||K7(n,Y9)}function q9(n){return Ti(n)!==null}function K7(n,e){return n.hasOwnProperty(e)?n[e]:null}function Zv(n){let e=n&&(n[Z9]||n[Y9]);return e||null}function Q7(n){return n&&(n.hasOwnProperty(X7)||n.hasOwnProperty(Yv))?n[X7]:null}var Z9=y1({\u0275prov:y1}),X7=y1({\u0275inj:y1}),Y9=y1({ngInjectableDef:y1}),Yv=y1({ngInjectorDef:y1}),B=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=I({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function J9(n){return n&&!!n.\u0275providers}var Jv=y1({\u0275cmp:y1}),Kv=y1({\u0275dir:y1}),Qv=y1({\u0275pipe:y1}),Xv=y1({\u0275mod:y1}),si=y1({\u0275fac:y1}),Hn=y1({__NG_ELEMENT_ID__:y1}),e9=y1({__NG_ENV_ID__:y1});function Jn(n){return typeof n=="string"?n:n==null?"":String(n)}function eC(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Jn(n)}function tC(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new O(-200,n)}function nc(n,e){throw new O(-201,!1)}var Q=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Q||{}),Zo;function K9(){return Zo}function Pe(n){let e=Zo;return Zo=n,e}function Q9(n,e,t){let i=Ti(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&Q.Optional)return null;if(e!==void 0)return e;nc(n,"Injector")}var nC={},Bn=nC,Yo="__NG_DI_FLAG__",oi="ngTempTokenPath",iC="ngTokenPath",sC=/\n/gm,oC="\u0275",t9="__source",k3;function rC(){return k3}function ot(n){let e=k3;return k3=n,e}function cC(n,e=Q.Default){if(k3===void 0)throw new O(-203,!1);return k3===null?Q9(n,void 0,e):k3.get(n,e&Q.Optional?null:void 0,e)}function H(n,e=Q.Default){return(K9()||cC)(Re(n),e)}function E(n,e=Q.Default){return H(n,Ii(e))}function Ii(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Jo(n){let e=[];for(let t=0;t<n.length;t++){let i=Re(n[t]);if(Array.isArray(i)){if(i.length===0)throw new O(900,!1);let s,o=Q.Default;for(let r=0;r<i.length;r++){let c=i[r],a=aC(c);typeof a=="number"?a===-1?s=c.token:o|=a:s=c}e.push(H(s,o))}else e.push(H(i))}return e}function X9(n,e){return n[Yo]=e,n.prototype[Yo]=e,n}function aC(n){return n[Yo]}function lC(n,e,t,i){let s=n[oi];throw e[t9]&&s.unshift(e[t9]),n.message=uC(`
`+n.message,s,t,i),n[iC]=s,n[oi]=null,n}function uC(n,e,t,i=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==oC?n.slice(2):n;let s=me(e);if(Array.isArray(e))s=e.map(me).join(" -> ");else if(typeof e=="object"){let o=[];for(let r in e)if(e.hasOwnProperty(r)){let c=e[r];o.push(r+":"+(typeof c=="string"?JSON.stringify(c):me(c)))}s=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${s}]: ${n.replace(sC,`
  `)}`}var ki=X9(G9("Optional"),8);var ic=X9(G9("SkipSelf"),4);function P3(n,e){let t=n.hasOwnProperty(si);return t?n[si]:null}function fC(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let s=n[i],o=e[i];if(t&&(s=t(s),o=t(o)),o!==s)return!1}return!0}function dC(n){return n.flat(Number.POSITIVE_INFINITY)}function sc(n,e){n.forEach(t=>Array.isArray(t)?sc(t,e):e(t))}function eu(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function ri(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function hC(n,e){let t=[];for(let i=0;i<n;i++)t.push(e);return t}function pC(n,e,t,i){let s=n.length;if(s==e)n.push(t,i);else if(s===1)n.push(i,n[0]),n[0]=t;else{for(s--,n.push(n[s-1],n[s]);s>e;){let o=s-2;n[s]=n[o],s--}n[e]=t,n[e+1]=i}}function oc(n,e,t){let i=Kn(n,e);return i>=0?n[i|1]=t:(i=~i,pC(n,i,e,t)),i}function Po(n,e){let t=Kn(n,e);if(t>=0)return n[t|1]}function Kn(n,e){return mC(n,e,1)}function mC(n,e,t){let i=0,s=n.length>>t;for(;s!==i;){let o=i+(s-i>>1),r=n[o<<t];if(e===r)return o<<t;r>e?s=o:i=o+1}return~(s<<t)}var jn={},_e=[],R3=new B(""),tu=new B("",-1),nu=new B(""),ci=class{get(e,t=Bn){if(t===Bn){let i=new Error(`NullInjectorError: No provider for ${me(e)}!`);throw i.name="NullInjectorError",i}return t}};function iu(n,e){let t=n[Xv]||null;if(!t&&e===!0)throw new Error(`Type ${me(n)} does not have '\u0275mod' property.`);return t}function x2(n){return n[Jv]||null}function su(n){return n[Kv]||null}function ou(n){return n[Qv]||null}function ru(n){let e=x2(n)||su(n)||ou(n);return e!==null?e.standalone:!1}function gC(...n){return{\u0275providers:cu(!0,n),\u0275fromNgModule:!0}}function cu(n,...e){let t=[],i=new Set,s,o=r=>{t.push(r)};return sc(e,r=>{let c=r;Ko(c,o,[],i)&&(s||=[],s.push(c))}),s!==void 0&&au(s,o),t}function au(n,e){for(let t=0;t<n.length;t++){let{ngModule:i,providers:s}=n[t];rc(s,o=>{e(o,i)})}}function Ko(n,e,t,i){if(n=Re(n),!n)return!1;let s=null,o=Q7(n),r=!o&&x2(n);if(!o&&!r){let a=n.ngModule;if(o=Q7(a),o)s=a;else return!1}else{if(r&&!r.standalone)return!1;s=n}let c=i.has(s);if(r){if(c)return!1;if(i.add(s),r.dependencies){let a=typeof r.dependencies=="function"?r.dependencies():r.dependencies;for(let l of a)Ko(l,e,t,i)}}else if(o){if(o.imports!=null&&!c){i.add(s);let l;try{sc(o.imports,u=>{Ko(u,e,t,i)&&(l||=[],l.push(u))})}finally{}l!==void 0&&au(l,e)}if(!c){let l=P3(s)||(()=>new s);e({provide:s,useFactory:l,deps:_e},s),e({provide:nu,useValue:s,multi:!0},s),e({provide:R3,useValue:()=>H(s),multi:!0},s)}let a=o.providers;if(a!=null&&!c){let l=n;rc(a,u=>{e(u,l)})}}else return!1;return s!==n&&n.providers!==void 0}function rc(n,e){for(let t of n)J9(t)&&(t=t.\u0275providers),Array.isArray(t)?rc(t,e):e(t)}var vC=y1({provide:String,useValue:y1});function lu(n){return n!==null&&typeof n=="object"&&vC in n}function CC(n){return!!(n&&n.useExisting)}function bC(n){return!!(n&&n.useFactory)}function Qo(n){return typeof n=="function"}var Oi=new B(""),X0={},MC={},Ro;function Pi(){return Ro===void 0&&(Ro=new ci),Ro}var ne=class{},Un=class extends ne{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,i,s){super(),this.parent=t,this.source=i,this.scopes=s,er(e,r=>this.processProvider(r)),this.records.set(tu,D3(void 0,this)),s.has("environment")&&this.records.set(ne,D3(void 0,this));let o=this.records.get(Oi);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(nu,_e,Q.Self))}destroy(){Rn(this),this._destroyed=!0;let e=c1(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),c1(e)}}onDestroy(e){return Rn(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Rn(this);let t=ot(this),i=Pe(void 0),s;try{return e()}finally{ot(t),Pe(i)}}get(e,t=Bn,i=Q.Default){if(Rn(this),e.hasOwnProperty(e9))return e[e9](this);i=Ii(i);let s,o=ot(this),r=Pe(void 0);try{if(!(i&Q.SkipSelf)){let a=this.records.get(e);if(a===void 0){let l=xC(e)&&Ti(e);l&&this.injectableDefInScope(l)?a=D3(Xo(e),X0):a=null,this.records.set(e,a)}if(a!=null)return this.hydrate(e,a)}let c=i&Q.Self?Pi():this.parent;return t=i&Q.Optional&&t===Bn?null:t,c.get(e,t)}catch(c){if(c.name==="NullInjectorError"){if((c[oi]=c[oi]||[]).unshift(me(e)),o)throw c;return lC(c,e,"R3InjectorError",this.source)}else throw c}finally{Pe(r),ot(o)}}resolveInjectorInitializers(){let e=c1(null),t=ot(this),i=Pe(void 0),s;try{let o=this.get(R3,_e,Q.Self);for(let r of o)r()}finally{ot(t),Pe(i),c1(e)}}toString(){let e=[],t=this.records;for(let i of t.keys())e.push(me(i));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Re(e);let t=Qo(e)?e:Re(e&&e.provide),i=_C(e);if(!Qo(e)&&e.multi===!0){let s=this.records.get(t);s||(s=D3(void 0,X0,!0),s.factory=()=>Jo(s.multi),this.records.set(t,s)),t=e,s.multi.push(e)}this.records.set(t,i)}hydrate(e,t){let i=c1(null);try{return t.value===X0&&(t.value=MC,t.value=t.factory()),typeof t.value=="object"&&t.value&&zC(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{c1(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Re(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Xo(n){let e=Ti(n),t=e!==null?e.factory:P3(n);if(t!==null)return t;if(n instanceof B)throw new O(204,!1);if(n instanceof Function)return yC(n);throw new O(204,!1)}function yC(n){if(n.length>0)throw new O(204,!1);let t=Zv(n);return t!==null?()=>t.factory(n):()=>new n}function _C(n){if(lu(n))return D3(void 0,n.useValue);{let e=LC(n);return D3(e,X0)}}function LC(n,e,t){let i;if(Qo(n)){let s=Re(n);return P3(s)||Xo(s)}else if(lu(n))i=()=>Re(n.useValue);else if(bC(n))i=()=>n.useFactory(...Jo(n.deps||[]));else if(CC(n))i=()=>H(Re(n.useExisting));else{let s=Re(n&&(n.useClass||n.provide));if(wC(n))i=()=>new s(...Jo(n.deps));else return P3(s)||Xo(s)}return i}function Rn(n){if(n.destroyed)throw new O(205,!1)}function D3(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function wC(n){return!!n.deps}function zC(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function xC(n){return typeof n=="function"||typeof n=="object"&&n instanceof B}function er(n,e){for(let t of n)Array.isArray(t)?er(t,e):t&&J9(t)?er(t.\u0275providers,e):e(t)}function Fe(n,e){n instanceof Un&&Rn(n);let t,i=ot(n),s=Pe(void 0);try{return e()}finally{ot(i),Pe(s)}}function uu(){return K9()!==void 0||rC()!=null}function SC(n){if(!uu())throw new O(-203,!1)}function AC(n){let e=we.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function EC(n){return typeof n=="function"}var T2=0,W=1,j=2,ie=3,Ze=4,ve=5,F3=6,ai=7,ee=8,H3=9,S2=10,H1=11,$n=12,n9=13,Y3=14,ze=15,Ft=16,N3=17,A2=18,Ri=19,fu=20,rt=21,Fo=22,li=23,Le=24,ge=25,du=1;var Ht=7,ui=8,V3=9,te=10,fi=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(fi||{});function ct(n){return Array.isArray(n)&&typeof n[du]=="object"}function I2(n){return Array.isArray(n)&&n[du]===!0}function hu(n){return(n.flags&4)!==0}function Fi(n){return n.componentOffset>-1}function cc(n){return(n.flags&1)===1}function Qn(n){return!!n.template}function tr(n){return(n[j]&512)!==0}var nr=class{previousValue;currentValue;firstChange;constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function pu(n,e,t,i){e!==null?e.applyValueToInputSignal(e,i):n[t]=i}var He=(()=>{let n=()=>mu;return n.ngInherit=!0,n})();function mu(n){return n.type.prototype.ngOnChanges&&(n.setInput=NC),DC}function DC(){let n=vu(this),e=n?.current;if(e){let t=n.previous;if(t===jn)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function NC(n,e,t,i,s){let o=this.declaredInputs[i],r=vu(n)||TC(n,{previous:jn,current:null}),c=r.current||(r.current={}),a=r.previous,l=a[o];c[o]=new nr(l&&l.currentValue,t,a===jn),pu(n,e,s,t)}var gu="__ngSimpleChanges__";function vu(n){return n[gu]||null}function TC(n,e){return n[gu]=e}var i9=null;var a2=function(n,e,t){i9?.(n,e,t)},IC="svg",kC="math";function u2(n){for(;Array.isArray(n);)n=n[T2];return n}function Cu(n,e){return u2(e[n])}function Ve(n,e){return u2(e[n.index])}function ac(n,e){return n.data[e]}function OC(n,e){return n[e]}function ft(n,e){let t=e[n];return ct(t)?t:t[T2]}function PC(n){return(n[j]&4)===4}function lc(n){return(n[j]&128)===128}function RC(n){return I2(n[ie])}function B3(n,e){return e==null?null:n[e]}function bu(n){n[N3]=0}function uc(n){n[j]&1024||(n[j]|=1024,lc(n)&&Vi(n))}function FC(n,e){for(;n>0;)e=e[Y3],n--;return e}function Hi(n){return!!(n[j]&9216||n[Le]?.dirty)}function ir(n){n[S2].changeDetectionScheduler?.notify(9),n[j]&64&&(n[j]|=1024),Hi(n)&&Vi(n)}function Vi(n){n[S2].changeDetectionScheduler?.notify(0);let e=Vt(n);for(;e!==null&&!(e[j]&8192||(e[j]|=8192,!lc(e)));)e=Vt(e)}function Mu(n,e){if((n[j]&256)===256)throw new O(911,!1);n[rt]===null&&(n[rt]=[]),n[rt].push(e)}function HC(n,e){if(n[rt]===null)return;let t=n[rt].indexOf(e);t!==-1&&n[rt].splice(t,1)}function Vt(n){let e=n[ie];return I2(e)?e[ie]:e}var X={lFrame:Tu(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var sr=!1;function VC(){return X.lFrame.elementDepthCount}function BC(){X.lFrame.elementDepthCount++}function jC(){X.lFrame.elementDepthCount--}function yu(){return X.bindingsEnabled}function _u(){return X.skipHydrationRootTNode!==null}function UC(n){return X.skipHydrationRootTNode===n}function $C(){X.skipHydrationRootTNode=null}function o1(){return X.lFrame.lView}function se(){return X.lFrame.tView}function Ye(n){return X.lFrame.contextLView=n,n[ee]}function Je(n){return X.lFrame.contextLView=null,n}function Ce(){let n=Lu();for(;n!==null&&n.type===64;)n=n.parent;return n}function Lu(){return X.lFrame.currentTNode}function GC(){let n=X.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Xn(n,e){let t=X.lFrame;t.currentTNode=n,t.isParent=e}function wu(){return X.lFrame.isParent}function zu(){X.lFrame.isParent=!1}function WC(){return X.lFrame.contextLView}function xu(){return sr}function s9(n){let e=sr;return sr=n,e}function Su(){let n=X.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function qC(n){return X.lFrame.bindingIndex=n}function J3(){return X.lFrame.bindingIndex++}function Au(n){let e=X.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function ZC(){return X.lFrame.inI18n}function YC(n,e){let t=X.lFrame;t.bindingIndex=t.bindingRootIndex=n,or(e)}function JC(){return X.lFrame.currentDirectiveIndex}function or(n){X.lFrame.currentDirectiveIndex=n}function KC(n){let e=X.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function Eu(){return X.lFrame.currentQueryIndex}function fc(n){X.lFrame.currentQueryIndex=n}function QC(n){let e=n[W];return e.type===2?e.declTNode:e.type===1?n[ve]:null}function Du(n,e,t){if(t&Q.SkipSelf){let s=e,o=n;for(;s=s.parent,s===null&&!(t&Q.Host);)if(s=QC(o),s===null||(o=o[Y3],s.type&10))break;if(s===null)return!1;e=s,n=o}let i=X.lFrame=Nu();return i.currentTNode=e,i.lView=n,!0}function dc(n){let e=Nu(),t=n[W];X.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Nu(){let n=X.lFrame,e=n===null?null:n.child;return e===null?Tu(n):e}function Tu(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function Iu(){let n=X.lFrame;return X.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var ku=Iu;function hc(){let n=Iu();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function XC(n){return(X.lFrame.contextLView=FC(n,X.lFrame.contextLView))[ee]}function dt(){return X.lFrame.selectedIndex}function Bt(n){X.lFrame.selectedIndex=n}function pc(){let n=X.lFrame;return ac(n.tView,n.selectedIndex)}function eb(){return X.lFrame.currentNamespace}var Ou=!0;function mc(){return Ou}function gc(n){Ou=n}function tb(n,e,t){let{ngOnChanges:i,ngOnInit:s,ngDoCheck:o}=e.type.prototype;if(i){let r=mu(e);(t.preOrderHooks??=[]).push(n,r),(t.preOrderCheckHooks??=[]).push(n,r)}s&&(t.preOrderHooks??=[]).push(0-n,s),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function vc(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:c,ngAfterViewInit:a,ngAfterViewChecked:l,ngOnDestroy:u}=o;r&&(n.contentHooks??=[]).push(-t,r),c&&((n.contentHooks??=[]).push(t,c),(n.contentCheckHooks??=[]).push(t,c)),a&&(n.viewHooks??=[]).push(-t,a),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),u!=null&&(n.destroyHooks??=[]).push(t,u)}}function ei(n,e,t){Pu(n,e,3,t)}function ti(n,e,t,i){(n[j]&3)===t&&Pu(n,e,t,i)}function Ho(n,e){let t=n[j];(t&3)===e&&(t&=16383,t+=1,n[j]=t)}function Pu(n,e,t,i){let s=i!==void 0?n[N3]&65535:0,o=i??-1,r=e.length-1,c=0;for(let a=s;a<r;a++)if(typeof e[a+1]=="number"){if(c=e[a],i!=null&&c>=i)break}else e[a]<0&&(n[N3]+=65536),(c<o||o==-1)&&(nb(n,t,e,a),n[N3]=(n[N3]&4294901760)+a+2),a++}function o9(n,e){a2(4,n,e);let t=c1(null);try{e.call(n)}finally{c1(t),a2(5,n,e)}}function nb(n,e,t,i){let s=t[i]<0,o=t[i+1],r=s?-t[i]:t[i],c=n[r];s?n[j]>>14<n[N3]>>16&&(n[j]&3)===e&&(n[j]+=16384,o9(c,o)):o9(c,o)}var O3=-1,Gn=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,i){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=i}};function ib(n){return n instanceof Gn}function sb(n){return(n.flags&8)!==0}function ob(n){return(n.flags&16)!==0}function rr(n,e,t){let i=0;for(;i<t.length;){let s=t[i];if(typeof s=="number"){if(s!==0)break;i++;let o=t[i++],r=t[i++],c=t[i++];n.setAttribute(e,r,c,o)}else{let o=s,r=t[++i];rb(o)?n.setProperty(e,o,r):n.setAttribute(e,o,r),i++}}return i}function Ru(n){return n===3||n===4||n===6}function rb(n){return n.charCodeAt(0)===64}function Cc(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){let s=e[i];typeof s=="number"?t=s:t===0||(t===-1||t===2?r9(n,t,s,null,e[++i]):r9(n,t,s,null,null))}}return n}function r9(n,e,t,i,s){let o=0,r=n.length;if(e===-1)r=-1;else for(;o<n.length;){let c=n[o++];if(typeof c=="number"){if(c===e){r=-1;break}else if(c>e){r=o-1;break}}}for(;o<n.length;){let c=n[o];if(typeof c=="number")break;if(c===t){if(i===null){s!==null&&(n[o+1]=s);return}else if(i===n[o+1]){n[o+2]=s;return}}o++,i!==null&&o++,s!==null&&o++}r!==-1&&(n.splice(r,0,e),o=r+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i),s!==null&&n.splice(o++,0,s)}var Vo={},cr=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=Ii(i);let s=this.injector.get(e,Vo,i);return s!==Vo||t===Vo?s:this.parentInjector.get(e,t,i)}};function Fu(n){return n!==O3}function di(n){return n&32767}function cb(n){return n>>16}function hi(n,e){let t=cb(n),i=e;for(;t>0;)i=i[Y3],t--;return i}var ar=!0;function c9(n){let e=ar;return ar=n,e}var ab=256,Hu=ab-1,Vu=5,lb=0,l2={};function ub(n,e,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(Hn)&&(i=t[Hn]),i==null&&(i=t[Hn]=lb++);let s=i&Hu,o=1<<s;e.data[n+(s>>Vu)]|=o}function Bu(n,e){let t=ju(n,e);if(t!==-1)return t;let i=e[W];i.firstCreatePass&&(n.injectorIndex=e.length,Bo(i.data,n),Bo(e,null),Bo(i.blueprint,null));let s=bc(n,e),o=n.injectorIndex;if(Fu(s)){let r=di(s),c=hi(s,e),a=c[W].data;for(let l=0;l<8;l++)e[o+l]=c[r+l]|a[r+l]}return e[o+8]=s,o}function Bo(n,e){n.push(0,0,0,0,0,0,0,0,e)}function ju(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function bc(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,i=null,s=e;for(;s!==null;){if(i=qu(s),i===null)return O3;if(t++,s=s[Y3],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return O3}function fb(n,e,t){ub(n,e,t)}function db(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let i=t.length,s=0;for(;s<i;){let o=t[s];if(Ru(o))break;if(o===0)s=s+2;else if(typeof o=="number")for(s++;s<i&&typeof t[s]=="string";)s++;else{if(o===e)return t[s+1];s=s+2}}}return null}function Uu(n,e,t){if(t&Q.Optional||n!==void 0)return n;nc(e,"NodeInjector")}function $u(n,e,t,i){if(t&Q.Optional&&i===void 0&&(i=null),!(t&(Q.Self|Q.Host))){let s=n[H3],o=Pe(void 0);try{return s?s.get(e,i,t&Q.Optional):Q9(e,i,t&Q.Optional)}finally{Pe(o)}}return Uu(i,e,t)}function Gu(n,e,t,i=Q.Default,s){if(n!==null){if(e[j]&2048&&!(i&Q.Self)){let r=gb(n,e,t,i,l2);if(r!==l2)return r}let o=Wu(n,e,t,i,l2);if(o!==l2)return o}return $u(e,t,i,s)}function Wu(n,e,t,i,s){let o=pb(t);if(typeof o=="function"){if(!Du(e,n,i))return i&Q.Host?Uu(s,t,i):$u(e,t,i,s);try{let r;if(r=o(i),r==null&&!(i&Q.Optional))nc(t);else return r}finally{ku()}}else if(typeof o=="number"){let r=null,c=ju(n,e),a=O3,l=i&Q.Host?e[ze][ve]:null;for((c===-1||i&Q.SkipSelf)&&(a=c===-1?bc(n,e):e[c+8],a===O3||!l9(i,!1)?c=-1:(r=e[W],c=di(a),e=hi(a,e)));c!==-1;){let u=e[W];if(a9(o,c,u.data)){let f=hb(c,e,t,r,i,l);if(f!==l2)return f}a=e[c+8],a!==O3&&l9(i,e[W].data[c+8]===l)&&a9(o,c,e)?(r=u,c=di(a),e=hi(a,e)):c=-1}}return s}function hb(n,e,t,i,s,o){let r=e[W],c=r.data[n+8],a=i==null?Fi(c)&&ar:i!=r&&(c.type&3)!==0,l=s&Q.Host&&o===c,u=ni(c,r,t,a,l);return u!==null?j3(e,r,u,c):l2}function ni(n,e,t,i,s){let o=n.providerIndexes,r=e.data,c=o&1048575,a=n.directiveStart,l=n.directiveEnd,u=o>>20,f=i?c:c+u,d=s?c+u:l;for(let h=f;h<d;h++){let p=r[h];if(h<a&&t===p||h>=a&&p.type===t)return h}if(s){let h=r[a];if(h&&Qn(h)&&h.type===t)return a}return null}function j3(n,e,t,i){let s=n[t],o=e.data;if(ib(s)){let r=s;r.resolving&&tC(eC(o[t]));let c=c9(r.canSeeViewProviders);r.resolving=!0;let a,l=r.injectImpl?Pe(r.injectImpl):null,u=Du(n,i,Q.Default);try{s=n[t]=r.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&tb(t,o[t],e)}finally{l!==null&&Pe(l),c9(c),r.resolving=!1,ku()}}return s}function pb(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Hn)?n[Hn]:void 0;return typeof e=="number"?e>=0?e&Hu:mb:e}function a9(n,e,t){let i=1<<n;return!!(t[e+(n>>Vu)]&i)}function l9(n,e){return!(n&Q.Self)&&!(n&Q.Host&&e)}var Rt=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return Gu(this._tNode,this._lView,e,Ii(i),t)}};function mb(){return new Rt(Ce(),o1())}function e4(n){return Yn(()=>{let e=n.prototype.constructor,t=e[si]||lr(e),i=Object.prototype,s=Object.getPrototypeOf(n.prototype).constructor;for(;s&&s!==i;){let o=s[si]||lr(s);if(o&&o!==t)return o;s=Object.getPrototypeOf(s)}return o=>new o})}function lr(n){return W9(n)?()=>{let e=lr(Re(n));return e&&e()}:P3(n)}function gb(n,e,t,i,s){let o=n,r=e;for(;o!==null&&r!==null&&r[j]&2048&&!(r[j]&512);){let c=Wu(o,r,t,i|Q.Self,l2);if(c!==l2)return c;let a=o.parent;if(!a){let l=r[fu];if(l){let u=l.get(t,l2,i);if(u!==l2)return u}a=qu(r),r=r[Y3]}o=a}return s}function qu(n){let e=n[W],t=e.type;return t===2?e.declTNode:t===1?n[ve]:null}function Bi(n){return db(Ce(),n)}function u9(n,e=null,t=null,i){let s=Zu(n,e,t,i);return s.resolveInjectorInitializers(),s}function Zu(n,e=null,t=null,i,s=new Set){let o=[t||_e,gC(n)];return i=i||(typeof n=="object"?void 0:me(n)),new Un(o,e||Pi(),i||null,s)}var Z1=class n{static THROW_IF_NOT_FOUND=Bn;static NULL=new ci;static create(e,t){if(Array.isArray(e))return u9({name:""},t,e,"");{let i=e.name??"";return u9({name:i},e.parent,e.providers,i)}}static \u0275prov=I({token:n,providedIn:"any",factory:()=>H(tu)});static __NG_ELEMENT_ID__=-1};var vb=new B("");vb.__NG_ELEMENT_ID__=n=>{let e=Ce();if(e===null)throw new O(204,!1);if(e.type&2)return e.value;if(n&Q.Optional)return null;throw new O(204,!1)};var Yu=!1,ji=(()=>{class n{static __NG_ELEMENT_ID__=Cb;static __NG_ENV_ID__=t=>t}return n})(),ur=class extends ji{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return Mu(this._lView,e),()=>HC(this._lView,e)}};function Cb(){return new ur(o1())}var U3=class{},Mc=new B("",{providedIn:"root",factory:()=>!1});var Ju=new B(""),Ku=new B(""),K3=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new q1(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=I({token:n,providedIn:"root",factory:()=>new n})}return n})();var fr=class extends g1{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,uu()&&(this.destroyRef=E(ji,{optional:!0})??void 0,this.pendingTasks=E(K3,{optional:!0})??void 0)}emit(e){let t=c1(null);try{super.next(e)}finally{c1(t)}}subscribe(e,t,i){let s=e,o=t||(()=>null),r=i;if(e&&typeof e=="object"){let a=e;s=a.next?.bind(a),o=a.error?.bind(a),r=a.complete?.bind(a)}this.__isAsync&&(o=this.wrapInTimeout(o),s&&(s=this.wrapInTimeout(s)),r&&(r=this.wrapInTimeout(r)));let c=super.subscribe({next:s,error:o,complete:r});return e instanceof T1&&e.add(c),c}wrapInTimeout(e){return t=>{let i=this.pendingTasks?.add();setTimeout(()=>{e(t),i!==void 0&&this.pendingTasks?.remove(i)})}}},L1=fr;function pi(...n){}function Qu(n){let e,t;function i(){n=pi;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),i()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),i()})),()=>i()}function f9(n){return queueMicrotask(()=>n()),()=>{n=pi}}var yc="isAngularZone",mi=yc+"_ID",bb=0,m1=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new L1(!1);onMicrotaskEmpty=new L1(!1);onStable=new L1(!1);onError=new L1(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:s=!1,scheduleInRootZone:o=Yu}=e;if(typeof Zone>"u")throw new O(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!s&&i,r.shouldCoalesceRunChangeDetection=s,r.callbackScheduled=!1,r.scheduleInRootZone=o,_b(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(yc)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new O(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new O(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,s){let o=this._inner,r=o.scheduleEventTask("NgZoneEvent: "+s,e,Mb,pi,pi);try{return o.runTask(r,t,i)}finally{o.cancelTask(r)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}},Mb={};function _c(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function yb(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){Qu(()=>{n.callbackScheduled=!1,dr(n),n.isCheckStableRunning=!0,_c(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),dr(n)}function _b(n){let e=()=>{yb(n)},t=bb++;n._inner=n._inner.fork({name:"angular",properties:{[yc]:!0,[mi]:t,[mi+t]:!0},onInvokeTask:(i,s,o,r,c,a)=>{if(Lb(a))return i.invokeTask(o,r,c,a);try{return d9(n),i.invokeTask(o,r,c,a)}finally{(n.shouldCoalesceEventChangeDetection&&r.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),h9(n)}},onInvoke:(i,s,o,r,c,a,l)=>{try{return d9(n),i.invoke(o,r,c,a,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!wb(a)&&e(),h9(n)}},onHasTask:(i,s,o,r)=>{i.hasTask(o,r),s===o&&(r.change=="microTask"?(n._hasPendingMicrotasks=r.microTask,dr(n),_c(n)):r.change=="macroTask"&&(n.hasPendingMacrotasks=r.macroTask))},onHandleError:(i,s,o,r)=>(i.handleError(o,r),n.runOutsideAngular(()=>n.onError.emit(r)),!1)})}function dr(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function d9(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function h9(n){n._nesting--,_c(n)}var gi=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new L1;onMicrotaskEmpty=new L1;onStable=new L1;onError=new L1;run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,s){return e.apply(t,i)}};function Lb(n){return Xu(n,"__ignore_ng_zone__")}function wb(n){return Xu(n,"__scheduler_tick__")}function Xu(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}function zb(n="zone.js",e){return n==="noop"?new gi:n==="zone.js"?new m1(e):n}var E2=class{_console=console;handleError(e){this._console.error("ERROR",e)}},xb=new B("",{providedIn:"root",factory:()=>{let n=E(m1),e=E(E2);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function p9(n,e){return $9(n,e)}function Sb(n){return $9(U9,n)}var ef=(p9.required=Sb,p9);function Ab(){return Q3(Ce(),o1())}function Q3(n,e){return new K1(Ve(n,e))}var K1=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=Ab}return n})();function Eb(n){return n instanceof K1?n.nativeElement:n}function Db(){return this._results[Symbol.iterator]()}var hr=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new g1}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let i=dC(e);(this._changesDetected=!fC(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Db};function tf(n){return(n.flags&128)===128}var nf=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(nf||{}),sf=new Map,Nb=0;function Tb(){return Nb++}function Ib(n){sf.set(n[Ri],n)}function pr(n){sf.delete(n[Ri])}var m9="__ngContext__";function jt(n,e){ct(e)?(n[m9]=e[Ri],Ib(e)):n[m9]=e}function of(n){return cf(n[$n])}function rf(n){return cf(n[Ze])}function cf(n){for(;n!==null&&!I2(n);)n=n[Ze];return n}var mr;function af(n){mr=n}function lf(){if(mr!==void 0)return mr;if(typeof document<"u")return document;throw new O(210,!1)}var Lc=new B("",{providedIn:"root",factory:()=>kb}),kb="ng",wc=new B(""),ht=new B("",{providedIn:"platform",factory:()=>"unknown"});var zc=new B("",{providedIn:"root",factory:()=>lf().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Ob="h",Pb="b";var uf=!1,Rb=new B("",{providedIn:"root",factory:()=>uf});var g9=new Set;function X3(n){g9.has(n)||(g9.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var T3=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(T3||{}),ff=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=I({token:n,providedIn:"root",factory:()=>new n})}return n})(),Fb=[T3.EarlyRead,T3.Write,T3.MixedReadWrite,T3.Read],Hb=(()=>{class n{ngZone=E(m1);scheduler=E(U3);errorHandler=E(E2,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;execute(){this.executing=!0;for(let t of Fb)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[t]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>i.hooks[t](i.pipelinedValue))}catch(s){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(s)}this.executing=!1;for(let t of this.sequences)t.afterRun(),t.once&&(this.sequences.delete(t),t.destroy());for(let t of this.deferredRegistrations)this.sequences.add(t);this.deferredRegistrations.size>0&&this.scheduler.notify(8),this.deferredRegistrations.clear()}register(t){this.executing?this.deferredRegistrations.add(t):(this.sequences.add(t),this.scheduler.notify(7))}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}static \u0275prov=I({token:n,providedIn:"root",factory:()=>new n})}return n})(),gr=class{impl;hooks;once;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,i,s){this.impl=e,this.hooks=t,this.once=i,this.unregisterOnDestroy=s?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function en(n,e){!e?.injector&&SC(en);let t=e?.injector??E(Z1);return X3("NgAfterNextRender"),Bb(n,t,e,!0)}function Vb(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function Bb(n,e,t,i){let s=e.get(ff);s.impl??=e.get(Hb);let o=t?.phase??T3.MixedReadWrite,r=t?.manualCleanup!==!0?e.get(ji):null,c=new gr(s.impl,Vb(n,o),i,r);return s.impl.register(c),c}var jb=()=>null;function xc(n,e,t=!1){return jb(n,e,t)}var f2=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(f2||{}),q0;function Ub(){if(q0===void 0&&(q0=null,we.trustedTypes))try{q0=we.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return q0}function Ui(n){return Ub()?.createHTML(n)||n}var Z0;function df(){if(Z0===void 0&&(Z0=null,we.trustedTypes))try{Z0=we.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Z0}function v9(n){return df()?.createHTML(n)||n}function C9(n){return df()?.createScriptURL(n)||n}var D2=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${j9})`}},vr=class extends D2{getTypeName(){return"HTML"}},Cr=class extends D2{getTypeName(){return"Style"}},br=class extends D2{getTypeName(){return"Script"}},Mr=class extends D2{getTypeName(){return"URL"}},yr=class extends D2{getTypeName(){return"ResourceURL"}};function Be(n){return n instanceof D2?n.changingThisBreaksApplicationSecurity:n}function k2(n,e){let t=$b(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${j9})`)}return t===e}function $b(n){return n instanceof D2&&n.getTypeName()||null}function hf(n){return new vr(n)}function pf(n){return new Cr(n)}function mf(n){return new br(n)}function gf(n){return new Mr(n)}function vf(n){return new yr(n)}function Gb(n){let e=new Lr(n);return Wb()?new _r(e):e}var _r=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(Ui(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},Lr=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=Ui(e),t}};function Wb(){try{return!!new window.DOMParser().parseFromString(Ui(""),"text/html")}catch{return!1}}var qb=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function $i(n){return n=String(n),n.match(qb)?n:"unsafe:"+n}function O2(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function t4(...n){let e={};for(let t of n)for(let i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}var Cf=O2("area,br,col,hr,img,wbr"),bf=O2("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Mf=O2("rp,rt"),Zb=t4(Mf,bf),Yb=t4(bf,O2("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Jb=t4(Mf,O2("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),b9=t4(Cf,Yb,Jb,Zb),yf=O2("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Kb=O2("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Qb=O2("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Xb=t4(yf,Kb,Qb),eM=O2("script,style,template"),wr=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let t=e.firstChild,i=!0,s=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild){s.push(t),t=iM(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=nM(t);if(o){t=o;break}t=s.pop()}}return this.buf.join("")}startElement(e){let t=M9(e).toLowerCase();if(!b9.hasOwnProperty(t))return this.sanitizedSomething=!0,!eM.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let i=e.attributes;for(let s=0;s<i.length;s++){let o=i.item(s),r=o.name,c=r.toLowerCase();if(!Xb.hasOwnProperty(c)){this.sanitizedSomething=!0;continue}let a=o.value;yf[c]&&(a=$i(a)),this.buf.push(" ",r,'="',y9(a),'"')}return this.buf.push(">"),!0}endElement(e){let t=M9(e).toLowerCase();b9.hasOwnProperty(t)&&!Cf.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(y9(e))}};function tM(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function nM(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw _f(e);return e}function iM(n){let e=n.firstChild;if(e&&tM(n,e))throw _f(e);return e}function M9(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function _f(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var sM=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,oM=/([^\#-~ |!])/g;function y9(n){return n.replace(/&/g,"&amp;").replace(sM,function(e){let t=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+((t-55296)*1024+(i-56320)+65536)+";"}).replace(oM,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Y0;function Sc(n,e){let t=null;try{Y0=Y0||Gb(n);let i=e?String(e):"";t=Y0.getInertBodyElement(i);let s=5,o=i;do{if(s===0)throw new Error("Failed to sanitize html because the input is unstable");s--,i=o,o=t.innerHTML,t=Y0.getInertBodyElement(i)}while(i!==o);let c=new wr().sanitizeChildren(_9(t)||t);return Ui(c)}finally{if(t){let i=_9(t)||t;for(;i.firstChild;)i.firstChild.remove()}}}function _9(n){return"content"in n&&rM(n)?n.content:null}function rM(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var Ke=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Ke||{});function Lf(n){let e=Ac();return e?v9(e.sanitize(Ke.HTML,n)||""):k2(n,"HTML")?v9(Be(n)):Sc(lf(),Jn(n))}function n4(n){let e=Ac();return e?e.sanitize(Ke.URL,n)||"":k2(n,"URL")?Be(n):$i(Jn(n))}function cM(n){let e=Ac();if(e)return C9(e.sanitize(Ke.RESOURCE_URL,n)||"");if(k2(n,"ResourceURL"))return C9(Be(n));throw new O(904,!1)}function aM(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?cM:n4}function wf(n,e,t){return aM(e,t)(n)}function Ac(){let n=o1();return n&&n[S2].sanitizer}function zf(n){return n instanceof Function?n():n}var at=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(at||{}),N2=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(N2||{}),lM;function Ec(n,e){return lM(n,e)}function I3(n,e,t,i,s){if(i!=null){let o,r=!1;I2(i)?o=i:ct(i)&&(r=!0,i=i[T2]);let c=u2(i);n===0&&t!==null?s==null?Df(e,t,c):vi(e,t,c,s||null,!0):n===1&&t!==null?vi(e,t,c,s||null,!0):n===2?_M(e,c,r):n===3&&e.destroyNode(c),o!=null&&wM(e,n,o,t,s)}}function uM(n,e){return n.createText(e)}function fM(n,e,t){n.setValue(e,t)}function xf(n,e,t){return n.createElement(e,t)}function dM(n,e){Sf(n,e),e[T2]=null,e[ve]=null}function hM(n,e,t,i,s,o){i[T2]=s,i[ve]=e,Wi(n,i,t,1,s,o)}function Sf(n,e){e[S2].changeDetectionScheduler?.notify(10),Wi(n,e,e[H1],2,null,null)}function pM(n){let e=n[$n];if(!e)return jo(n[W],n);for(;e;){let t=null;if(ct(e))t=e[$n];else{let i=e[te];i&&(t=i)}if(!t){for(;e&&!e[Ze]&&e!==n;)ct(e)&&jo(e[W],e),e=e[ie];e===null&&(e=n),ct(e)&&jo(e[W],e),t=e&&e[Ze]}e=t}}function mM(n,e,t,i){let s=te+i,o=t.length;i>0&&(t[s-1][Ze]=e),i<o-te?(e[Ze]=t[s],eu(t,te+i,e)):(t.push(e),e[Ze]=null),e[ie]=t;let r=e[Ft];r!==null&&t!==r&&Af(r,e);let c=e[A2];c!==null&&c.insertView(n),ir(e),e[j]|=128}function Af(n,e){let t=n[V3],i=e[ie];if(ct(i))n[j]|=fi.HasTransplantedViews;else{let s=i[ie][ze];e[ze]!==s&&(n[j]|=fi.HasTransplantedViews)}t===null?n[V3]=[e]:t.push(e)}function Dc(n,e){let t=n[V3],i=t.indexOf(e);t.splice(i,1)}function Wn(n,e){if(n.length<=te)return;let t=te+e,i=n[t];if(i){let s=i[Ft];s!==null&&s!==n&&Dc(s,i),e>0&&(n[t-1][Ze]=i[Ze]);let o=ri(n,te+e);dM(i[W],i);let r=o[A2];r!==null&&r.detachView(o[W]),i[ie]=null,i[Ze]=null,i[j]&=-129}return i}function Gi(n,e){if(!(e[j]&256)){let t=e[H1];t.destroyNode&&Wi(n,e,t,3,null,null),pM(e)}}function jo(n,e){if(e[j]&256)return;let t=c1(null);try{e[j]&=-129,e[j]|=256,e[Le]&&mo(e[Le]),vM(n,e),gM(n,e),e[W].type===1&&e[H1].destroy();let i=e[Ft];if(i!==null&&I2(e[ie])){i!==e[ie]&&Dc(i,e);let s=e[A2];s!==null&&s.detachView(n)}pr(e)}finally{c1(t)}}function gM(n,e){let t=n.cleanup,i=e[ai];if(t!==null)for(let r=0;r<t.length-1;r+=2)if(typeof t[r]=="string"){let c=t[r+3];c>=0?i[c]():i[-c].unsubscribe(),r+=2}else{let c=i[t[r+1]];t[r].call(c)}i!==null&&(e[ai]=null);let s=e[rt];if(s!==null){e[rt]=null;for(let r=0;r<s.length;r++){let c=s[r];c()}}let o=e[li];if(o!==null){e[li]=null;for(let r of o)r.destroy()}}function vM(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let s=e[t[i]];if(!(s instanceof Gn)){let o=t[i+1];if(Array.isArray(o))for(let r=0;r<o.length;r+=2){let c=s[o[r]],a=o[r+1];a2(4,c,a);try{a.call(c)}finally{a2(5,c,a)}}else{a2(4,s,o);try{o.call(s)}finally{a2(5,s,o)}}}}}function Ef(n,e,t){return CM(n,e.parent,t)}function CM(n,e,t){let i=e;for(;i!==null&&i.type&168;)e=i,i=e.parent;if(i===null)return t[T2];{let{componentOffset:s}=i;if(s>-1){let{encapsulation:o}=n.data[i.directiveStart+s];if(o===f2.None||o===f2.Emulated)return null}return Ve(i,t)}}function vi(n,e,t,i,s){n.insertBefore(e,t,i,s)}function Df(n,e,t){n.appendChild(e,t)}function L9(n,e,t,i,s){i!==null?vi(n,e,t,i,s):Df(n,e,t)}function Nf(n,e){return n.parentNode(e)}function bM(n,e){return n.nextSibling(e)}function Tf(n,e,t){return yM(n,e,t)}function MM(n,e,t){return n.type&40?Ve(n,t):null}var yM=MM,w9;function Nc(n,e,t,i){let s=Ef(n,i,e),o=e[H1],r=i.parent||e[ve],c=Tf(r,i,e);if(s!=null)if(Array.isArray(t))for(let a=0;a<t.length;a++)L9(o,s,t[a],c,!1);else L9(o,s,t,c,!1);w9!==void 0&&w9(o,i,e,t,s)}function Fn(n,e){if(e!==null){let t=e.type;if(t&3)return Ve(e,n);if(t&4)return zr(-1,n[e.index]);if(t&8){let i=e.child;if(i!==null)return Fn(n,i);{let s=n[e.index];return I2(s)?zr(-1,s):u2(s)}}else{if(t&128)return Fn(n,e.next);if(t&32)return Ec(e,n)()||u2(n[e.index]);{let i=If(n,e);if(i!==null){if(Array.isArray(i))return i[0];let s=Vt(n[ze]);return Fn(s,i)}else return Fn(n,e.next)}}}return null}function If(n,e){if(e!==null){let i=n[ze][ve],s=e.projection;return i.projection[s]}return null}function zr(n,e){let t=te+n+1;if(t<e.length){let i=e[t],s=i[W].firstChild;if(s!==null)return Fn(i,s)}return e[Ht]}function _M(n,e,t){n.removeChild(null,e,t)}function Tc(n,e,t,i,s,o,r){for(;t!=null;){if(t.type===128){t=t.next;continue}let c=i[t.index],a=t.type;if(r&&e===0&&(c&&jt(u2(c),i),t.flags|=2),(t.flags&32)!==32)if(a&8)Tc(n,e,t.child,i,s,o,!1),I3(e,n,s,c,o);else if(a&32){let l=Ec(t,i),u;for(;u=l();)I3(e,n,s,u,o);I3(e,n,s,c,o)}else a&16?kf(n,e,i,t,s,o):I3(e,n,s,c,o);t=r?t.projectionNext:t.next}}function Wi(n,e,t,i,s,o){Tc(t,i,n.firstChild,e,s,o,!1)}function LM(n,e,t){let i=e[H1],s=Ef(n,t,e),o=t.parent||e[ve],r=Tf(o,t,e);kf(i,0,e,t,s,r)}function kf(n,e,t,i,s,o){let r=t[ze],a=r[ve].projection[i.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++){let u=a[l];I3(e,n,s,u,o)}else{let l=a,u=r[ie];tf(i)&&(l.flags|=128),Tc(n,e,l,u,s,o,!0)}}function wM(n,e,t,i,s){let o=t[Ht],r=u2(t);o!==r&&I3(e,n,i,o,s);for(let c=te;c<t.length;c++){let a=t[c];Wi(a[W],a,n,e,i,o)}}function zM(n,e,t,i,s){if(e)s?n.addClass(t,i):n.removeClass(t,i);else{let o=i.indexOf("-")===-1?void 0:N2.DashCase;s==null?n.removeStyle(t,i,o):(typeof s=="string"&&s.endsWith("!important")&&(s=s.slice(0,-10),o|=N2.Important),n.setStyle(t,i,s,o))}}function xM(n,e,t){n.setAttribute(e,"style",t)}function Of(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Pf(n,e,t){let{mergedAttrs:i,classes:s,styles:o}=t;i!==null&&rr(n,e,i),s!==null&&Of(n,e,s),o!==null&&xM(n,e,o)}function SM(n,e,t){let i=n.length;for(;;){let s=n.indexOf(e,t);if(s===-1)return s;if(s===0||n.charCodeAt(s-1)<=32){let o=e.length;if(s+o===i||n.charCodeAt(s+o)<=32)return s}t=s+1}}var Rf="ng-template";function AM(n,e,t,i){let s=0;if(i){for(;s<e.length&&typeof e[s]=="string";s+=2)if(e[s]==="class"&&SM(e[s+1].toLowerCase(),t,0)!==-1)return!0}else if(Ic(n))return!1;if(s=e.indexOf(1,s),s>-1){let o;for(;++s<e.length&&typeof(o=e[s])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Ic(n){return n.type===4&&n.value!==Rf}function EM(n,e,t){let i=n.type===4&&!t?Rf:n.value;return e===i}function DM(n,e,t){let i=4,s=n.attrs,o=s!==null?IM(s):0,r=!1;for(let c=0;c<e.length;c++){let a=e[c];if(typeof a=="number"){if(!r&&!We(i)&&!We(a))return!1;if(r&&We(a))continue;r=!1,i=a|i&1;continue}if(!r)if(i&4){if(i=2|i&1,a!==""&&!EM(n,a,t)||a===""&&e.length===1){if(We(i))return!1;r=!0}}else if(i&8){if(s===null||!AM(n,s,a,t)){if(We(i))return!1;r=!0}}else{let l=e[++c],u=NM(a,s,Ic(n),t);if(u===-1){if(We(i))return!1;r=!0;continue}if(l!==""){let f;if(u>o?f="":f=s[u+1].toLowerCase(),i&2&&l!==f){if(We(i))return!1;r=!0}}}}return We(i)||r}function We(n){return(n&1)===0}function NM(n,e,t,i){if(e===null)return-1;let s=0;if(i||!t){let o=!1;for(;s<e.length;){let r=e[s];if(r===n)return s;if(r===3||r===6)o=!0;else if(r===1||r===2){let c=e[++s];for(;typeof c=="string";)c=e[++s];continue}else{if(r===4)break;if(r===0){s+=4;continue}}s+=o?1:2}return-1}else return kM(e,n)}function Ff(n,e,t=!1){for(let i=0;i<e.length;i++)if(DM(n,e[i],t))return!0;return!1}function TM(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if(!(t&1))return e[t+1]}return null}function IM(n){for(let e=0;e<n.length;e++){let t=n[e];if(Ru(t))return e}return n.length}function kM(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let i=n[t];if(typeof i=="number")return-1;if(i===e)return t;t++}return-1}function OM(n,e){e:for(let t=0;t<e.length;t++){let i=e[t];if(n.length===i.length){for(let s=0;s<n.length;s++)if(n[s]!==i[s])continue e;return!0}}return!1}function z9(n,e){return n?":not("+e.trim()+")":e}function PM(n){let e=n[0],t=1,i=2,s="",o=!1;for(;t<n.length;){let r=n[t];if(typeof r=="string")if(i&2){let c=n[++t];s+="["+r+(c.length>0?'="'+c+'"':"")+"]"}else i&8?s+="."+r:i&4&&(s+=" "+r);else s!==""&&!We(r)&&(e+=z9(o,s),s=""),i=r,o=o||!We(i);t++}return s!==""&&(e+=z9(o,s)),e}function RM(n){return n.map(PM).join(",")}function FM(n){let e=[],t=[],i=1,s=2;for(;i<n.length;){let o=n[i];if(typeof o=="string")s===2?o!==""&&e.push(o,n[++i]):s===8&&t.push(o);else{if(!We(s))break;s=o}i++}return{attrs:e,classes:t}}var Qe={};function oe(n=1){Hf(se(),o1(),dt()+n,!1)}function Hf(n,e,t,i){if(!i)if((e[j]&3)===3){let o=n.preOrderCheckHooks;o!==null&&ei(e,o,t)}else{let o=n.preOrderHooks;o!==null&&ti(e,o,0,t)}Bt(t)}function r1(n,e=Q.Default){let t=o1();if(t===null)return H(n,e);let i=Ce();return Gu(i,t,Re(n),e)}function Vf(){let n="invalid";throw new Error(n)}function Bf(n,e,t,i,s,o){let r=c1(null);try{let c=null;s&at.SignalBased&&(c=e[i][r2]),c!==null&&c.transformFn!==void 0&&(o=c.transformFn(o)),s&at.HasDecoratorInputTransform&&(o=n.inputTransforms[i].call(e,o)),n.setInput!==null?n.setInput(e,c,o,t,i):pu(e,c,i,o)}finally{c1(r)}}function HM(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let s=t[i];if(s<0)Bt(~s);else{let o=s,r=t[++i],c=t[++i];YC(r,o);let a=e[o];c(2,a)}}}finally{Bt(-1)}}function qi(n,e,t,i,s,o,r,c,a,l,u){let f=e.blueprint.slice();return f[T2]=s,f[j]=i|4|128|8|64|1024,(l!==null||n&&n[j]&2048)&&(f[j]|=2048),bu(f),f[ie]=f[Y3]=n,f[ee]=t,f[S2]=r||n&&n[S2],f[H1]=c||n&&n[H1],f[H3]=a||n&&n[H3]||null,f[ve]=o,f[Ri]=Tb(),f[F3]=u,f[fu]=l,f[ze]=e.type==2?n[ze]:f,f}function i4(n,e,t,i,s){let o=n.data[e];if(o===null)o=VM(n,e,t,i,s),ZC()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=i,o.attrs=s;let r=GC();o.injectorIndex=r===null?-1:r.injectorIndex}return Xn(o,!0),o}function VM(n,e,t,i,s){let o=Lu(),r=wu(),c=r?o:o&&o.parent,a=n.data[e]=WM(n,c,t,e,i,s);return n.firstChild===null&&(n.firstChild=a),o!==null&&(r?o.child==null&&a.parent!==null&&(o.child=a):o.next===null&&(o.next=a,a.prev=o)),a}function jf(n,e,t,i){if(t===0)return-1;let s=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return s}function Uf(n,e,t,i,s){let o=dt(),r=i&2;try{Bt(-1),r&&e.length>ge&&Hf(n,e,ge,!1),a2(r?2:0,s),t(i,s)}finally{Bt(o),a2(r?3:1,s)}}function $f(n,e,t){if(hu(e)){let i=c1(null);try{let s=e.directiveStart,o=e.directiveEnd;for(let r=s;r<o;r++){let c=n.data[r];if(c.contentQueries){let a=t[r];c.contentQueries(1,a,r)}}}finally{c1(i)}}}function Gf(n,e,t){yu()&&(QM(n,e,t,Ve(t,e)),(t.flags&64)===64&&Kf(n,e,t))}function Wf(n,e,t=Ve){let i=e.localNames;if(i!==null){let s=e.index+1;for(let o=0;o<i.length;o+=2){let r=i[o+1],c=r===-1?t(e,n):n[r];n[s++]=c}}}function qf(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=kc(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function kc(n,e,t,i,s,o,r,c,a,l,u){let f=ge+i,d=f+s,h=BM(f,d),p=typeof l=="function"?l():l;return h[W]={type:n,blueprint:h,template:t,queries:null,viewQuery:c,declTNode:e,data:h.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof r=="function"?r():r,firstChild:null,schemas:a,consts:p,incompleteFirstPass:!1,ssrId:u}}function BM(n,e){let t=[];for(let i=0;i<e;i++)t.push(i<n?null:Qe);return t}function jM(n,e,t,i){let o=i.get(Rb,uf)||t===f2.ShadowDom,r=n.selectRootElement(e,o);return UM(r),r}function UM(n){$M(n)}var $M=()=>null;function GM(n,e,t,i){let s=td(e);s.push(t),n.firstCreatePass&&nd(n).push(i,s.length-1)}function WM(n,e,t,i,s,o){let r=e?e.injectorIndex:-1,c=0;return _u()&&(c|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:r,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:s,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function x9(n,e,t,i,s){for(let o in e){if(!e.hasOwnProperty(o))continue;let r=e[o];if(r===void 0)continue;i??={};let c,a=at.None;Array.isArray(r)?(c=r[0],a=r[1]):c=r;let l=o;if(s!==null){if(!s.hasOwnProperty(o))continue;l=s[o]}n===0?S9(i,t,l,c,a):S9(i,t,l,c)}return i}function S9(n,e,t,i,s){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,i):o=n[t]=[e,i],s!==void 0&&o.push(s)}function qM(n,e,t){let i=e.directiveStart,s=e.directiveEnd,o=n.data,r=e.attrs,c=[],a=null,l=null;for(let u=i;u<s;u++){let f=o[u],d=t?t.get(f):null,h=d?d.inputs:null,p=d?d.outputs:null;a=x9(0,f.inputs,u,a,h),l=x9(1,f.outputs,u,l,p);let m=a!==null&&r!==null&&!Ic(e)?ly(a,u,r):null;c.push(m)}a!==null&&(a.hasOwnProperty("class")&&(e.flags|=8),a.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=a,e.outputs=l}function ZM(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Zf(n,e,t,i,s,o,r,c){let a=Ve(e,t),l=e.inputs,u;!c&&l!=null&&(u=l[i])?(Oc(n,t,u,i,s),Fi(e)&&YM(t,e.index)):e.type&3?(i=ZM(i),s=r!=null?r(s,e.value||"",i):s,o.setProperty(a,i,s)):e.type&12}function YM(n,e){let t=ft(e,n);t[j]&16||(t[j]|=64)}function Yf(n,e,t,i){if(yu()){let s=i===null?null:{"":-1},o=ey(n,t),r,c;o===null?r=c=null:[r,c]=o,r!==null&&Jf(n,e,t,r,s,c),s&&ty(t,i,s)}t.mergedAttrs=Cc(t.mergedAttrs,t.attrs)}function Jf(n,e,t,i,s,o){for(let l=0;l<i.length;l++)fb(Bu(t,e),n,i[l].type);iy(t,n.data.length,i.length);for(let l=0;l<i.length;l++){let u=i[l];u.providersResolver&&u.providersResolver(u)}let r=!1,c=!1,a=jf(n,e,i.length,null);for(let l=0;l<i.length;l++){let u=i[l];t.mergedAttrs=Cc(t.mergedAttrs,u.hostAttrs),sy(n,t,e,a,u),ny(a,u,s),u.contentQueries!==null&&(t.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(t.flags|=64);let f=u.type.prototype;!r&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),r=!0),!c&&(f.ngOnChanges||f.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),c=!0),a++}qM(n,t,o)}function JM(n,e,t,i,s){let o=s.hostBindings;if(o){let r=n.hostBindingOpCodes;r===null&&(r=n.hostBindingOpCodes=[]);let c=~e.index;KM(r)!=c&&r.push(c),r.push(t,i,o)}}function KM(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function QM(n,e,t,i){let s=t.directiveStart,o=t.directiveEnd;Fi(t)&&oy(e,t,n.data[s+t.componentOffset]),n.firstCreatePass||Bu(t,e),jt(i,e);let r=t.initialInputs;for(let c=s;c<o;c++){let a=n.data[c],l=j3(e,n,c,t);if(jt(l,e),r!==null&&ay(e,c-s,l,a,t,r),Qn(a)){let u=ft(t.index,e);u[ee]=j3(e,n,c,t)}}}function Kf(n,e,t){let i=t.directiveStart,s=t.directiveEnd,o=t.index,r=JC();try{Bt(o);for(let c=i;c<s;c++){let a=n.data[c],l=e[c];or(c),(a.hostBindings!==null||a.hostVars!==0||a.hostAttrs!==null)&&XM(a,l)}}finally{Bt(-1),or(r)}}function XM(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function ey(n,e){let t=n.directiveRegistry,i=null,s=null;if(t)for(let o=0;o<t.length;o++){let r=t[o];if(Ff(e,r.selectors,!1))if(i||(i=[]),Qn(r))if(r.findHostDirectiveDefs!==null){let c=[];s=s||new Map,r.findHostDirectiveDefs(r,c,s),i.unshift(...c,r);let a=c.length;xr(n,e,a)}else i.unshift(r),xr(n,e,0);else s=s||new Map,r.findHostDirectiveDefs?.(r,i,s),i.push(r)}return i===null?null:[i,s]}function xr(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function ty(n,e,t){if(e){let i=n.localNames=[];for(let s=0;s<e.length;s+=2){let o=t[e[s+1]];if(o==null)throw new O(-301,!1);i.push(e[s],o)}}}function ny(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Qn(e)&&(t[""]=n)}}function iy(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function sy(n,e,t,i,s){n.data[i]=s;let o=s.factory||(s.factory=P3(s.type,!0)),r=new Gn(o,Qn(s),r1);n.blueprint[i]=r,t[i]=r,JM(n,e,i,jf(n,t,s.hostVars,Qe),s)}function Qf(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function oy(n,e,t){let i=Ve(e,n),s=qf(t),o=n[S2].rendererFactory,r=Zi(n,qi(n,s,null,Qf(t),i,e,null,o.createRenderer(i,t),null,null,null));n[e.index]=r}function ry(n,e,t,i,s,o){let r=Ve(n,e);cy(e[H1],r,o,n.value,t,i,s)}function cy(n,e,t,i,s,o,r){if(o==null)n.removeAttribute(e,s,t);else{let c=r==null?Jn(o):r(o,i||"",s);n.setAttribute(e,s,c,t)}}function ay(n,e,t,i,s,o){let r=o[e];if(r!==null)for(let c=0;c<r.length;){let a=r[c++],l=r[c++],u=r[c++],f=r[c++];Bf(i,t,a,l,u,f)}}function ly(n,e,t){let i=null,s=0;for(;s<t.length;){let o=t[s];if(o===0){s+=4;continue}else if(o===5){s+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){i===null&&(i=[]);let r=n[o];for(let c=0;c<r.length;c+=3)if(r[c]===e){i.push(o,r[c+1],r[c+2],t[s+1]);break}}s+=2}return i}function Xf(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function ed(n,e){let t=n.contentQueries;if(t!==null){let i=c1(null);try{for(let s=0;s<t.length;s+=2){let o=t[s],r=t[s+1];if(r!==-1){let c=n.data[r];fc(o),c.contentQueries(2,e[r],r)}}}finally{c1(i)}}}function Zi(n,e){return n[$n]?n[n9][Ze]=e:n[$n]=e,n[n9]=e,e}function Sr(n,e,t){fc(0);let i=c1(null);try{e(n,t)}finally{c1(i)}}function td(n){return n[ai]??=[]}function nd(n){return n.cleanup??=[]}function id(n,e){let t=n[H3],i=t?t.get(E2,null):null;i&&i.handleError(e)}function Oc(n,e,t,i,s){for(let o=0;o<t.length;){let r=t[o++],c=t[o++],a=t[o++],l=e[r],u=n.data[r];Bf(u,l,i,c,a,s)}}function uy(n,e,t){let i=Cu(e,n);fM(n[H1],i,t)}function fy(n,e){let t=ft(e,n),i=t[W];dy(i,t);let s=t[T2];s!==null&&t[F3]===null&&(t[F3]=xc(s,t[H3])),Pc(i,t,t[ee])}function dy(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Pc(n,e,t){dc(e);try{let i=n.viewQuery;i!==null&&Sr(1,i,t);let s=n.template;s!==null&&Uf(n,e,s,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[A2]?.finishViewCreation(n),n.staticContentQueries&&ed(n,e),n.staticViewQueries&&Sr(2,n.viewQuery,t);let o=n.components;o!==null&&hy(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[j]&=-5,hc()}}function hy(n,e){for(let t=0;t<e.length;t++)fy(n,e[t])}function s4(n,e,t,i){let s=c1(null);try{let o=e.tView,c=n[j]&4096?4096:16,a=qi(n,o,t,c,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),l=n[e.index];a[Ft]=l;let u=n[A2];return u!==null&&(a[A2]=u.createEmbeddedView(o)),Pc(o,a,t),a}finally{c1(s)}}function sd(n,e){let t=te+e;if(t<n.length)return n[t]}function $3(n,e){return!e||e.firstChild===null||tf(n)}function o4(n,e,t,i=!0){let s=e[W];if(mM(s,e,n,t),i){let r=zr(t,n),c=e[H1],a=Nf(c,n[Ht]);a!==null&&hM(s,n[ve],c,e,a,r)}let o=e[F3];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function od(n,e){let t=Wn(n,e);return t!==void 0&&Gi(t[W],t),t}function Ci(n,e,t,i,s=!1){for(;t!==null;){if(t.type===128){t=s?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&i.push(u2(o)),I2(o)&&py(o,i);let r=t.type;if(r&8)Ci(n,e,t.child,i);else if(r&32){let c=Ec(t,e),a;for(;a=c();)i.push(a)}else if(r&16){let c=If(e,t);if(Array.isArray(c))i.push(...c);else{let a=Vt(e[ze]);Ci(a[W],a,c,i,!0)}}t=s?t.projectionNext:t.next}return i}function py(n,e){for(let t=te;t<n.length;t++){let i=n[t],s=i[W].firstChild;s!==null&&Ci(i[W],i,s,e)}n[Ht]!==n[T2]&&e.push(n[Ht])}var rd=[];function my(n){return n[Le]??gy(n)}function gy(n){let e=rd.pop()??Object.create(Cy);return e.lView=n,e}function vy(n){n.lView[Le]!==n&&(n.lView=null,rd.push(n))}var Cy=t1(N({},g0),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Vi(n.lView)},consumerOnSignalRead(){this.lView[Le]=this}});function by(n){let e=n[Le]??Object.create(My);return e.lView=n,e}var My=t1(N({},g0),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=Vt(n.lView);for(;e&&!cd(e[W]);)e=Vt(e);e&&uc(e)},consumerOnSignalRead(){this.lView[Le]=this}});function cd(n){return n.type!==2}function ad(n){if(n[li]===null)return;let e=!0;for(;e;){let t=!1;for(let i of n[li])i.dirty&&(t=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));e=t&&!!(n[j]&8192)}}var yy=100;function ld(n,e=!0,t=0){let s=n[S2].rendererFactory,o=!1;o||s.begin?.();try{_y(n,t)}catch(r){throw e&&id(n,r),r}finally{o||s.end?.()}}function _y(n,e){let t=xu();try{s9(!0),Ar(n,e);let i=0;for(;Hi(n);){if(i===yy)throw new O(103,!1);i++,Ar(n,1)}}finally{s9(t)}}function Ly(n,e,t,i){let s=e[j];if((s&256)===256)return;let o=!1,r=!1;dc(e);let c=!0,a=null,l=null;o||(cd(n)?(l=my(e),a=ho(l)):u7()===null?(c=!1,l=by(e),a=ho(l)):e[Le]&&(mo(e[Le]),e[Le]=null));try{bu(e),qC(n.bindingStartIndex),t!==null&&Uf(n,e,t,2,i);let u=(s&3)===3;if(!o)if(u){let h=n.preOrderCheckHooks;h!==null&&ei(e,h,null)}else{let h=n.preOrderHooks;h!==null&&ti(e,h,0,null),Ho(e,0)}if(r||wy(e),ad(e),ud(e,0),n.contentQueries!==null&&ed(n,e),!o)if(u){let h=n.contentCheckHooks;h!==null&&ei(e,h)}else{let h=n.contentHooks;h!==null&&ti(e,h,1),Ho(e,1)}HM(n,e);let f=n.components;f!==null&&dd(e,f,0);let d=n.viewQuery;if(d!==null&&Sr(2,d,i),!o)if(u){let h=n.viewCheckHooks;h!==null&&ei(e,h)}else{let h=n.viewHooks;h!==null&&ti(e,h,2),Ho(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Fo]){for(let h of e[Fo])h();e[Fo]=null}o||(e[j]&=-73)}catch(u){throw o||Vi(e),u}finally{l!==null&&(p7(l,a),c&&vy(l)),hc()}}function ud(n,e){for(let t=of(n);t!==null;t=rf(t))for(let i=te;i<t.length;i++){let s=t[i];fd(s,e)}}function wy(n){for(let e=of(n);e!==null;e=rf(e)){if(!(e[j]&fi.HasTransplantedViews))continue;let t=e[V3];for(let i=0;i<t.length;i++){let s=t[i];uc(s)}}}function zy(n,e,t){let i=ft(e,n);fd(i,t)}function fd(n,e){lc(n)&&Ar(n,e)}function Ar(n,e){let i=n[W],s=n[j],o=n[Le],r=!!(e===0&&s&16);if(r||=!!(s&64&&e===0),r||=!!(s&1024),r||=!!(o?.dirty&&po(o)),r||=!1,o&&(o.dirty=!1),n[j]&=-9217,r)Ly(i,n,i.template,n[ee]);else if(s&8192){ad(n),ud(n,1);let c=i.components;c!==null&&dd(n,c,1)}}function dd(n,e,t){for(let i=0;i<e.length;i++)zy(n,e[i],t)}function Rc(n,e){let t=xu()?64:1088;for(n[S2].changeDetectionScheduler?.notify(e);n;){n[j]|=t;let i=Vt(n);if(tr(n)&&!i)return n;n=i}return null}var Ut=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[W];return Ci(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i}get context(){return this._lView[ee]}get dirty(){return!!(this._lView[j]&9280)||!!this._lView[Le]?.dirty}set context(e){this._lView[ee]=e}get destroyed(){return(this._lView[j]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ie];if(I2(e)){let t=e[ui],i=t?t.indexOf(this):-1;i>-1&&(Wn(e,i),ri(t,i))}this._attachedToViewContainer=!1}Gi(this._lView[W],this._lView)}onDestroy(e){Mu(this._lView,e)}markForCheck(){Rc(this._cdRefInjectingView||this._lView,4)}markForRefresh(){uc(this._cdRefInjectingView||this._lView)}detach(){this._lView[j]&=-129}reattach(){ir(this._lView),this._lView[j]|=128}detectChanges(){this._lView[j]|=1024,ld(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new O(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=tr(this._lView),t=this._lView[Ft];t!==null&&!e&&Dc(t,this._lView),Sf(this._lView[W],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new O(902,!1);this._appRef=e;let t=tr(this._lView),i=this._lView[Ft];i!==null&&!t&&Af(i,this._lView),ir(this._lView)}},lt=(()=>{class n{static __NG_ELEMENT_ID__=Ay}return n})(),xy=lt,Sy=class extends xy{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){let s=s4(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:i});return new Ut(s)}};function Ay(){return Yi(Ce(),o1())}function Yi(n,e){return n.type&4?new Sy(e,n,Q3(n,e)):null}var Er=class{resolveComponentFactory(e){throw Error(`No component factory found for ${me(e)}.`)}},G3=class{static NULL=new Er},ut=class{},qn=class{},Dr=class{},bi=class{},W3=class{},pt=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>Ey()}return n})();function Ey(){let n=o1(),e=Ce(),t=ft(e.index,n);return(ct(t)?t:n)[H1]}var Dy=(()=>{class n{static \u0275prov=I({token:n,providedIn:"root",factory:()=>null})}return n})();function Nr(n,e,t){let i=t?n.styles:null,s=t?n.classes:null,o=0;if(e!==null)for(let r=0;r<e.length;r++){let c=e[r];if(typeof c=="number")o=c;else if(o==1)s=qo(s,c);else if(o==2){let a=c,l=e[++r];i=qo(i,a+": "+l+";")}}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=s:n.classesWithoutHost=s}var Mi=class extends G3{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=x2(e);return new $t(t,this.ngModule)}};function A9(n,e){let t=[];for(let i in n){if(!n.hasOwnProperty(i))continue;let s=n[i];if(s===void 0)continue;let o=Array.isArray(s),r=o?s[0]:s,c=o?s[1]:at.None;e?t.push({propName:r,templateName:i,isSignal:(c&at.SignalBased)!==0}):t.push({propName:r,templateName:i})}return t}function Ny(n){let e=n.toLowerCase();return e==="svg"?IC:e==="math"?kC:null}var $t=class extends bi{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){let e=this.componentDef,t=e.inputTransforms,i=A9(e.inputs,!0);if(t!==null)for(let s of i)t.hasOwnProperty(s.propName)&&(s.transform=t[s.propName]);return i}get outputs(){return A9(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=RM(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,s){let o=c1(null);try{s=s||this.ngModule;let r=s instanceof ne?s:s?.injector;r&&this.componentDef.getStandaloneInjector!==null&&(r=this.componentDef.getStandaloneInjector(r)||r);let c=r?new cr(e,r):e,a=c.get(W3,null);if(a===null)throw new O(407,!1);let l=c.get(Dy,null),u=c.get(U3,null),f={rendererFactory:a,sanitizer:l,changeDetectionScheduler:u},d=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=i?jM(d,i,this.componentDef.encapsulation,c):xf(d,h,Ny(h)),m=512;this.componentDef.signals?m|=4096:this.componentDef.onPush||(m|=16);let v=null;p!==null&&(v=xc(p,c,!0));let g=kc(0,null,null,1,0,null,null,null,null,null,null),C=qi(null,g,null,m,null,null,f,d,c,null,v);dc(C);let M,b,_=null;try{let L=this.componentDef,x,A=null;L.findHostDirectiveDefs?(x=[],A=new Map,L.findHostDirectiveDefs(L,x,A),x.push(L)):x=[L];let y=Ty(C,p);_=Iy(y,p,L,x,C,f,d),b=ac(g,ge),p&&Py(d,L,p,i),t!==void 0&&Ry(b,this.ngContentSelectors,t),M=Oy(_,L,x,A,C,[Fy]),Pc(g,C,null)}catch(L){throw _!==null&&pr(_),pr(C),L}finally{hc()}return new Tr(this.componentType,M,Q3(b,C),C,b)}finally{c1(o)}}},Tr=class extends Dr{location;_rootLView;_tNode;instance;hostView;changeDetectorRef;componentType;previousInputValues=null;constructor(e,t,i,s,o){super(),this.location=i,this._rootLView=s,this._tNode=o,this.instance=t,this.hostView=this.changeDetectorRef=new Ut(s,void 0,!1),this.componentType=e}setInput(e,t){let i=this._tNode.inputs,s;if(i!==null&&(s=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;Oc(o[W],o,s,e,t),this.previousInputValues.set(e,t);let r=ft(this._tNode.index,o);Rc(r,1)}}get injector(){return new Rt(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Ty(n,e){let t=n[W],i=ge;return n[i]=e,i4(t,i,2,"#host",null)}function Iy(n,e,t,i,s,o,r){let c=s[W];ky(i,n,e,r);let a=null;e!==null&&(a=xc(e,s[H3]));let l=o.rendererFactory.createRenderer(e,t),u=qi(s,qf(t),null,Qf(t),s[n.index],n,o,l,null,null,a);return c.firstCreatePass&&xr(c,n,i.length-1),Zi(s,u),s[n.index]=u}function ky(n,e,t,i){for(let s of n)e.mergedAttrs=Cc(e.mergedAttrs,s.hostAttrs);e.mergedAttrs!==null&&(Nr(e,e.mergedAttrs,!0),t!==null&&Pf(i,t,e))}function Oy(n,e,t,i,s,o){let r=Ce(),c=s[W],a=Ve(r,s);Jf(c,s,r,t,null,i);for(let u=0;u<t.length;u++){let f=r.directiveStart+u,d=j3(s,c,f,r);jt(d,s)}Kf(c,s,r),a&&jt(a,s);let l=j3(s,c,r.directiveStart+r.componentOffset,r);if(n[ee]=s[ee]=l,o!==null)for(let u of o)u(l,e);return $f(c,r,s),l}function Py(n,e,t,i){if(i)rr(n,t,["ng-version","19.0.0"]);else{let{attrs:s,classes:o}=FM(e.selectors[0]);s&&rr(n,t,s),o&&o.length>0&&Of(n,t,o.join(" "))}}function Ry(n,e,t){let i=n.projection=[];for(let s=0;s<e.length;s++){let o=t[s];i.push(o!=null&&o.length?Array.from(o):null)}}function Fy(){let n=Ce();vc(o1()[W],n)}var yi=class extends ut{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Mi(this);constructor(e,t,i,s=!0){super(),this.ngModuleType=e,this._parent=t;let o=iu(e);this._bootstrapComponents=zf(o.bootstrap),this._r3Injector=Zu(e,t,[{provide:ut,useValue:this},{provide:G3,useValue:this.componentFactoryResolver},...i],me(e),new Set(["environment"])),s&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},_i=class extends qn{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new yi(this.moduleType,e,[])}};function Hy(n,e,t){return new yi(n,e,t,!1)}var Ir=class extends ut{injector;componentFactoryResolver=new Mi(this);instance=null;constructor(e){super();let t=new Un([...e.providers,{provide:ut,useValue:this},{provide:G3,useValue:this.componentFactoryResolver}],e.parent||Pi(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ji(n,e,t=null){return new Ir({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var Vy=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let i=cu(!1,t.type),s=i.length>0?Ji([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,s)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=I({token:n,providedIn:"environment",factory:()=>new n(H(ne))})}return n})();function re(n){return Yn(()=>{let e=hd(n),t=t1(N({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===nf.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?s=>s.get(Vy).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||f2.Emulated,styles:n.styles||_e,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&X3("NgStandalone"),pd(t);let i=n.dependencies;return t.directiveDefs=D9(i,!1),t.pipeDefs=D9(i,!0),t.id=Uy(t),t})}function By(n){return x2(n)||su(n)}function jy(n){return n!==null}function p1(n){return Yn(()=>({type:n.type,bootstrap:n.bootstrap||_e,declarations:n.declarations||_e,imports:n.imports||_e,exports:n.exports||_e,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function E9(n,e){if(n==null)return jn;let t={};for(let i in n)if(n.hasOwnProperty(i)){let s=n[i],o,r,c=at.None;Array.isArray(s)?(c=s[0],o=s[1],r=s[2]??o):(o=s,r=s),e?(t[o]=c!==at.None?[i,c]:i,e[o]=r):t[o]=i}return t}function h2(n){return Yn(()=>{let e=hd(n);return pd(e),e})}function hd(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||jn,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||_e,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:E9(n.inputs,e),outputs:E9(n.outputs),debugInfo:null}}function pd(n){n.features?.forEach(e=>e(n))}function D9(n,e){if(!n)return null;let t=e?ou:By;return()=>(typeof n=="function"?n():n).map(i=>t(i)).filter(jy)}function Uy(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let s of t)e=Math.imul(31,e)+s.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var Ki=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var Fc=new B(""),r4=new B(""),Qi=(()=>{class n{_ngZone;registry;_isZoneStable=!0;_callbacks=[];taskTrackingZone=null;constructor(t,i,s){this._ngZone=t,this.registry=i,Hc||($y(s),s.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{m1.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(t)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(r=>r.timeoutId!==o),t()},i)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:s})}whenStable(t,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,s),this._runCallbacksIfReady()}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,s){return[]}static \u0275fac=function(i){return new(i||n)(H(m1),H(Xi),H(r4))};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})(),Xi=(()=>{class n{_applications=new Map;registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return Hc?.findTestabilityInTree(this,t,i)??null}static \u0275fac=function(i){return new(i||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function $y(n){Hc=n}var Hc;function c4(n){return!!n&&typeof n.then=="function"}function md(n){return!!n&&typeof n.subscribe=="function"}var es=new B("");var gd=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i});appInits=E(es,{optional:!0})??[];injector=E(Z1);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let s of this.appInits){let o=Fe(this.injector,s);if(c4(o))t.push(o);else if(md(o)){let r=new Promise((c,a)=>{o.subscribe({complete:c,error:a})});t.push(r)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(s=>{this.reject(s)}),t.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Gy=(()=>{class n{static \u0275prov=I({token:n,providedIn:"root",factory:()=>new kr})}return n})(),kr=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let i=this.queues.get(t);i.has(e)||(this.queuedEffectCount++,i.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}},Vc=new B("");function Wy(){M7(()=>{throw new O(600,!1)})}function qy(n){return n.isBoundToModule}var Zy=10;function Yy(n,e,t){try{let i=t();return c4(i)?i.catch(s=>{throw e.runOutsideAngular(()=>n.handleError(s)),s}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}function vd(n,e){return Array.isArray(e)?e.reduce(vd,n):N(N({},n),e)}var p2=(()=>{class n{_bootstrapListeners=[];_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=E(xb);afterRenderManager=E(ff);zonelessEnabled=E(Mc);rootEffectScheduler=E(Gy);dirtyFlags=0;deferredDirtyFlags=0;externalTestViews=new Set;afterTick=new g1;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=E(K3).hasPendingTasks.pipe(i1(t=>!t));whenStable(){let t;return new Promise(i=>{t=this.isStable.subscribe({next:s=>{s&&i()}})}).finally(()=>{t.unsubscribe()})}_injector=E(ne);get injector(){return this._injector}bootstrap(t,i){let s=t instanceof bi;if(!this._injector.get(gd).done){let d=!s&&ru(t),h=!1;throw new O(405,h)}let r;s?r=t:r=this._injector.get(G3).resolveComponentFactory(t),this.componentTypes.push(r.componentType);let c=qy(r)?void 0:this._injector.get(ut),a=i||r.selector,l=r.create(Z1.NULL,[],a,c),u=l.location.nativeElement,f=l.injector.get(Fc,null);return f?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),ii(this.components,l),f?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new O(101,!1);let t=c1(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,c1(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(W3,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<Zy;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:s,notifyErrorHandler:o}of this.allViews)Jy(s,o,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Hi(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){let i=t;ii(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let i=this._injector.get(Vc,[]);[...this._bootstrapListeners,...i].forEach(s=>s(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>ii(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new O(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static \u0275fac=function(i){return new(i||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ii(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Jy(n,e,t,i){if(!t&&!Hi(n))return;ld(n,e,t&&!i?0:1)}var TH=new RegExp(`^(\\d+)*(${Pb}|${Ob})*(.*)`);var Ky=()=>null;function q3(n,e){return Ky(n,e)}var mt=(()=>{class n{static __NG_ELEMENT_ID__=Qy}return n})();function Qy(){let n=Ce();return bd(n,o1())}var Xy=mt,Cd=class extends Xy{_lContainer;_hostTNode;_hostLView;constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Q3(this._hostTNode,this._hostLView)}get injector(){return new Rt(this._hostTNode,this._hostLView)}get parentInjector(){let e=bc(this._hostTNode,this._hostLView);if(Fu(e)){let t=hi(e,this._hostLView),i=di(e),s=t[W].data[i+8];return new Rt(s,t)}else return new Rt(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=N9(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-te}createEmbeddedView(e,t,i){let s,o;typeof i=="number"?s=i:i!=null&&(s=i.index,o=i.injector);let r=q3(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(t||{},o,r);return this.insertImpl(c,s,$3(this._hostTNode,r)),c}createComponent(e,t,i,s,o){let r=e&&!EC(e),c;if(r)c=t;else{let p=t||{};c=p.index,i=p.injector,s=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}let a=r?e:new $t(x2(e)),l=i||this.parentInjector;if(!o&&a.ngModule==null){let m=(r?l:this.parentInjector).get(ne,null);m&&(o=m)}let u=x2(a.componentType??{}),f=q3(this._lContainer,u?.id??null),d=f?.firstChild??null,h=a.create(l,s,d,o);return this.insertImpl(h.hostView,c,$3(this._hostTNode,f)),h}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){let s=e._lView;if(RC(s)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let a=s[ie],l=new Cd(a,a[ve],a[ie]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),r=this._lContainer;return o4(r,s,o,i),e.attachToViewContainerRef(),eu(Uo(r),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=N9(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),i=Wn(this._lContainer,t);i&&(ri(Uo(this._lContainer),t),Gi(i[W],i))}detach(e){let t=this._adjustIndex(e,-1),i=Wn(this._lContainer,t);return i&&ri(Uo(this._lContainer),t)!=null?new Ut(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function N9(n){return n[ui]}function Uo(n){return n[ui]||(n[ui]=[])}function bd(n,e){let t,i=e[n.index];return I2(i)?t=i:(t=Xf(i,e,null,n),e[n.index]=t,Zi(e,t)),t_(t,e,n,i),new Cd(t,n,e)}function e_(n,e){let t=n[H1],i=t.createComment(""),s=Ve(e,n),o=Nf(t,s);return vi(t,o,i,bM(t,s),!1),i}var t_=s_,n_=()=>!1;function i_(n,e,t){return n_(n,e,t)}function s_(n,e,t,i){if(n[Ht])return;let s;t.type&8?s=u2(i):s=e_(e,t),n[Ht]=s}var Or=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Pr=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let i=e.contentQueries!==null?e.contentQueries[0]:t.length,s=[];for(let o=0;o<i;o++){let r=t.getByIndex(o),c=this.queries[r.indexInDeclarationView];s.push(c.clone())}return new n(s)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Bc(e,t).matches!==null&&this.queries[t].setDirty()}},Li=class{flags;read;predicate;constructor(e,t,i=null){this.flags=t,this.read=i,typeof e=="string"?this.predicate=d_(e):this.predicate=e}},Rr=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){let s=t!==null?t.length:0,o=this.getByIndex(i).embeddedTView(e,s);o&&(o.indexInDeclarationView=i,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Fr=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==t;)i=i.parent;return t===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let i=this.metadata.predicate;if(Array.isArray(i))for(let s=0;s<i.length;s++){let o=i[s];this.matchTNodeWithReadOption(e,t,o_(t,o)),this.matchTNodeWithReadOption(e,t,ni(t,e,o,!1,!1))}else i===lt?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ni(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(i!==null){let s=this.metadata.read;if(s!==null)if(s===K1||s===mt||s===lt&&t.type&4)this.addMatch(t.index,-2);else{let o=ni(t,e,s,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function o_(n,e){let t=n.localNames;if(t!==null){for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1]}return null}function r_(n,e){return n.type&11?Q3(n,e):n.type&4?Yi(n,e):null}function c_(n,e,t,i){return t===-1?r_(e,n):t===-2?a_(n,e,i):j3(n,n[W],t,e)}function a_(n,e,t){if(t===K1)return Q3(e,n);if(t===lt)return Yi(e,n);if(t===mt)return bd(e,n)}function Md(n,e,t,i){let s=e[A2].queries[i];if(s.matches===null){let o=n.data,r=t.matches,c=[];for(let a=0;r!==null&&a<r.length;a+=2){let l=r[a];if(l<0)c.push(null);else{let u=o[l];c.push(c_(e,u,r[a+1],t.metadata.read))}}s.matches=c}return s.matches}function Hr(n,e,t,i){let s=n.queries.getByIndex(t),o=s.matches;if(o!==null){let r=Md(n,e,s,t);for(let c=0;c<o.length;c+=2){let a=o[c];if(a>0)i.push(r[c/2]);else{let l=o[c+1],u=e[-a];for(let f=te;f<u.length;f++){let d=u[f];d[Ft]===d[ie]&&Hr(d[W],d,l,i)}if(u[V3]!==null){let f=u[V3];for(let d=0;d<f.length;d++){let h=f[d];Hr(h[W],h,l,i)}}}}}return i}function l_(n,e){return n[A2].queries[e].queryList}function yd(n,e,t){let i=new hr((t&4)===4);return GM(n,e,i,i.destroy),(e[A2]??=new Pr).queries.push(new Or(i))-1}function u_(n,e,t){let i=se();return i.firstCreatePass&&(_d(i,new Li(n,e,t),-1),(e&2)===2&&(i.staticViewQueries=!0)),yd(i,o1(),e)}function f_(n,e,t,i){let s=se();if(s.firstCreatePass){let o=Ce();_d(s,new Li(e,t,i),o.index),h_(s,n),(t&2)===2&&(s.staticContentQueries=!0)}return yd(s,o1(),t)}function d_(n){return n.split(",").map(e=>e.trim())}function _d(n,e,t){n.queries===null&&(n.queries=new Rr),n.queries.track(new Fr(e,t))}function h_(n,e){let t=n.contentQueries||(n.contentQueries=[]),i=t.length?t[t.length-1]:-1;e!==i&&t.push(n.queries.length-1,e)}function Bc(n,e){return n.queries.getByIndex(e)}function p_(n,e){let t=n[W],i=Bc(t,e);return i.crossesNgTemplate?Hr(t,n,e,[]):Md(t,n,i,e)}function kH(n,e){X3("NgSignals");let t=y7(n),i=t[r2];return e?.equal&&(i.equal=e.equal),t.set=s=>b0(i,s),t.update=s=>_7(i,s),t.asReadonly=m_.bind(t),t}function m_(){let n=this[r2];if(n.readonlyFn===void 0){let e=()=>this();e[r2]=n,n.readonlyFn=e}return n.readonlyFn}function g_(n){let e=[],t=new Map;function i(s){let o=t.get(s);if(!o){let r=n(s);t.set(s,o=r.then(M_))}return o}return wi.forEach((s,o)=>{let r=[];s.templateUrl&&r.push(i(s.templateUrl).then(l=>{s.template=l}));let c=typeof s.styles=="string"?[s.styles]:s.styles||[];if(s.styles=c,s.styleUrl&&s.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(s.styleUrls?.length){let l=s.styles.length,u=s.styleUrls;s.styleUrls.forEach((f,d)=>{c.push(""),r.push(i(f).then(h=>{c[l+d]=h,u.splice(u.indexOf(f),1),u.length==0&&(s.styleUrls=void 0)}))})}else s.styleUrl&&r.push(i(s.styleUrl).then(l=>{c.push(l),s.styleUrl=void 0}));let a=Promise.all(r).then(()=>y_(o));e.push(a)}),C_(),Promise.all(e).then(()=>{})}var wi=new Map,v_=new Set;function C_(){let n=wi;return wi=new Map,n}function b_(){return wi.size===0}function M_(n){return typeof n=="string"?n:n.text()}function y_(n){v_.delete(n)}function jc(n){let e=n.inputConfig,t={};for(let i in e)if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)&&s[3]&&(t[i]=s[3])}n.inputTransforms=t}function Ld(n){return L_(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function __(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),i;for(;!(i=t.next()).done;)e(i.value)}}function L_(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function wd(n,e,t){return n[e]=t}function w_(n,e){return n[e]}function d2(n,e,t){let i=n[e];return Object.is(i,t)?!1:(n[e]=t,!0)}function z_(n,e,t,i){let s=d2(n,e,t);return d2(n,e+1,i)||s}function x_(n){return(n.flags&32)===32}function S_(n,e,t,i,s,o,r,c,a){let l=e.consts,u=i4(e,n,4,r||null,c||null);Yf(e,t,u,B3(l,a)),vc(e,u);let f=u.tView=kc(2,u,i,s,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),f.queries=e.queries.embeddedTView(u)),u}function zi(n,e,t,i,s,o,r,c,a,l){let u=t+ge,f=e.firstCreatePass?S_(u,e,n,i,s,o,r,c,a):e.data[u];Xn(f,!1);let d=A_(e,n,f,t);mc()&&Nc(e,n,d,f),jt(d,n);let h=Xf(d,n,d,f);return n[u]=h,Zi(n,h),i_(h,f,n),cc(f)&&Gf(e,n,f),a!=null&&Wf(n,f,l),f}function gt(n,e,t,i,s,o,r,c){let a=o1(),l=se(),u=B3(l.consts,o);return zi(a,l,n,e,t,i,s,u,r,c),gt}var A_=E_;function E_(n,e,t,i){return gc(!0),e[H1].createComment("")}function Wt(n,e,t,i){let s=o1(),o=J3();if(d2(s,o,e)){let r=se(),c=pc();ry(c,s,n,e,t,i)}return Wt}function D_(n,e,t,i){return d2(n,J3(),t)?e+Jn(t)+i:Qe}function J0(n,e){return n<<17|e<<2}function Gt(n){return n>>17&32767}function N_(n){return(n&2)==2}function T_(n,e){return n&131071|e<<17}function Vr(n){return n|2}function Z3(n){return(n&131068)>>2}function $o(n,e){return n&-131069|e<<2}function I_(n){return(n&1)===1}function Br(n){return n|1}function k_(n,e,t,i,s,o){let r=o?e.classBindings:e.styleBindings,c=Gt(r),a=Z3(r);n[i]=t;let l=!1,u;if(Array.isArray(t)){let f=t;u=f[1],(u===null||Kn(f,u)>0)&&(l=!0)}else u=t;if(s)if(a!==0){let d=Gt(n[c+1]);n[i+1]=J0(d,c),d!==0&&(n[d+1]=$o(n[d+1],i)),n[c+1]=T_(n[c+1],i)}else n[i+1]=J0(c,0),c!==0&&(n[c+1]=$o(n[c+1],i)),c=i;else n[i+1]=J0(a,0),c===0?c=i:n[a+1]=$o(n[a+1],i),a=i;l&&(n[i+1]=Vr(n[i+1])),T9(n,u,i,!0),T9(n,u,i,!1),O_(e,u,n,i,o),r=J0(c,a),o?e.classBindings=r:e.styleBindings=r}function O_(n,e,t,i,s){let o=s?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Kn(o,e)>=0&&(t[i+1]=Br(t[i+1]))}function T9(n,e,t,i){let s=n[t+1],o=e===null,r=i?Gt(s):Z3(s),c=!1;for(;r!==0&&(c===!1||o);){let a=n[r],l=n[r+1];P_(a,e)&&(c=!0,n[r+1]=i?Br(l):Vr(l)),r=i?Gt(l):Z3(l)}c&&(n[t+1]=i?Vr(s):Br(s))}function P_(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Kn(n,e)>=0:!1}var qe={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function R_(n){return n.substring(qe.key,qe.keyEnd)}function F_(n){return H_(n),zd(n,xd(n,0,qe.textEnd))}function zd(n,e){let t=qe.textEnd;return t===e?-1:(e=qe.keyEnd=V_(n,qe.key=e,t),xd(n,e,t))}function H_(n){qe.key=0,qe.keyEnd=0,qe.value=0,qe.valueEnd=0,qe.textEnd=n.length}function xd(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function V_(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function xe(n,e,t){let i=o1(),s=J3();if(d2(i,s,e)){let o=se(),r=pc();Zf(o,r,i,n,e,i[H1],t,!1)}return xe}function jr(n,e,t,i,s){let o=e.inputs,r=s?"class":"style";Oc(n,t,o[r],r,i)}function a4(n,e){return j_(n,e,null,!0),a4}function ts(n){U_(Y_,B_,n,!0)}function B_(n,e){for(let t=F_(e);t>=0;t=zd(e,t))oc(n,R_(e),!0)}function j_(n,e,t,i){let s=o1(),o=se(),r=Au(2);if(o.firstUpdatePass&&Ad(o,n,r,i),e!==Qe&&d2(s,r,e)){let c=o.data[dt()];Ed(o,c,s,s[H1],n,s[r+1]=K_(e,t),i,r)}}function U_(n,e,t,i){let s=se(),o=Au(2);s.firstUpdatePass&&Ad(s,null,o,i);let r=o1();if(t!==Qe&&d2(r,o,t)){let c=s.data[dt()];if(Dd(c,i)&&!Sd(s,o)){let a=i?c.classesWithoutHost:c.stylesWithoutHost;a!==null&&(t=qo(a,t||"")),jr(s,c,r,t,i)}else J_(s,c,r,r[H1],r[o+1],r[o+1]=Z_(n,e,t),i,o)}}function Sd(n,e){return e>=n.expandoStartIndex}function Ad(n,e,t,i){let s=n.data;if(s[t+1]===null){let o=s[dt()],r=Sd(n,t);Dd(o,i)&&e===null&&!r&&(e=!1),e=$_(s,o,e,i),k_(s,o,e,t,r,i)}}function $_(n,e,t,i){let s=KC(n),o=i?e.residualClasses:e.residualStyles;if(s===null)(i?e.classBindings:e.styleBindings)===0&&(t=Go(null,n,e,t,i),t=Zn(t,e.attrs,i),o=null);else{let r=e.directiveStylingLast;if(r===-1||n[r]!==s)if(t=Go(s,n,e,t,i),o===null){let a=G_(n,e,i);a!==void 0&&Array.isArray(a)&&(a=Go(null,n,e,a[1],i),a=Zn(a,e.attrs,i),W_(n,e,i,a))}else o=q_(n,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),t}function G_(n,e,t){let i=t?e.classBindings:e.styleBindings;if(Z3(i)!==0)return n[Gt(i)]}function W_(n,e,t,i){let s=t?e.classBindings:e.styleBindings;n[Gt(s)]=i}function q_(n,e,t){let i,s=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<s;o++){let r=n[o].hostAttrs;i=Zn(i,r,t)}return Zn(i,e.attrs,t)}function Go(n,e,t,i,s){let o=null,r=t.directiveEnd,c=t.directiveStylingLast;for(c===-1?c=t.directiveStart:c++;c<r&&(o=e[c],i=Zn(i,o.hostAttrs,s),o!==n);)c++;return n!==null&&(t.directiveStylingLast=c),i}function Zn(n,e,t){let i=t?1:2,s=-1;if(e!==null)for(let o=0;o<e.length;o++){let r=e[o];typeof r=="number"?s=r:s===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),oc(n,r,t?!0:e[++o]))}return n===void 0?null:n}function Z_(n,e,t){if(t==null||t==="")return _e;let i=[],s=Be(t);if(Array.isArray(s))for(let o=0;o<s.length;o++)n(i,s[o],!0);else if(typeof s=="object")for(let o in s)s.hasOwnProperty(o)&&n(i,o,s[o]);else typeof s=="string"&&e(i,s);return i}function Y_(n,e,t){let i=String(e);i!==""&&!i.includes(" ")&&oc(n,i,t)}function J_(n,e,t,i,s,o,r,c){s===Qe&&(s=_e);let a=0,l=0,u=0<s.length?s[0]:null,f=0<o.length?o[0]:null;for(;u!==null||f!==null;){let d=a<s.length?s[a+1]:void 0,h=l<o.length?o[l+1]:void 0,p=null,m;u===f?(a+=2,l+=2,d!==h&&(p=f,m=h)):f===null||u!==null&&u<f?(a+=2,p=u):(l+=2,p=f,m=h),p!==null&&Ed(n,e,t,i,p,m,r,c),u=a<s.length?s[a]:null,f=l<o.length?o[l]:null}}function Ed(n,e,t,i,s,o,r,c){if(!(e.type&3))return;let a=n.data,l=a[c+1],u=I_(l)?I9(a,e,t,s,Z3(l),r):void 0;if(!xi(u)){xi(o)||N_(l)&&(o=I9(a,null,t,s,c,r));let f=Cu(dt(),t);zM(i,r,f,s,o)}}function I9(n,e,t,i,s,o){let r=e===null,c;for(;s>0;){let a=n[s],l=Array.isArray(a),u=l?a[1]:a,f=u===null,d=t[s+1];d===Qe&&(d=f?_e:void 0);let h=f?Po(d,i):u===i?d:void 0;if(l&&!xi(h)&&(h=Po(a,i)),xi(h)&&(c=h,r))return c;let p=n[s+1];s=r?Gt(p):Z3(p)}if(e!==null){let a=o?e.residualClasses:e.residualStyles;a!=null&&(c=Po(a,i))}return c}function xi(n){return n!==void 0}function K_(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=me(Be(n)))),n}function Dd(n,e){return(n.flags&(e?8:16))!==0}var Ur=class{destroy(e){}updateValue(e,t){}swap(e,t){let i=Math.min(e,t),s=Math.max(e,t),o=this.detach(s);if(s-i>1){let r=this.detach(i);this.attach(i,o),this.attach(s,r)}else this.attach(i,o)}move(e,t){this.attach(t,this.detach(e))}};function Wo(n,e,t,i,s){return n===t&&Object.is(e,i)?1:Object.is(s(n,e),s(t,i))?-1:0}function Q_(n,e,t){let i,s,o=0,r=n.length-1,c=void 0;if(Array.isArray(e)){let a=e.length-1;for(;o<=r&&o<=a;){let l=n.at(o),u=e[o],f=Wo(o,l,o,u,t);if(f!==0){f<0&&n.updateValue(o,u),o++;continue}let d=n.at(r),h=e[a],p=Wo(r,d,a,h,t);if(p!==0){p<0&&n.updateValue(r,h),r--,a--;continue}let m=t(o,l),v=t(r,d),g=t(o,u);if(Object.is(g,v)){let C=t(a,h);Object.is(C,m)?(n.swap(o,r),n.updateValue(r,h),a--,r--):n.move(r,o),n.updateValue(o,u),o++;continue}if(i??=new Si,s??=O9(n,o,r,t),$r(n,i,o,g))n.updateValue(o,u),o++,r++;else if(s.has(g))i.set(m,n.detach(o)),r--;else{let C=n.create(o,e[o]);n.attach(o,C),o++,r++}}for(;o<=a;)k9(n,i,t,o,e[o]),o++}else if(e!=null){let a=e[Symbol.iterator](),l=a.next();for(;!l.done&&o<=r;){let u=n.at(o),f=l.value,d=Wo(o,u,o,f,t);if(d!==0)d<0&&n.updateValue(o,f),o++,l=a.next();else{i??=new Si,s??=O9(n,o,r,t);let h=t(o,f);if($r(n,i,o,h))n.updateValue(o,f),o++,r++,l=a.next();else if(!s.has(h))n.attach(o,n.create(o,f)),o++,r++,l=a.next();else{let p=t(o,u);i.set(p,n.detach(o)),r--}}}for(;!l.done;)k9(n,i,t,n.length,l.value),l=a.next()}for(;o<=r;)n.destroy(n.detach(r--));i?.forEach(a=>{n.destroy(a)})}function $r(n,e,t,i){return e!==void 0&&e.has(i)?(n.attach(t,e.get(i)),e.delete(i),!0):!1}function k9(n,e,t,i,s){if($r(n,e,i,t(i,s)))n.updateValue(i,s);else{let o=n.create(i,s);n.attach(i,o)}}function O9(n,e,t,i){let s=new Set;for(let o=e;o<=t;o++)s.add(i(o,n.at(o)));return s}var Si=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let i=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let s=this._vMap;for(;s.has(i);)i=s.get(i);s.set(i,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,i]of this.kvMap)if(e(i,t),this._vMap!==void 0){let s=this._vMap;for(;s.has(i);)i=s.get(i),e(i,t)}}};function X_(n,e){X3("NgControlFlow");let t=o1(),i=J3(),s=t[i]!==Qe?t[i]:-1,o=s!==-1?Ai(t,ge+s):void 0,r=0;if(d2(t,i,n)){let c=c1(null);try{if(o!==void 0&&od(o,r),n!==-1){let a=ge+n,l=Ai(t,a),u=Zr(t[W],a),f=q3(l,u.tView.ssrId),d=s4(t,u,e,{dehydratedView:f});o4(l,d,r,$3(u,f))}}finally{c1(c)}}else if(o!==void 0){let c=sd(o,r);c!==void 0&&(c[ee]=e)}}var Gr=class{lContainer;$implicit;$index;constructor(e,t,i){this.lContainer=e,this.$implicit=t,this.$index=i}get $count(){return this.lContainer.length-te}};var Wr=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,i){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=i}};function eL(n,e,t,i,s,o,r,c,a,l,u,f,d){X3("NgControlFlow");let h=o1(),p=se(),m=a!==void 0,v=o1(),g=c?r.bind(v[ze][ee]):r,C=new Wr(m,g);v[ge+n]=C,zi(h,p,n+1,e,t,i,s,B3(p.consts,o)),m&&zi(h,p,n+2,a,l,u,f,B3(p.consts,d))}var qr=class extends Ur{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,i){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=i}get length(){return this.lContainer.length-te}at(e){return this.getLView(e)[ee].$implicit}attach(e,t){let i=t[F3];this.needsIndexUpdate||=e!==this.length,o4(this.lContainer,t,e,$3(this.templateTNode,i))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,nL(this.lContainer,e)}create(e,t){let i=q3(this.lContainer,this.templateTNode.tView.ssrId),s=s4(this.hostLView,this.templateTNode,new Gr(this.lContainer,t,e),{dehydratedView:i});return this.operationsCounter?.recordCreate(),s}destroy(e){Gi(e[W],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[ee].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[ee].$index=e}getLView(e){return iL(this.lContainer,e)}};function tL(n){let e=c1(null),t=dt();try{let i=o1(),s=i[W],o=i[t],r=t+1,c=Ai(i,r);if(o.liveCollection===void 0){let l=Zr(s,r);o.liveCollection=new qr(c,i,l)}else o.liveCollection.reset();let a=o.liveCollection;if(Q_(a,n,o.trackByFn),a.updateIndexes(),o.hasEmptyBlock){let l=J3(),u=a.length===0;if(d2(i,l,u)){let f=t+2,d=Ai(i,f);if(u){let h=Zr(s,f),p=q3(d,h.tView.ssrId),m=s4(i,h,void 0,{dehydratedView:p});o4(d,m,0,$3(h,p))}else od(d,0)}}}finally{c1(e)}}function Ai(n,e){return n[e]}function nL(n,e){return Wn(n,e)}function iL(n,e){return sd(n,e)}function Zr(n,e){return ac(n,e)}function sL(n,e,t,i,s,o){let r=e.consts,c=B3(r,s),a=i4(e,n,2,i,c);return Yf(e,t,a,B3(r,o)),a.attrs!==null&&Nr(a,a.attrs,!1),a.mergedAttrs!==null&&Nr(a,a.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,a),a}function A1(n,e,t,i){let s=o1(),o=se(),r=ge+n,c=s[H1],a=o.firstCreatePass?sL(r,o,s,e,t,i):o.data[r],l=oL(o,s,a,c,e,n);s[r]=l;let u=cc(a);return Xn(a,!0),Pf(c,l,a),!x_(a)&&mc()&&Nc(o,s,l,a),VC()===0&&jt(l,s),BC(),u&&(Gf(o,s,a),$f(o,a,s)),i!==null&&Wf(s,a),A1}function I1(){let n=Ce();wu()?zu():(n=n.parent,Xn(n,!1));let e=n;UC(e)&&$C(),jC();let t=se();return t.firstCreatePass&&(vc(t,n),hu(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&sb(e)&&jr(t,e,o1(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&ob(e)&&jr(t,e,o1(),e.stylesWithoutHost,!1),I1}function Q1(n,e,t,i){return A1(n,e,t,i),I1(),Q1}var oL=(n,e,t,i,s,o)=>(gc(!0),xf(i,s,eb()));function m2(){return o1()}function ns(n,e,t){let i=o1(),s=J3();if(d2(i,s,e)){let o=se(),r=pc();Zf(o,r,i,n,e,i[H1],t,!0)}return ns}var Ei="en-US";var rL=Ei;function cL(n){typeof n=="string"&&(rL=n.toLowerCase().replace(/_/g,"-"))}var aL=(n,e,t)=>{};function be(n,e,t,i){let s=o1(),o=se(),r=Ce();return uL(o,s,s[H1],r,n,e,i),be}function lL(n,e,t,i){let s=n.cleanup;if(s!=null)for(let o=0;o<s.length-1;o+=2){let r=s[o];if(r===t&&s[o+1]===i){let c=e[ai],a=s[o+2];return c.length>a?c[a]:null}typeof r=="string"&&(o+=2)}return null}function uL(n,e,t,i,s,o,r){let c=cc(i),l=n.firstCreatePass&&nd(n),u=e[ee],f=td(e),d=!0;if(i.type&3||r){let m=Ve(i,e),v=r?r(m):m,g=f.length,C=r?b=>r(u2(b[i.index])):i.index,M=null;if(!r&&c&&(M=lL(n,e,s,i.index)),M!==null){let b=M.__ngLastListenerFn__||M;b.__ngNextListenerFn__=o,M.__ngLastListenerFn__=o,d=!1}else{o=R9(i,e,u,o),aL(m,s,o);let b=t.listen(v,s,o);f.push(o,b),l&&l.push(s,C,g,g+1)}}else o=R9(i,e,u,o);let h=i.outputs,p;if(d&&h!==null&&(p=h[s])){let m=p.length;if(m)for(let v=0;v<m;v+=2){let g=p[v],C=p[v+1],_=e[g][C].subscribe(o),L=f.length;f.push(o,_),l&&l.push(s,i.index,L,-(L+1))}}}function P9(n,e,t,i){let s=c1(null);try{return a2(6,e,t),t(i)!==!1}catch(o){return id(n,o),!1}finally{a2(7,e,t),c1(s)}}function R9(n,e,t,i){return function s(o){if(o===Function)return i;let r=n.componentOffset>-1?ft(n.index,e):e;Rc(r,5);let c=P9(e,t,i,o),a=s.__ngNextListenerFn__;for(;a;)c=P9(e,t,a,o)&&c,a=a.__ngNextListenerFn__;return c}}function Xe(n=1){return XC(n)}function fL(n,e){let t=null,i=TM(n);for(let s=0;s<e.length;s++){let o=e[s];if(o==="*"){t=s;continue}if(i===null?Ff(n,o,!0):OM(i,o))return s}return t}function tn(n){let e=o1()[ze][ve];if(!e.projection){let t=n?n.length:1,i=e.projection=hC(t,null),s=i.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let r=n?fL(o,n):0;r!==null&&(s[r]?s[r].projectionNext=o:i[r]=o,s[r]=o)}o=o.next}}}function nn(n,e=0,t,i,s,o){let r=o1(),c=se(),a=i?n+1:null;a!==null&&zi(r,c,a,i,s,o,null,t);let l=i4(c,ge+n,16,null,t||null);l.projection===null&&(l.projection=e),zu();let f=!r[F3]||_u();r[ze][ve].projection[l.projection]===null&&a!==null?dL(r,c,a):f&&(l.flags&32)!==32&&LM(c,r,l)}function dL(n,e,t){let i=ge+t,s=e.data[i],o=n[i],r=q3(o,s.tView.ssrId),c=s4(n,s,void 0,{dehydratedView:r});o4(o,c,0,$3(s,r))}function Uc(n,e,t,i){f_(n,e,t,i)}function is(n,e,t){u_(n,e,t)}function sn(n){let e=o1(),t=se(),i=Eu();fc(i+1);let s=Bc(t,i);if(n.dirty&&PC(e)===((s.metadata.flags&2)===2)){if(s.matches===null)n.reset([]);else{let o=p_(e,i);n.reset(o,Eb),n.notifyOnChanges()}return!0}return!1}function on(){return l_(o1(),Eu())}function qt(n){let e=WC();return OC(e,ge+n)}function e2(n,e=""){let t=o1(),i=se(),s=n+ge,o=i.firstCreatePass?i4(i,s,1,e,null):i.data[s],r=hL(i,t,o,e,n);t[s]=r,mc()&&Nc(i,t,r,o),Xn(o,!1)}var hL=(n,e,t,i,s)=>(gc(!0),uM(e[H1],i));function ss(n){return vt("",n,""),ss}function vt(n,e,t){let i=o1(),s=D_(i,n,e,t);return s!==Qe&&uy(i,dt(),s),vt}function Ct(n,e,t){let i=Su()+n,s=o1();return s[i]===Qe?wd(s,i,t?e.call(t):e()):w_(s,i)}function pL(n,e,t,i,s){return gL(o1(),Su(),n,e,t,i,s)}function mL(n,e){let t=n[e];return t===Qe?void 0:t}function gL(n,e,t,i,s,o,r){let c=e+t;return z_(n,c,s,o)?wd(n,c+2,r?i.call(r,s,o):i(s,o)):mL(n,c+2)}function Zt(n,e){return Yi(n,e)}var K0=null;function vL(n){K0!==null&&(n.defaultEncapsulation!==K0.defaultEncapsulation||n.preserveWhitespaces!==K0.preserveWhitespaces)||(K0=n)}var Yr=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},os=(()=>{class n{compileModuleSync(t){return new _i(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let i=this.compileModuleSync(t),s=iu(t),o=zf(s.declarations).reduce((r,c)=>{let a=x2(c);return a&&r.push(new $t(a)),r},[]);return new Yr(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(i){return new(i||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),CL=new B("");function bL(n,e,t){let i=new _i(t);return Promise.resolve(i)}function F9(n){for(let e=n.length-1;e>=0;e--)if(n[e]!==void 0)return n[e]}var ML=(()=>{class n{zone=E(m1);changeDetectionScheduler=E(U3);applicationRef=E(p2);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function yL({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new m1(t1(N({},Nd()),{scheduleInRootZone:t})),[{provide:m1,useFactory:n},{provide:R3,multi:!0,useFactory:()=>{let i=E(ML,{optional:!0});return()=>i.initialize()}},{provide:R3,multi:!0,useFactory:()=>{let i=E(_L);return()=>{i.initialize()}}},e===!0?{provide:Ju,useValue:!0}:[],{provide:Ku,useValue:t??Yu}]}function Nd(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var _L=(()=>{class n{subscription=new T1;initialized=!1;zone=E(m1);pendingTasks=E(K3);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{m1.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{m1.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var LL=(()=>{class n{appRef=E(p2);taskService=E(K3);ngZone=E(m1);zonelessEnabled=E(Mc);disableScheduling=E(Ju,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new T1;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(mi):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(E(Ku,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof gi||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let i=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 8:{this.appRef.deferredDirtyFlags|=8;break}case 6:{this.appRef.dirtyFlags|=2,i=!0;break}case 13:{this.appRef.dirtyFlags|=16,i=!0;break}case 14:{this.appRef.dirtyFlags|=2,i=!0;break}case 12:{i=!0;break}case 10:case 9:case 7:case 11:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick(i))return;let s=this.useMicrotaskScheduler?f9:Qu;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>s(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>s(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(mi+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(t),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,f9(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function wL(){return typeof $localize<"u"&&$localize.locale||Ei}var rs=new B("",{providedIn:"root",factory:()=>E(rs,Q.Optional|Q.SkipSelf)||wL()});var Di=new B("");function Q0(n){return!n.moduleRef}function zL(n){let e=Q0(n)?n.r3Injector:n.moduleRef.injector,t=e.get(m1);return t.run(()=>{Q0(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let i=e.get(E2,null),s;if(t.runOutsideAngular(()=>{s=t.onError.subscribe({next:o=>{i.handleError(o)}})}),Q0(n)){let o=()=>e.destroy(),r=n.platformInjector.get(Di);r.add(o),e.onDestroy(()=>{s.unsubscribe(),r.delete(o)})}else{let o=()=>n.moduleRef.destroy(),r=n.platformInjector.get(Di);r.add(o),n.moduleRef.onDestroy(()=>{ii(n.allPlatformModules,n.moduleRef),s.unsubscribe(),r.delete(o)})}return Yy(i,t,()=>{let o=e.get(gd);return o.runInitializers(),o.donePromise.then(()=>{let r=e.get(rs,Ei);if(cL(r||Ei),Q0(n)){let c=e.get(p2);return n.rootComponent!==void 0&&c.bootstrap(n.rootComponent),c}else return xL(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function xL(n,e){let t=n.injector.get(p2);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>t.bootstrap(i));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new O(-403,!1);e.push(n)}var Td=(()=>{class n{_injector;_modules=[];_destroyListeners=[];_destroyed=!1;constructor(t){this._injector=t}bootstrapModuleFactory(t,i){let s=i?.scheduleInRootZone,o=()=>zb(i?.ngZone,t1(N({},Nd({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing})),{scheduleInRootZone:s})),r=i?.ignoreChangesOutsideZone,c=[yL({ngZoneFactory:o,ignoreChangesOutsideZone:r}),{provide:U3,useExisting:LL}],a=Hy(t.moduleType,this.injector,c);return zL({moduleRef:a,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(t,i=[]){let s=vd({},i);return bL(this.injector,s,t).then(o=>this.bootstrapModuleFactory(o,s))}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new O(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let t=this._injector.get(Di,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static \u0275fac=function(i){return new(i||n)(H(Z1))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),Vn=null,Id=new B("");function SL(n){if(Vn&&!Vn.get(Id,!1))throw new O(400,!1);Wy(),Vn=n;let e=n.get(Td);return DL(n),e}function $c(n,e,t=[]){let i=`Platform: ${e}`,s=new B(i);return(o=[])=>{let r=kd();if(!r||r.injector.get(Id,!1)){let c=[...t,...o,{provide:s,useValue:!0}];n?n(c):SL(AL(c,i))}return EL(s)}}function AL(n=[],e){return Z1.create({name:e,providers:[{provide:Oi,useValue:"platform"},{provide:Di,useValue:new Set([()=>Vn=null])},...n]})}function EL(n){let e=kd();if(!e)throw new O(401,!1);return e}function kd(){return Vn?.get(Td)??null}function DL(n){let e=n.get(wc,null);Fe(n,()=>{e?.forEach(t=>t())})}var bt=(()=>{class n{static __NG_ELEMENT_ID__=NL}return n})();function NL(n){return TL(Ce(),o1(),(n&16)===16)}function TL(n,e,t){if(Fi(n)&&!t){let i=ft(n.index,e);return new Ut(i,i)}else if(n.type&175){let i=e[ze];return new Ut(i,e)}return null}var Jr=class{constructor(){}supports(e){return Ld(e)}create(e){return new Kr(e)}},IL=(n,e)=>e,Kr=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||IL}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,s=0,o=null;for(;t||i;){let r=!i||t&&t.currentIndex<H9(i,s,o)?t:i,c=H9(r,s,o),a=r.currentIndex;if(r===i)s--,i=i._nextRemoved;else if(t=t._next,r.previousIndex==null)s++;else{o||(o=[]);let l=c-s,u=a-s;if(l!=u){for(let d=0;d<l;d++){let h=d<o.length?o[d]:o[d]=0,p=h+d;u<=p&&p<l&&(o[d]=h+1)}let f=r.previousIndex;o[f]=u-l}}c!==a&&e(r,c,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!Ld(e))throw new O(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,i=!1,s,o,r;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)o=e[c],r=this._trackByFn(c,o),t===null||!Object.is(t.trackById,r)?(t=this._mismatch(t,o,r,c),i=!0):(i&&(t=this._verifyReinsertion(t,o,r,c)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else s=0,__(e,c=>{r=this._trackByFn(s,c),t===null||!Object.is(t.trackById,r)?(t=this._mismatch(t,c,r,s),i=!0):(i&&(t=this._verifyReinsertion(t,c,r,s)),Object.is(t.item,c)||this._addIdentityChange(t,c)),t=t._next,s++}),this.length=s;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,s){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,s)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,s),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,s)):e=this._addAfter(new Qr(t,i),o,s)),e}_verifyReinsertion(e,t,i,s){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?e=this._reinsertAfter(o,e._prev,s):e.currentIndex!=s&&(e.currentIndex=s,this._addToMoves(e,s)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let s=e._prevRemoved,o=e._nextRemoved;return s===null?this._removalsHead=o:s._nextRemoved=o,o===null?this._removalsTail=s:o._prevRemoved=s,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){let s=t===null?this._itHead:t._next;return e._next=s,e._prev=t,s===null?this._itTail=e:s._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Ni),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,i=e._next;return t===null?this._itHead=i:t._next=i,i===null?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ni),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Qr=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},Xr=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;i!==null;i=i._nextDup)if((t===null||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let t=e._prevDup,i=e._nextDup;return t===null?this._head=i:t._nextDup=i,i===null?this._tail=t:i._prevDup=t,this._head===null}},Ni=class{map=new Map;put(e){let t=e.trackById,i=this.map.get(t);i||(i=new Xr,this.map.set(t,i)),i.add(e)}get(e,t){let i=e,s=this.map.get(i);return s?s.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function H9(n,e,t){let i=n.previousIndex;if(i===null)return i;let s=0;return t&&i<t.length&&(s=t[i]),i+e+s}function V9(){return new Gc([new Jr])}var Gc=(()=>{class n{factories;static \u0275prov=I({token:n,providedIn:"root",factory:V9});constructor(t){this.factories=t}static create(t,i){if(i!=null){let s=i.factories.slice();t=t.concat(s)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||V9()),deps:[[n,new ic,new ki]]}}find(t){let i=this.factories.find(s=>s.supports(t));if(i!=null)return i;throw new O(901,!1)}}return n})();var Od=$c(null,"core",[]),Pd=(()=>{class n{constructor(t){}static \u0275fac=function(i){return new(i||n)(H(p2))};static \u0275mod=p1({type:n});static \u0275inj=h1({})}return n})();function l4(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}var B9=class{[r2];constructor(e){this[r2]=e}destroy(){this[r2].destroy()}};function cs(n,e){let t=x2(n),i=e.elementInjector||Pi();return new $t(t).create(i,e.projectableNodes,e.hostElement,e.environmentInjector)}function Rd(n){let e=x2(n);if(!e)return null;let t=new $t(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Ud=null;function Yt(){return Ud}function $d(n){Ud??=n}var as=class{};var P1=new B(""),Jc=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=I({token:n,factory:()=>E(OL),providedIn:"platform"})}return n})(),Gd=new B(""),OL=(()=>{class n extends Jc{_location;_history;_doc=E(P1);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Yt().getBaseHref(this._doc)}onPopState(t){let i=Yt().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){let i=Yt().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,s){this._history.pushState(t,i,s)}replaceState(t,i,s){this._history.replaceState(t,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||n)};static \u0275prov=I({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Kc(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function Fd(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,i=t-(n[t-1]==="/"?1:0);return n.slice(0,i)+n.slice(t)}function P2(n){return n&&n[0]!=="?"?"?"+n:n}var R2=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=I({token:n,factory:()=>E(Qc),providedIn:"root"})}return n})(),Wd=new B(""),Qc=(()=>{class n extends R2{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,i){super(),this._platformLocation=t,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??E(P1).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Kc(this._baseHref,t)}path(t=!1){let i=this._platformLocation.pathname+P2(this._platformLocation.search),s=this._platformLocation.hash;return s&&t?`${i}${s}`:i}pushState(t,i,s,o){let r=this.prepareExternalUrl(s+P2(o));this._platformLocation.pushState(t,i,r)}replaceState(t,i,s,o){let r=this.prepareExternalUrl(s+P2(o));this._platformLocation.replaceState(t,i,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(i){return new(i||n)(H(Jc),H(Wd,8))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),qd=(()=>{class n extends R2{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,i){super(),this._platformLocation=t,i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(t){let i=Kc(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,s,o){let r=this.prepareExternalUrl(s+P2(o));r.length==0&&(r=this._platformLocation.pathname),this._platformLocation.pushState(t,i,r)}replaceState(t,i,s,o){let r=this.prepareExternalUrl(s+P2(o));r.length==0&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(i){return new(i||n)(H(Jc),H(Wd,8))};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})(),rn=(()=>{class n{_subject=new g1;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let i=this._locationStrategy.getBaseHref();this._basePath=FL(Fd(Hd(i))),this._locationStrategy.onPopState(s=>{this._subject.next({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+P2(i))}normalize(t){return n.stripTrailingSlash(RL(this._basePath,Hd(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",s=null){this._locationStrategy.pushState(s,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+P2(i)),s)}replaceState(t,i="",s=null){this._locationStrategy.replaceState(s,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+P2(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(s=>s(t,i))}subscribe(t,i,s){return this._subject.subscribe({next:t,error:i??void 0,complete:s??void 0})}static normalizeQueryParams=P2;static joinWithSlash=Kc;static stripTrailingSlash=Fd;static \u0275fac=function(i){return new(i||n)(H(R2))};static \u0275prov=I({token:n,factory:()=>PL(),providedIn:"root"})}return n})();function PL(){return new rn(H(R2))}function RL(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function Hd(n){return n.replace(/\/index.html$/,"")}function FL(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function Zd(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let i=t.indexOf("="),[s,o]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(s.trim()===e)return decodeURIComponent(o)}return null}var Wc=/\s+/,Vd=[],aV=(()=>{class n{_ngEl;_renderer;initialClasses=Vd;rawClass;stateMap=new Map;constructor(t,i){this._ngEl=t,this._renderer=i}set klass(t){this.initialClasses=t!=null?t.trim().split(Wc):Vd}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Wc):t}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let i of t)this._updateState(i,!0);else if(t!=null)for(let i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){let s=this.stateMap.get(t);s!==void 0?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let i=t[0],s=t[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(t,i){t=t.trim(),t.length>0&&t.split(Wc).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}static \u0275fac=function(i){return new(i||n)(r1(K1),r1(pt))};static \u0275dir=h2({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var qc=class{$implicit;ngForOf;index;count;constructor(e,t,i,s){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=s}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},lV=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,i,s){this._viewContainer=t,this._template=i,this._differs=s}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let i=this._viewContainer;t.forEachOperation((s,o,r)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new qc(s.item,this._ngForOf,-1,-1),r===null?void 0:r);else if(r==null)i.remove(o===null?void 0:o);else if(o!==null){let c=i.get(o);i.move(c,r),Bd(c,s)}});for(let s=0,o=i.length;s<o;s++){let c=i.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}t.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);Bd(o,s)})}static ngTemplateContextGuard(t,i){return!0}static \u0275fac=function(i){return new(i||n)(r1(mt),r1(lt),r1(Gc))};static \u0275dir=h2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function Bd(n,e){n.context.$implicit=e.item}var us=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=p1({type:n});static \u0275inj=h1({})}return n})(),Xc="browser",HL="server";function Yd(n){return n===Xc}function ea(n){return n===HL}var Jd=(()=>{class n{static \u0275prov=I({token:n,providedIn:"root",factory:()=>Yd(E(ht))?new Zc(E(P1),window):new Yc})}return n})(),Zc=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=VL(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,s=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],s-o[1])}};function VL(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),s=i.currentNode;for(;s;){let o=s.shadowRoot;if(o){let r=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(r)return r}s=i.nextNode()}}return null}var Yc=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},ls=class{};var na=class extends as{supportsDOMEvents=!0},ia=class n extends na{static makeCurrent(){$d(new n)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=UL();return t==null?null:$L(t)}resetBaseElement(){u4=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Zd(document.cookie,e)}},u4=null;function UL(){return u4=u4||document.querySelector("base"),u4?u4.getAttribute("href"):null}function $L(n){return new URL(n,document.baseURI).pathname}var sa=class{addToWindow(e){we.getAngularTestability=(i,s=!0)=>{let o=e.findTestabilityInTree(i,s);if(o==null)throw new O(5103,!1);return o},we.getAllAngularTestabilities=()=>e.getAllTestabilities(),we.getAllAngularRootElements=()=>e.getAllRootElements();let t=i=>{let s=we.getAllAngularTestabilities(),o=s.length,r=function(){o--,o==0&&i()};s.forEach(c=>{c.whenStable(r)})};we.frameworkStabilizers||(we.frameworkStabilizers=[]),we.frameworkStabilizers.push(t)}findTestabilityInTree(e,t,i){if(t==null)return null;let s=e.getTestability(t);return s??(i?Yt().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},GL=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||n)};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})(),oa=new B(""),nh=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,i){this._zone=i,t.forEach(s=>{s.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,s){return this._findPluginFor(i).addEventListener(t,i,s)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new O(5101,!1);return this._eventNameToPlugin.set(t,i),i}static \u0275fac=function(i){return new(i||n)(H(oa),H(m1))};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})(),fs=class{_doc;constructor(e){this._doc=e}manager},ra="ng-app-id";function Kd(n){for(let e of n)e.remove()}function Qd(n,e){let t=e.createElement("style");return t.textContent=n,t}function WL(n,e,t){let i=n.head?.querySelectorAll(`style[${ra}="${e}"]`);if(i)for(let s of i)s.textContent&&(s.removeAttribute(ra),t.set(s.textContent,{usage:0,elements:[s]}))}function ca(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var ih=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,i,s,o={}){this.doc=t,this.appId=i,this.nonce=s,this.isServer=ea(o),WL(t,i,this.inline),this.hosts.add(t.head)}addStyles(t,i){for(let s of t)this.addUsage(s,this.inline,Qd);i?.forEach(s=>this.addUsage(s,this.external,ca))}removeStyles(t,i){for(let s of t)this.removeUsage(s,this.inline);i?.forEach(s=>this.removeUsage(s,this.external))}addUsage(t,i,s){let o=i.get(t);o?o.usage++:i.set(t,{usage:1,elements:[...this.hosts].map(r=>this.addElement(r,s(t,this.doc)))})}removeUsage(t,i){let s=i.get(t);s&&(s.usage--,s.usage<=0&&(Kd(s.elements),i.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])Kd(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[i,{elements:s}]of this.inline)s.push(this.addElement(t,Qd(i,this.doc)));for(let[i,{elements:s}]of this.external)s.push(this.addElement(t,ca(i,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,i){return this.nonce&&i.setAttribute("nonce",this.nonce),this.isServer&&i.setAttribute(ra,this.appId),t.appendChild(i)}static \u0275fac=function(i){return new(i||n)(H(P1),H(Lc),H(zc,8),H(ht))};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})(),ta={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},la=/%COMP%/g,sh="%COMP%",qL=`_nghost-${sh}`,ZL=`_ngcontent-${sh}`,YL=!0,JL=new B("",{providedIn:"root",factory:()=>YL});function KL(n){return ZL.replace(la,n)}function QL(n){return qL.replace(la,n)}function oh(n,e){return e.map(t=>t.replace(la,n))}var Xd=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,i,s,o,r,c,a,l=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=r,this.platformId=c,this.ngZone=a,this.nonce=l,this.platformIsServer=ea(c),this.defaultRenderer=new f4(t,r,a,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===f2.ShadowDom&&(i=t1(N({},i),{encapsulation:f2.Emulated}));let s=this.getOrCreateRenderer(t,i);return s instanceof ds?s.applyToHost(t):s instanceof d4&&s.applyStyles(),s}getOrCreateRenderer(t,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let r=this.doc,c=this.ngZone,a=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case f2.Emulated:o=new ds(a,l,i,this.appId,u,r,c,f);break;case f2.ShadowDom:return new aa(a,l,t,i,r,c,this.nonce,f);default:o=new d4(a,l,i,u,r,c,f);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static \u0275fac=function(i){return new(i||n)(H(nh),H(ih),H(Lc),H(JL),H(P1),H(ht),H(m1),H(zc))};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})(),f4=class{eventManager;doc;ngZone;platformIsServer;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,i,s){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=s}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(ta[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(eh(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(eh(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){t.remove()}selectRootElement(e,t){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new O(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,s){if(s){t=s+":"+t;let o=ta[s];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let s=ta[i];s?e.removeAttributeNS(s,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,s){s&(N2.DashCase|N2.Important)?e.style.setProperty(t,i,s&N2.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&N2.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e!=null&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if(typeof e=="string"&&(e=Yt().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function eh(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var aa=class extends f4{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,i,s,o,r,c,a){super(e,o,r,a),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=oh(s.id,s.styles);for(let f of l){let d=document.createElement("style");c&&d.setAttribute("nonce",c),d.textContent=f,this.shadowRoot.appendChild(d)}let u=s.getExternalStyles?.();if(u)for(let f of u){let d=ca(f,o);c&&d.setAttribute("nonce",c),this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},d4=class extends f4{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,i,s,o,r,c,a){super(e,o,r,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=s,this.styles=a?oh(a,i.styles):i.styles,this.styleUrls=i.getExternalStyles?.(a)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},ds=class extends d4{contentAttr;hostAttr;constructor(e,t,i,s,o,r,c,a){let l=s+"-"+i.id;super(e,t,i,o,r,c,a,l),this.contentAttr=KL(l),this.hostAttr=QL(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}},XL=(()=>{class n extends fs{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,s){return t.addEventListener(i,s,!1),()=>this.removeEventListener(t,i,s)}removeEventListener(t,i,s){return t.removeEventListener(i,s)}static \u0275fac=function(i){return new(i||n)(H(P1))};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})(),th=["alt","control","meta","shift"],ew={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},tw={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},nw=(()=>{class n extends fs{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,i,s){let o=n.parseEventName(i),r=n.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Yt().onAndCancel(t,o.domEventName,r))}static parseEventName(t){let i=t.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=n._normalizeKey(i.pop()),r="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),r="code."),th.forEach(l=>{let u=i.indexOf(l);u>-1&&(i.splice(u,1),r+=l+".")}),r+=o,i.length!=0||o.length===0)return null;let a={};return a.domEventName=s,a.fullKey=r,a}static matchEventFullKeyCode(t,i){let s=ew[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(s=t.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),th.forEach(r=>{if(r!==s){let c=tw[r];c(t)&&(o+=r+".")}}),o+=s,o===i)}static eventCallback(t,i,s){return o=>{n.matchEventFullKeyCode(o,t)&&s.runGuarded(()=>i(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(i){return new(i||n)(H(P1))};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})();function iw(){ia.makeCurrent()}function sw(){return new E2}function ow(){return af(document),document}var rw=[{provide:ht,useValue:Xc},{provide:wc,useValue:iw,multi:!0},{provide:P1,useFactory:ow,deps:[]}],wV=$c(Od,"browser",rw),cw=new B(""),aw=[{provide:r4,useClass:sa,deps:[]},{provide:Fc,useClass:Qi,deps:[m1,Xi,r4]},{provide:Qi,useClass:Qi,deps:[m1,Xi,r4]}],lw=[{provide:Oi,useValue:"root"},{provide:E2,useFactory:sw,deps:[]},{provide:oa,useClass:XL,multi:!0,deps:[P1,m1,ht]},{provide:oa,useClass:nw,multi:!0,deps:[P1]},Xd,ih,nh,{provide:W3,useExisting:Xd},{provide:ls,useClass:GL,deps:[]},[]],zV=(()=>{class n{constructor(t){}static \u0275fac=function(i){return new(i||n)(H(cw,12))};static \u0275mod=p1({type:n});static \u0275inj=h1({providers:[...lw,...aw],imports:[us,Pd]})}return n})();var rh=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(i){return new(i||n)(H(P1))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ua=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=I({token:n,factory:function(i){let s=null;return i?s=new(i||n):s=H(uw),s},providedIn:"root"})}return n})(),uw=(()=>{class n extends ua{_doc;constructor(t){super(),this._doc=t}sanitize(t,i){if(i==null)return null;switch(t){case Ke.NONE:return i;case Ke.HTML:return k2(i,"HTML")?Be(i):Sc(this._doc,String(i)).toString();case Ke.STYLE:return k2(i,"Style")?Be(i):i;case Ke.SCRIPT:if(k2(i,"Script"))return Be(i);throw new O(5200,!1);case Ke.URL:return k2(i,"URL")?Be(i):$i(String(i));case Ke.RESOURCE_URL:if(k2(i,"ResourceURL"))return Be(i);throw new O(5201,!1);default:throw new O(5202,!1)}}bypassSecurityTrustHtml(t){return hf(t)}bypassSecurityTrustStyle(t){return pf(t)}bypassSecurityTrustScript(t){return mf(t)}bypassSecurityTrustUrl(t){return gf(t)}bypassSecurityTrustResourceUrl(t){return vf(t)}static \u0275fac=function(i){return new(i||n)(H(P1))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function fw(n,e,t){return(e=hw(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ah(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function D(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ah(Object(t),!0).forEach(function(i){fw(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ah(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function dw(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function hw(n){var e=dw(n,"string");return typeof e=="symbol"?e:e+""}var lh=()=>{},Ia={},Oh={},Ph=null,Rh={mark:lh,measure:lh};try{typeof window<"u"&&(Ia=window),typeof document<"u"&&(Oh=document),typeof MutationObserver<"u"&&(Ph=MutationObserver),typeof performance<"u"&&(Rh=performance)}catch{}var{userAgent:uh=""}=Ia.navigator||{},yt=Ia,w1=Oh,fh=Ph,hs=Rh,SV=!!yt.document,V2=!!w1.documentElement&&!!w1.head&&typeof w1.addEventListener=="function"&&typeof w1.createElement=="function",Fh=~uh.indexOf("MSIE")||~uh.indexOf("Trident/"),pw=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,mw=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,Hh={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},gw={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Vh=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],ce="classic",bs="duotone",vw="sharp",Cw="sharp-duotone",Bh=[ce,bs,vw,Cw],bw={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},Mw={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},yw=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),_w={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},Lw=["fak","fa-kit","fakd","fa-kit-duotone"],dh={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},ww=["kit"],zw={kit:{"fa-kit":"fak"},"kit-duotone":{"fa-kit-duotone":"fakd"}},xw=["fak","fakd"],Sw={kit:{fak:"fa-kit"},"kit-duotone":{fakd:"fa-kit-duotone"}},hh={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},ps={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Aw=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],Ew=["fak","fa-kit","fakd","fa-kit-duotone"],Dw={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},Nw={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},Tw={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},ga={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},Iw=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],va=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...Aw,...Iw],kw=["solid","regular","light","thin","duotone","brands"],jh=[1,2,3,4,5,6,7,8,9,10],Ow=jh.concat([11,12,13,14,15,16,17,18,19,20]),Pw=[...Object.keys(Tw),...kw,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",ps.GROUP,ps.SWAP_OPACITY,ps.PRIMARY,ps.SECONDARY].concat(jh.map(n=>"".concat(n,"x"))).concat(Ow.map(n=>"w-".concat(n))),Rw={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},F2="___FONT_AWESOME___",Ca=16,Uh="fa",$h="svg-inline--fa",Kt="data-fa-i2svg",ba="data-fa-pseudo-element",Fw="data-fa-pseudo-element-pending",ka="data-prefix",Oa="data-icon",ph="fontawesome-i2svg",Hw="async",Vw=["HTML","HEAD","STYLE","SCRIPT"],Gh=(()=>{try{return!0}catch{return!1}})();function C4(n){return new Proxy(n,{get(e,t){return t in e?e[t]:e[ce]}})}var Wh=D({},Hh);Wh[ce]=D(D(D(D({},{"fa-duotone":"duotone"}),Hh[ce]),dh.kit),dh["kit-duotone"]);var Bw=C4(Wh),Ma=D({},_w);Ma[ce]=D(D(D(D({},{duotone:"fad"}),Ma[ce]),hh.kit),hh["kit-duotone"]);var mh=C4(Ma),ya=D({},ga);ya[ce]=D(D({},ya[ce]),Sw.kit);var Pa=C4(ya),_a=D({},Nw);_a[ce]=D(D({},_a[ce]),zw.kit);var AV=C4(_a),jw=pw,qh="fa-layers-text",Uw=mw,$w=D({},bw),EV=C4($w),Gw=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],fa=gw,Ww=[...ww,...Pw],p4=yt.FontAwesomeConfig||{};function qw(n){var e=w1.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}function Zw(n){return n===""?!0:n==="false"?!1:n==="true"?!0:n}w1&&typeof w1.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[t,i]=e,s=Zw(qw(t));s!=null&&(p4[i]=s)});var Zh={styleDefault:"solid",familyDefault:ce,cssPrefix:Uh,replacementClass:$h,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};p4.familyPrefix&&(p4.cssPrefix=p4.familyPrefix);var ln=D(D({},Zh),p4);ln.autoReplaceSvg||(ln.observeMutations=!1);var P={};Object.keys(Zh).forEach(n=>{Object.defineProperty(P,n,{enumerable:!0,set:function(e){ln[n]=e,m4.forEach(t=>t(P))},get:function(){return ln[n]}})});Object.defineProperty(P,"familyPrefix",{enumerable:!0,set:function(n){ln.cssPrefix=n,m4.forEach(e=>e(P))},get:function(){return ln.cssPrefix}});yt.FontAwesomeConfig=P;var m4=[];function Yw(n){return m4.push(n),()=>{m4.splice(m4.indexOf(n),1)}}var Mt=Ca,v2={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Jw(n){if(!n||!V2)return;let e=w1.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n;let t=w1.head.childNodes,i=null;for(let s=t.length-1;s>-1;s--){let o=t[s],r=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(r)>-1&&(i=o)}return w1.head.insertBefore(e,i),n}var Kw="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function g4(){let n=12,e="";for(;n-- >0;)e+=Kw[Math.random()*62|0];return e}function un(n){let e=[];for(let t=(n||[]).length>>>0;t--;)e[t]=n[t];return e}function Ra(n){return n.classList?un(n.classList):(n.getAttribute("class")||"").split(" ").filter(e=>e)}function Yh(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Qw(n){return Object.keys(n||{}).reduce((e,t)=>e+"".concat(t,'="').concat(Yh(n[t]),'" '),"").trim()}function Ms(n){return Object.keys(n||{}).reduce((e,t)=>e+"".concat(t,": ").concat(n[t].trim(),";"),"")}function Fa(n){return n.size!==v2.size||n.x!==v2.x||n.y!==v2.y||n.rotate!==v2.rotate||n.flipX||n.flipY}function Xw(n){let{transform:e,containerWidth:t,iconWidth:i}=n,s={transform:"translate(".concat(t/2," 256)")},o="translate(".concat(e.x*32,", ").concat(e.y*32,") "),r="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),c="rotate(".concat(e.rotate," 0 0)"),a={transform:"".concat(o," ").concat(r," ").concat(c)},l={transform:"translate(".concat(i/2*-1," -256)")};return{outer:s,inner:a,path:l}}function ez(n){let{transform:e,width:t=Ca,height:i=Ca,startCentered:s=!1}=n,o="";return s&&Fh?o+="translate(".concat(e.x/Mt-t/2,"em, ").concat(e.y/Mt-i/2,"em) "):s?o+="translate(calc(-50% + ".concat(e.x/Mt,"em), calc(-50% + ").concat(e.y/Mt,"em)) "):o+="translate(".concat(e.x/Mt,"em, ").concat(e.y/Mt,"em) "),o+="scale(".concat(e.size/Mt*(e.flipX?-1:1),", ").concat(e.size/Mt*(e.flipY?-1:1),") "),o+="rotate(".concat(e.rotate,"deg) "),o}var tz=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function Jh(){let n=Uh,e=$h,t=P.cssPrefix,i=P.replacementClass,s=tz;if(t!==n||i!==e){let o=new RegExp("\\.".concat(n,"\\-"),"g"),r=new RegExp("\\--".concat(n,"\\-"),"g"),c=new RegExp("\\.".concat(e),"g");s=s.replace(o,".".concat(t,"-")).replace(r,"--".concat(t,"-")).replace(c,".".concat(i))}return s}var gh=!1;function da(){P.autoAddCss&&!gh&&(Jw(Jh()),gh=!0)}var nz={mixout(){return{dom:{css:Jh,insertCss:da}}},hooks(){return{beforeDOMElementCreation(){da()},beforeI2svg(){da()}}}},H2=yt||{};H2[F2]||(H2[F2]={});H2[F2].styles||(H2[F2].styles={});H2[F2].hooks||(H2[F2].hooks={});H2[F2].shims||(H2[F2].shims=[]);var C2=H2[F2],Kh=[],Qh=function(){w1.removeEventListener("DOMContentLoaded",Qh),vs=1,Kh.map(n=>n())},vs=!1;V2&&(vs=(w1.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(w1.readyState),vs||w1.addEventListener("DOMContentLoaded",Qh));function iz(n){V2&&(vs?setTimeout(n,0):Kh.push(n))}function b4(n){let{tag:e,attributes:t={},children:i=[]}=n;return typeof n=="string"?Yh(n):"<".concat(e," ").concat(Qw(t),">").concat(i.map(b4).join(""),"</").concat(e,">")}function vh(n,e,t){if(n&&n[e]&&n[e][t])return{prefix:e,iconName:t,icon:n[e][t]}}var sz=function(e,t){return function(i,s,o,r){return e.call(t,i,s,o,r)}},ha=function(e,t,i,s){var o=Object.keys(e),r=o.length,c=s!==void 0?sz(t,s):t,a,l,u;for(i===void 0?(a=1,u=e[o[0]]):(a=0,u=i);a<r;a++)l=o[a],u=c(u,e[l],l,e);return u};function oz(n){let e=[],t=0,i=n.length;for(;t<i;){let s=n.charCodeAt(t++);if(s>=55296&&s<=56319&&t<i){let o=n.charCodeAt(t++);(o&64512)==56320?e.push(((s&1023)<<10)+(o&1023)+65536):(e.push(s),t--)}else e.push(s)}return e}function La(n){let e=oz(n);return e.length===1?e[0].toString(16):null}function rz(n,e){let t=n.length,i=n.charCodeAt(e),s;return i>=55296&&i<=56319&&t>e+1&&(s=n.charCodeAt(e+1),s>=56320&&s<=57343)?(i-55296)*1024+s-56320+65536:i}function Ch(n){return Object.keys(n).reduce((e,t)=>{let i=n[t];return!!i.icon?e[i.iconName]=i.icon:e[t]=i,e},{})}function wa(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{skipHooks:i=!1}=t,s=Ch(e);typeof C2.hooks.addPack=="function"&&!i?C2.hooks.addPack(n,Ch(e)):C2.styles[n]=D(D({},C2.styles[n]||{}),s),n==="fas"&&wa("fa",e)}var{styles:v4,shims:cz}=C2,Xh=Object.keys(Pa),az=Xh.reduce((n,e)=>(n[e]=Object.keys(Pa[e]),n),{}),Ha=null,ep={},tp={},np={},ip={},sp={};function lz(n){return~Ww.indexOf(n)}function uz(n,e){let t=e.split("-"),i=t[0],s=t.slice(1).join("-");return i===n&&s!==""&&!lz(s)?s:null}var op=()=>{let n=i=>ha(v4,(s,o,r)=>(s[r]=ha(o,i,{}),s),{});ep=n((i,s,o)=>(s[3]&&(i[s[3]]=o),s[2]&&s[2].filter(c=>typeof c=="number").forEach(c=>{i[c.toString(16)]=o}),i)),tp=n((i,s,o)=>(i[o]=o,s[2]&&s[2].filter(c=>typeof c=="string").forEach(c=>{i[c]=o}),i)),sp=n((i,s,o)=>{let r=s[2];return i[o]=o,r.forEach(c=>{i[c]=o}),i});let e="far"in v4||P.autoFetchSvg,t=ha(cz,(i,s)=>{let o=s[0],r=s[1],c=s[2];return r==="far"&&!e&&(r="fas"),typeof o=="string"&&(i.names[o]={prefix:r,iconName:c}),typeof o=="number"&&(i.unicodes[o.toString(16)]={prefix:r,iconName:c}),i},{names:{},unicodes:{}});np=t.names,ip=t.unicodes,Ha=ys(P.styleDefault,{family:P.familyDefault})};Yw(n=>{Ha=ys(n.styleDefault,{family:P.familyDefault})});op();function Va(n,e){return(ep[n]||{})[e]}function fz(n,e){return(tp[n]||{})[e]}function Jt(n,e){return(sp[n]||{})[e]}function rp(n){return np[n]||{prefix:null,iconName:null}}function dz(n){let e=ip[n],t=Va("fas",n);return e||(t?{prefix:"fas",iconName:t}:null)||{prefix:null,iconName:null}}function _t(){return Ha}var cp=()=>({prefix:null,iconName:null,rest:[]});function hz(n){let e=ce,t=Xh.reduce((i,s)=>(i[s]="".concat(P.cssPrefix,"-").concat(s),i),{});return Bh.forEach(i=>{(n.includes(t[i])||n.some(s=>az[i].includes(s)))&&(e=i)}),e}function ys(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{family:t=ce}=e,i=Bw[t][n];if(t===bs&&!n)return"fad";let s=mh[t][n]||mh[t][i],o=n in C2.styles?n:null;return s||o||null}function pz(n){let e=[],t=null;return n.forEach(i=>{let s=uz(P.cssPrefix,i);s?t=s:i&&e.push(i)}),{iconName:t,rest:e}}function bh(n){return n.sort().filter((e,t,i)=>i.indexOf(e)===t)}function _s(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{skipLookups:t=!1}=e,i=null,s=va.concat(Ew),o=bh(n.filter(f=>s.includes(f))),r=bh(n.filter(f=>!va.includes(f))),c=o.filter(f=>(i=f,!Vh.includes(f))),[a=null]=c,l=hz(o),u=D(D({},pz(r)),{},{prefix:ys(a,{family:l})});return D(D(D({},u),Cz({values:n,family:l,styles:v4,config:P,canonical:u,givenPrefix:i})),mz(t,i,u))}function mz(n,e,t){let{prefix:i,iconName:s}=t;if(n||!i||!s)return{prefix:i,iconName:s};let o=e==="fa"?rp(s):{},r=Jt(i,s);return s=o.iconName||r||s,i=o.prefix||i,i==="far"&&!v4.far&&v4.fas&&!P.autoFetchSvg&&(i="fas"),{prefix:i,iconName:s}}var gz=Bh.filter(n=>n!==ce||n!==bs),vz=Object.keys(ga).filter(n=>n!==ce).map(n=>Object.keys(ga[n])).flat();function Cz(n){let{values:e,family:t,canonical:i,givenPrefix:s="",styles:o={},config:r={}}=n,c=t===bs,a=e.includes("fa-duotone")||e.includes("fad"),l=r.familyDefault==="duotone",u=i.prefix==="fad"||i.prefix==="fa-duotone";if(!c&&(a||l||u)&&(i.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(i.prefix="fab"),!i.prefix&&gz.includes(t)&&(Object.keys(o).find(d=>vz.includes(d))||r.autoFetchSvg)){let d=yw.get(t).defaultShortPrefixId;i.prefix=d,i.iconName=Jt(i.prefix,i.iconName)||i.iconName}return(i.prefix==="fa"||s==="fa")&&(i.prefix=_t()||"fas"),i}var za=class{constructor(){this.definitions={}}add(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];let s=t.reduce(this._pullDefinitions,{});Object.keys(s).forEach(o=>{this.definitions[o]=D(D({},this.definitions[o]||{}),s[o]),wa(o,s[o]);let r=Pa[ce][o];r&&wa(r,s[o]),op()})}reset(){this.definitions={}}_pullDefinitions(e,t){let i=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(i).map(s=>{let{prefix:o,iconName:r,icon:c}=i[s],a=c[2];e[o]||(e[o]={}),a.length>0&&a.forEach(l=>{typeof l=="string"&&(e[o][l]=c)}),e[o][r]=c}),e}},Mh=[],cn={},an={},bz=Object.keys(an);function Mz(n,e){let{mixoutsTo:t}=e;return Mh=n,cn={},Object.keys(an).forEach(i=>{bz.indexOf(i)===-1&&delete an[i]}),Mh.forEach(i=>{let s=i.mixout?i.mixout():{};if(Object.keys(s).forEach(o=>{typeof s[o]=="function"&&(t[o]=s[o]),typeof s[o]=="object"&&Object.keys(s[o]).forEach(r=>{t[o]||(t[o]={}),t[o][r]=s[o][r]})}),i.hooks){let o=i.hooks();Object.keys(o).forEach(r=>{cn[r]||(cn[r]=[]),cn[r].push(o[r])})}i.provides&&i.provides(an)}),t}function xa(n,e){for(var t=arguments.length,i=new Array(t>2?t-2:0),s=2;s<t;s++)i[s-2]=arguments[s];return(cn[n]||[]).forEach(r=>{e=r.apply(null,[e,...i])}),e}function Qt(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];(cn[n]||[]).forEach(o=>{o.apply(null,t)})}function Lt(){let n=arguments[0],e=Array.prototype.slice.call(arguments,1);return an[n]?an[n].apply(null,e):void 0}function Sa(n){n.prefix==="fa"&&(n.prefix="fas");let{iconName:e}=n,t=n.prefix||_t();if(e)return e=Jt(t,e)||e,vh(ap.definitions,t,e)||vh(C2.styles,t,e)}var ap=new za,yz=()=>{P.autoReplaceSvg=!1,P.observeMutations=!1,Qt("noAuto")},_z={i2svg:function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return V2?(Qt("beforeI2svg",n),Lt("pseudoElements2svg",n),Lt("i2svg",n)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{autoReplaceSvgRoot:e}=n;P.autoReplaceSvg===!1&&(P.autoReplaceSvg=!0),P.observeMutations=!0,iz(()=>{wz({autoReplaceSvgRoot:e}),Qt("watch",n)})}},Lz={icon:n=>{if(n===null)return null;if(typeof n=="object"&&n.prefix&&n.iconName)return{prefix:n.prefix,iconName:Jt(n.prefix,n.iconName)||n.iconName};if(Array.isArray(n)&&n.length===2){let e=n[1].indexOf("fa-")===0?n[1].slice(3):n[1],t=ys(n[0]);return{prefix:t,iconName:Jt(t,e)||e}}if(typeof n=="string"&&(n.indexOf("".concat(P.cssPrefix,"-"))>-1||n.match(jw))){let e=_s(n.split(" "),{skipLookups:!0});return{prefix:e.prefix||_t(),iconName:Jt(e.prefix,e.iconName)||e.iconName}}if(typeof n=="string"){let e=_t();return{prefix:e,iconName:Jt(e,n)||n}}}},Se={noAuto:yz,config:P,dom:_z,parse:Lz,library:ap,findIconDefinition:Sa,toHtml:b4},wz=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{autoReplaceSvgRoot:e=w1}=n;(Object.keys(C2.styles).length>0||P.autoFetchSvg)&&V2&&P.autoReplaceSvg&&Se.dom.i2svg({node:e})};function Ls(n,e){return Object.defineProperty(n,"abstract",{get:e}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(t=>b4(t))}}),Object.defineProperty(n,"node",{get:function(){if(!V2)return;let t=w1.createElement("div");return t.innerHTML=n.html,t.children}}),n}function zz(n){let{children:e,main:t,mask:i,attributes:s,styles:o,transform:r}=n;if(Fa(r)&&t.found&&!i.found){let{width:c,height:a}=t,l={x:c/a/2,y:.5};s.style=Ms(D(D({},o),{},{"transform-origin":"".concat(l.x+r.x/16,"em ").concat(l.y+r.y/16,"em")}))}return[{tag:"svg",attributes:s,children:e}]}function xz(n){let{prefix:e,iconName:t,children:i,attributes:s,symbol:o}=n,r=o===!0?"".concat(e,"-").concat(P.cssPrefix,"-").concat(t):o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:D(D({},s),{},{id:r}),children:i}]}]}function Ba(n){let{icons:{main:e,mask:t},prefix:i,iconName:s,transform:o,symbol:r,title:c,maskId:a,titleId:l,extra:u,watchable:f=!1}=n,{width:d,height:h}=t.found?t:e,p=xw.includes(i),m=[P.replacementClass,s?"".concat(P.cssPrefix,"-").concat(s):""].filter(_=>u.classes.indexOf(_)===-1).filter(_=>_!==""||!!_).concat(u.classes).join(" "),v={children:[],attributes:D(D({},u.attributes),{},{"data-prefix":i,"data-icon":s,class:m,role:u.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(d," ").concat(h)})},g=p&&!~u.classes.indexOf("fa-fw")?{width:"".concat(d/h*16*.0625,"em")}:{};f&&(v.attributes[Kt]=""),c&&(v.children.push({tag:"title",attributes:{id:v.attributes["aria-labelledby"]||"title-".concat(l||g4())},children:[c]}),delete v.attributes.title);let C=D(D({},v),{},{prefix:i,iconName:s,main:e,mask:t,maskId:a,transform:o,symbol:r,styles:D(D({},g),u.styles)}),{children:M,attributes:b}=t.found&&e.found?Lt("generateAbstractMask",C)||{children:[],attributes:{}}:Lt("generateAbstractIcon",C)||{children:[],attributes:{}};return C.children=M,C.attributes=b,r?xz(C):zz(C)}function yh(n){let{content:e,width:t,height:i,transform:s,title:o,extra:r,watchable:c=!1}=n,a=D(D(D({},r.attributes),o?{title:o}:{}),{},{class:r.classes.join(" ")});c&&(a[Kt]="");let l=D({},r.styles);Fa(s)&&(l.transform=ez({transform:s,startCentered:!0,width:t,height:i}),l["-webkit-transform"]=l.transform);let u=Ms(l);u.length>0&&(a.style=u);let f=[];return f.push({tag:"span",attributes:a,children:[e]}),o&&f.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),f}function Sz(n){let{content:e,title:t,extra:i}=n,s=D(D(D({},i.attributes),t?{title:t}:{}),{},{class:i.classes.join(" ")}),o=Ms(i.styles);o.length>0&&(s.style=o);let r=[];return r.push({tag:"span",attributes:s,children:[e]}),t&&r.push({tag:"span",attributes:{class:"sr-only"},children:[t]}),r}var{styles:pa}=C2;function Aa(n){let e=n[0],t=n[1],[i]=n.slice(4),s=null;return Array.isArray(i)?s={tag:"g",attributes:{class:"".concat(P.cssPrefix,"-").concat(fa.GROUP)},children:[{tag:"path",attributes:{class:"".concat(P.cssPrefix,"-").concat(fa.SECONDARY),fill:"currentColor",d:i[0]}},{tag:"path",attributes:{class:"".concat(P.cssPrefix,"-").concat(fa.PRIMARY),fill:"currentColor",d:i[1]}}]}:s={tag:"path",attributes:{fill:"currentColor",d:i}},{found:!0,width:e,height:t,icon:s}}var Az={found:!1,width:512,height:512};function Ez(n,e){!Gh&&!P.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(e,'" is missing.'))}function Ea(n,e){let t=e;return e==="fa"&&P.styleDefault!==null&&(e=_t()),new Promise((i,s)=>{if(t==="fa"){let o=rp(n)||{};n=o.iconName||n,e=o.prefix||e}if(n&&e&&pa[e]&&pa[e][n]){let o=pa[e][n];return i(Aa(o))}Ez(n,e),i(D(D({},Az),{},{icon:P.showMissingIcons&&n?Lt("missingIconAbstract")||{}:{}}))})}var _h=()=>{},Da=P.measurePerformance&&hs&&hs.mark&&hs.measure?hs:{mark:_h,measure:_h},h4='FA "6.7.0"',Dz=n=>(Da.mark("".concat(h4," ").concat(n," begins")),()=>lp(n)),lp=n=>{Da.mark("".concat(h4," ").concat(n," ends")),Da.measure("".concat(h4," ").concat(n),"".concat(h4," ").concat(n," begins"),"".concat(h4," ").concat(n," ends"))},ja={begin:Dz,end:lp},ms=()=>{};function Lh(n){return typeof(n.getAttribute?n.getAttribute(Kt):null)=="string"}function Nz(n){let e=n.getAttribute?n.getAttribute(ka):null,t=n.getAttribute?n.getAttribute(Oa):null;return e&&t}function Tz(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(P.replacementClass)}function Iz(){return P.autoReplaceSvg===!0?gs.replace:gs[P.autoReplaceSvg]||gs.replace}function kz(n){return w1.createElementNS("http://www.w3.org/2000/svg",n)}function Oz(n){return w1.createElement(n)}function up(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{ceFn:t=n.tag==="svg"?kz:Oz}=e;if(typeof n=="string")return w1.createTextNode(n);let i=t(n.tag);return Object.keys(n.attributes||[]).forEach(function(o){i.setAttribute(o,n.attributes[o])}),(n.children||[]).forEach(function(o){i.appendChild(up(o,{ceFn:t}))}),i}function Pz(n){let e=" ".concat(n.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var gs={replace:function(n){let e=n[0];if(e.parentNode)if(n[1].forEach(t=>{e.parentNode.insertBefore(up(t),e)}),e.getAttribute(Kt)===null&&P.keepOriginalSource){let t=w1.createComment(Pz(e));e.parentNode.replaceChild(t,e)}else e.remove()},nest:function(n){let e=n[0],t=n[1];if(~Ra(e).indexOf(P.replacementClass))return gs.replace(n);let i=new RegExp("".concat(P.cssPrefix,"-.*"));if(delete t[0].attributes.id,t[0].attributes.class){let o=t[0].attributes.class.split(" ").reduce((r,c)=>(c===P.replacementClass||c.match(i)?r.toSvg.push(c):r.toNode.push(c),r),{toNode:[],toSvg:[]});t[0].attributes.class=o.toSvg.join(" "),o.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",o.toNode.join(" "))}let s=t.map(o=>b4(o)).join(`
`);e.setAttribute(Kt,""),e.innerHTML=s}};function wh(n){n()}function fp(n,e){let t=typeof e=="function"?e:ms;if(n.length===0)t();else{let i=wh;P.mutateApproach===Hw&&(i=yt.requestAnimationFrame||wh),i(()=>{let s=Iz(),o=ja.begin("mutate");n.map(s),o(),t()})}}var Ua=!1;function dp(){Ua=!0}function Na(){Ua=!1}var Cs=null;function zh(n){if(!fh||!P.observeMutations)return;let{treeCallback:e=ms,nodeCallback:t=ms,pseudoElementsCallback:i=ms,observeMutationsRoot:s=w1}=n;Cs=new fh(o=>{if(Ua)return;let r=_t();un(o).forEach(c=>{if(c.type==="childList"&&c.addedNodes.length>0&&!Lh(c.addedNodes[0])&&(P.searchPseudoElements&&i(c.target),e(c.target)),c.type==="attributes"&&c.target.parentNode&&P.searchPseudoElements&&i(c.target.parentNode),c.type==="attributes"&&Lh(c.target)&&~Gw.indexOf(c.attributeName))if(c.attributeName==="class"&&Nz(c.target)){let{prefix:a,iconName:l}=_s(Ra(c.target));c.target.setAttribute(ka,a||r),l&&c.target.setAttribute(Oa,l)}else Tz(c.target)&&t(c.target)})}),V2&&Cs.observe(s,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function Rz(){Cs&&Cs.disconnect()}function Fz(n){let e=n.getAttribute("style"),t=[];return e&&(t=e.split(";").reduce((i,s)=>{let o=s.split(":"),r=o[0],c=o.slice(1);return r&&c.length>0&&(i[r]=c.join(":").trim()),i},{})),t}function Hz(n){let e=n.getAttribute("data-prefix"),t=n.getAttribute("data-icon"),i=n.innerText!==void 0?n.innerText.trim():"",s=_s(Ra(n));return s.prefix||(s.prefix=_t()),e&&t&&(s.prefix=e,s.iconName=t),s.iconName&&s.prefix||(s.prefix&&i.length>0&&(s.iconName=fz(s.prefix,n.innerText)||Va(s.prefix,La(n.innerText))),!s.iconName&&P.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=n.firstChild.data)),s}function Vz(n){let e=un(n.attributes).reduce((s,o)=>(s.name!=="class"&&s.name!=="style"&&(s[o.name]=o.value),s),{}),t=n.getAttribute("title"),i=n.getAttribute("data-fa-title-id");return P.autoA11y&&(t?e["aria-labelledby"]="".concat(P.replacementClass,"-title-").concat(i||g4()):(e["aria-hidden"]="true",e.focusable="false")),e}function Bz(){return{iconName:null,title:null,titleId:null,prefix:null,transform:v2,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function xh(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},{iconName:t,prefix:i,rest:s}=Hz(n),o=Vz(n),r=xa("parseNodeAttributes",{},n),c=e.styleParser?Fz(n):[];return D({iconName:t,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:i,transform:v2,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:c,attributes:o}},r)}var{styles:jz}=C2;function hp(n){let e=P.autoReplaceSvg==="nest"?xh(n,{styleParser:!1}):xh(n);return~e.extra.classes.indexOf(qh)?Lt("generateLayersText",n,e):Lt("generateSvgReplacementMutation",n,e)}function Uz(){return[...Lw,...va]}function Sh(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!V2)return Promise.resolve();let t=w1.documentElement.classList,i=u=>t.add("".concat(ph,"-").concat(u)),s=u=>t.remove("".concat(ph,"-").concat(u)),o=P.autoFetchSvg?Uz():Vh.concat(Object.keys(jz));o.includes("fa")||o.push("fa");let r=[".".concat(qh,":not([").concat(Kt,"])")].concat(o.map(u=>".".concat(u,":not([").concat(Kt,"])"))).join(", ");if(r.length===0)return Promise.resolve();let c=[];try{c=un(n.querySelectorAll(r))}catch{}if(c.length>0)i("pending"),s("complete");else return Promise.resolve();let a=ja.begin("onTree"),l=c.reduce((u,f)=>{try{let d=hp(f);d&&u.push(d)}catch(d){Gh||d.name==="MissingIcon"&&console.error(d)}return u},[]);return new Promise((u,f)=>{Promise.all(l).then(d=>{fp(d,()=>{i("active"),i("complete"),s("pending"),typeof e=="function"&&e(),a(),u()})}).catch(d=>{a(),f(d)})})}function $z(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;hp(n).then(t=>{t&&fp([t],e)})}function Gz(n){return function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=(e||{}).icon?e:Sa(e||{}),{mask:s}=t;return s&&(s=(s||{}).icon?s:Sa(s||{})),n(i,D(D({},t),{},{mask:s}))}}var Wz=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{transform:t=v2,symbol:i=!1,mask:s=null,maskId:o=null,title:r=null,titleId:c=null,classes:a=[],attributes:l={},styles:u={}}=e;if(!n)return;let{prefix:f,iconName:d,icon:h}=n;return Ls(D({type:"icon"},n),()=>(Qt("beforeDOMElementCreation",{iconDefinition:n,params:e}),P.autoA11y&&(r?l["aria-labelledby"]="".concat(P.replacementClass,"-title-").concat(c||g4()):(l["aria-hidden"]="true",l.focusable="false")),Ba({icons:{main:Aa(h),mask:s?Aa(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:f,iconName:d,transform:D(D({},v2),t),symbol:i,title:r,maskId:o,titleId:c,extra:{attributes:l,styles:u,classes:a}})))},qz={mixout(){return{icon:Gz(Wz)}},hooks(){return{mutationObserverCallbacks(n){return n.treeCallback=Sh,n.nodeCallback=$z,n}}},provides(n){n.i2svg=function(e){let{node:t=w1,callback:i=()=>{}}=e;return Sh(t,i)},n.generateSvgReplacementMutation=function(e,t){let{iconName:i,title:s,titleId:o,prefix:r,transform:c,symbol:a,mask:l,maskId:u,extra:f}=t;return new Promise((d,h)=>{Promise.all([Ea(i,r),l.iconName?Ea(l.iconName,l.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(p=>{let[m,v]=p;d([e,Ba({icons:{main:m,mask:v},prefix:r,iconName:i,transform:c,symbol:a,maskId:u,title:s,titleId:o,extra:f,watchable:!0})])}).catch(h)})},n.generateAbstractIcon=function(e){let{children:t,attributes:i,main:s,transform:o,styles:r}=e,c=Ms(r);c.length>0&&(i.style=c);let a;return Fa(o)&&(a=Lt("generateAbstractTransformGrouping",{main:s,transform:o,containerWidth:s.width,iconWidth:s.width})),t.push(a||s.icon),{children:t,attributes:i}}}},Zz={mixout(){return{layer(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{classes:t=[]}=e;return Ls({type:"layer"},()=>{Qt("beforeDOMElementCreation",{assembler:n,params:e});let i=[];return n(s=>{Array.isArray(s)?s.map(o=>{i=i.concat(o.abstract)}):i=i.concat(s.abstract)}),[{tag:"span",attributes:{class:["".concat(P.cssPrefix,"-layers"),...t].join(" ")},children:i}]})}}}},Yz={mixout(){return{counter(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{title:t=null,classes:i=[],attributes:s={},styles:o={}}=e;return Ls({type:"counter",content:n},()=>(Qt("beforeDOMElementCreation",{content:n,params:e}),Sz({content:n.toString(),title:t,extra:{attributes:s,styles:o,classes:["".concat(P.cssPrefix,"-layers-counter"),...i]}})))}}}},Jz={mixout(){return{text(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{transform:t=v2,title:i=null,classes:s=[],attributes:o={},styles:r={}}=e;return Ls({type:"text",content:n},()=>(Qt("beforeDOMElementCreation",{content:n,params:e}),yh({content:n,transform:D(D({},v2),t),title:i,extra:{attributes:o,styles:r,classes:["".concat(P.cssPrefix,"-layers-text"),...s]}})))}}},provides(n){n.generateLayersText=function(e,t){let{title:i,transform:s,extra:o}=t,r=null,c=null;if(Fh){let a=parseInt(getComputedStyle(e).fontSize,10),l=e.getBoundingClientRect();r=l.width/a,c=l.height/a}return P.autoA11y&&!i&&(o.attributes["aria-hidden"]="true"),Promise.resolve([e,yh({content:e.innerHTML,width:r,height:c,transform:s,title:i,extra:o,watchable:!0})])}}},Kz=new RegExp('"',"ug"),Ah=[1105920,1112319],Eh=D(D(D(D({},{FontAwesome:{normal:"fas",400:"fas"}}),Mw),Rw),Dw),Ta=Object.keys(Eh).reduce((n,e)=>(n[e.toLowerCase()]=Eh[e],n),{}),Qz=Object.keys(Ta).reduce((n,e)=>{let t=Ta[e];return n[e]=t[900]||[...Object.entries(t)][0][1],n},{});function Xz(n){let e=n.replace(Kz,""),t=rz(e,0),i=t>=Ah[0]&&t<=Ah[1],s=e.length===2?e[0]===e[1]:!1;return{value:La(s?e[0]:e),isSecondary:i||s}}function ex(n,e){let t=n.replace(/^['"]|['"]$/g,"").toLowerCase(),i=parseInt(e),s=isNaN(i)?"normal":i;return(Ta[t]||{})[s]||Qz[t]}function Dh(n,e){let t="".concat(Fw).concat(e.replace(":","-"));return new Promise((i,s)=>{if(n.getAttribute(t)!==null)return i();let r=un(n.children).filter(d=>d.getAttribute(ba)===e)[0],c=yt.getComputedStyle(n,e),a=c.getPropertyValue("font-family"),l=a.match(Uw),u=c.getPropertyValue("font-weight"),f=c.getPropertyValue("content");if(r&&!l)return n.removeChild(r),i();if(l&&f!=="none"&&f!==""){let d=c.getPropertyValue("content"),h=ex(a,u),{value:p,isSecondary:m}=Xz(d),v=l[0].startsWith("FontAwesome"),g=Va(h,p),C=g;if(v){let M=dz(p);M.iconName&&M.prefix&&(g=M.iconName,h=M.prefix)}if(g&&!m&&(!r||r.getAttribute(ka)!==h||r.getAttribute(Oa)!==C)){n.setAttribute(t,C),r&&n.removeChild(r);let M=Bz(),{extra:b}=M;b.attributes[ba]=e,Ea(g,h).then(_=>{let L=Ba(D(D({},M),{},{icons:{main:_,mask:cp()},prefix:h,iconName:C,extra:b,watchable:!0})),x=w1.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?n.insertBefore(x,n.firstChild):n.appendChild(x),x.outerHTML=L.map(A=>b4(A)).join(`
`),n.removeAttribute(t),i()}).catch(s)}else i()}else i()})}function tx(n){return Promise.all([Dh(n,"::before"),Dh(n,"::after")])}function nx(n){return n.parentNode!==document.head&&!~Vw.indexOf(n.tagName.toUpperCase())&&!n.getAttribute(ba)&&(!n.parentNode||n.parentNode.tagName!=="svg")}function Nh(n){if(V2)return new Promise((e,t)=>{let i=un(n.querySelectorAll("*")).filter(nx).map(tx),s=ja.begin("searchPseudoElements");dp(),Promise.all(i).then(()=>{s(),Na(),e()}).catch(()=>{s(),Na(),t()})})}var ix={hooks(){return{mutationObserverCallbacks(n){return n.pseudoElementsCallback=Nh,n}}},provides(n){n.pseudoElements2svg=function(e){let{node:t=w1}=e;P.searchPseudoElements&&Nh(t)}}},Th=!1,sx={mixout(){return{dom:{unwatch(){dp(),Th=!0}}}},hooks(){return{bootstrap(){zh(xa("mutationObserverCallbacks",{}))},noAuto(){Rz()},watch(n){let{observeMutationsRoot:e}=n;Th?Na():zh(xa("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}},Ih=n=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return n.toLowerCase().split(" ").reduce((t,i)=>{let s=i.toLowerCase().split("-"),o=s[0],r=s.slice(1).join("-");if(o&&r==="h")return t.flipX=!0,t;if(o&&r==="v")return t.flipY=!0,t;if(r=parseFloat(r),isNaN(r))return t;switch(o){case"grow":t.size=t.size+r;break;case"shrink":t.size=t.size-r;break;case"left":t.x=t.x-r;break;case"right":t.x=t.x+r;break;case"up":t.y=t.y-r;break;case"down":t.y=t.y+r;break;case"rotate":t.rotate=t.rotate+r;break}return t},e)},ox={mixout(){return{parse:{transform:n=>Ih(n)}}},hooks(){return{parseNodeAttributes(n,e){let t=e.getAttribute("data-fa-transform");return t&&(n.transform=Ih(t)),n}}},provides(n){n.generateAbstractTransformGrouping=function(e){let{main:t,transform:i,containerWidth:s,iconWidth:o}=e,r={transform:"translate(".concat(s/2," 256)")},c="translate(".concat(i.x*32,", ").concat(i.y*32,") "),a="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),l="rotate(".concat(i.rotate," 0 0)"),u={transform:"".concat(c," ").concat(a," ").concat(l)},f={transform:"translate(".concat(o/2*-1," -256)")},d={outer:r,inner:u,path:f};return{tag:"g",attributes:D({},d.outer),children:[{tag:"g",attributes:D({},d.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:D(D({},t.icon.attributes),d.path)}]}]}}}},ma={x:0,y:0,width:"100%",height:"100%"};function kh(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.attributes&&(n.attributes.fill||e)&&(n.attributes.fill="black"),n}function rx(n){return n.tag==="g"?n.children:[n]}var cx={hooks(){return{parseNodeAttributes(n,e){let t=e.getAttribute("data-fa-mask"),i=t?_s(t.split(" ").map(s=>s.trim())):cp();return i.prefix||(i.prefix=_t()),n.mask=i,n.maskId=e.getAttribute("data-fa-mask-id"),n}}},provides(n){n.generateAbstractMask=function(e){let{children:t,attributes:i,main:s,mask:o,maskId:r,transform:c}=e,{width:a,icon:l}=s,{width:u,icon:f}=o,d=Xw({transform:c,containerWidth:u,iconWidth:a}),h={tag:"rect",attributes:D(D({},ma),{},{fill:"white"})},p=l.children?{children:l.children.map(kh)}:{},m={tag:"g",attributes:D({},d.inner),children:[kh(D({tag:l.tag,attributes:D(D({},l.attributes),d.path)},p))]},v={tag:"g",attributes:D({},d.outer),children:[m]},g="mask-".concat(r||g4()),C="clip-".concat(r||g4()),M={tag:"mask",attributes:D(D({},ma),{},{id:g,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[h,v]},b={tag:"defs",children:[{tag:"clipPath",attributes:{id:C},children:rx(f)},M]};return t.push(b,{tag:"rect",attributes:D({fill:"currentColor","clip-path":"url(#".concat(C,")"),mask:"url(#".concat(g,")")},ma)}),{children:t,attributes:i}}}},ax={provides(n){let e=!1;yt.matchMedia&&(e=yt.matchMedia("(prefers-reduced-motion: reduce)").matches),n.missingIconAbstract=function(){let t=[],i={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};t.push({tag:"path",attributes:D(D({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});let o=D(D({},s),{},{attributeName:"opacity"}),r={tag:"circle",attributes:D(D({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||r.children.push({tag:"animate",attributes:D(D({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:D(D({},o),{},{values:"1;0;1;1;0;1;"})}),t.push(r),t.push({tag:"path",attributes:D(D({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:D(D({},o),{},{values:"1;0;0;0;0;1;"})}]}),e||t.push({tag:"path",attributes:D(D({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:D(D({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:t}}}},lx={hooks(){return{parseNodeAttributes(n,e){let t=e.getAttribute("data-fa-symbol"),i=t===null?!1:t===""?!0:t;return n.symbol=i,n}}}},ux=[nz,qz,Zz,Yz,Jz,ix,sx,ox,cx,ax,lx];Mz(ux,{mixoutsTo:Se});var DV=Se.noAuto,pp=Se.config,NV=Se.library,mp=Se.dom,gp=Se.parse,TV=Se.findIconDefinition,IV=Se.toHtml,vp=Se.icon,kV=Se.layer,fx=Se.text,dx=Se.counter;var px=["*"],mx=n=>{throw new Error(`Could not find icon with iconName=${n.iconName} and prefix=${n.prefix} in the icon library.`)},gx=()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")},vx=n=>{let e={[`fa-${n.animation}`]:n.animation!=null&&!n.animation.startsWith("spin"),"fa-spin":n.animation==="spin"||n.animation==="spin-reverse","fa-spin-pulse":n.animation==="spin-pulse"||n.animation==="spin-pulse-reverse","fa-spin-reverse":n.animation==="spin-reverse"||n.animation==="spin-pulse-reverse","fa-pulse":n.animation==="spin-pulse"||n.animation==="spin-pulse-reverse","fa-fw":n.fixedWidth,"fa-border":n.border,"fa-inverse":n.inverse,"fa-layers-counter":n.counter,"fa-flip-horizontal":n.flip==="horizontal"||n.flip==="both","fa-flip-vertical":n.flip==="vertical"||n.flip==="both",[`fa-${n.size}`]:n.size!==null,[`fa-rotate-${n.rotate}`]:n.rotate!==null,[`fa-pull-${n.pull}`]:n.pull!==null,[`fa-stack-${n.stackItemSize}`]:n.stackItemSize!=null};return Object.keys(e).map(t=>e[t]?t:null).filter(t=>t)},$a=new WeakSet,Cp="fa-auto-css";function Cx(n,e){if(!e.autoAddCss||$a.has(n))return;if(n.getElementById(Cp)!=null){e.autoAddCss=!1,$a.add(n);return}let t=n.createElement("style");t.setAttribute("type","text/css"),t.setAttribute("id",Cp),t.innerHTML=mp.css();let i=n.head.childNodes,s=null;for(let o=i.length-1;o>-1;o--){let r=i[o],c=r.nodeName.toUpperCase();["STYLE","LINK"].indexOf(c)>-1&&(s=r)}n.head.insertBefore(t,s),e.autoAddCss=!1,$a.add(n)}var bx=n=>n.prefix!==void 0&&n.iconName!==void 0,Mx=(n,e)=>bx(n)?n:Array.isArray(n)&&n.length===2?{prefix:n[0],iconName:n[1]}:{prefix:e,iconName:n},yx=(()=>{class n{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null,this._autoAddCss=!0}set autoAddCss(t){pp.autoAddCss=t,this._autoAddCss=t}get autoAddCss(){return this._autoAddCss}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ga=(()=>{class n{constructor(){this.definitions={}}addIcons(...t){for(let i of t){i.prefix in this.definitions||(this.definitions[i.prefix]={}),this.definitions[i.prefix][i.iconName]=i;for(let s of i.icon[2])typeof s=="string"&&(this.definitions[i.prefix][s]=i)}}addIconPacks(...t){for(let i of t){let s=Object.keys(i).map(o=>i[o]);this.addIcons(...s)}}getIconDefinition(t,i){return t in this.definitions&&i in this.definitions[t]?this.definitions[t][i]:null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),_x=(()=>{class n{constructor(){this.stackItemSize="1x"}ngOnChanges(t){if("size"in t)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=h2({type:n,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[He]})}}return n})(),Lx=(()=>{class n{constructor(t,i){this.renderer=t,this.elementRef=i}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(t){"size"in t&&(t.size.currentValue!=null&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${t.size.currentValue}`),t.size.previousValue!=null&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${t.size.previousValue}`))}static{this.\u0275fac=function(i){return new(i||n)(r1(pt),r1(K1))}}static{this.\u0275cmp=re({type:n,selectors:[["fa-stack"]],inputs:{size:"size"},features:[He],ngContentSelectors:px,decls:1,vars:0,template:function(i,s){i&1&&(tn(),nn(0))},encapsulation:2})}}return n})(),fn=(()=>{class n{constructor(t,i,s,o,r){this.sanitizer=t,this.config=i,this.iconLibrary=s,this.stackItem=o,this.document=E(P1),r!=null&&o==null&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(t){if(this.icon==null&&this.config.fallbackIcon==null){gx();return}if(t){let i=this.findIconDefinition(this.icon??this.config.fallbackIcon);if(i!=null){let s=this.buildParams();Cx(this.document,this.config);let o=vp(i,s);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(o.html.join(`
`))}}}render(){this.ngOnChanges({})}findIconDefinition(t){let i=Mx(t,this.config.defaultPrefix);if("icon"in i)return i;let s=this.iconLibrary.getIconDefinition(i.prefix,i.iconName);return s??(mx(i),null)}buildParams(){let t={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:typeof this.fixedWidth=="boolean"?this.fixedWidth:this.config.fixedWidth,stackItemSize:this.stackItem!=null?this.stackItem.stackItemSize:null},i=typeof this.transform=="string"?gp.transform(this.transform):this.transform;return{title:this.title,transform:i,classes:vx(t),mask:this.mask!=null?this.findIconDefinition(this.mask):null,symbol:this.symbol,attributes:{role:this.a11yRole}}}static{this.\u0275fac=function(i){return new(i||n)(r1(ua),r1(yx),r1(Ga),r1(_x,8),r1(Lx,8))}}static{this.\u0275cmp=re({type:n,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(i,s){i&2&&(ns("innerHTML",s.renderedIconHTML,Lf),Wt("title",s.title))},inputs:{icon:"icon",title:"title",animation:"animation",mask:"mask",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",transform:"transform",a11yRole:"a11yRole"},features:[He],decls:0,vars:0,template:function(i,s){},encapsulation:2})}}return n})();var Wa=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=p1({type:n})}static{this.\u0275inj=h1({})}}return n})();var wx=["*"];var zx=["dialog"];var bp={animation:!0,transitionTimerDelayMs:5},xx=(()=>{class n{constructor(){this.animation=bp.animation}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Sx(n){let{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n),i=parseFloat(e),s=parseFloat(t);return(i+s)*1e3}function Mp(n){return typeof n=="string"}function qa(n){return n!=null}function Ax(n){return n&&n.then}function yp(n){return(n||document.body).getBoundingClientRect()}function Ex(n){return e=>new J(t=>{let i=r=>n.run(()=>t.next(r)),s=r=>n.run(()=>t.error(r)),o=()=>n.run(()=>t.complete());return e.subscribe({next:i,error:s,complete:o})})}var Dx=()=>{},{transitionTimerDelayMs:Nx}=bp,zs=new Map,Xt=(n,e,t,i)=>{let s=i.context||{},o=zs.get(e);if(o)switch(i.runningTransition){case"continue":return J1;case"stop":n.run(()=>o.transition$.complete()),s=Object.assign(o.context,s),zs.delete(e)}let r=t(e,i.animation,s)||Dx;if(!i.animation||window.getComputedStyle(e).transitionProperty==="none")return n.run(()=>r()),F(void 0).pipe(Ex(n));let c=new g1,a=new g1,l=c.pipe(Io(!0));zs.set(e,{transition$:c,complete:()=>{a.next(),a.complete()},context:s});let u=Sx(e);return n.runOutsideAngular(()=>{let f=d1(e,"transitionend").pipe(K(l),j1(({target:h})=>h===e)),d=Eo(u+Nx).pipe(K(l));Do(d,f,a).pipe(K(l)).subscribe(()=>{zs.delete(e),n.run(()=>{r(),c.next(),c.complete()})})}),c.asObservable()};var _p=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=p1({type:n})}static{this.\u0275inj=h1({})}}return n})();var Lp=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=p1({type:n})}static{this.\u0275inj=h1({})}}return n})();var wp=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=p1({type:n})}static{this.\u0275inj=h1({})}}return n})(),zp=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=p1({type:n})}static{this.\u0275inj=h1({})}}return n})();var IB=(()=>{let n=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,e=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(n()||e()):!1})();var Tx=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function xp(n){let e=Array.from(n.querySelectorAll(Tx)).filter(t=>t.tabIndex!==-1);return[e[0],e[e.length-1]]}var Ix=(n,e,t,i=!1)=>{n.runOutsideAngular(()=>{let s=d1(e,"focusin").pipe(K(t),i1(o=>o.target));d1(e,"keydown").pipe(K(t),j1(o=>o.key==="Tab"),G0(s)).subscribe(([o,r])=>{let[c,a]=xp(e);(r===c||r===e)&&o.shiftKey&&(a.focus(),o.preventDefault()),r===a&&!o.shiftKey&&(c.focus(),o.preventDefault())}),i&&d1(e,"click").pipe(K(t),G0(s),i1(o=>o[1])).subscribe(o=>o.focus())})};var kB=new Date(1882,10,12),OB=new Date(2174,10,25);var PB=1e3*60*60*24;var Ja=1080,kx=24*Ja,Ox=12*Ja+793,RB=29*kx+Ox,FB=11*Ja+204;var Sp=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=p1({type:n})}static{this.\u0275inj=h1({})}}return n})();var Ap=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=p1({type:n})}static{this.\u0275inj=h1({})}}return n})(),Px=(()=>{class n{constructor(){this._ngbConfig=E(xx),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0,this.role="dialog"}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),dn=class{constructor(e,t,i){this.nodes=e,this.viewRef=t,this.componentRef=i}};var Rx=(()=>{class n{constructor(){this._document=E(P1)}hide(){let t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,s=i.style,{overflow:o,paddingRight:r}=s;if(t>0){let c=parseFloat(window.getComputedStyle(i).paddingRight);s.paddingRight=`${c+t}px`}return s.overflow="hidden",()=>{t>0&&(s.paddingRight=r),s.overflow=o}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Fx=(()=>{class n{constructor(){this._nativeElement=E(K1).nativeElement,this._zone=E(m1),this._injector=E(Z1)}ngOnInit(){en({mixedReadWrite:()=>Xt(this._zone,this._nativeElement,(t,i)=>{i&&yp(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})},{injector:this._injector})}hide(){return Xt(this._zone,this._nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=re({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,s){i&2&&(ts("modal-backdrop"+(s.backdropClass?" "+s.backdropClass:"")),a4("show",!s.animation)("fade",s.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(i,s){},encapsulation:2})}}return n})(),xs=class{update(e){}close(e){}dismiss(e){}},Hx=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","role","scrollable","size","windowClass","modalDialogClass"],Vx=["animation","backdropClass"],Za=class{_applyWindowOptions(e,t){Hx.forEach(i=>{qa(t[i])&&(e[i]=t[i])})}_applyBackdropOptions(e,t){Vx.forEach(i=>{qa(t[i])&&(e[i]=t[i])})}update(e){this._applyWindowOptions(this._windowCmptRef.instance,e),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,e)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(K(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(K(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(e,t,i,s){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=i,this._beforeDismiss=s,this._closed=new g1,this._dismissed=new g1,this._hidden=new g1,e.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,r)=>{this._resolve=o,this._reject=r}),this.result.then(null,()=>{})}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(e);else{let t=this._beforeDismiss();Ax(t)?t.then(i=>{i!==!1&&this._dismiss(e)},()=>{}):t!==!1&&this._dismiss(e)}}_removeModalElements(){let e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():F(void 0);e.subscribe(()=>{let{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef?.viewRef?.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Pn(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},Ya=function(n){return n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",n}(Ya||{}),Bx=(()=>{class n{constructor(){this._document=E(P1),this._elRef=E(K1),this._zone=E(m1),this._injector=E(Z1),this._closed$=new g1,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.role="dialog",this.dismissEvent=new L1,this.shown=new g1,this.hidden=new g1}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":Mp(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,en({mixedReadWrite:()=>this._show()},{injector:this._injector})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:t}=this._elRef,i={animation:this.animation,runningTransition:"stop"},s=Xt(this._zone,t,()=>t.classList.remove("show"),i),o=Xt(this._zone,this._dialogEl.nativeElement,()=>{},i),r=Pn(s,o);return r.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),r}_show(){let t={animation:this.animation,runningTransition:"continue"},i=Xt(this._zone,this._elRef.nativeElement,(o,r)=>{r&&yp(o),o.classList.add("show")},t),s=Xt(this._zone,this._dialogEl.nativeElement,()=>{},t);Pn(i,s).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{d1(t,"keydown").pipe(K(this._closed$),j1(s=>s.key==="Escape")).subscribe(s=>{this.keyboard?requestAnimationFrame(()=>{s.defaultPrevented||this._zone.run(()=>this.dismiss(Ya.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let i=!1;d1(this._dialogEl.nativeElement,"mousedown").pipe(K(this._closed$),U1(()=>i=!1),pe(()=>d1(t,"mouseup").pipe(K(this._closed$),Oe(1))),j1(({target:s})=>t===s)).subscribe(()=>{i=!0}),d1(t,"click").pipe(K(this._closed$)).subscribe(({target:s})=>{t===s&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!i&&this._zone.run(()=>this.dismiss(Ya.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){let i=t.querySelector("[ngbAutofocus]"),s=xp(t)[0];(i||s||t).focus()}}_restoreFocus(){let t=this._document.body,i=this._elWithFocus,s;i&&i.focus&&t.contains(i)?s=i:s=t,this._zone.runOutsideAngular(()=>{setTimeout(()=>s.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&Xt(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=re({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(i,s){if(i&1&&is(zx,7),i&2){let o;sn(o=on())&&(s._dialogEl=o.first)}},hostAttrs:["tabindex","-1"],hostVars:8,hostBindings:function(i,s){i&2&&(Wt("aria-modal",!0)("aria-labelledby",s.ariaLabelledBy)("aria-describedby",s.ariaDescribedBy)("role",s.role),ts("modal d-block"+(s.windowClass?" "+s.windowClass:"")),a4("fade",s.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",role:"role",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:wx,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(i,s){i&1&&(tn(),A1(0,"div",1,0)(2,"div",2),nn(3),I1()()),i&2&&ts("modal-dialog"+(s.size?" modal-"+s.size:"")+(s.centered?" modal-dialog-centered":"")+s.fullscreenClass+(s.scrollable?" modal-dialog-scrollable":"")+(s.modalDialogClass?" "+s.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2})}}return n})(),jx=(()=>{class n{constructor(){this._applicationRef=E(p2),this._injector=E(Z1),this._environmentInjector=E(ne),this._document=E(P1),this._scrollBar=E(Rx),this._activeWindowCmptHasChanged=new g1,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new L1;let t=E(m1);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let i=this._windowCmpts[this._windowCmpts.length-1];Ix(t,i.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(i.location.nativeElement)}})}_restoreScrollBar(){let t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,i,s){let o=s.container instanceof HTMLElement?s.container:qa(s.container)?this._document.querySelector(s.container):this._document.body;if(!o)throw new Error(`The specified modal container "${s.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let r=new xs;t=s.injector||t;let c=t.get(ne,null)||this._environmentInjector,a=this._getContentRef(t,c,i,r,s),l=s.backdrop!==!1?this._attachBackdrop(o):void 0,u=this._attachWindowComponent(o,a.nodes),f=new Za(u,a,l,s.beforeDismiss);return this._registerModalRef(f),this._registerWindowCmpt(u),f.hidden.pipe(Oe(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),r.close=d=>{f.close(d)},r.dismiss=d=>{f.dismiss(d)},r.update=d=>{f.update(d)},f.update(s),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),l&&l.instance&&l.changeDetectorRef.detectChanges(),u.changeDetectorRef.detectChanges(),f}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(i=>i.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let i=cs(Fx,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_attachWindowComponent(t,i){let s=cs(Bx,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(s.hostView),t.appendChild(s.location.nativeElement),s}_getContentRef(t,i,s,o,r){return s?s instanceof lt?this._createFromTemplateRef(s,o):Mp(s)?this._createFromString(s):this._createFromComponent(t,i,s,o,r):new dn([])}_createFromTemplateRef(t,i){let s={$implicit:i,close(r){i.close(r)},dismiss(r){i.dismiss(r)}},o=t.createEmbeddedView(s);return this._applicationRef.attachView(o),new dn([o.rootNodes],o)}_createFromString(t){let i=this._document.createTextNode(`${t}`);return new dn([[i]])}_createFromComponent(t,i,s,o,r){let c=Z1.create({providers:[{provide:xs,useValue:o}],parent:t}),a=cs(s,{environmentInjector:i,elementInjector:c}),l=a.location.nativeElement;return r.scrollable&&l.classList.add("component-host-scrollable"),this._applicationRef.attachView(a.hostView),new dn([[l]],a.hostView,a)}_setAriaHidden(t){let i=t.parentElement;i&&t!==this._document.body&&(Array.from(i.children).forEach(s=>{s!==t&&s.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,i)=>{t?i.setAttribute("aria-hidden",t):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){let i=()=>{let s=this._modalRefs.indexOf(t);s>-1&&(this._modalRefs.splice(s,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(i,i)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{let i=this._windowCmpts.indexOf(t);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),e3=(()=>{class n{constructor(){this._injector=E(Z1),this._modalStack=E(jx),this._config=E(Px)}open(t,i={}){let s=N(t1(N({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._injector,t,s)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ep=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=p1({type:n})}static{this.\u0275inj=h1({providers:[e3]})}}return n})();var Dp=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=p1({type:n})}static{this.\u0275inj=h1({})}}return n})();var Np=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=p1({type:n})}static{this.\u0275inj=h1({})}}return n})();var Tp=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=p1({type:n})}static{this.\u0275inj=h1({})}}return n})();var Ip=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=p1({type:n})}static{this.\u0275inj=h1({})}}return n})();var kp=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=p1({type:n})}static{this.\u0275inj=h1({})}}return n})();var Op=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=p1({type:n})}static{this.\u0275inj=h1({})}}return n})();var Pp=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=p1({type:n})}static{this.\u0275inj=h1({})}}return n})();var Rp=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=p1({type:n})}static{this.\u0275inj=h1({})}}return n})();var Fp=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=p1({type:n})}static{this.\u0275inj=h1({})}}return n})();var HB=new B("live announcer delay",{providedIn:"root",factory:()=>100});var Hp=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=p1({type:n})}static{this.\u0275inj=h1({})}}return n})();var Vp=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=p1({type:n})}static{this.\u0275inj=h1({})}}return n})(),Ux=[_p,Lp,wp,zp,Sp,Ap,Ep,Dp,Vp,Np,Tp,Ip,kp,Op,Pp,Rp,Fp,Hp],Bp=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=p1({type:n})}static{this.\u0275inj=h1({imports:[Ux,_p,Lp,wp,zp,Sp,Ap,Ep,Dp,Vp,Np,Tp,Ip,kp,Op,Pp,Rp,Fp,Hp]})}}return n})();var jp={prefix:"fab",iconName:"linkedin",icon:[448,512,[],"f08c","M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"]};var Up={prefix:"fab",iconName:"github",icon:[496,512,[],"f09b","M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"]};var $p={prefix:"fas",iconName:"school",icon:[640,512,[127979],"f549","M337.8 5.4C327-1.8 313-1.8 302.2 5.4L166.3 96 48 96C21.5 96 0 117.5 0 144L0 464c0 26.5 21.5 48 48 48l208 0 0-96c0-35.3 28.7-64 64-64s64 28.7 64 64l0 96 208 0c26.5 0 48-21.5 48-48l0-320c0-26.5-21.5-48-48-48L473.7 96 337.8 5.4zM96 192l32 0c8.8 0 16 7.2 16 16l0 64c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-64c0-8.8 7.2-16 16-16zm400 16c0-8.8 7.2-16 16-16l32 0c8.8 0 16 7.2 16 16l0 64c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-64zM96 320l32 0c8.8 0 16 7.2 16 16l0 64c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-64c0-8.8 7.2-16 16-16zm400 16c0-8.8 7.2-16 16-16l32 0c8.8 0 16 7.2 16 16l0 64c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-64zM232 176a88 88 0 1 1 176 0 88 88 0 1 1 -176 0zm88-48c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-16 0 0-16c0-8.8-7.2-16-16-16z"]};var Gp={prefix:"fas",iconName:"certificate",icon:[512,512,[],"f0a3","M211 7.3C205 1 196-1.4 187.6 .8s-14.9 8.9-17.1 17.3L154.7 80.6l-62-17.5c-8.4-2.4-17.4 0-23.5 6.1s-8.5 15.1-6.1 23.5l17.5 62L18.1 170.6c-8.4 2.1-15 8.7-17.3 17.1S1 205 7.3 211l46.2 45L7.3 301C1 307-1.4 316 .8 324.4s8.9 14.9 17.3 17.1l62.5 15.8-17.5 62c-2.4 8.4 0 17.4 6.1 23.5s15.1 8.5 23.5 6.1l62-17.5 15.8 62.5c2.1 8.4 8.7 15 17.1 17.3s17.3-.2 23.4-6.4l45-46.2 45 46.2c6.1 6.2 15 8.7 23.4 6.4s14.9-8.9 17.1-17.3l15.8-62.5 62 17.5c8.4 2.4 17.4 0 23.5-6.1s8.5-15.1 6.1-23.5l-17.5-62 62.5-15.8c8.4-2.1 15-8.7 17.3-17.1s-.2-17.4-6.4-23.4l-46.2-45 46.2-45c6.2-6.1 8.7-15 6.4-23.4s-8.9-14.9-17.3-17.1l-62.5-15.8 17.5-62c2.4-8.4 0-17.4-6.1-23.5s-15.1-8.5-23.5-6.1l-62 17.5L341.4 18.1c-2.1-8.4-8.7-15-17.1-17.3S307 1 301 7.3L256 53.5 211 7.3z"]};var Wp={prefix:"fas",iconName:"book-atlas",icon:[448,512,["atlas"],"f558","M0 96C0 43 43 0 96 0L384 0l32 0c17.7 0 32 14.3 32 32l0 320c0 17.7-14.3 32-32 32l0 64c17.7 0 32 14.3 32 32s-14.3 32-32 32l-32 0L96 512c-53 0-96-43-96-96L0 96zM64 416c0 17.7 14.3 32 32 32l256 0 0-64L96 384c-17.7 0-32 14.3-32 32zM247.4 283.8c-3.7 3.7-6.2 4.2-7.4 4.2s-3.7-.5-7.4-4.2c-3.8-3.7-8-10-11.8-18.9c-6.2-14.5-10.8-34.3-12.2-56.9l63 0c-1.5 22.6-6 42.4-12.2 56.9c-3.8 8.9-8 15.2-11.8 18.9zm42.7-9.9c7.3-18.3 12-41.1 13.4-65.9l31.1 0c-4.7 27.9-21.4 51.7-44.5 65.9zm0-163.8c23.2 14.2 39.9 38 44.5 65.9l-31.1 0c-1.4-24.7-6.1-47.5-13.4-65.9zM368 192a128 128 0 1 0 -256 0 128 128 0 1 0 256 0zM145.3 208l31.1 0c1.4 24.7 6.1 47.5 13.4 65.9c-23.2-14.2-39.9-38-44.5-65.9zm31.1-32l-31.1 0c4.7-27.9 21.4-51.7 44.5-65.9c-7.3 18.3-12 41.1-13.4 65.9zm56.1-75.8c3.7-3.7 6.2-4.2 7.4-4.2s3.7 .5 7.4 4.2c3.8 3.7 8 10 11.8 18.9c6.2 14.5 10.8 34.3 12.2 56.9l-63 0c1.5-22.6 6-42.4 12.2-56.9c3.8-8.9 8-15.2 11.8-18.9z"]};var qp={prefix:"fas",iconName:"book-bookmark",icon:[448,512,[],"e0bb","M0 96C0 43 43 0 96 0l96 0 0 190.7c0 13.4 15.5 20.9 26 12.5L272 160l54 43.2c10.5 8.4 26 .9 26-12.5L352 0l32 0 32 0c17.7 0 32 14.3 32 32l0 320c0 17.7-14.3 32-32 32l0 64c17.7 0 32 14.3 32 32s-14.3 32-32 32l-32 0L96 512c-53 0-96-43-96-96L0 96zM64 416c0 17.7 14.3 32 32 32l256 0 0-64L96 384c-17.7 0-32 14.3-32 32z"]};var Zp={prefix:"fas",iconName:"file-pdf",icon:[512,512,[],"f1c1","M0 64C0 28.7 28.7 0 64 0L224 0l0 128c0 17.7 14.3 32 32 32l128 0 0 144-208 0c-35.3 0-64 28.7-64 64l0 144-48 0c-35.3 0-64-28.7-64-64L0 64zm384 64l-128 0L256 0 384 128zM176 352l32 0c30.9 0 56 25.1 56 56s-25.1 56-56 56l-16 0 0 32c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-48 0-80c0-8.8 7.2-16 16-16zm32 80c13.3 0 24-10.7 24-24s-10.7-24-24-24l-16 0 0 48 16 0zm96-80l32 0c26.5 0 48 21.5 48 48l0 64c0 26.5-21.5 48-48 48l-32 0c-8.8 0-16-7.2-16-16l0-128c0-8.8 7.2-16 16-16zm32 128c8.8 0 16-7.2 16-16l0-64c0-8.8-7.2-16-16-16l-16 0 0 96 16 0zm80-112c0-8.8 7.2-16 16-16l48 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-32 0 0 32 32 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-32 0 0 48c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-64 0-64z"]};var Yp={prefix:"fas",iconName:"download",icon:[512,512,[],"f019","M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 242.7-73.4-73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l128-128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L288 274.7 288 32zM64 352c-35.3 0-64 28.7-64 64l0 32c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-32c0-35.3-28.7-64-64-64l-101.5 0-45.3 45.3c-25 25-65.5 25-90.5 0L165.5 352 64 352zm368 56a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"]};var Jp={prefix:"fas",iconName:"house",icon:[576,512,[127968,63498,63500,"home","home-alt","home-lg-alt"],"f015","M575.8 255.5c0 18-15 32.1-32 32.1l-32 0 .7 160.2c0 2.7-.2 5.4-.5 8.1l0 16.2c0 22.1-17.9 40-40 40l-16 0c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1L416 512l-24 0c-22.1 0-40-17.9-40-40l0-24 0-64c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32 14.3-32 32l0 64 0 24c0 22.1-17.9 40-40 40l-24 0-31.9 0c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2l-16 0c-22.1 0-40-17.9-40-40l0-112c0-.9 0-1.9 .1-2.8l0-69.7-32 0c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"]};var $x={prefix:"fas",iconName:"list-check",icon:[512,512,["tasks"],"f0ae","M152.1 38.2c9.9 8.9 10.7 24 1.8 33.9l-72 80c-4.4 4.9-10.6 7.8-17.2 7.9s-12.9-2.4-17.6-7L7 113C-2.3 103.6-2.3 88.4 7 79s24.6-9.4 33.9 0l22.1 22.1 55.1-61.2c8.9-9.9 24-10.7 33.9-1.8zm0 160c9.9 8.9 10.7 24 1.8 33.9l-72 80c-4.4 4.9-10.6 7.8-17.2 7.9s-12.9-2.4-17.6-7L7 273c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l22.1 22.1 55.1-61.2c8.9-9.9 24-10.7 33.9-1.8zM224 96c0-17.7 14.3-32 32-32l224 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-224 0c-17.7 0-32-14.3-32-32zm0 160c0-17.7 14.3-32 32-32l224 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-224 0c-17.7 0-32-14.3-32-32zM160 416c0-17.7 14.3-32 32-32l288 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-288 0c-17.7 0-32-14.3-32-32zM48 368a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"]},Kp=$x;var Qp={prefix:"fas",iconName:"school-flag",icon:[576,512,[],"e56e","M288 0L400 0c8.8 0 16 7.2 16 16l0 64c0 8.8-7.2 16-16 16l-79.3 0 89.6 64L512 160c35.3 0 64 28.7 64 64l0 224c0 35.3-28.7 64-64 64l-176 0 0-112c0-26.5-21.5-48-48-48s-48 21.5-48 48l0 112L64 512c-35.3 0-64-28.7-64-64L0 224c0-35.3 28.7-64 64-64l101.7 0L256 95.5 256 32c0-17.7 14.3-32 32-32zm48 240a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM80 224c-8.8 0-16 7.2-16 16l0 64c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-64c0-8.8-7.2-16-16-16l-32 0zm368 16l0 64c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-64c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zM80 352c-8.8 0-16 7.2-16 16l0 64c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-64c0-8.8-7.2-16-16-16l-32 0zm384 0c-8.8 0-16 7.2-16 16l0 64c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-64c0-8.8-7.2-16-16-16l-32 0z"]};var Xp={prefix:"fas",iconName:"briefcase",icon:[512,512,[128188],"f0b1","M184 48l144 0c4.4 0 8 3.6 8 8l0 40L176 96l0-40c0-4.4 3.6-8 8-8zm-56 8l0 40L64 96C28.7 96 0 124.7 0 160l0 96 192 0 128 0 192 0 0-96c0-35.3-28.7-64-64-64l-64 0 0-40c0-30.9-25.1-56-56-56L184 0c-30.9 0-56 25.1-56 56zM512 288l-192 0 0 32c0 17.7-14.3 32-32 32l-64 0c-17.7 0-32-14.3-32-32l0-32L0 288 0 416c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-128z"]};var Gx={prefix:"fas",iconName:"rectangle-xmark",icon:[512,512,[62164,"rectangle-times","times-rectangle","window-close"],"f410","M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"]};var em=Gx;var tm={prefix:"fas",iconName:"book-open",icon:[576,512,[128214,128366],"f518","M249.6 471.5c10.8 3.8 22.4-4.1 22.4-15.5l0-377.4c0-4.2-1.6-8.4-5-11C247.4 52 202.4 32 144 32C93.5 32 46.3 45.3 18.1 56.1C6.8 60.5 0 71.7 0 83.8L0 454.1c0 11.9 12.8 20.2 24.1 16.5C55.6 460.1 105.5 448 144 448c33.9 0 79 14 105.6 23.5zm76.8 0C353 462 398.1 448 432 448c38.5 0 88.4 12.1 119.9 22.6c11.3 3.8 24.1-4.6 24.1-16.5l0-370.3c0-12.1-6.8-23.3-18.1-27.6C529.7 45.3 482.5 32 432 32c-58.4 0-103.4 20-123 35.6c-3.3 2.6-5 6.8-5 11L304 456c0 11.4 11.7 19.3 22.4 15.5z"]};var nm=[jp,Up,Kp,Jp,Wp,qp,tm,Gp,Zp,em,Yp,Xp,$p,Qp];var Wx=()=>["fas","window-close"];function qx(n,e){if(n&1){let t=m2();A1(0,"div",2)(1,"h4",3),e2(2),A1(3,"a",4),be("click",function(){Ye(t);let s=Xe();return Je(s.close())}),Q1(4,"fa-icon",5),I1()()(),A1(5,"div",6),Q1(6,"img",7),I1()}if(n&2){let t=Xe();oe(2),vt(" ",t.titulo," "),oe(2),xe("icon",Ct(3,Wx)),oe(2),xe("src",t.srcImage,n4)}}var WB=(()=>{class n{constructor(t){this.modalService=t}open(t){this.modalService.open(t)}close(){this.modalService.dismissAll()}static{this.\u0275fac=function(i){return new(i||n)(r1(e3))}}static{this.\u0275cmp=re({type:n,selectors:[["app-certificado-template"]],inputs:{titulo:"titulo",srcImage:"srcImage"},standalone:!1,decls:5,vars:1,consts:[["certificado",""],[1,"btn","btn-info",3,"click"],[1,"modal-header","header-modal"],[1,"modal-title","pull-left"],[1,"m-2",2,"cursor","pointer",3,"click"],[3,"icon"],[1,"modal-body","modalcss"],[1,"imagens",3,"src"]],template:function(i,s){if(i&1){let o=m2();A1(0,"button",1),be("click",function(){Ye(o);let c=qt(4);return Je(s.open(c))}),e2(1,"Certificado"),I1(),e2(2),gt(3,qx,7,4,"ng-template",null,0,Zt)}i&2&&(oe(2),vt(`
`,s.titulo," "))},dependencies:[fn],styles:[".imagens[_ngcontent-%COMP%]{margin:5px;width:100%;height:auto}"]})}}return n})();var Zx=["*"],Yx=()=>["fas","window-close"];function Jx(n,e){if(n&1){let t=m2();A1(0,"div",8)(1,"h4",9),e2(2),A1(3,"a",10),be("click",function(){Ye(t);let s=Xe();return Je(s.close())}),Q1(4,"fa-icon",11),I1()()(),A1(5,"div",12),Q1(6,"img",13),I1()}if(n&2){let t=Xe();oe(2),vt(" ",t.titulo," "),oe(2),xe("icon",Ct(3,Yx)),oe(2),xe("src",t.srcImage,n4)}}var ZB=(()=>{class n{constructor(t){this.modalService=t}open(t){this.modalService.open(t)}close(){this.modalService.dismissAll()}static{this.\u0275fac=function(i){return new(i||n)(r1(e3))}}static{this.\u0275cmp=re({type:n,selectors:[["app-certificado-escolaridade-extra"]],inputs:{titulo:"titulo",srcImage:"srcImage"},standalone:!1,ngContentSelectors:Zx,decls:13,vars:1,consts:[["certificado",""],[1,"container-fluid"],[1,"row","justify-content-center"],[1,"col-12"],[1,"card","mt-3"],[1,"card-header"],[1,"card-content"],[1,"btn","btn-info",3,"click"],[1,"modal-header","header-modal"],[1,"modal-title","pull-left"],[1,"m-2",2,"cursor","pointer",3,"click"],[3,"icon"],[1,"modal-body","modalcss"],[1,"imagens",2,"width","100%","height","auto",3,"src"]],template:function(i,s){if(i&1){let o=m2();tn(),A1(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"h2"),e2(6),I1()(),A1(7,"div",6)(8,"button",7),be("click",function(){Ye(o);let c=qt(12);return Je(s.open(c))}),e2(9," Certificado "),I1(),nn(10),I1(),gt(11,Jx,7,4,"ng-template",null,0,Zt),I1()()()()}i&2&&(oe(6),ss(s.titulo))},dependencies:[fn],encapsulation:2})}}return n})();var vn={};c7(vn,{AbortException:()=>ZS,AnnotationEditorLayer:()=>YS,AnnotationEditorParamsType:()=>JS,AnnotationEditorType:()=>A5,AnnotationEditorUIManager:()=>KS,AnnotationLayer:()=>QS,AnnotationMode:()=>XS,ColorPicker:()=>eA,DOMSVGFactory:()=>tA,DrawLayer:()=>nA,FeatureTest:()=>iA,GlobalWorkerOptions:()=>E5,ImageKind:()=>sA,InvalidPDFException:()=>oA,MissingPDFException:()=>rA,OPS:()=>cA,OutputScale:()=>aA,PDFDataRangeTransport:()=>lA,PDFDateString:()=>uA,PDFWorker:()=>fA,PasswordResponses:()=>dA,PermissionFlag:()=>hA,PixelsPerInch:()=>pA,RenderingCancelledException:()=>mA,TextLayer:()=>gA,UnexpectedResponseException:()=>vA,Util:()=>CA,VerbosityLevel:()=>D5,XfaLayer:()=>bA,build:()=>MA,createValidAbsoluteUrl:()=>yA,fetchData:()=>_A,getDocument:()=>N5,getFilenameFromUrl:()=>LA,getPdfFilenameFromUrl:()=>wA,getXfaPageViewport:()=>zA,isDataScheme:()=>xA,isPdfFile:()=>SA,noContextMenu:()=>AA,normalizeUnicode:()=>EA,setLayerDimensions:()=>DA,shadow:()=>NA,version:()=>V4});var w4={};w4.d=(n,e)=>{for(var t in e)w4.o(e,t)&&!w4.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})};w4.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var $=globalThis.pdfjsLib={};w4.d($,{AbortException:()=>W2,AnnotationEditorLayer:()=>qS,AnnotationEditorParamsType:()=>U,AnnotationEditorType:()=>q,AnnotationEditorUIManager:()=>D4,AnnotationLayer:()=>p5,AnnotationMode:()=>wt,ColorPicker:()=>d6,DOMSVGFactory:()=>O4,DrawLayer:()=>M5,FeatureTest:()=>X1,GlobalWorkerOptions:()=>n3,ImageKind:()=>Is,InvalidPDFException:()=>Ps,MissingPDFException:()=>G2,OPS:()=>t2,OutputScale:()=>E4,PDFDataRangeTransport:()=>Qs,PDFDateString:()=>Fs,PDFWorker:()=>mn,PasswordResponses:()=>tS,PermissionFlag:()=>eS,PixelsPerInch:()=>zt,RenderingCancelledException:()=>A4,TextLayer:()=>I4,UnexpectedResponseException:()=>gn,Util:()=>k,VerbosityLevel:()=>p6,XfaLayer:()=>t6,build:()=>GS,createValidAbsoluteUrl:()=>oS,fetchData:()=>C6,getDocument:()=>BS,getFilenameFromUrl:()=>hS,getPdfFilenameFromUrl:()=>pS,getXfaPageViewport:()=>mS,isDataScheme:()=>b6,isPdfFile:()=>L5,noContextMenu:()=>Ue,normalizeUnicode:()=>uS,setLayerDimensions:()=>i3,shadow:()=>a1,version:()=>$S});var le=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Cm=[1,0,0,1,0,0],i8=[.001,0,0,.001,0,0],Kx=1e7,Ts=1.35,Qx=.35,JB=Qx/Ts,Ee={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},wt={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Xx="pdfjs_internal_editor_",q={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},U={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},eS={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},ae={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Is={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},$1={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};var M4={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};var p6={ERRORS:0,WARNINGS:1,INFOS:5},t2={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},tS={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},m6=p6.WARNINGS;function nS(n){Number.isInteger(n)&&(m6=n)}function iS(){return m6}function g6(n){m6>=p6.INFOS&&console.log(`Info: ${n}`)}function e1(n){m6>=p6.WARNINGS&&console.log(`Warning: ${n}`)}function z1(n){throw new Error(n)}function G1(n,e){n||z1(e)}function sS(n){switch(n?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function oS(n,e=null,t=null){if(!n)return null;try{if(t&&typeof n=="string"&&(t.addDefaultProtocol&&n.startsWith("www.")&&n.match(/\./g)?.length>=2&&(n=`http://${n}`),t.tryConvertEncoding))try{n=lS(n)}catch{}let i=e?new URL(n,e):new URL(n);if(sS(i))return i}catch{}return null}function a1(n,e,t,i=!1){return Object.defineProperty(n,e,{value:t,enumerable:!i,configurable:!0,writable:!1}),t}var xt=function(){function e(t,i){this.message=t,this.name=i}return e.prototype=new Error,e.constructor=e,e}(),z4=class extends xt{constructor(e,t){super(e,"PasswordException"),this.code=t}},x4=class extends xt{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}},Ps=class extends xt{constructor(e){super(e,"InvalidPDFException")}},G2=class extends xt{constructor(e){super(e,"MissingPDFException")}},gn=class extends xt{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}},s8=class extends xt{constructor(e){super(e,"FormatError")}},W2=class extends xt{constructor(e){super(e,"AbortException")}};function bm(n){(typeof n!="object"||n?.length===void 0)&&z1("Invalid argument for bytesToString");let e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);let i=[];for(let s=0;s<e;s+=t){let o=Math.min(s+t,e),r=n.subarray(s,o);i.push(String.fromCharCode.apply(null,r))}return i.join("")}function v6(n){typeof n!="string"&&z1("Invalid argument for stringToBytes");let e=n.length,t=new Uint8Array(e);for(let i=0;i<e;++i)t[i]=n.charCodeAt(i)&255;return t}function rS(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function y5(n){let e=Object.create(null);for(let[t,i]of n)e[t]=i;return e}function cS(){let n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function aS(){try{return new Function(""),!0}catch{return!1}}var X1=class{static get isLittleEndian(){return a1(this,"isLittleEndian",cS())}static get isEvalSupported(){return a1(this,"isEvalSupported",aS())}static get isOffscreenCanvasSupported(){return a1(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof navigator?.platform=="string"?a1(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof navigator?.userAgent=="string"&&navigator.userAgent.includes("Firefox")}):a1(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){return a1(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}},Qa=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0")),k=class{static makeHexColor(e,t,i){return`#${Qa[e]}${Qa[t]}${Qa[i]}`}static scaleMinMax(e,t){let i;e[0]?(e[0]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[3],t[3]*=e[3]):(i=t[0],t[0]=t[1],t[1]=i,i=t[2],t[2]=t[3],t[3]=i,e[1]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){let i=e[0]*t[0]+e[1]*t[2]+t[4],s=e[0]*t[1]+e[1]*t[3]+t[5];return[i,s]}static applyInverseTransform(e,t){let i=t[0]*t[3]-t[1]*t[2],s=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/i,o=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/i;return[s,o]}static getAxialAlignedBoundingBox(e,t){let i=this.applyTransform(e,t),s=this.applyTransform(e.slice(2,4),t),o=this.applyTransform([e[0],e[3]],t),r=this.applyTransform([e[2],e[1]],t);return[Math.min(i[0],s[0],o[0],r[0]),Math.min(i[1],s[1],o[1],r[1]),Math.max(i[0],s[0],o[0],r[0]),Math.max(i[1],s[1],o[1],r[1])]}static inverseTransform(e){let t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){let t=[e[0],e[2],e[1],e[3]],i=e[0]*t[0]+e[1]*t[2],s=e[0]*t[1]+e[1]*t[3],o=e[2]*t[0]+e[3]*t[2],r=e[2]*t[1]+e[3]*t[3],c=(i+r)/2,a=Math.sqrt((i+r)**2-4*(i*r-o*s))/2,l=c+a||1,u=c-a||1;return[Math.sqrt(l),Math.sqrt(u)]}static normalizeRect(e){let t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){let i=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),s=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(i>s)return null;let o=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),r=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return o>r?null:[i,o,s,r]}static#e(e,t,i,s,o,r,c,a,l,u){if(l<=0||l>=1)return;let f=1-l,d=l*l,h=d*l,p=f*(f*(f*e+3*l*t)+3*d*i)+h*s,m=f*(f*(f*o+3*l*r)+3*d*c)+h*a;u[0]=Math.min(u[0],p),u[1]=Math.min(u[1],m),u[2]=Math.max(u[2],p),u[3]=Math.max(u[3],m)}static#t(e,t,i,s,o,r,c,a,l,u,f,d){if(Math.abs(l)<1e-12){Math.abs(u)>=1e-12&&this.#e(e,t,i,s,o,r,c,a,-f/u,d);return}let h=u**2-4*f*l;if(h<0)return;let p=Math.sqrt(h),m=2*l;this.#e(e,t,i,s,o,r,c,a,(-u+p)/m,d),this.#e(e,t,i,s,o,r,c,a,(-u-p)/m,d)}static bezierBoundingBox(e,t,i,s,o,r,c,a,l){return l?(l[0]=Math.min(l[0],e,c),l[1]=Math.min(l[1],t,a),l[2]=Math.max(l[2],e,c),l[3]=Math.max(l[3],t,a)):l=[Math.min(e,c),Math.min(t,a),Math.max(e,c),Math.max(t,a)],this.#t(e,i,o,c,t,s,r,a,3*(-e+3*(i-o)+c),6*(e-2*i+o),3*(i-e),l),this.#t(e,i,o,c,t,s,r,a,3*(-t+3*(s-r)+a),6*(t-2*s+r),3*(s-t),l),l}};function lS(n){return decodeURIComponent(escape(n))}var Xa=null,im=null;function uS(n){return Xa||(Xa=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,im=new Map([["\uFB05","\u017Ft"]])),n.replaceAll(Xa,(e,t,i)=>t?t.normalize("NFKC"):im.get(i))}function fS(){if(typeof crypto<"u"&&typeof crypto?.randomUUID=="function")return crypto.randomUUID();let n=new Uint8Array(32);if(typeof crypto<"u"&&typeof crypto?.getRandomValues=="function")crypto.getRandomValues(n);else for(let e=0;e<32;e++)n[e]=Math.floor(Math.random()*255);return bm(n)}var _5="pdfjs_internal_id_",B2={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};function dS(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(bm(n))}var U2="http://www.w3.org/2000/svg",zt=class{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF};function C6(n,e="text"){return S(this,null,function*(){if(L4(n,document.baseURI)){let t=yield fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,i)=>{let s=new XMLHttpRequest;s.open("GET",n,!0),s.responseType=e,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(s.status===200||s.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(s.response);return}t(s.responseText);return}i(new Error(s.statusText))}},s.send(null)})})}var S4=class n{constructor({viewBox:e,scale:t,rotation:i,offsetX:s=0,offsetY:o=0,dontFlip:r=!1}){this.viewBox=e,this.scale=t,this.rotation=i,this.offsetX=s,this.offsetY=o;let c=(e[2]+e[0])/2,a=(e[3]+e[1])/2,l,u,f,d;switch(i%=360,i<0&&(i+=360),i){case 180:l=-1,u=0,f=0,d=1;break;case 90:l=0,u=1,f=1,d=0;break;case 270:l=0,u=-1,f=-1,d=0;break;case 0:l=1,u=0,f=0,d=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}r&&(f=-f,d=-d);let h,p,m,v;l===0?(h=Math.abs(a-e[1])*t+s,p=Math.abs(c-e[0])*t+o,m=(e[3]-e[1])*t,v=(e[2]-e[0])*t):(h=Math.abs(c-e[0])*t+s,p=Math.abs(a-e[1])*t+o,m=(e[2]-e[0])*t,v=(e[3]-e[1])*t),this.transform=[l*t,u*t,f*t,d*t,h-l*t*c-f*t*a,p-u*t*c-d*t*a],this.width=m,this.height=v}get rawDims(){let{viewBox:e}=this;return a1(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:i=this.offsetX,offsetY:s=this.offsetY,dontFlip:o=!1}={}){return new n({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:i,offsetY:s,dontFlip:o})}convertToViewportPoint(e,t){return k.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){let t=k.applyTransform([e[0],e[1]],this.transform),i=k.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],i[0],i[1]]}convertToPdfPoint(e,t){return k.applyInverseTransform([e,t],this.transform)}},A4=class extends xt{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}};function b6(n){let e=n.length,t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function L5(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function hS(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function pS(n,e="document.pdf"){if(typeof n!="string")return e;if(b6(n))return e1('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;let t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,i=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,s=t.exec(n),o=i.exec(s[1])||i.exec(s[2])||i.exec(s[3]);if(o&&(o=o[0],o.includes("%")))try{o=i.exec(decodeURIComponent(o))[0]}catch{}return o||e}var Rs=class{started=Object.create(null);times=[];time(e){e in this.started&&e1(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||e1(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){let e=[],t=0;for(let{name:i}of this.times)t=Math.max(i.length,t);for(let{name:i,start:s,end:o}of this.times)e.push(`${i.padEnd(t)} ${o-s}ms
`);return e.join("")}};function L4(n,e){try{let{protocol:t}=e?new URL(n,e):new URL(n);return t==="http:"||t==="https:"}catch{return!1}}function Ue(n){n.preventDefault()}function sm(n){console.log("Deprecated API usage: "+n)}var Fs=class{static#e;static toDateObject(e){if(!e||typeof e!="string")return null;this.#e||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");let t=this.#e.exec(e);if(!t)return null;let i=parseInt(t[1],10),s=parseInt(t[2],10);s=s>=1&&s<=12?s-1:0;let o=parseInt(t[3],10);o=o>=1&&o<=31?o:1;let r=parseInt(t[4],10);r=r>=0&&r<=23?r:0;let c=parseInt(t[5],10);c=c>=0&&c<=59?c:0;let a=parseInt(t[6],10);a=a>=0&&a<=59?a:0;let l=t[7]||"Z",u=parseInt(t[8],10);u=u>=0&&u<=23?u:0;let f=parseInt(t[9],10)||0;return f=f>=0&&f<=59?f:0,l==="-"?(r+=u,c+=f):l==="+"&&(r-=u,c-=f),new Date(Date.UTC(i,s,o,r,c,a))}};function mS(n,{scale:e=1,rotation:t=0}){let{width:i,height:s}=n.attributes.style,o=[0,0,parseInt(i),parseInt(s)];return new S4({viewBox:o,scale:e,rotation:t})}function w5(n){if(n.startsWith("#")){let e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(e1(`Not a valid color format: "${n}"`),[0,0,0])}function gS(n){let e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(let t of n.keys()){e.style.color=t;let i=window.getComputedStyle(e).color;n.set(t,w5(i))}e.remove()}function E1(n){let{a:e,b:t,c:i,d:s,e:o,f:r}=n.getTransform();return[e,t,i,s,o,r]}function j2(n){let{a:e,b:t,c:i,d:s,e:o,f:r}=n.getTransform().invertSelf();return[e,t,i,s,o,r]}function i3(n,e,t=!1,i=!0){if(e instanceof S4){let{pageWidth:s,pageHeight:o}=e.rawDims,{style:r}=n,c=X1.isCSSRoundSupported,a=`var(--scale-factor) * ${s}px`,l=`var(--scale-factor) * ${o}px`,u=c?`round(down, ${a}, var(--scale-round-x, 1px))`:`calc(${a})`,f=c?`round(down, ${l}, var(--scale-round-y, 1px))`:`calc(${l})`;!t||e.rotation%180===0?(r.width=u,r.height=f):(r.width=f,r.height=u)}i&&n.setAttribute("data-main-rotation",e.rotation)}var E4=class{constructor(){let e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}},o8=class n{#e=null;#t=null;#n;#i=null;#s=null;static#o=null;constructor(e){this.#n=e,n.#o||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"})}render(){let e=this.#e=document.createElement("div");e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");let t=this.#n._uiManager._signal;e.addEventListener("contextmenu",Ue,{signal:t}),e.addEventListener("pointerdown",n.#a,{signal:t});let i=this.#i=document.createElement("div");i.className="buttons",e.append(i);let s=this.#n.toolbarPosition;if(s){let{style:o}=e,r=this.#n._uiManager.direction==="ltr"?1-s[0]:s[0];o.insetInlineEnd=`${100*r}%`,o.top=`calc(${100*s[1]}% + var(--editor-toolbar-vert-offset))`}return this.#f(),e}get div(){return this.#e}static#a(e){e.stopPropagation()}#l(e){this.#n._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()}#u(e){this.#n._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()}#c(e){let t=this.#n._uiManager._signal;e.addEventListener("focusin",this.#l.bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",this.#u.bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Ue,{signal:t})}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden"),this.#s?.shown()}#f(){let{editorType:e,_uiManager:t}=this.#n,i=document.createElement("button");i.className="delete",i.tabIndex=0,i.setAttribute("data-l10n-id",n.#o[e]),this.#c(i),i.addEventListener("click",s=>{t.delete()},{signal:t._signal}),this.#i.append(i)}get#r(){let e=document.createElement("div");return e.className="divider",e}addAltText(e){return S(this,null,function*(){let t=yield e.render();this.#c(t),this.#i.prepend(t,this.#r),this.#s=e})}addColorPicker(e){this.#t=e;let t=e.renderButton();this.#c(t),this.#i.prepend(t,this.#r)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}},r8=class{#e=null;#t=null;#n;constructor(e){this.#n=e}#i(){let e=this.#t=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Ue,{signal:this.#n._signal});let t=this.#e=document.createElement("div");return t.className="buttons",e.append(t),this.#o(),e}#s(e,t){let i=0,s=0;for(let o of e){let r=o.y+o.height;if(r<i)continue;let c=o.x+(t?o.width:0);if(r>i){s=c,i=r;continue}t?c>s&&(s=c):c<s&&(s=c)}return[t?1-s:s,i]}show(e,t,i){let[s,o]=this.#s(t,i),{style:r}=this.#t||=this.#i();e.append(this.#t),r.insetInlineEnd=`${100*s}%`,r.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){this.#t.remove()}#o(){let e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");let t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");let i=this.#n._signal;e.addEventListener("contextmenu",Ue,{signal:i}),e.addEventListener("click",()=>{this.#n.highlightSelection("floating_button")},{signal:i}),this.#e.append(e)}};function Hs(n,e,t){for(let i of t)e.addEventListener(i,n[i].bind(n))}function vS(n){return Math.round(Math.min(255,Math.max(1,255*n))).toString(16).padStart(2,"0")}var c8=class{#e=0;get id(){return`${Xx}${this.#e++}`}},a8=class n{#e=fS();#t=0;#n=null;static get _isSVGFittingCanvas(){let e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),s=new Image;s.src=e;let o=s.decode().then(()=>(i.drawImage(s,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return a1(this,"_isSVGFittingCanvas",o)}#i(e,t){return S(this,null,function*(){this.#n||=new Map;let i=this.#n.get(e);if(i===null)return null;if(i?.bitmap)return i.refCounter+=1,i;try{i||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let s;if(typeof t=="string"?(i.url=t,s=yield C6(t,"blob")):t instanceof File?s=i.file=t:t instanceof Blob&&(s=t),s.type==="image/svg+xml"){let o=n._isSVGFittingCanvas,r=new FileReader,c=new Image,a=new Promise((l,u)=>{c.onload=()=>{i.bitmap=c,i.isSvg=!0,l()},r.onload=()=>S(this,null,function*(){let f=i.svgUrl=r.result;c.src=(yield o)?`${f}#svgView(preserveAspectRatio(none))`:f}),c.onerror=r.onerror=u});r.readAsDataURL(s),yield a}else i.bitmap=yield createImageBitmap(s);i.refCounter=1}catch(s){console.error(s),i=null}return this.#n.set(e,i),i&&this.#n.set(i.id,i),i})}getFromFile(e){return S(this,null,function*(){let{lastModified:t,name:i,size:s,type:o}=e;return this.#i(`${t}_${i}_${s}_${o}`,e)})}getFromUrl(e){return S(this,null,function*(){return this.#i(e,e)})}getFromBlob(e,t){return S(this,null,function*(){let i=yield t;return this.#i(e,i)})}getFromId(e){return S(this,null,function*(){this.#n||=new Map;let t=this.#n.get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){let{blobPromise:i}=t;return delete t.blobPromise,this.getFromBlob(t.id,i)}return this.getFromUrl(t.url)})}getFromCanvas(e,t){this.#n||=new Map;let i=this.#n.get(e);if(i?.bitmap)return i.refCounter+=1,i;let s=new OffscreenCanvas(t.width,t.height);return s.getContext("2d").drawImage(t,0,0),i={bitmap:s.transferToImageBitmap(),id:`image_${this.#e}_${this.#t++}`,refCounter:1,isSvg:!1},this.#n.set(e,i),this.#n.set(i.id,i),i}getSvgUrl(e){let t=this.#n.get(e);return t?.isSvg?t.svgUrl:null}deleteId(e){this.#n||=new Map;let t=this.#n.get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;let{bitmap:i}=t;if(!t.url&&!t.file){let s=new OffscreenCanvas(i.width,i.height);s.getContext("bitmaprenderer").transferFromImageBitmap(i),t.blobPromise=s.convertToBlob()}i.close?.(),t.bitmap=null}isValidId(e){return e.startsWith(`image_${this.#e}_`)}},l8=class{#e=[];#t=!1;#n;#i=-1;constructor(e=128){this.#n=e}add({cmd:e,undo:t,post:i,mustExec:s,type:o=NaN,overwriteIfSameType:r=!1,keepUndo:c=!1}){if(s&&e(),this.#t)return;let a={cmd:e,undo:t,post:i,type:o};if(this.#i===-1){this.#e.length>0&&(this.#e.length=0),this.#i=0,this.#e.push(a);return}if(r&&this.#e[this.#i].type===o){c&&(a.undo=this.#e[this.#i].undo),this.#e[this.#i]=a;return}let l=this.#i+1;l===this.#n?this.#e.splice(0,1):(this.#i=l,l<this.#e.length&&this.#e.splice(l)),this.#e.push(a)}undo(){if(this.#i===-1)return;this.#t=!0;let{undo:e,post:t}=this.#e[this.#i];e(),t?.(),this.#t=!1,this.#i-=1}redo(){if(this.#i<this.#e.length-1){this.#i+=1,this.#t=!0;let{cmd:e,post:t}=this.#e[this.#i];e(),t?.(),this.#t=!1}}hasSomethingToUndo(){return this.#i!==-1}hasSomethingToRedo(){return this.#i<this.#e.length-1}destroy(){this.#e=null}},s3=class{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;let{isMac:t}=X1.platform;for(let[i,s,o={}]of e)for(let r of i){let c=r.startsWith("mac+");t&&c?(this.callbacks.set(r.slice(4),{callback:s,options:o}),this.allKeys.add(r.split("+").at(-1))):!t&&!c&&(this.callbacks.set(r,{callback:s,options:o}),this.allKeys.add(r.split("+").at(-1)))}}#e(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);let t=this.buffer.join("+");return this.buffer.length=0,t}exec(e,t){if(!this.allKeys.has(t.key))return;let i=this.callbacks.get(this.#e(t));if(!i)return;let{callback:s,options:{bubbles:o=!1,args:r=[],checker:c=null}}=i;c&&!c(e,t)||(s.bind(e,...r,t)(),o||(t.stopPropagation(),t.preventDefault()))}},u8=class n{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){let e=new Map([["CanvasText",null],["Canvas",null]]);return gS(e),a1(this,"_colors",e)}convert(e){let t=w5(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(let[i,s]of this._colors)if(s.every((o,r)=>o===t[r]))return n._colorsMapping.get(i);return t}getHexCode(e){let t=this._colors.get(e);return t?k.makeHexColor(...t):e}},D4=(()=>{class n{#e=new AbortController;#t=null;#n=new Map;#i=new Map;#s=null;#o=null;#a=null;#l=new l8;#u=null;#c=0;#f=new Set;#r=null;#d=null;#p=new Set;#h=!1;#m=!1;#v=!1;#g=null;#C=null;#M=null;#L=null;#y=!1;#_=null;#D=new c8;#S=!1;#w=!1;#A=null;#x=null;#N=null;#I=null;#z=q.NONE;#b=new Set;#E=null;#T=null;#R=null;#B={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#V=[0,0];#P=null;#F=null;#H=null;#k=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){let t=n.prototype,i=c=>c.#F.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&c.hasSomethingToControl(),s=(c,{target:a})=>{if(a instanceof HTMLInputElement){let{type:l}=a;return l!=="text"&&l!=="number"}return!0},o=this.TRANSLATE_SMALL,r=this.TRANSLATE_BIG;return a1(this,"_keyboardManager",new s3([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:s}],[["ctrl+z","mac+meta+z"],t.undo,{checker:s}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:s}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:s}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(c,{target:a})=>!(a instanceof HTMLButtonElement)&&c.#F.contains(a)&&!c.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(c,{target:a})=>!(a instanceof HTMLButtonElement)&&c.#F.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-o,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:i}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[o,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:i}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-o],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:i}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,o],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:i}]]))}constructor(t,i,s,o,r,c,a,l,u,f,d){let h=this._signal=this.#e.signal;this.#F=t,this.#H=i,this.#s=s,this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:h}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:h}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:h}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:h}),o._on("setpreference",this.onSetPreference.bind(this),{signal:h}),o._on("switchannotationeditorparams",p=>this.updateParams(p.type,p.value),{signal:h}),this.#e1(),this.#s1(),this.#q(),this.#o=r.annotationStorage,this.#g=r.filterFactory,this.#T=c,this.#L=a||null,this.#h=l,this.#m=u,this.#v=f,this.#I=d||null,this.viewParameters={realScale:zt.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}destroy(){this.#k?.resolve(),this.#k=null,this.#e?.abort(),this.#e=null,this._signal=null;for(let t of this.#i.values())t.destroy();this.#i.clear(),this.#n.clear(),this.#p.clear(),this.#t=null,this.#b.clear(),this.#l.destroy(),this.#s?.destroy(),this.#_?.hide(),this.#_=null,this.#C&&(clearTimeout(this.#C),this.#C=null),this.#P&&(clearTimeout(this.#P),this.#P=null)}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return this.#I}get useNewAltTextFlow(){return this.#m}get useNewAltTextWhenAddingImage(){return this.#v}get hcmFilter(){return a1(this,"hcmFilter",this.#T?this.#g.addHCMFilter(this.#T.foreground,this.#T.background):"none")}get direction(){return a1(this,"direction",getComputedStyle(this.#F).direction)}get highlightColors(){return a1(this,"highlightColors",this.#L?new Map(this.#L.split(",").map(t=>t.split("=").map(i=>i.trim()))):null)}get highlightColorNames(){return a1(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setMainHighlightColorPicker(t){this.#N=t}editAltText(t,i=!1){this.#s?.editAltText(this,t,i)}switchToMode(t,i){this._eventBus.on("annotationeditormodechanged",i,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,i){this._eventBus.dispatch("setpreference",{source:this,name:t,value:i})}onSetPreference({name:t,value:i}){switch(t){case"enableNewAltTextWhenAddingImage":this.#v=i;break}}onPageChanging({pageNumber:t}){this.#c=t-1}focusMainContainer(){this.#F.focus()}findParent(t,i){for(let s of this.#i.values()){let{x:o,y:r,width:c,height:a}=s.div.getBoundingClientRect();if(t>=o&&t<=o+c&&i>=r&&i<=r+a)return s}return null}disableUserSelect(t=!1){this.#H.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#p.add(t)}removeShouldRescale(t){this.#p.delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*zt.PDF_TO_CSS_UNITS;for(let i of this.#p)i.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}#$({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t}#W(t){let{currentLayer:i}=this;if(i.hasTextLayer(t))return i;for(let s of this.#i.values())if(s.hasTextLayer(t))return s;return null}highlightSelection(t=""){let i=document.getSelection();if(!i||i.isCollapsed)return;let{anchorNode:s,anchorOffset:o,focusNode:r,focusOffset:c}=i,a=i.toString(),u=this.#$(i).closest(".textLayer"),f=this.getSelectionBoxes(u);if(!f)return;i.empty();let d=this.#W(u),h=this.#z===q.NONE,p=()=>{d?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:f,anchorNode:s,anchorOffset:o,focusNode:r,focusOffset:c,text:a}),h&&this.showAllEditors("highlight",!0,!0)};if(h){this.switchToMode(q.HIGHLIGHT,p);return}p()}#Q(){let t=document.getSelection();if(!t||t.isCollapsed)return;let s=this.#$(t).closest(".textLayer"),o=this.getSelectionBoxes(s);o&&(this.#_||=new r8(this),this.#_.show(s,o,this.direction==="ltr"))}addToAnnotationStorage(t){!t.isEmpty()&&this.#o&&!this.#o.has(t.id)&&this.#o.setValue(t.id,t)}#X(){let t=document.getSelection();if(!t||t.isCollapsed){this.#E&&(this.#_?.hide(),this.#E=null,this.#O({hasSelectedText:!1}));return}let{anchorNode:i}=t;if(i===this.#E)return;let o=this.#$(t).closest(".textLayer");if(!o){this.#E&&(this.#_?.hide(),this.#E=null,this.#O({hasSelectedText:!1}));return}if(this.#_?.hide(),this.#E=i,this.#O({hasSelectedText:!0}),!(this.#z!==q.HIGHLIGHT&&this.#z!==q.NONE)&&(this.#z===q.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#y=this.isShiftKeyDown,!this.isShiftKeyDown)){let r=this.#z===q.HIGHLIGHT?this.#W(o):null;r?.toggleDrawing();let c=new AbortController,a=this.combinedSignal(c),l=u=>{u.type==="pointerup"&&u.button!==0||(c.abort(),r?.toggleDrawing(!0),u.type==="pointerup"&&this.#G("main_toolbar"))};window.addEventListener("pointerup",l,{signal:a}),window.addEventListener("blur",l,{signal:a})}}#G(t=""){this.#z===q.HIGHLIGHT?this.highlightSelection(t):this.#h&&this.#Q()}#e1(){document.addEventListener("selectionchange",this.#X.bind(this),{signal:this._signal})}#t1(){if(this.#M)return;this.#M=new AbortController;let t=this.combinedSignal(this.#M);window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}#n1(){this.#M?.abort(),this.#M=null}blur(){if(this.isShiftKeyDown=!1,this.#y&&(this.#y=!1,this.#G("main_toolbar")),!this.hasSelection)return;let{activeElement:t}=document;for(let i of this.#b)if(i.div.contains(t)){this.#x=[i,t],i._focusEventsAllowed=!1;break}}focus(){if(!this.#x)return;let[t,i]=this.#x;this.#x=null,i.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),i.focus()}#q(){if(this.#A)return;this.#A=new AbortController;let t=this.combinedSignal(this.#A);window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}#i1(){this.#A?.abort(),this.#A=null}#Z(){if(this.#u)return;this.#u=new AbortController;let t=this.combinedSignal(this.#u);document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}#Y(){this.#u?.abort(),this.#u=null}#s1(){let t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#q(),this.#Z()}removeEditListeners(){this.#i1(),this.#Y()}dragOver(t){for(let{type:i}of t.dataTransfer.items)for(let s of this.#d)if(s.isHandlingMimeForPasting(i)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(let i of t.dataTransfer.items)for(let s of this.#d)if(s.isHandlingMimeForPasting(i.type)){s.paste(i,this.currentLayer),t.preventDefault();return}}copy(t){if(t.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;let i=[];for(let s of this.#b){let o=s.serialize(!0);o&&i.push(o)}i.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(i))}cut(t){this.copy(t),this.delete()}paste(t){return S(this,null,function*(){t.preventDefault();let{clipboardData:i}=t;for(let r of i.items)for(let c of this.#d)if(c.isHandlingMimeForPasting(r.type)){c.paste(r,this.currentLayer);return}let s=i.getData("application/pdfjs");if(!s)return;try{s=JSON.parse(s)}catch(r){e1(`paste: "${r.message}".`);return}if(!Array.isArray(s))return;this.unselectAll();let o=this.currentLayer;try{let r=[];for(let l of s){let u=yield o.deserialize(l);if(!u)return;r.push(u)}let c=()=>{for(let l of r)this.#J(l);this.#K(r)},a=()=>{for(let l of r)l.remove()};this.addCommands({cmd:c,undo:a,mustExec:!0})}catch(r){e1(`paste: "${r.message}".`)}})}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),this.#z!==q.NONE&&!this.isEditorHandlingKeyboard&&n._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,this.#y&&(this.#y=!1,this.#G("main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}#O(t){Object.entries(t).some(([s,o])=>this.#B[s]!==o)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#B,t)}),this.#z===q.HIGHLIGHT&&t.hasSelectedEditor===!1&&this.#j([[U.HIGHLIGHT_FREE,!0]]))}#j(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#t1(),this.#Z(),this.#O({isEditing:this.#z!==q.NONE,isEmpty:this.#U(),hasSomethingToUndo:this.#l.hasSomethingToUndo(),hasSomethingToRedo:this.#l.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#n1(),this.#Y(),this.#O({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#d){this.#d=t;for(let i of this.#d)this.#j(i.defaultPropertiesToUpdate)}}getId(){return this.#D.id}get currentLayer(){return this.#i.get(this.#c)}getLayer(t){return this.#i.get(t)}get currentPageIndex(){return this.#c}addLayer(t){this.#i.set(t.pageIndex,t),this.#S?t.enable():t.disable()}removeLayer(t){this.#i.delete(t.pageIndex)}updateMode(t,i=null,s=!1){return S(this,null,function*(){if(this.#z!==t&&!(this.#k&&(yield this.#k.promise,!this.#k))){if(this.#k=Promise.withResolvers(),this.#z=t,t===q.NONE){this.setEditingState(!1),this.#r1(),this.#k.resolve();return}this.setEditingState(!0),yield this.#o1(),this.unselectAll();for(let o of this.#i.values())o.updateMode(t);if(!i){s&&this.addNewEditorFromKeyboard(),this.#k.resolve();return}for(let o of this.#n.values())o.annotationElementId===i?(this.setSelected(o),o.enterInEditMode()):o.unselect();this.#k.resolve()}})}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==this.#z&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,i){if(this.#d){switch(t){case U.CREATE:this.currentLayer.addNewEditor();return;case U.HIGHLIGHT_DEFAULT_COLOR:this.#N?.updateColor(i);break;case U.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#R||=new Map).set(t,i),this.showAllEditors("highlight",i);break}for(let s of this.#b)s.updateParams(t,i);for(let s of this.#d)s.updateDefaultParams(t,i)}}showAllEditors(t,i,s=!1){for(let r of this.#n.values())r.editorType===t&&r.show(i);(this.#R?.get(U.HIGHLIGHT_SHOW_ALL)??!0)!==i&&this.#j([[U.HIGHLIGHT_SHOW_ALL,i]])}enableWaiting(t=!1){if(this.#w!==t){this.#w=t;for(let i of this.#i.values())t?i.disableClick():i.enableClick(),i.div.classList.toggle("waiting",t)}}#o1(){return S(this,null,function*(){if(!this.#S){this.#S=!0;let t=[];for(let i of this.#i.values())t.push(i.enable());yield Promise.all(t);for(let i of this.#n.values())i.enable()}})}#r1(){if(this.unselectAll(),this.#S){this.#S=!1;for(let t of this.#i.values())t.disable();for(let t of this.#n.values())t.disable()}}getEditors(t){let i=[];for(let s of this.#n.values())s.pageIndex===t&&i.push(s);return i}getEditor(t){return this.#n.get(t)}addEditor(t){this.#n.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#C&&clearTimeout(this.#C),this.#C=setTimeout(()=>{this.focusMainContainer(),this.#C=null},0)),this.#n.delete(t.id),this.unselect(t),(!t.annotationElementId||!this.#f.has(t.annotationElementId))&&this.#o?.remove(t.id)}addDeletedAnnotationElement(t){this.#f.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#f.has(t)}removeDeletedAnnotationElement(t){this.#f.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#J(t){let i=this.#i.get(t.pageIndex);i?i.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#t!==t&&(this.#t=t,t&&this.#j(t.propertiesToUpdate))}get#c1(){let t=null;for(t of this.#b);return t}updateUI(t){this.#c1===t&&this.#j(t.propertiesToUpdate)}toggleSelected(t){if(this.#b.has(t)){this.#b.delete(t),t.unselect(),this.#O({hasSelectedEditor:this.hasSelection});return}this.#b.add(t),t.select(),this.#j(t.propertiesToUpdate),this.#O({hasSelectedEditor:!0})}setSelected(t){for(let i of this.#b)i!==t&&i.unselect();this.#b.clear(),this.#b.add(t),t.select(),this.#j(t.propertiesToUpdate),this.#O({hasSelectedEditor:!0})}isSelected(t){return this.#b.has(t)}get firstSelectedEditor(){return this.#b.values().next().value}unselect(t){t.unselect(),this.#b.delete(t),this.#O({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#b.size!==0}get isEnterHandled(){return this.#b.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#l.undo(),this.#O({hasSomethingToUndo:this.#l.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#U()})}redo(){this.#l.redo(),this.#O({hasSomethingToUndo:!0,hasSomethingToRedo:this.#l.hasSomethingToRedo(),isEmpty:this.#U()})}addCommands(t){this.#l.add(t),this.#O({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#U()})}#U(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(let t of this.#n.values())return t.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;let t=[...this.#b],i=()=>{for(let o of t)o.remove()},s=()=>{for(let o of t)this.#J(o)};this.addCommands({cmd:i,undo:s,mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#K(t){for(let i of this.#b)i.unselect();this.#b.clear();for(let i of t)i.isEmpty()||(this.#b.add(i),i.select());this.#O({hasSelectedEditor:this.hasSelection})}selectAll(){for(let t of this.#b)t.commit();this.#K(this.#n.values())}unselectAll(){if(!(this.#t&&(this.#t.commitOrRemove(),this.#z!==q.NONE))&&this.hasSelection){for(let t of this.#b)t.unselect();this.#b.clear(),this.#O({hasSelectedEditor:!1})}}translateSelectedEditors(t,i,s=!1){if(s||this.commitOrRemove(),!this.hasSelection)return;this.#V[0]+=t,this.#V[1]+=i;let[o,r]=this.#V,c=[...this.#b],a=1e3;this.#P&&clearTimeout(this.#P),this.#P=setTimeout(()=>{this.#P=null,this.#V[0]=this.#V[1]=0,this.addCommands({cmd:()=>{for(let l of c)this.#n.has(l.id)&&l.translateInPage(o,r)},undo:()=>{for(let l of c)this.#n.has(l.id)&&l.translateInPage(-o,-r)},mustExec:!1})},a);for(let l of c)l.translateInPage(t,i)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#r=new Map;for(let t of this.#b)this.#r.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#r)return!1;this.disableUserSelect(!1);let t=this.#r;this.#r=null;let i=!1;for(let[{x:o,y:r,pageIndex:c},a]of t)a.newX=o,a.newY=r,a.newPageIndex=c,i||=o!==a.savedX||r!==a.savedY||c!==a.savedPageIndex;if(!i)return!1;let s=(o,r,c,a)=>{if(this.#n.has(o.id)){let l=this.#i.get(a);l?o._setParentAndPosition(l,r,c):(o.pageIndex=a,o.x=r,o.y=c)}};return this.addCommands({cmd:()=>{for(let[o,{newX:r,newY:c,newPageIndex:a}]of t)s(o,r,c,a)},undo:()=>{for(let[o,{savedX:r,savedY:c,savedPageIndex:a}]of t)s(o,r,c,a)},mustExec:!0}),!0}dragSelectedEditors(t,i){if(this.#r)for(let s of this.#r.keys())s.drag(t,i)}rebuild(t){if(t.parent===null){let i=this.getLayer(t.pageIndex);i?(i.changeParent(t),i.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#b.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#t===t}getActive(){return this.#t}getMode(){return this.#z}get imageManager(){return a1(this,"imageManager",new a8)}getSelectionBoxes(t){if(!t)return null;let i=document.getSelection();for(let u=0,f=i.rangeCount;u<f;u++)if(!t.contains(i.getRangeAt(u).commonAncestorContainer))return null;let{x:s,y:o,width:r,height:c}=t.getBoundingClientRect(),a;switch(t.getAttribute("data-main-rotation")){case"90":a=(u,f,d,h)=>({x:(f-o)/c,y:1-(u+d-s)/r,width:h/c,height:d/r});break;case"180":a=(u,f,d,h)=>({x:1-(u+d-s)/r,y:1-(f+h-o)/c,width:d/r,height:h/c});break;case"270":a=(u,f,d,h)=>({x:1-(f+h-o)/c,y:(u-s)/r,width:h/c,height:d/r});break;default:a=(u,f,d,h)=>({x:(u-s)/r,y:(f-o)/c,width:d/r,height:h/c});break}let l=[];for(let u=0,f=i.rangeCount;u<f;u++){let d=i.getRangeAt(u);if(!d.collapsed)for(let{x:h,y:p,width:m,height:v}of d.getClientRects())m===0||v===0||l.push(a(h,p,m,v))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:t,id:i}){(this.#a||=new Map).set(t,i)}removeChangedExistingAnnotation({annotationElementId:t}){this.#a?.delete(t)}renderAnnotationElement(t){let i=this.#a?.get(t.data.id);if(!i)return;let s=this.#o.getRawValue(i);s&&(this.#z===q.NONE&&!s.hasBeenModified||s.renderAnnotationElement(t))}}return n})(),om=(()=>{class n{#e=null;#t=!1;#n=null;#i=null;#s=null;#o=null;#a=!1;#l=null;#u=null;#c=null;#f=null;#r=!1;static#d=null;static _l10n=null;constructor(t){this.#u=t,this.#r=t._uiManager.useNewAltTextFlow,n.#d||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(t){n._l10n??=t}render(){return S(this,null,function*(){let t=this.#n=document.createElement("button");t.className="altText",t.tabIndex="0";let i=this.#i=document.createElement("span");t.append(i),this.#r?(t.classList.add("new"),t.setAttribute("data-l10n-id",n.#d.missing),i.setAttribute("data-l10n-id",n.#d["missing-label"])):(t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),i.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));let s=this.#u._uiManager._signal;t.addEventListener("contextmenu",Ue,{signal:s}),t.addEventListener("pointerdown",r=>r.stopPropagation(),{signal:s});let o=r=>{r.preventDefault(),this.#u._uiManager.editAltText(this.#u),this.#r&&this.#u._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#p}})};return t.addEventListener("click",o,{capture:!0,signal:s}),t.addEventListener("keydown",r=>{r.target===t&&r.key==="Enter"&&(this.#a=!0,o(r))},{signal:s}),yield this.#h(),t})}get#p(){return this.#e&&"added"||this.#e===null&&this.guessedText&&"review"||"missing"}finish(){this.#n&&(this.#n.focus({focusVisible:this.#a}),this.#a=!1)}isEmpty(){return this.#r?this.#e===null:!this.#e&&!this.#t}hasData(){return this.#r?this.#e!==null||!!this.#c:this.isEmpty()}get guessedText(){return this.#c}setGuessedText(t){return S(this,null,function*(){this.#e===null&&(this.#c=t,this.#f=yield n._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:t}),this.#h())})}toggleAltTextBadge(t=!1){if(!this.#r||this.#e){this.#l?.remove(),this.#l=null;return}if(!this.#l){let i=this.#l=document.createElement("div");i.className="noAltTextBadge",this.#u.div.append(i)}this.#l.classList.toggle("hidden",!t)}serialize(t){let i=this.#e;return!t&&this.#c===i&&(i=this.#f),{altText:i,decorative:this.#t,guessedText:this.#c,textWithDisclaimer:this.#f}}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:t,decorative:i,guessedText:s,textWithDisclaimer:o,cancel:r=!1}){s&&(this.#c=s,this.#f=o),!(this.#e===t&&this.#t===i)&&(r||(this.#e=t,this.#t=i),this.#h())}toggle(t=!1){this.#n&&(!t&&this.#o&&(clearTimeout(this.#o),this.#o=null),this.#n.disabled=!t)}shown(){this.#u._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#p}})}destroy(){this.#n?.remove(),this.#n=null,this.#i=null,this.#s=null,this.#l?.remove(),this.#l=null}#h(){return S(this,null,function*(){let t=this.#n;if(!t)return;if(this.#r){if(t.classList.toggle("done",!!this.#e),t.setAttribute("data-l10n-id",n.#d[this.#p]),this.#i?.setAttribute("data-l10n-id",n.#d[`${this.#p}-label`]),!this.#e){this.#s?.remove();return}}else{if(!this.#e&&!this.#t){t.classList.remove("done"),this.#s?.remove();return}t.classList.add("done"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let i=this.#s;if(!i){this.#s=i=document.createElement("span"),i.className="tooltip",i.setAttribute("role","tooltip"),i.id=`alt-text-tooltip-${this.#u.id}`;let o=100,r=this.#u._uiManager._signal;r.addEventListener("abort",()=>{clearTimeout(this.#o),this.#o=null},{once:!0}),t.addEventListener("mouseenter",()=>{this.#o=setTimeout(()=>{this.#o=null,this.#s.classList.add("show"),this.#u._reportTelemetry({action:"alt_text_tooltip"})},o)},{signal:r}),t.addEventListener("mouseleave",()=>{this.#o&&(clearTimeout(this.#o),this.#o=null),this.#s?.classList.remove("show")},{signal:r})}this.#t?i.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(i.removeAttribute("data-l10n-id"),i.textContent=this.#e),i.parentNode||t.append(i),this.#u.getImageForAltText()?.setAttribute("aria-describedby",i.id)})}}return n})(),C1=class n{#e=null;#t=null;#n=null;#i=!1;#s=!1;#o=null;#a=null;#l=null;#u="";#c=!1;#f=null;#r=!1;#d=!1;#p=!1;#h=null;#m=0;#v=0;#g=null;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#C=!1;#M=n._zIndex++;static _borderLineWidth=-1;static _colorManager=new u8;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){let e=n.prototype._resizeWithKeyboard,t=D4.TRANSLATE_SMALL,i=D4.TRANSLATE_BIG;return a1(this,"_resizerKeyboardManager",new s3([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,i]}],[["Escape","mac+Escape"],n.prototype._stopResizingWithKeyboard]]))}constructor(e){this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;let{rotation:t,rawDims:{pageWidth:i,pageHeight:s,pageX:o,pageY:r}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,s],this.pageTranslation=[o,r];let[c,a]=this.parentDimensions;this.x=e.x/c,this.y=e.y/a,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return a1(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){let t=new f8({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(n._l10n??=e,n._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),n._borderLineWidth!==-1)return;let i=getComputedStyle(document.documentElement);n._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){z1("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#C}set _isDraggable(e){this.#C=e,this.div?.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){let[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#M}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):this.#R(),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#c?this.#c=!1:this.parent.setSelected(this))}focusout(e){!this._focusEventsAllowed||!this.isAttachedToDOM||e.relatedTarget?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,i,s){let[o,r]=this.parentDimensions;[i,s]=this.screenToPageTranslation(i,s),this.x=(e+i)/o,this.y=(t+s)/r,this.fixAndSetPosition()}#L([e,t],i,s){[i,s]=this.screenToPageTranslation(i,s),this.x+=i/e,this.y+=s/t,this.fixAndSetPosition()}translate(e,t){this.#L(this.parentDimensions,e,t)}translateInPage(e,t){this.#f||=[this.x,this.y],this.#L(this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){this.#f||=[this.x,this.y];let[i,s]=this.parentDimensions;if(this.x+=e/i,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){let{x:l,y:u}=this.div.getBoundingClientRect();this.parent.findNewParent(this,l,u)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:r}=this,[c,a]=this.getBaseTranslation();o+=c,r+=a,this.div.style.left=`${(100*o).toFixed(2)}%`,this.div.style.top=`${(100*r).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!this.#f&&(this.#f[0]!==this.x||this.#f[1]!==this.y)}getBaseTranslation(){let[e,t]=this.parentDimensions,{_borderLineWidth:i}=n,s=i/e,o=i/t;switch(this.rotation){case 90:return[-s,o];case 180:return[s,o];case 270:return[s,-o];default:return[-s,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){let[t,i]=this.pageDimensions,{x:s,y:o,width:r,height:c}=this;if(r*=t,c*=i,s*=t,o*=i,this._mustFixPosition)switch(e){case 0:s=Math.max(0,Math.min(t-r,s)),o=Math.max(0,Math.min(i-c,o));break;case 90:s=Math.max(0,Math.min(t-c,s)),o=Math.min(i,Math.max(r,o));break;case 180:s=Math.min(t,Math.max(r,s)),o=Math.min(i,Math.max(c,o));break;case 270:s=Math.min(t,Math.max(c,s)),o=Math.max(0,Math.min(i-r,o));break}this.x=s/=t,this.y=o/=i;let[a,l]=this.getBaseTranslation();s+=a,o+=l;let{style:u}=this.div;u.left=`${(100*s).toFixed(2)}%`,u.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}static#y(e,t,i){switch(i){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}screenToPageTranslation(e,t){return n.#y(e,t,this.parentRotation)}pageTranslationToScreen(e,t){return n.#y(e,t,360-this.parentRotation)}#_(e){switch(e){case 90:{let[t,i]=this.pageDimensions;return[0,-t/i,i/t,0]}case 180:return[-1,0,0,-1];case 270:{let[t,i]=this.pageDimensions;return[0,t/i,-i/t,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){let{parentScale:e,pageDimensions:[t,i]}=this;return[t*e,i*e]}setDims(e,t){let[i,s]=this.parentDimensions;this.div.style.width=`${(100*e/i).toFixed(2)}%`,this.#s||(this.div.style.height=`${(100*t/s).toFixed(2)}%`)}fixDims(){let{style:e}=this.div,{height:t,width:i}=e,s=i.endsWith("%"),o=!this.#s&&t.endsWith("%");if(s&&o)return;let[r,c]=this.parentDimensions;s||(e.width=`${(100*parseFloat(i)/r).toFixed(2)}%`),!this.#s&&!o&&(e.height=`${(100*parseFloat(t)/c).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#D(){if(this.#o)return;this.#o=document.createElement("div"),this.#o.classList.add("resizers");let e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(let i of e){let s=document.createElement("div");this.#o.append(s),s.classList.add("resizer",i),s.setAttribute("data-resizer-name",i),s.addEventListener("pointerdown",this.#S.bind(this,i),{signal:t}),s.addEventListener("contextmenu",Ue,{signal:t}),s.tabIndex=-1}this.div.prepend(this.#o)}#S(e,t){t.preventDefault();let{isMac:i}=X1.platform;if(t.button!==0||t.ctrlKey&&i)return;this.#n?.toggle(!1);let s=this._isDraggable;this._isDraggable=!1;let o=new AbortController,r=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#A.bind(this,e),{passive:!0,capture:!0,signal:r}),window.addEventListener("contextmenu",Ue,{signal:r});let c=this.x,a=this.y,l=this.width,u=this.height,f=this.parent.div.style.cursor,d=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;let h=()=>{o.abort(),this.parent.togglePointerEvents(!0),this.#n?.toggle(!0),this._isDraggable=s,this.parent.div.style.cursor=f,this.div.style.cursor=d,this.#w(c,a,l,u)};window.addEventListener("pointerup",h,{signal:r}),window.addEventListener("blur",h,{signal:r})}#w(e,t,i,s){let o=this.x,r=this.y,c=this.width,a=this.height;o===e&&r===t&&c===i&&a===s||this.addCommands({cmd:()=>{this.width=c,this.height=a,this.x=o,this.y=r;let[l,u]=this.parentDimensions;this.setDims(l*c,u*a),this.fixAndSetPosition()},undo:()=>{this.width=i,this.height=s,this.x=e,this.y=t;let[l,u]=this.parentDimensions;this.setDims(l*i,u*s),this.fixAndSetPosition()},mustExec:!0})}#A(e,t){let[i,s]=this.parentDimensions,o=this.x,r=this.y,c=this.width,a=this.height,l=n.MIN_SIZE/i,u=n.MIN_SIZE/s,f=R=>Math.round(R*1e4)/1e4,d=this.#_(this.rotation),h=(R,Y)=>[d[0]*R+d[2]*Y,d[1]*R+d[3]*Y],p=this.#_(360-this.rotation),m=(R,Y)=>[p[0]*R+p[2]*Y,p[1]*R+p[3]*Y],v,g,C=!1,M=!1;switch(e){case"topLeft":C=!0,v=(R,Y)=>[0,0],g=(R,Y)=>[R,Y];break;case"topMiddle":v=(R,Y)=>[R/2,0],g=(R,Y)=>[R/2,Y];break;case"topRight":C=!0,v=(R,Y)=>[R,0],g=(R,Y)=>[0,Y];break;case"middleRight":M=!0,v=(R,Y)=>[R,Y/2],g=(R,Y)=>[0,Y/2];break;case"bottomRight":C=!0,v=(R,Y)=>[R,Y],g=(R,Y)=>[0,0];break;case"bottomMiddle":v=(R,Y)=>[R/2,Y],g=(R,Y)=>[R/2,0];break;case"bottomLeft":C=!0,v=(R,Y)=>[0,Y],g=(R,Y)=>[R,0];break;case"middleLeft":M=!0,v=(R,Y)=>[0,Y/2],g=(R,Y)=>[R,Y/2];break}let b=v(c,a),_=g(c,a),L=h(..._),x=f(o+L[0]),A=f(r+L[1]),y=1,w=1,[T,f1]=this.screenToPageTranslation(t.movementX,t.movementY);if([T,f1]=m(T/i,f1/s),C){let R=Math.hypot(c,a);y=w=Math.max(Math.min(Math.hypot(_[0]-b[0]-T,_[1]-b[1]-f1)/R,1/c,1/a),l/c,u/a)}else M?y=Math.max(l,Math.min(1,Math.abs(_[0]-b[0]-T)))/c:w=Math.max(u,Math.min(1,Math.abs(_[1]-b[1]-f1)))/a;let l1=f(c*y),s1=f(a*w);L=h(...g(l1,s1));let b1=x-L[0],N1=A-L[1];this.width=l1,this.height=s1,this.x=b1,this.y=N1,this.setDims(i*l1,s*s1),this.fixAndSetPosition()}altTextFinish(){this.#n?.finish()}addEditToolbar(){return S(this,null,function*(){return this._editToolbar||this.#d?this._editToolbar:(this._editToolbar=new o8(this),this.div.append(this._editToolbar.render()),this.#n&&(yield this._editToolbar.addAltText(this.#n)),this._editToolbar)})}removeEditToolbar(){this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,this.#n?.destroy())}addContainer(e){let t=this._editToolbar?.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}addAltTextButton(){return S(this,null,function*(){this.#n||(om.initialize(n._l10n),this.#n=new om(this),this.#e&&(this.#n.data=this.#e,this.#e=null),yield this.addEditToolbar())})}get altTextData(){return this.#n?.data}set altTextData(e){this.#n&&(this.#n.data=e)}get guessedAltText(){return this.#n?.guessedText}setGuessedAltText(e){return S(this,null,function*(){yield this.#n?.setGuessedText(e)})}serializeAltText(e){return this.#n?.serialize(e)}hasAltText(){return!!this.#n&&!this.#n.isEmpty()}hasAltTextData(){return this.#n?.hasData()??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=this.#i?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),this.#I();let[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);let[i,s]=this.getInitialTranslation();return this.translate(i,s),Hs(this,this.div,["pointerdown"]),this.div}pointerdown(e){let{isMac:t}=X1.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(this.#c=!0,this._isDraggable){this.#N(e);return}this.#x(e)}get isSelected(){return this._uiManager.isSelected(this)}#x(e){let{isMac:t}=X1.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}#N(e){let{isSelected:t}=this;this._uiManager.setUpDragSession();let i=new AbortController,s=this._uiManager.combinedSignal(i);if(t){this.div.classList.add("moving"),this.#m=e.clientX,this.#v=e.clientY;let r=c=>{let{clientX:a,clientY:l}=c,[u,f]=this.screenToPageTranslation(a-this.#m,l-this.#v);this.#m=a,this.#v=l,this._uiManager.dragSelectedEditors(u,f)};window.addEventListener("pointermove",r,{passive:!0,capture:!0,signal:s})}let o=()=>{i.abort(),t&&this.div.classList.remove("moving"),this.#c=!1,this._uiManager.endDragSession()||this.#x(e)};window.addEventListener("pointerup",o,{signal:s}),window.addEventListener("blur",o,{signal:s})}moveInDOM(){this.#h&&clearTimeout(this.#h),this.#h=setTimeout(()=>{this.#h=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(e,t,i){e.changeParent(this),this.x=t,this.y=i,this.fixAndSetPosition()}getRect(e,t,i=this.rotation){let s=this.parentScale,[o,r]=this.pageDimensions,[c,a]=this.pageTranslation,l=e/s,u=t/s,f=this.x*o,d=this.y*r,h=this.width*o,p=this.height*r;switch(i){case 0:return[f+l+c,r-d-u-p+a,f+l+h+c,r-d-u+a];case 90:return[f+u+c,r-d+l+a,f+u+p+c,r-d+l+h+a];case 180:return[f-l-h+c,r-d+u+a,f-l+c,r-d+u+p+a];case 270:return[f-u-p+c,r-d-l-h+a,f-u+c,r-d-l+a];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){let[i,s,o,r]=e,c=o-i,a=r-s;switch(this.rotation){case 0:return[i,t-r,c,a];case 90:return[i,t-s,a,c];case 180:return[o,t-s,c,a];case 270:return[o,t-r,a,c];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#d=!0}disableEditMode(){this.#d=!1}isInEditMode(){return this.#d}shouldGetKeyboardEvents(){return this.#p}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}#I(){if(this.#l||!this.div)return;this.#l=new AbortController;let e=this._uiManager.combinedSignal(this.#l);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}rebuild(){this.#I()}rotate(e){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(e=!1,t=null){z1("An editor must be serializable")}static deserialize(e,t,i){return S(this,null,function*(){let s=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:i});s.rotation=e.rotation,s.#e=e.accessibilityData;let[o,r]=s.pageDimensions,[c,a,l,u]=s.getRectInCurrentCoords(e.rect,r);return s.x=c/o,s.y=a/r,s.width=l/o,s.height=u/r,s})}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#l?.abort(),this.#l=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#h&&(clearTimeout(this.#h),this.#h=null),this.#R(),this.removeEditToolbar(),this.#g){for(let e of this.#g.values())clearTimeout(e);this.#g=null}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#D(),this.#o.classList.remove("hidden"),Hs(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),this.#a={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};let t=this.#o.children;if(!this.#t){this.#t=Array.from(t);let r=this.#z.bind(this),c=this.#b.bind(this),a=this._uiManager._signal;for(let l of this.#t){let u=l.getAttribute("data-resizer-name");l.setAttribute("role","spinbutton"),l.addEventListener("keydown",r,{signal:a}),l.addEventListener("blur",c,{signal:a}),l.addEventListener("focus",this.#E.bind(this,u),{signal:a}),l.setAttribute("data-l10n-id",n._l10nResizer[u])}}let i=this.#t[0],s=0;for(let r of t){if(r===i)break;s++}let o=(360-this.rotation+this.parentRotation)%360/90*(this.#t.length/4);if(o!==s){if(o<s)for(let c=0;c<s-o;c++)this.#o.append(this.#o.firstChild);else if(o>s)for(let c=0;c<o-s;c++)this.#o.firstChild.before(this.#o.lastChild);let r=0;for(let c of t){let l=this.#t[r++].getAttribute("data-resizer-name");c.setAttribute("data-l10n-id",n._l10nResizer[l])}}this.#T(0),this.#p=!0,this.#o.firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}#z(e){n._resizerKeyboardManager.exec(this,e)}#b(e){this.#p&&e.relatedTarget?.parentNode!==this.#o&&this.#R()}#E(e){this.#u=this.#p?e:""}#T(e){if(this.#t)for(let t of this.#t)t.tabIndex=e}_resizeWithKeyboard(e,t){this.#p&&this.#A(this.#u,{movementX:e,movementY:t})}#R(){if(this.#p=!1,this.#T(-1),this.#a){let{savedX:e,savedY:t,savedWidth:i,savedHeight:s}=this.#a;this.#w(e,t,i,s),this.#a=null}}_stopResizingWithKeyboard(){this.#R(),this.div.focus()}select(){if(this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#n?.toggleAltTextBadge(!1)}unselect(){this.#o?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#n?.toggleAltTextBadge(!0)}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return this.#r}set isEditing(e){this.#r=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){this.#s=!0;let i=e/t,{style:s}=this.div;s.aspectRatio=i,s.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){this.#g||=new Map;let{action:i}=e,s=this.#g.get(i);s&&clearTimeout(s),s=setTimeout(()=>{this._reportTelemetry(e),this.#g.delete(i),this.#g.size===0&&(this.#g=null)},n._telemetryTimeout),this.#g.set(i,s);return}e.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#i=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#i=!0}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){let i=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),i.before(t)}return t}resetAnnotationElement(e){let{firstChild:t}=e.container;t?.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}},f8=class extends C1{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}},rm=3285377520,je=4294901760,b2=65535,Vs=class{constructor(e){this.h1=e?e&4294967295:rm,this.h2=e?e&4294967295:rm}update(e){let t,i;if(typeof e=="string"){t=new Uint8Array(e.length*2),i=0;for(let m=0,v=e.length;m<v;m++){let g=e.charCodeAt(m);g<=255?t[i++]=g:(t[i++]=g>>>8,t[i++]=g&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),i=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");let s=i>>2,o=i-s*4,r=new Uint32Array(t.buffer,0,s),c=0,a=0,l=this.h1,u=this.h2,f=3432918353,d=461845907,h=f&b2,p=d&b2;for(let m=0;m<s;m++)m&1?(c=r[m],c=c*f&je|c*h&b2,c=c<<15|c>>>17,c=c*d&je|c*p&b2,l^=c,l=l<<13|l>>>19,l=l*5+3864292196):(a=r[m],a=a*f&je|a*h&b2,a=a<<15|a>>>17,a=a*d&je|a*p&b2,u^=a,u=u<<13|u>>>19,u=u*5+3864292196);switch(c=0,o){case 3:c^=t[s*4+2]<<16;case 2:c^=t[s*4+1]<<8;case 1:c^=t[s*4],c=c*f&je|c*h&b2,c=c<<15|c>>>17,c=c*d&je|c*p&b2,s&1?l^=c:u^=c}this.h1=l,this.h2=u}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&je|e*36045&b2,t=t*4283543511&je|((t<<16|e>>>16)*2950163797&je)>>>16,e^=t>>>1,e=e*444984403&je|e*60499&b2,t=t*3301882366&je|((t<<16|e>>>16)*3120437893&je)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}},d8=Object.freeze({map:null,hash:"",transfer:void 0}),N4=class{#e=!1;#t=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){let i=this.#n.get(e);return i===void 0?t:Object.assign(t,i)}getRawValue(e){return this.#n.get(e)}remove(e){if(this.#n.delete(e),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(let t of this.#n.values())if(t instanceof C1)return;this.onAnnotationEditor(null)}}setValue(e,t){let i=this.#n.get(e),s=!1;if(i!==void 0)for(let[o,r]of Object.entries(t))i[o]!==r&&(s=!0,i[o]=r);else s=!0,this.#n.set(e,t);s&&this.#i(),t instanceof C1&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return this.#n.has(e)}getAll(){return this.#n.size>0?y5(this.#n):null}setAll(e){for(let[t,i]of Object.entries(e))this.setValue(t,i)}get size(){return this.#n.size}#i(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Bs(this)}get serializable(){if(this.#n.size===0)return d8;let e=new Map,t=new Vs,i=[],s=Object.create(null),o=!1;for(let[r,c]of this.#n){let a=c instanceof C1?c.serialize(!1,s):c;a&&(e.set(r,a),t.update(`${r}:${JSON.stringify(a)}`),o||=!!a.bitmap)}if(o)for(let r of e.values())r.bitmap&&i.push(r.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:i}:d8}get editorStats(){let e=null,t=new Map;for(let i of this.#n.values()){if(!(i instanceof C1))continue;let s=i.telemetryFinalData;if(!s)continue;let{type:o}=s;t.has(o)||t.set(o,Object.getPrototypeOf(i).constructor),e||=Object.create(null);let r=e[o]||=new Map;for(let[c,a]of Object.entries(s)){if(c==="type")continue;let l=r.get(c);l||(l=new Map,r.set(c,l));let u=l.get(a)??0;l.set(a,u+1)}}for(let[i,s]of t)e[i]=s.computeTelemetryFinalData(e[i]);return e}resetModifiedIds(){this.#t=null}get modifiedIds(){if(this.#t)return this.#t;let e=[];for(let t of this.#n.values())!(t instanceof C1)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return this.#t={ids:new Set(e),hash:e.join(",")}}},Bs=class extends N4{#e;constructor(e){super();let{map:t,hash:i,transfer:s}=e.serializable,o=structuredClone(t,s?{transfer:s}:null);this.#e={map:o,hash:i,transfer:s}}get print(){z1("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}get modifiedIds(){return a1(this,"modifiedIds",{ids:new Set,hash:""})}},h8=class{#e=new Set;constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));let t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(let e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}loadSystemFont(i){return S(this,arguments,function*({systemFontInfo:e,_inspectFont:t}){if(!(!e||this.#e.has(e.loadedName))){if(G1(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){let{loadedName:s,src:o,style:r}=e,c=new FontFace(s,o,r);this.addNativeFontFace(c);try{yield c.load(),this.#e.add(s),t?.(e)}catch{e1(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}z1("Not implemented: loadSystemFont without the Font Loading API.")}})}bind(e){return S(this,null,function*(){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){yield this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){let i=e.createNativeFontFace();if(i){this.addNativeFontFace(i);try{yield i.loaded}catch(s){throw e1(`Failed to load font '${i.family}': '${s}'.`),e.disableFontFace=!0,s}}return}let t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;yield new Promise(i=>{let s=this._queueLoadingCallback(i);this._prepareFontLoadEvent(e,s)})}})}get isFontLoadingAPISupported(){let e=!!this._document?.fonts;return a1(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(le||typeof navigator<"u"&&typeof navigator?.userAgent=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),a1(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(G1(!s.done,"completeRequest() cannot be called twice."),s.done=!0;i.length>0&&i[0].done;){let o=i.shift();setTimeout(o.callback,0)}}let{loadingRequests:i}=this,s={done:!1,complete:t,callback:e};return i.push(s),s}get _loadTestFont(){let e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return a1(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function i(b,_){return b.charCodeAt(_)<<24|b.charCodeAt(_+1)<<16|b.charCodeAt(_+2)<<8|b.charCodeAt(_+3)&255}function s(b,_,L,x){let A=b.substring(0,_),y=b.substring(_+L);return A+x+y}let o,r,c=this._document.createElement("canvas");c.width=1,c.height=1;let a=c.getContext("2d"),l=0;function u(b,_){if(++l>30){e1("Load test font never loaded."),_();return}if(a.font="30px "+b,a.fillText(".",0,20),a.getImageData(0,0,1,1).data[3]>0){_();return}setTimeout(u.bind(null,b,_))}let f=`lt${Date.now()}${this.loadTestFontId++}`,d=this._loadTestFont;d=s(d,976,f.length,f);let p=16,m=1482184792,v=i(d,p);for(o=0,r=f.length-3;o<r;o+=4)v=v-m+i(f,o)|0;o<f.length&&(v=v-m+i(f+"XXX",o)|0),d=s(d,p,4,rS(v));let g=`url(data:font/opentype;base64,${btoa(d)});`,C=`@font-face {font-family:"${f}";src:${g}}`;this.insertRule(C);let M=this._document.createElement("div");M.style.visibility="hidden",M.style.width=M.style.height="10px",M.style.position="absolute",M.style.top=M.style.left="0px";for(let b of[e.loadedName,f]){let _=this._document.createElement("span");_.textContent="Hi",_.style.fontFamily=b,M.append(_)}this._document.body.append(M),u(f,()=>{M.remove(),t.complete()})}},p8=class{constructor(e,{disableFontFace:t=!1,inspectFont:i=null}){this.compiledGlyphs=Object.create(null);for(let s in e)this[s]=e[s];this.disableFontFace=t===!0,this._inspectFont=i}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{let t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;let e=`url(data:${this.mimetype};base64,${dS(this.data)});`,t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return this._inspectFont?.(this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let i;try{i=e.get(this.loadedName+"_path_"+t)}catch(o){e1(`getPathGenerator - ignoring character: "${o}".`)}if(!Array.isArray(i)||i.length===0)return this.compiledGlyphs[t]=function(o,r){};let s=[];for(let o=0,r=i.length;o<r;)switch(i[o++]){case B2.BEZIER_CURVE_TO:{let[c,a,l,u,f,d]=i.slice(o,o+6);s.push(h=>h.bezierCurveTo(c,a,l,u,f,d)),o+=6}break;case B2.MOVE_TO:{let[c,a]=i.slice(o,o+2);s.push(l=>l.moveTo(c,a)),o+=2}break;case B2.LINE_TO:{let[c,a]=i.slice(o,o+2);s.push(l=>l.lineTo(c,a)),o+=2}break;case B2.QUADRATIC_CURVE_TO:{let[c,a,l,u]=i.slice(o,o+4);s.push(f=>f.quadraticCurveTo(c,a,l,u)),o+=4}break;case B2.RESTORE:s.push(c=>c.restore());break;case B2.SAVE:s.push(c=>c.save());break;case B2.SCALE:G1(s.length===2,"Scale command is only valid at the third position.");break;case B2.TRANSFORM:{let[c,a,l,u,f,d]=i.slice(o,o+6);s.push(h=>h.transform(c,a,l,u,f,d)),o+=6}break;case B2.TRANSLATE:{let[c,a]=i.slice(o,o+2);s.push(l=>l.translate(c,a)),o+=2}break}return this.compiledGlyphs[t]=function(r,c){s[0](r),s[1](r),r.scale(c,-c);for(let a=2,l=s.length;a<l;a++)s[a](r)}}},js=class{#e=!1;constructor({enableHWA:e=!1}){this.#e=e}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");let i=this._createCanvas(e,t);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!this.#e})}}reset(e,t,i){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||i<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=i}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){z1("Abstract method `_createCanvas` called.")}},m8=class extends js{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){let i=this._document.createElement("canvas");return i.width=e,i.height=t,i}},Us=class{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}fetch(t){return S(this,arguments,function*({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");let i=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(i).then(s=>({cMapData:s,isCompressed:this.isCompressed})).catch(s=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${i}`)})})}_fetch(e){return S(this,null,function*(){z1("Abstract method `_fetch` called.")})}},$s=class extends Us{_fetch(e){return S(this,null,function*(){let t=yield C6(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):v6(t)})}},Gs=class{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,i,s,o){return"none"}destroy(e=!1){}},g8=class extends Gs{#e;#t;#n;#i;#s;#o;#a=0;constructor({docId:e,ownerDocument:t=globalThis.document}){super(),this.#i=e,this.#s=t}get#l(){return this.#t||=new Map}get#u(){return this.#o||=new Map}get#c(){if(!this.#n){let e=this.#s.createElement("div"),{style:t}=e;t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1;let i=this.#s.createElementNS(U2,"svg");i.setAttribute("width",0),i.setAttribute("height",0),this.#n=this.#s.createElementNS(U2,"defs"),e.append(i),i.append(this.#n),this.#s.body.append(e)}return this.#n}#f(e){if(e.length===1){let a=e[0],l=new Array(256);for(let f=0;f<256;f++)l[f]=a[f]/255;let u=l.join(",");return[u,u,u]}let[t,i,s]=e,o=new Array(256),r=new Array(256),c=new Array(256);for(let a=0;a<256;a++)o[a]=t[a]/255,r[a]=i[a]/255,c[a]=s[a]/255;return[o.join(","),r.join(","),c.join(",")]}#r(e){if(this.#e===void 0){this.#e="";let t=this.#s.URL;t!==this.#s.baseURI&&(b6(t)?e1('#createUrl: ignore "data:"-URL for performance reasons.'):this.#e=t.split("#",1)[0])}return`url(${this.#e}#${e})`}addFilter(e){if(!e)return"none";let t=this.#l.get(e);if(t)return t;let[i,s,o]=this.#f(e),r=e.length===1?i:`${i}${s}${o}`;if(t=this.#l.get(r),t)return this.#l.set(e,t),t;let c=`g_${this.#i}_transfer_map_${this.#a++}`,a=this.#r(c);this.#l.set(e,a),this.#l.set(r,a);let l=this.#h(c);return this.#v(i,s,o,l),a}addHCMFilter(e,t){let i=`${e}-${t}`,s="base",o=this.#u.get(s);if(o?.key===i||(o?(o.filter?.remove(),o.key=i,o.url="none",o.filter=null):(o={key:i,url:"none",filter:null},this.#u.set(s,o)),!e||!t))return o.url;let r=this.#C(e);e=k.makeHexColor(...r);let c=this.#C(t);if(t=k.makeHexColor(...c),this.#c.style.color="",e==="#000000"&&t==="#ffffff"||e===t)return o.url;let a=new Array(256);for(let h=0;h<=255;h++){let p=h/255;a[h]=p<=.03928?p/12.92:((p+.055)/1.055)**2.4}let l=a.join(","),u=`g_${this.#i}_hcm_filter`,f=o.filter=this.#h(u);this.#v(l,l,l,f),this.#p(f);let d=(h,p)=>{let m=r[h]/255,v=c[h]/255,g=new Array(p+1);for(let C=0;C<=p;C++)g[C]=m+C/p*(v-m);return g.join(",")};return this.#v(d(0,5),d(1,5),d(2,5),f),o.url=this.#r(u),o.url}addAlphaFilter(e){let t=this.#l.get(e);if(t)return t;let[i]=this.#f([e]),s=`alpha_${i}`;if(t=this.#l.get(s),t)return this.#l.set(e,t),t;let o=`g_${this.#i}_alpha_map_${this.#a++}`,r=this.#r(o);this.#l.set(e,r),this.#l.set(s,r);let c=this.#h(o);return this.#g(i,c),r}addLuminosityFilter(e){let t=this.#l.get(e||"luminosity");if(t)return t;let i,s;if(e?([i]=this.#f([e]),s=`luminosity_${i}`):s="luminosity",t=this.#l.get(s),t)return this.#l.set(e,t),t;let o=`g_${this.#i}_luminosity_map_${this.#a++}`,r=this.#r(o);this.#l.set(e,r),this.#l.set(s,r);let c=this.#h(o);return this.#d(c),e&&this.#g(i,c),r}addHighlightHCMFilter(e,t,i,s,o){let r=`${t}-${i}-${s}-${o}`,c=this.#u.get(e);if(c?.key===r||(c?(c.filter?.remove(),c.key=r,c.url="none",c.filter=null):(c={key:r,url:"none",filter:null},this.#u.set(e,c)),!t||!i))return c.url;let[a,l]=[t,i].map(this.#C.bind(this)),u=Math.round(.2126*a[0]+.7152*a[1]+.0722*a[2]),f=Math.round(.2126*l[0]+.7152*l[1]+.0722*l[2]),[d,h]=[s,o].map(this.#C.bind(this));f<u&&([u,f,d,h]=[f,u,h,d]),this.#c.style.color="";let p=(g,C,M)=>{let b=new Array(256),_=(f-u)/M,L=g/255,x=(C-g)/(255*M),A=0;for(let y=0;y<=M;y++){let w=Math.round(u+y*_),T=L+y*x;for(let f1=A;f1<=w;f1++)b[f1]=T;A=w+1}for(let y=A;y<256;y++)b[y]=b[A-1];return b.join(",")},m=`g_${this.#i}_hcm_${e}_filter`,v=c.filter=this.#h(m);return this.#p(v),this.#v(p(d[0],h[0],5),p(d[1],h[1],5),p(d[2],h[2],5),v),c.url=this.#r(m),c.url}destroy(e=!1){e&&this.#u.size!==0||(this.#n&&(this.#n.parentNode.parentNode.remove(),this.#n=null),this.#t&&(this.#t.clear(),this.#t=null),this.#a=0)}#d(e){let t=this.#s.createElementNS(U2,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)}#p(e){let t=this.#s.createElementNS(U2,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}#h(e){let t=this.#s.createElementNS(U2,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),this.#c.append(t),t}#m(e,t,i){let s=this.#s.createElementNS(U2,t);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),e.append(s)}#v(e,t,i,s){let o=this.#s.createElementNS(U2,"feComponentTransfer");s.append(o),this.#m(o,"feFuncR",e),this.#m(o,"feFuncG",t),this.#m(o,"feFuncB",i)}#g(e,t){let i=this.#s.createElementNS(U2,"feComponentTransfer");t.append(i),this.#m(i,"feFuncA",e)}#C(e){return this.#c.style.color=e,w5(getComputedStyle(this.#c).getPropertyValue("color"))}},Ws=class{constructor({baseUrl:e=null}){this.baseUrl=e}fetch(t){return S(this,arguments,function*({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");let i=`${this.baseUrl}${e}`;return this._fetch(i).catch(s=>{throw new Error(`Unable to load font data at: ${i}`)})})}_fetch(e){return S(this,null,function*(){z1("Abstract method `_fetch` called.")})}},qs=class extends Ws{_fetch(e){return S(this,null,function*(){let t=yield C6(e,"arraybuffer");return new Uint8Array(t)})}};le&&(ks=Promise.withResolvers(),Os=null,S(void 0,null,function*(){let e=yield import("./chunk-L2HEV66R.js"),t=yield import("./chunk-BMBYILCS.js"),i=yield import("./chunk-ALIQTIYY.js"),s=yield import("./chunk-NYZOWURK.js"),o,r;return new Map(Object.entries({fs:e,http:t,https:i,url:s,canvas:o,path2d:r}))}).then(e=>{Os=e,ks.resolve()},e=>{e1(`loadPackages: ${e}`),Os=new Map,ks.resolve()}));var ks,Os,M2=class{static get promise(){return ks.promise}static get(e){return Os?.get(e)}};function Mm(n){return S(this,null,function*(){let t=yield M2.get("fs").promises.readFile(n);return new Uint8Array(t)})}var v8=class extends Gs{},C8=class extends js{_createCanvas(e,t){return M2.get("canvas").createCanvas(e,t)}},b8=class extends Us{_fetch(e){return S(this,null,function*(){return Mm(e)})}},M8=class extends Ws{_fetch(e){return S(this,null,function*(){return Mm(e)})}},de={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function y8(n,e){if(!e)return;let t=e[2]-e[0],i=e[3]-e[1],s=new Path2D;s.rect(e[0],e[1],t,i),n.clip(s)}var T4=class{getPattern(){z1("Abstract method `getPattern` called.")}},_8=class extends T4{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(let i of this._colorStops)t.addColorStop(i[0],i[1]);return t}getPattern(e,t,i,s){let o;if(s===de.STROKE||s===de.FILL){let r=t.current.getClippedPathBoundingBox(s,E1(e))||[0,0,0,0],c=Math.ceil(r[2]-r[0])||1,a=Math.ceil(r[3]-r[1])||1,l=t.cachedCanvases.getCanvas("pattern",c,a),u=l.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-r[0],-r[1]),i=k.transform(i,[1,0,0,1,r[0],r[1]]),u.transform(...t.baseTransform),this.matrix&&u.transform(...this.matrix),y8(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),o=e.createPattern(l.canvas,"no-repeat");let f=new DOMMatrix(i);o.setTransform(f)}else y8(e,this._bbox),o=this._createGradient(e);return o}};function e8(n,e,t,i,s,o,r,c){let a=e.coords,l=e.colors,u=n.data,f=n.width*4,d;a[t+1]>a[i+1]&&(d=t,t=i,i=d,d=o,o=r,r=d),a[i+1]>a[s+1]&&(d=i,i=s,s=d,d=r,r=c,c=d),a[t+1]>a[i+1]&&(d=t,t=i,i=d,d=o,o=r,r=d);let h=(a[t]+e.offsetX)*e.scaleX,p=(a[t+1]+e.offsetY)*e.scaleY,m=(a[i]+e.offsetX)*e.scaleX,v=(a[i+1]+e.offsetY)*e.scaleY,g=(a[s]+e.offsetX)*e.scaleX,C=(a[s+1]+e.offsetY)*e.scaleY;if(p>=C)return;let M=l[o],b=l[o+1],_=l[o+2],L=l[r],x=l[r+1],A=l[r+2],y=l[c],w=l[c+1],T=l[c+2],f1=Math.round(p),l1=Math.round(C),s1,b1,N1,R,Y,X2,Dt,Ie;for(let W1=f1;W1<=l1;W1++){if(W1<v){let x1=W1<p?0:(p-W1)/(p-v);s1=h-(h-m)*x1,b1=M-(M-L)*x1,N1=b-(b-x)*x1,R=_-(_-A)*x1}else{let x1;W1>C?x1=1:v===C?x1=0:x1=(v-W1)/(v-C),s1=m-(m-g)*x1,b1=L-(L-y)*x1,N1=x-(x-w)*x1,R=A-(A-T)*x1}let F1;W1<p?F1=0:W1>C?F1=1:F1=(p-W1)/(p-C),Y=h-(h-g)*F1,X2=M-(M-y)*F1,Dt=b-(b-w)*F1,Ie=_-(_-T)*F1;let p3=Math.round(Math.min(s1,Y)),In=Math.round(Math.max(s1,Y)),ke=f*W1+p3*4;for(let x1=p3;x1<=In;x1++)F1=(s1-x1)/(s1-Y),F1<0?F1=0:F1>1&&(F1=1),u[ke++]=b1-(b1-X2)*F1|0,u[ke++]=N1-(N1-Dt)*F1|0,u[ke++]=R-(R-Ie)*F1|0,u[ke++]=255}}function CS(n,e,t){let i=e.coords,s=e.colors,o,r;switch(e.type){case"lattice":let c=e.verticesPerRow,a=Math.floor(i.length/c)-1,l=c-1;for(o=0;o<a;o++){let u=o*c;for(let f=0;f<l;f++,u++)e8(n,t,i[u],i[u+1],i[u+c],s[u],s[u+1],s[u+c]),e8(n,t,i[u+c+1],i[u+1],i[u+c],s[u+c+1],s[u+1],s[u+c])}break;case"triangles":for(o=0,r=i.length;o<r;o+=3)e8(n,t,i[o],i[o+1],i[o+2],s[o],s[o+1],s[o+2]);break;default:throw new Error("illegal figure")}}var L8=class extends T4{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,i){let c=Math.floor(this._bounds[0]),a=Math.floor(this._bounds[1]),l=Math.ceil(this._bounds[2])-c,u=Math.ceil(this._bounds[3])-a,f=Math.min(Math.ceil(Math.abs(l*e[0]*1.1)),3e3),d=Math.min(Math.ceil(Math.abs(u*e[1]*1.1)),3e3),h=l/f,p=u/d,m={coords:this._coords,colors:this._colors,offsetX:-c,offsetY:-a,scaleX:1/h,scaleY:1/p},v=f+2*2,g=d+2*2,C=i.getCanvas("mesh",v,g),M=C.context,b=M.createImageData(f,d);if(t){let L=b.data;for(let x=0,A=L.length;x<A;x+=4)L[x]=t[0],L[x+1]=t[1],L[x+2]=t[2],L[x+3]=255}for(let L of this._figures)CS(b,L,m);return M.putImageData(b,2,2),{canvas:C.canvas,offsetX:c-2*h,offsetY:a-2*p,scaleX:h,scaleY:p}}getPattern(e,t,i,s){y8(e,this._bbox);let o;if(s===de.SHADING)o=k.singularValueDecompose2dScale(E1(e));else if(o=k.singularValueDecompose2dScale(t.baseTransform),this.matrix){let c=k.singularValueDecompose2dScale(this.matrix);o=[o[0]*c[0],o[1]*c[1]]}let r=this._createMeshCanvas(o,s===de.SHADING?null:this._background,t.cachedCanvases);return s!==de.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(r.offsetX,r.offsetY),e.scale(r.scaleX,r.scaleY),e.createPattern(r.canvas,"no-repeat")}},w8=class extends T4{getPattern(){return"hotpink"}};function bS(n){switch(n[0]){case"RadialAxial":return new _8(n);case"Mesh":return new L8(n);case"Dummy":return new w8}throw new Error(`Unknown IR type: ${n[0]}`)}var cm={COLORED:1,UNCOLORED:2},MS=(()=>{class n{static MAX_PATTERN_SIZE=3e3;constructor(t,i,s,o,r){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=i,this.ctx=s,this.canvasGraphicsFactory=o,this.baseTransform=r}createPatternCanvas(t){let{bbox:i,operatorList:s,paintType:o,tilingType:r,color:c,canvasGraphicsFactory:a}=this,{xstep:l,ystep:u}=this;l=Math.abs(l),u=Math.abs(u),g6("TilingType: "+r);let f=i[0],d=i[1],h=i[2],p=i[3],m=h-f,v=p-d,g=k.singularValueDecompose2dScale(this.matrix),C=k.singularValueDecompose2dScale(this.baseTransform),M=g[0]*C[0],b=g[1]*C[1],_=m,L=v,x=!1,A=!1,y=Math.ceil(l*M),w=Math.ceil(u*b),T=Math.ceil(m*M),f1=Math.ceil(v*b);y>=T?_=l:x=!0,w>=f1?L=u:A=!0;let l1=this.getSizeAndScale(_,this.ctx.canvas.width,M),s1=this.getSizeAndScale(L,this.ctx.canvas.height,b),b1=t.cachedCanvases.getCanvas("pattern",l1.size,s1.size),N1=b1.context,R=a.createCanvasGraphics(N1);if(R.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(R,o,c),N1.translate(-l1.scale*f,-s1.scale*d),R.transform(l1.scale,0,0,s1.scale,0,0),N1.save(),this.clipBbox(R,f,d,h,p),R.baseTransform=E1(R.ctx),R.executeOperatorList(s),R.endDrawing(),N1.restore(),x||A){let Y=b1.canvas;x&&(_=l),A&&(L=u);let X2=this.getSizeAndScale(_,this.ctx.canvas.width,M),Dt=this.getSizeAndScale(L,this.ctx.canvas.height,b),Ie=X2.size,W1=Dt.size,F1=t.cachedCanvases.getCanvas("pattern-workaround",Ie,W1),p3=F1.context,In=x?Math.floor(m/l):0,ke=A?Math.floor(v/u):0;for(let x1=0;x1<=In;x1++)for(let w2=0;w2<=ke;w2++)p3.drawImage(Y,Ie*x1,W1*w2,Ie,W1,0,0,Ie,W1);return{canvas:F1.canvas,scaleX:X2.scale,scaleY:Dt.scale,offsetX:f,offsetY:d}}return{canvas:b1.canvas,scaleX:l1.scale,scaleY:s1.scale,offsetX:f,offsetY:d}}getSizeAndScale(t,i,s){let o=Math.max(n.MAX_PATTERN_SIZE,i),r=Math.ceil(t*s);return r>=o?r=o:s=r/t,{scale:s,size:r}}clipBbox(t,i,s,o,r){let c=o-i,a=r-s;t.ctx.rect(i,s,c,a),t.current.updateRectMinMax(E1(t.ctx),[i,s,o,r]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,i,s){let o=t.ctx,r=t.current;switch(i){case cm.COLORED:let c=this.ctx;o.fillStyle=c.fillStyle,o.strokeStyle=c.strokeStyle,r.fillColor=c.fillStyle,r.strokeColor=c.strokeStyle;break;case cm.UNCOLORED:let a=k.makeHexColor(s[0],s[1],s[2]);o.fillStyle=a,o.strokeStyle=a,r.fillColor=a,r.strokeColor=a;break;default:throw new s8(`Unsupported paint type: ${i}`)}}getPattern(t,i,s,o){let r=s;o!==de.SHADING&&(r=k.transform(r,i.baseTransform),this.matrix&&(r=k.transform(r,this.matrix)));let c=this.createPatternCanvas(i),a=new DOMMatrix(r);a=a.translate(c.offsetX,c.offsetY),a=a.scale(1/c.scaleX,1/c.scaleY);let l=t.createPattern(c.canvas,"repeat");return l.setTransform(a),l}}return n})();function yS({src:n,srcPos:e=0,dest:t,width:i,height:s,nonBlackColor:o=4294967295,inverseDecode:r=!1}){let c=X1.isLittleEndian?4278190080:255,[a,l]=r?[o,c]:[c,o],u=i>>3,f=i&7,d=n.length;t=new Uint32Array(t.buffer);let h=0;for(let p=0;p<s;p++){for(let v=e+u;e<v;e++){let g=e<d?n[e]:255;t[h++]=g&128?l:a,t[h++]=g&64?l:a,t[h++]=g&32?l:a,t[h++]=g&16?l:a,t[h++]=g&8?l:a,t[h++]=g&4?l:a,t[h++]=g&2?l:a,t[h++]=g&1?l:a}if(f===0)continue;let m=e<d?n[e++]:255;for(let v=0;v<f;v++)t[h++]=m&1<<7-v?l:a}return{srcPos:e,destPos:h}}var am=16,lm=100,_S=15,um=10,fm=1e3,ye=16;function LS(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(i,s){e.translate(i,s),this.__originalTranslate(i,s)},n.scale=function(i,s){e.scale(i,s),this.__originalScale(i,s)},n.transform=function(i,s,o,r,c,a){e.transform(i,s,o,r,c,a),this.__originalTransform(i,s,o,r,c,a)},n.setTransform=function(i,s,o,r,c,a){e.setTransform(i,s,o,r,c,a),this.__originalSetTransform(i,s,o,r,c,a)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(i){e.rotate(i),this.__originalRotate(i)},n.clip=function(i){e.clip(i),this.__originalClip(i)},n.moveTo=function(t,i){e.moveTo(t,i),this.__originalMoveTo(t,i)},n.lineTo=function(t,i){e.lineTo(t,i),this.__originalLineTo(t,i)},n.bezierCurveTo=function(t,i,s,o,r,c){e.bezierCurveTo(t,i,s,o,r,c),this.__originalBezierCurveTo(t,i,s,o,r,c)},n.rect=function(t,i,s,o){e.rect(t,i,s,o),this.__originalRect(t,i,s,o)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}var z8=class{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,i){let s;return this.cache[e]!==void 0?(s=this.cache[e],this.canvasFactory.reset(s,t,i)):(s=this.canvasFactory.create(t,i),this.cache[e]=s),s}delete(e){delete this.cache[e]}clear(){for(let e in this.cache){let t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}};function Ss(n,e,t,i,s,o,r,c,a,l){let[u,f,d,h,p,m]=E1(n);if(f===0&&d===0){let C=r*u+p,M=Math.round(C),b=c*h+m,_=Math.round(b),L=(r+a)*u+p,x=Math.abs(Math.round(L)-M)||1,A=(c+l)*h+m,y=Math.abs(Math.round(A)-_)||1;return n.setTransform(Math.sign(u),0,0,Math.sign(h),M,_),n.drawImage(e,t,i,s,o,0,0,x,y),n.setTransform(u,f,d,h,p,m),[x,y]}if(u===0&&h===0){let C=c*d+p,M=Math.round(C),b=r*f+m,_=Math.round(b),L=(c+l)*d+p,x=Math.abs(Math.round(L)-M)||1,A=(r+a)*f+m,y=Math.abs(Math.round(A)-_)||1;return n.setTransform(0,Math.sign(f),Math.sign(d),0,M,_),n.drawImage(e,t,i,s,o,0,0,y,x),n.setTransform(u,f,d,h,p,m),[y,x]}n.drawImage(e,t,i,s,o,r,c,a,l);let v=Math.hypot(u,f),g=Math.hypot(d,h);return[v*a,g*l]}function wS(n){let{width:e,height:t}=n;if(e>fm||t>fm)return null;let i=1e3,s=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),o=e+1,r=new Uint8Array(o*(t+1)),c,a,l,u=e+7&-8,f=new Uint8Array(u*t),d=0;for(let g of n.data){let C=128;for(;C>0;)f[d++]=g&C?0:255,C>>=1}let h=0;for(d=0,f[d]!==0&&(r[0]=1,++h),a=1;a<e;a++)f[d]!==f[d+1]&&(r[a]=f[d]?2:1,++h),d++;for(f[d]!==0&&(r[a]=2,++h),c=1;c<t;c++){d=c*u,l=c*o,f[d-u]!==f[d]&&(r[l]=f[d]?1:8,++h);let g=(f[d]?4:0)+(f[d-u]?8:0);for(a=1;a<e;a++)g=(g>>2)+(f[d+1]?4:0)+(f[d-u+1]?8:0),s[g]&&(r[l+a]=s[g],++h),d++;if(f[d-u]!==f[d]&&(r[l+a]=f[d]?2:4,++h),h>i)return null}for(d=u*(t-1),l=c*o,f[d]!==0&&(r[l]=8,++h),a=1;a<e;a++)f[d]!==f[d+1]&&(r[l+a]=f[d]?4:8,++h),d++;if(f[d]!==0&&(r[l+a]=4,++h),h>i)return null;let p=new Int32Array([0,o,-1,0,-o,0,0,0,1]),m=new Path2D;for(c=0;h&&c<=t;c++){let g=c*o,C=g+e;for(;g<C&&!r[g];)g++;if(g===C)continue;m.moveTo(g%o,c);let M=g,b=r[g];do{let _=p[b];do g+=_;while(!r[g]);let L=r[g];L!==5&&L!==10?(b=L,r[g]=0):(b=L&51*b>>4,r[g]&=b>>2|b<<2),m.lineTo(g%o,g/o|0),r[g]||--h}while(M!==g);--c}return f=null,r=null,function(g){g.save(),g.scale(1/e,-1/t),g.translate(0,-t),g.fill(m),g.beginPath(),g.restore()}}var Zs=class{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=Cm,this.textMatrixScale=1,this.fontMatrix=i8,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=ae.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){let e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,i){[t,i]=k.applyTransform([t,i],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,i),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,i)}updateRectMinMax(e,t){let i=k.applyTransform(t,e),s=k.applyTransform(t.slice(2),e),o=k.applyTransform([t[0],t[3]],e),r=k.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,i[0],s[0],o[0],r[0]),this.minY=Math.min(this.minY,i[1],s[1],o[1],r[1]),this.maxX=Math.max(this.maxX,i[0],s[0],o[0],r[0]),this.maxY=Math.max(this.maxY,i[1],s[1],o[1],r[1])}updateScalingPathMinMax(e,t){k.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,i,s,o,r,c,a,l,u){let f=k.bezierBoundingBox(t,i,s,o,r,c,a,l,u);u||this.updateRectMinMax(e,f)}getPathBoundingBox(e=de.FILL,t=null){let i=[this.minX,this.minY,this.maxX,this.maxY];if(e===de.STROKE){t||z1("Stroke bounding box must include transform.");let s=k.singularValueDecompose2dScale(t),o=s[0]*this.lineWidth/2,r=s[1]*this.lineWidth/2;i[0]-=o,i[1]-=r,i[2]+=o,i[3]+=r}return i}updateClipFromPath(){let e=k.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=de.FILL,t=null){return k.intersect(this.clipBox,this.getPathBoundingBox(e,t))}};function dm(n,e){if(typeof ImageData<"u"&&e instanceof ImageData){n.putImageData(e,0,0);return}let t=e.height,i=e.width,s=t%ye,o=(t-s)/ye,r=s===0?o:o+1,c=n.createImageData(i,ye),a=0,l,u=e.data,f=c.data,d,h,p,m;if(e.kind===Is.GRAYSCALE_1BPP){let v=u.byteLength,g=new Uint32Array(f.buffer,0,f.byteLength>>2),C=g.length,M=i+7>>3,b=4294967295,_=X1.isLittleEndian?4278190080:255;for(d=0;d<r;d++){for(p=d<o?ye:s,l=0,h=0;h<p;h++){let L=v-a,x=0,A=L>M?i:L*8-7,y=A&-8,w=0,T=0;for(;x<y;x+=8)T=u[a++],g[l++]=T&128?b:_,g[l++]=T&64?b:_,g[l++]=T&32?b:_,g[l++]=T&16?b:_,g[l++]=T&8?b:_,g[l++]=T&4?b:_,g[l++]=T&2?b:_,g[l++]=T&1?b:_;for(;x<A;x++)w===0&&(T=u[a++],w=128),g[l++]=T&w?b:_,w>>=1}for(;l<C;)g[l++]=0;n.putImageData(c,0,d*ye)}}else if(e.kind===Is.RGBA_32BPP){for(h=0,m=i*ye*4,d=0;d<o;d++)f.set(u.subarray(a,a+m)),a+=m,n.putImageData(c,0,h),h+=ye;d<r&&(m=i*s*4,f.set(u.subarray(a,a+m)),n.putImageData(c,0,h))}else if(e.kind===Is.RGB_24BPP)for(p=ye,m=i*p,d=0;d<r;d++){for(d>=o&&(p=s,m=i*p),l=0,h=m;h--;)f[l++]=u[a++],f[l++]=u[a++],f[l++]=u[a++],f[l++]=255;n.putImageData(c,0,d*ye)}else throw new Error(`bad image kind: ${e.kind}`)}function hm(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}let t=e.height,i=e.width,s=t%ye,o=(t-s)/ye,r=s===0?o:o+1,c=n.createImageData(i,ye),a=0,l=e.data,u=c.data;for(let f=0;f<r;f++){let d=f<o?ye:s;({srcPos:a}=yS({src:l,srcPos:a,dest:u,width:i,height:d,nonBlackColor:0})),n.putImageData(c,0,f*ye)}}function y4(n,e){let t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(let i of t)n[i]!==void 0&&(e[i]=n[i]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function As(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0),!le){let{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}}function pm(n,e){if(e)return!0;let t=k.singularValueDecompose2dScale(n);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);let i=Math.fround((globalThis.devicePixelRatio||1)*zt.PDF_TO_CSS_UNITS);return t[0]<=i&&t[1]<=i}var zS=["butt","round","square"],xS=["miter","round","bevel"],SS={},mm={},pn=class n{constructor(e,t,i,s,o,{optionalContentConfig:r,markedContentStack:c=null},a,l){this.ctx=e,this.current=new Zs(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=i,this.canvasFactory=s,this.filterFactory=o,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=r,this.cachedCanvases=new z8(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=a,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=l,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:i=!1,background:s=null}){let o=this.ctx.canvas.width,r=this.ctx.canvas.height,c=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,o,r),this.ctx.fillStyle=c,i){let a=this.cachedCanvases.getCanvas("transparent",o,r);this.compositeCtx=this.ctx,this.transparentCanvas=a.canvas,this.ctx=a.context,this.ctx.save(),this.ctx.transform(...E1(this.compositeCtx))}this.ctx.save(),As(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=E1(this.ctx)}executeOperatorList(e,t,i,s){let o=e.argsArray,r=e.fnArray,c=t||0,a=o.length;if(a===c)return c;let l=a-c>um&&typeof i=="function",u=l?Date.now()+_S:0,f=0,d=this.commonObjs,h=this.objs,p;for(;;){if(s!==void 0&&c===s.nextBreakPoint)return s.breakIt(c,i),c;if(p=r[c],p!==t2.dependency)this[p].apply(this,o[c]);else for(let m of o[c]){let v=m.startsWith("g_")?d:h;if(!v.has(m))return v.get(m,i),c}if(c++,c===a)return c;if(l&&++f>um){if(Date.now()>u)return i(),c;f=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(let e of this._cachedBitmapsMap.values()){for(let t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){let e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){let t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}_scaleImage(e,t){let i=e.width??e.displayWidth,s=e.height??e.displayHeight,o=Math.max(Math.hypot(t[0],t[1]),1),r=Math.max(Math.hypot(t[2],t[3]),1),c=i,a=s,l="prescale1",u,f;for(;o>2&&c>1||r>2&&a>1;){let d=c,h=a;o>2&&c>1&&(d=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c/2),o/=c/d),r>2&&a>1&&(h=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a)/2,r/=a/h),u=this.cachedCanvases.getCanvas(l,d,h),f=u.context,f.clearRect(0,0,d,h),f.drawImage(e,0,0,c,a,0,0,d,h),e=u.canvas,c=d,a=h,l=l==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:c,paintHeight:a}}_createMaskCanvas(e){let t=this.ctx,{width:i,height:s}=e,o=this.current.fillColor,r=this.current.patternFill,c=E1(t),a,l,u,f;if((e.bitmap||e.data)&&e.count>1){let A=e.bitmap||e.data.buffer;l=JSON.stringify(r?c:[c.slice(0,4),o]),a=this._cachedBitmapsMap.get(A),a||(a=new Map,this._cachedBitmapsMap.set(A,a));let y=a.get(l);if(y&&!r){let w=Math.round(Math.min(c[0],c[2])+c[4]),T=Math.round(Math.min(c[1],c[3])+c[5]);return{canvas:y,offsetX:w,offsetY:T}}u=y}u||(f=this.cachedCanvases.getCanvas("maskCanvas",i,s),hm(f.context,e));let d=k.transform(c,[1/i,0,0,-1/s,0,0]);d=k.transform(d,[1,0,0,1,0,-s]);let[h,p,m,v]=k.getAxialAlignedBoundingBox([0,0,i,s],d),g=Math.round(m-h)||1,C=Math.round(v-p)||1,M=this.cachedCanvases.getCanvas("fillCanvas",g,C),b=M.context,_=h,L=p;b.translate(-_,-L),b.transform(...d),u||(u=this._scaleImage(f.canvas,j2(b)),u=u.img,a&&r&&a.set(l,u)),b.imageSmoothingEnabled=pm(E1(b),e.interpolate),Ss(b,u,0,0,u.width,u.height,0,0,i,s),b.globalCompositeOperation="source-in";let x=k.transform(j2(b),[1,0,0,1,-_,-L]);return b.fillStyle=r?o.getPattern(t,this,x,de.FILL):o,b.fillRect(0,0,i,s),a&&!r&&(this.cachedCanvases.delete("fillCanvas"),a.set(l,M.canvas)),{canvas:M.canvas,offsetX:Math.round(_),offsetY:Math.round(L)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=zS[e]}setLineJoin(e){this.ctx.lineJoin=xS[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){let i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(e),i.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(let[t,i]of e)switch(t){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=i;break;case"ca":this.current.fillAlpha=i,this.ctx.globalAlpha=i;break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){let e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");let e=this.ctx.canvas.width,t=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(i,e,t);this.suspendedCtx=this.ctx,this.ctx=s.context;let o=this.ctx;o.setTransform(...E1(this.suspendedCtx)),y4(this.suspendedCtx,o),LS(o,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),y4(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];let t=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,i,s){let o=s[0],r=s[1],c=s[2]-o,a=s[3]-r;c===0||a===0||(this.genericComposeSMask(t.context,i,c,a,t.subtype,t.backdrop,t.transferMap,o,r,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(i.canvas,0,0),e.restore())}genericComposeSMask(e,t,i,s,o,r,c,a,l,u,f){let d=e.canvas,h=a-u,p=l-f;if(r){let v=k.makeHexColor(...r);if(h<0||p<0||h+i>d.width||p+s>d.height){let g=this.cachedCanvases.getCanvas("maskExtension",i,s),C=g.context;C.drawImage(d,-h,-p),C.globalCompositeOperation="destination-atop",C.fillStyle=v,C.fillRect(0,0,i,s),C.globalCompositeOperation="source-over",d=g.canvas,h=p=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);let g=new Path2D;g.rect(h,p,i,s),e.clip(g),e.globalCompositeOperation="destination-atop",e.fillStyle=v,e.fillRect(h,p,i,s),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),o==="Alpha"&&c?t.filter=this.filterFactory.addAlphaFilter(c):o==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(c));let m=new Path2D;m.rect(a,l,i,s),t.clip(m),t.globalCompositeOperation="destination-in",t.drawImage(d,h,p,i,s,a,l,i,s),t.restore()}save(){this.inSMaskMode?(y4(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();let e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),y4(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,i,s,o,r){this.ctx.transform(e,t,i,s,o,r),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,i){let s=this.ctx,o=this.current,r=o.x,c=o.y,a,l,u=E1(s),f=u[0]===0&&u[3]===0||u[1]===0&&u[2]===0,d=f?i.slice(0):null;for(let h=0,p=0,m=e.length;h<m;h++)switch(e[h]|0){case t2.rectangle:r=t[p++],c=t[p++];let v=t[p++],g=t[p++],C=r+v,M=c+g;s.moveTo(r,c),v===0||g===0?s.lineTo(C,M):(s.lineTo(C,c),s.lineTo(C,M),s.lineTo(r,M)),f||o.updateRectMinMax(u,[r,c,C,M]),s.closePath();break;case t2.moveTo:r=t[p++],c=t[p++],s.moveTo(r,c),f||o.updatePathMinMax(u,r,c);break;case t2.lineTo:r=t[p++],c=t[p++],s.lineTo(r,c),f||o.updatePathMinMax(u,r,c);break;case t2.curveTo:a=r,l=c,r=t[p+4],c=t[p+5],s.bezierCurveTo(t[p],t[p+1],t[p+2],t[p+3],r,c),o.updateCurvePathMinMax(u,a,l,t[p],t[p+1],t[p+2],t[p+3],r,c,d),p+=6;break;case t2.curveTo2:a=r,l=c,s.bezierCurveTo(r,c,t[p],t[p+1],t[p+2],t[p+3]),o.updateCurvePathMinMax(u,a,l,r,c,t[p],t[p+1],t[p+2],t[p+3],d),r=t[p+2],c=t[p+3],p+=4;break;case t2.curveTo3:a=r,l=c,r=t[p+2],c=t[p+3],s.bezierCurveTo(t[p],t[p+1],r,c,r,c),o.updateCurvePathMinMax(u,a,l,t[p],t[p+1],r,c,r,c,d),p+=4;break;case t2.closePath:s.closePath();break}f&&o.updateScalingPathMinMax(u,d),o.setCurrentPoint(r,c)}closePath(){this.ctx.closePath()}stroke(e=!0){let t=this.ctx,i=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof i=="object"&&i?.getPattern?(t.save(),t.strokeStyle=i.getPattern(t,this,j2(t),de.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){let t=this.ctx,i=this.current.fillColor,s=this.current.patternFill,o=!1;s&&(t.save(),t.fillStyle=i.getPattern(t,this,j2(t),de.FILL),o=!0);let r=this.current.getClippedPathBoundingBox();this.contentVisible&&r!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),o&&t.restore(),e&&this.consumePath(r)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=SS}eoClip(){this.pendingClip=mm}beginText(){this.current.textMatrix=Cm,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){let e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(let i of e)t.setTransform(...i.transform),t.translate(i.x,i.y),i.addToPath(t,i.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){let i=this.commonObjs.get(e),s=this.current;if(!i)throw new Error(`Can't find font for ${e}`);if(s.fontMatrix=i.fontMatrix||i8,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&e1("Invalid font matrix for font "+e),t<0?(t=-t,s.fontDirection=-1):s.fontDirection=1,this.current.font=i,this.current.fontSize=t,i.isType3Font)return;let o=i.loadedName||"sans-serif",r=i.systemFontInfo?.css||`"${o}", ${i.fallbackName}`,c="normal";i.black?c="900":i.bold&&(c="bold");let a=i.italic?"italic":"normal",l=t;t<am?l=am:t>lm&&(l=lm),this.current.fontSizeScale=t/l,this.ctx.font=`${a} ${c} ${l}px ${r}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,i,s,o,r){this.current.textMatrix=[e,t,i,s,o,r],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,i,s){let o=this.ctx,r=this.current,c=r.font,a=r.textRenderingMode,l=r.fontSize/r.fontSizeScale,u=a&ae.FILL_STROKE_MASK,f=!!(a&ae.ADD_TO_PATH_FLAG),d=r.patternFill&&!c.missingFile,h;(c.disableFontFace||f||d)&&(h=c.getPathGenerator(this.commonObjs,e)),c.disableFontFace||d?(o.save(),o.translate(t,i),o.beginPath(),h(o,l),s&&o.setTransform(...s),(u===ae.FILL||u===ae.FILL_STROKE)&&o.fill(),(u===ae.STROKE||u===ae.FILL_STROKE)&&o.stroke(),o.restore()):((u===ae.FILL||u===ae.FILL_STROKE)&&o.fillText(e,t,i),(u===ae.STROKE||u===ae.FILL_STROKE)&&o.strokeText(e,t,i)),f&&(this.pendingTextPaths||=[]).push({transform:E1(o),x:t,y:i,fontSize:l,addToPath:h})}get isFontSubpixelAAEnabled(){let{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);let t=e.getImageData(0,0,10,10).data,i=!1;for(let s=3;s<t.length;s+=4)if(t[s]>0&&t[s]<255){i=!0;break}return a1(this,"isFontSubpixelAAEnabled",i)}showText(e){let t=this.current,i=t.font;if(i.isType3Font)return this.showType3Text(e);let s=t.fontSize;if(s===0)return;let o=this.ctx,r=t.fontSizeScale,c=t.charSpacing,a=t.wordSpacing,l=t.fontDirection,u=t.textHScale*l,f=e.length,d=i.vertical,h=d?1:-1,p=i.defaultVMetrics,m=s*t.fontMatrix[0],v=t.textRenderingMode===ae.FILL&&!i.disableFontFace&&!t.patternFill;o.save(),o.transform(...t.textMatrix),o.translate(t.x,t.y+t.textRise),l>0?o.scale(u,-1):o.scale(u,1);let g;if(t.patternFill){o.save();let L=t.fillColor.getPattern(o,this,j2(o),de.FILL);g=E1(o),o.restore(),o.fillStyle=L}let C=t.lineWidth,M=t.textMatrixScale;if(M===0||C===0){let L=t.textRenderingMode&ae.FILL_STROKE_MASK;(L===ae.STROKE||L===ae.FILL_STROKE)&&(C=this.getSinglePixelWidth())}else C/=M;if(r!==1&&(o.scale(r,r),C/=r),o.lineWidth=C,i.isInvalidPDFjsFont){let L=[],x=0;for(let A of e)L.push(A.unicode),x+=A.width;o.fillText(L.join(""),0,0),t.x+=x*m*u,o.restore(),this.compose();return}let b=0,_;for(_=0;_<f;++_){let L=e[_];if(typeof L=="number"){b+=h*L*s/1e3;continue}let x=!1,A=(L.isSpace?a:0)+c,y=L.fontChar,w=L.accent,T,f1,l1=L.width;if(d){let b1=L.vmetric||p,N1=-(L.vmetric?b1[1]:l1*.5)*m,R=b1[2]*m;l1=b1?-b1[0]:l1,T=N1/r,f1=(b+R)/r}else T=b/r,f1=0;if(i.remeasure&&l1>0){let b1=o.measureText(y).width*1e3/s*r;if(l1<b1&&this.isFontSubpixelAAEnabled){let N1=l1/b1;x=!0,o.save(),o.scale(N1,1),T/=N1}else l1!==b1&&(T+=(l1-b1)/2e3*s/r)}if(this.contentVisible&&(L.isInFont||i.missingFile)){if(v&&!w)o.fillText(y,T,f1);else if(this.paintChar(y,T,f1,g),w){let b1=T+s*w.offset.x/r,N1=f1-s*w.offset.y/r;this.paintChar(w.fontChar,b1,N1,g)}}let s1=d?l1*m-A*l:l1*m+A*l;b+=s1,x&&o.restore()}d?t.y-=b:t.x+=b*u,o.restore(),this.compose()}showType3Text(e){let t=this.ctx,i=this.current,s=i.font,o=i.fontSize,r=i.fontDirection,c=s.vertical?1:-1,a=i.charSpacing,l=i.wordSpacing,u=i.textHScale*r,f=i.fontMatrix||i8,d=e.length,h=i.textRenderingMode===ae.INVISIBLE,p,m,v,g;if(!(h||o===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...i.textMatrix),t.translate(i.x,i.y),t.scale(u,r),p=0;p<d;++p){if(m=e[p],typeof m=="number"){g=c*m*o/1e3,this.ctx.translate(g,0),i.x+=g*u;continue}let C=(m.isSpace?l:0)+a,M=s.charProcOperatorList[m.operatorListId];if(!M){e1(`Type3 character "${m.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=m,this.save(),t.scale(o,o),t.transform(...f),this.executeOperatorList(M),this.restore()),v=k.applyTransform([m.width,0],f)[0]*o+C,t.translate(v,0),i.x+=v*u}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,i,s,o,r){this.ctx.rect(i,s,o-i,r-s),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){let i=e[1],s=this.baseTransform||E1(this.ctx),o={createCanvasGraphics:r=>new n(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new MS(e,i,this.ctx,o,s)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,i){this.ctx.strokeStyle=this.current.strokeColor=k.makeHexColor(e,t,i)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,t,i){this.ctx.fillStyle=this.current.fillColor=k.makeHexColor(e,t,i),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let i;return this.cachedPatterns.has(e)?i=this.cachedPatterns.get(e):(i=bS(this.getObject(e)),this.cachedPatterns.set(e,i)),t&&(i.matrix=t),i}shadingFill(e){if(!this.contentVisible)return;let t=this.ctx;this.save();let i=this._getPattern(e);t.fillStyle=i.getPattern(t,this,j2(t),de.SHADING);let s=j2(t);if(s){let{width:o,height:r}=t.canvas,[c,a,l,u]=k.getAxialAlignedBoundingBox([0,0,o,r],s);this.ctx.fillRect(c,a,l-c,u-a)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){z1("Should not call beginInlineImage")}beginImageData(){z1("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=E1(this.ctx),t)){let i=t[2]-t[0],s=t[3]-t[1];this.ctx.rect(t[0],t[1],i,s),this.current.updateRectMinMax(E1(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);let t=this.ctx;e.isolated||g6("TODO: Support non-isolated groups."),e.knockout&&e1("Knockout groups not supported.");let i=E1(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let s=k.getAxialAlignedBoundingBox(e.bbox,E1(t)),o=[0,0,t.canvas.width,t.canvas.height];s=k.intersect(s,o)||[0,0,0,0];let r=Math.floor(s[0]),c=Math.floor(s[1]),a=Math.max(Math.ceil(s[2])-r,1),l=Math.max(Math.ceil(s[3])-c,1);this.current.startNewPathAndClipBox([0,0,a,l]);let u="groupAt"+this.groupLevel;e.smask&&(u+="_smask_"+this.smaskCounter++%2);let f=this.cachedCanvases.getCanvas(u,a,l),d=f.context;d.translate(-r,-c),d.transform(...i),e.smask?this.smaskStack.push({canvas:f.canvas,context:d,offsetX:r,offsetY:c,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(r,c),t.save()),y4(t,d),this.ctx=d,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;let t=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();let s=E1(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...s);let o=k.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],s);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,t,i,s,o){if(this.#e(),As(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){let r=t[2]-t[0],c=t[3]-t[1];if(o&&this.annotationCanvasMap){i=i.slice(),i[4]-=t[0],i[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=r,t[3]=c;let[a,l]=k.singularValueDecompose2dScale(E1(this.ctx)),{viewportScale:u}=this,f=Math.ceil(r*this.outputScaleX*u),d=Math.ceil(c*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(f,d);let{canvas:h,context:p}=this.annotationCanvas;this.annotationCanvasMap.set(e,h),this.annotationCanvas.savedCtx=this.ctx,this.ctx=p,this.ctx.save(),this.ctx.setTransform(a,0,0,-l,0,c*l),As(this.ctx)}else As(this.ctx),this.endPath(),this.ctx.rect(t[0],t[1],r,c),this.ctx.clip(),this.ctx.beginPath()}this.current=new Zs(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...i),this.transform(...s)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;let t=e.count;e=this.getObject(e.data,e),e.count=t;let i=this.ctx,s=this.processingType3;if(s&&(s.compiled===void 0&&(s.compiled=wS(e)),s.compiled)){s.compiled(i);return}let o=this._createMaskCanvas(e),r=o.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(r,o.offsetX,o.offsetY),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,i=0,s=0,o,r){if(!this.contentVisible)return;e=this.getObject(e.data,e);let c=this.ctx;c.save();let a=E1(c);c.transform(t,i,s,o,0,0);let l=this._createMaskCanvas(e);c.setTransform(1,0,0,1,l.offsetX-a[4],l.offsetY-a[5]);for(let u=0,f=r.length;u<f;u+=2){let d=k.transform(a,[t,i,s,o,r[u],r[u+1]]),[h,p]=k.applyTransform([0,0],d);c.drawImage(l.canvas,h,p)}c.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;let t=this.ctx,i=this.current.fillColor,s=this.current.patternFill;for(let o of e){let{data:r,width:c,height:a,transform:l}=o,u=this.cachedCanvases.getCanvas("maskCanvas",c,a),f=u.context;f.save();let d=this.getObject(r,o);hm(f,d),f.globalCompositeOperation="source-in",f.fillStyle=s?i.getPattern(f,this,j2(t),de.FILL):i,f.fillRect(0,0,c,a),f.restore(),t.save(),t.transform(...l),t.scale(1,-1),Ss(t,u.canvas,0,0,c,a,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;let t=this.getObject(e);if(!t){e1("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,i,s){if(!this.contentVisible)return;let o=this.getObject(e);if(!o){e1("Dependent image isn't ready yet");return}let r=o.width,c=o.height,a=[];for(let l=0,u=s.length;l<u;l+=2)a.push({transform:[t,0,0,i,s[l],s[l+1]],x:0,y:0,w:r,h:c});this.paintInlineImageXObjectGroup(o,a)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;let{bitmap:t,width:i,height:s}=e,o=this.cachedCanvases.getCanvas("inlineImage",i,s),r=o.context;return r.filter=this.current.transferMaps,r.drawImage(t,0,0),r.filter="none",o.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;let t=e.width,i=e.height,s=this.ctx;if(this.save(),!le){let{filter:c}=s;c!=="none"&&c!==""&&(s.filter="none")}s.scale(1/t,-1/i);let o;if(e.bitmap)o=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)o=e;else{let a=this.cachedCanvases.getCanvas("inlineImage",t,i).context;dm(a,e),o=this.applyTransferMapsToCanvas(a)}let r=this._scaleImage(o,j2(s));s.imageSmoothingEnabled=pm(E1(s),e.interpolate),Ss(s,r.img,0,0,r.paintWidth,r.paintHeight,0,-i,t,i),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;let i=this.ctx,s;if(e.bitmap)s=e.bitmap;else{let o=e.width,r=e.height,a=this.cachedCanvases.getCanvas("inlineImage",o,r).context;dm(a,e),s=this.applyTransferMapsToCanvas(a)}for(let o of t)i.save(),i.transform(...o.transform),i.scale(1,-1),Ss(i,s,o.x,o.y,o.w,o.h,0,-1,1,1),i.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){let t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);let i=this.ctx;this.pendingClip&&(t||(this.pendingClip===mm?i.clip("evenodd"):i.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),i.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){let e=E1(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{let t=Math.abs(e[0]*e[3]-e[2]*e[1]),i=Math.hypot(e[0],e[2]),s=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(i,s)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){let{lineWidth:e}=this.current,{a:t,b:i,c:s,d:o}=this.ctx.getTransform(),r,c;if(i===0&&s===0){let a=Math.abs(t),l=Math.abs(o);if(a===l)if(e===0)r=c=1/a;else{let u=a*e;r=c=u<1?1/u:1}else if(e===0)r=1/a,c=1/l;else{let u=a*e,f=l*e;r=u<1?1/u:1,c=f<1?1/f:1}}else{let a=Math.abs(t*o-i*s),l=Math.hypot(t,i),u=Math.hypot(s,o);if(e===0)r=u/a,c=l/a;else{let f=e*a;r=u>f?u/f:1,c=l>f?l/f:1}}this._cachedScaleForStroking[0]=r,this._cachedScaleForStroking[1]=c}return this._cachedScaleForStroking}rescaleAndStroke(e){let{ctx:t}=this,{lineWidth:i}=this.current,[s,o]=this.getScaleForStroking();if(t.lineWidth=i||1,s===1&&o===1){t.stroke();return}let r=t.getLineDash();if(e&&t.save(),t.scale(s,o),r.length>0){let c=Math.max(s,o);t.setLineDash(r.map(a=>a/c)),t.lineDashOffset/=c}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};for(let n in t2)pn.prototype[n]!==void 0&&(pn.prototype[t2[n]]=pn.prototype[n]);var n3=class{static#e=null;static#t="";static get workerPort(){return this.#e}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");this.#e=e}static get workerSrc(){return this.#t}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");this.#t=e}},Es={UNKNOWN:0,DATA:1,ERROR:2},V1={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Ae(n){switch(n instanceof Error||typeof n=="object"&&n!==null||z1('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new W2(n.message);case"MissingPDFException":return new G2(n.message);case"PasswordException":return new z4(n.message,n.code);case"UnexpectedResponseException":return new gn(n.message,n.status);case"UnknownErrorException":return new x4(n.message,n.details);default:return new x4(n.message,n.toString())}}var t3=class{#e=new AbortController;constructor(e,t,i){this.sourceName=e,this.targetName=t,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",this.#t.bind(this),{signal:this.#e.signal})}#t({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){this.#i(e);return}if(e.callback){let i=e.callbackId,s=this.callbackCapabilities[i];if(!s)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],e.callback===Es.DATA)s.resolve(e.data);else if(e.callback===Es.ERROR)s.reject(Ae(e.reason));else throw new Error("Unexpected callback case");return}let t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){let i=this.sourceName,s=e.sourceName,o=this.comObj;new Promise(function(r){r(t(e.data))}).then(function(r){o.postMessage({sourceName:i,targetName:s,callback:Es.DATA,callbackId:e.callbackId,data:r})},function(r){o.postMessage({sourceName:i,targetName:s,callback:Es.ERROR,callbackId:e.callbackId,reason:Ae(r)})});return}if(e.streamId){this.#n(e);return}t(e.data)}on(e,t){let i=this.actionHandler;if(i[e])throw new Error(`There is already an actionName called "${e}"`);i[e]=t}send(e,t,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},i)}sendWithPromise(e,t,i){let s=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[s]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:s,data:t},i)}catch(r){o.reject(r)}return o.promise}sendWithStream(e,t,i,s){let o=this.streamId++,r=this.sourceName,c=this.targetName,a=this.comObj;return new ReadableStream({start:l=>{let u=Promise.withResolvers();return this.streamControllers[o]={controller:l,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},a.postMessage({sourceName:r,targetName:c,action:e,streamId:o,data:t,desiredSize:l.desiredSize},s),u.promise},pull:l=>{let u=Promise.withResolvers();return this.streamControllers[o].pullCall=u,a.postMessage({sourceName:r,targetName:c,stream:V1.PULL,streamId:o,desiredSize:l.desiredSize}),u.promise},cancel:l=>{G1(l instanceof Error,"cancel must have a valid reason");let u=Promise.withResolvers();return this.streamControllers[o].cancelCall=u,this.streamControllers[o].isClosed=!0,a.postMessage({sourceName:r,targetName:c,stream:V1.CANCEL,streamId:o,reason:Ae(l)}),u.promise}},i)}#n(e){let t=e.streamId,i=this.sourceName,s=e.sourceName,o=this.comObj,r=this,c=this.actionHandler[e.action],a={enqueue(l,u=1,f){if(this.isCancelled)return;let d=this.desiredSize;this.desiredSize-=u,d>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:i,targetName:s,stream:V1.ENQUEUE,streamId:t,chunk:l},f)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:i,targetName:s,stream:V1.CLOSE,streamId:t}),delete r.streamSinks[t])},error(l){G1(l instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:i,targetName:s,stream:V1.ERROR,streamId:t,reason:Ae(l)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};a.sinkCapability.resolve(),a.ready=a.sinkCapability.promise,this.streamSinks[t]=a,new Promise(function(l){l(c(e.data,a))}).then(function(){o.postMessage({sourceName:i,targetName:s,stream:V1.START_COMPLETE,streamId:t,success:!0})},function(l){o.postMessage({sourceName:i,targetName:s,stream:V1.START_COMPLETE,streamId:t,reason:Ae(l)})})}#i(e){let t=e.streamId,i=this.sourceName,s=e.sourceName,o=this.comObj,r=this.streamControllers[t],c=this.streamSinks[t];switch(e.stream){case V1.START_COMPLETE:e.success?r.startCall.resolve():r.startCall.reject(Ae(e.reason));break;case V1.PULL_COMPLETE:e.success?r.pullCall.resolve():r.pullCall.reject(Ae(e.reason));break;case V1.PULL:if(!c){o.postMessage({sourceName:i,targetName:s,stream:V1.PULL_COMPLETE,streamId:t,success:!0});break}c.desiredSize<=0&&e.desiredSize>0&&c.sinkCapability.resolve(),c.desiredSize=e.desiredSize,new Promise(function(a){a(c.onPull?.())}).then(function(){o.postMessage({sourceName:i,targetName:s,stream:V1.PULL_COMPLETE,streamId:t,success:!0})},function(a){o.postMessage({sourceName:i,targetName:s,stream:V1.PULL_COMPLETE,streamId:t,reason:Ae(a)})});break;case V1.ENQUEUE:if(G1(r,"enqueue should have stream controller"),r.isClosed)break;r.controller.enqueue(e.chunk);break;case V1.CLOSE:if(G1(r,"close should have stream controller"),r.isClosed)break;r.isClosed=!0,r.controller.close(),this.#s(r,t);break;case V1.ERROR:G1(r,"error should have stream controller"),r.controller.error(Ae(e.reason)),this.#s(r,t);break;case V1.CANCEL_COMPLETE:e.success?r.cancelCall.resolve():r.cancelCall.reject(Ae(e.reason)),this.#s(r,t);break;case V1.CANCEL:if(!c)break;new Promise(function(a){a(c.onCancel?.(Ae(e.reason)))}).then(function(){o.postMessage({sourceName:i,targetName:s,stream:V1.CANCEL_COMPLETE,streamId:t,success:!0})},function(a){o.postMessage({sourceName:i,targetName:s,stream:V1.CANCEL_COMPLETE,streamId:t,reason:Ae(a)})}),c.sinkCapability.reject(Ae(e.reason)),c.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}#s(e,t){return S(this,null,function*(){yield Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[t]})}destroy(){this.#e?.abort(),this.#e=null}},x8=class{#e;#t;constructor({parsedData:e,rawData:t}){this.#e=e,this.#t=t}getRaw(){return this.#t}get(e){return this.#e.get(e)??null}getAll(){return y5(this.#e)}has(e){return this.#e.has(e)}},hn=Symbol("INTERNAL"),S8=class{#e=!1;#t=!1;#n=!1;#i=!0;constructor(e,{name:t,intent:i,usage:s,rbGroups:o}){this.#e=!!(e&Ee.DISPLAY),this.#t=!!(e&Ee.PRINT),this.name=t,this.intent=i,this.usage=s,this.rbGroups=o}get visible(){if(this.#n)return this.#i;if(!this.#i)return!1;let{print:e,view:t}=this.usage;return this.#e?t?.viewState!=="OFF":this.#t?e?.printState!=="OFF":!0}_setVisible(e,t,i=!1){e!==hn&&z1("Internal method `_setVisible` called."),this.#n=i,this.#i=t}},A8=class{#e=null;#t=new Map;#n=null;#i=null;constructor(e,t=Ee.DISPLAY){if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,this.#i=e.order;for(let i of e.groups)this.#t.set(i.id,new S8(t,i));if(e.baseState==="OFF")for(let i of this.#t.values())i._setVisible(hn,!1);for(let i of e.on)this.#t.get(i)._setVisible(hn,!0);for(let i of e.off)this.#t.get(i)._setVisible(hn,!1);this.#n=this.getHash()}}#s(e){let t=e.length;if(t<2)return!0;let i=e[0];for(let s=1;s<t;s++){let o=e[s],r;if(Array.isArray(o))r=this.#s(o);else if(this.#t.has(o))r=this.#t.get(o).visible;else return e1(`Optional content group not found: ${o}`),!0;switch(i){case"And":if(!r)return!1;break;case"Or":if(r)return!0;break;case"Not":return!r;default:return!0}}return i==="And"}isVisible(e){if(this.#t.size===0)return!0;if(!e)return g6("Optional content group not defined."),!0;if(e.type==="OCG")return this.#t.has(e.id)?this.#t.get(e.id).visible:(e1(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return this.#s(e.expression);if(!e.policy||e.policy==="AnyOn"){for(let t of e.ids){if(!this.#t.has(t))return e1(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(let t of e.ids){if(!this.#t.has(t))return e1(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(let t of e.ids){if(!this.#t.has(t))return e1(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(let t of e.ids){if(!this.#t.has(t))return e1(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!1}return!0}return e1(`Unknown optional content policy ${e.policy}.`),!0}return e1(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,i=!0){let s=this.#t.get(e);if(!s){e1(`Optional content group not found: ${e}`);return}if(i&&t&&s.rbGroups.length)for(let o of s.rbGroups)for(let r of o)r!==e&&this.#t.get(r)?._setVisible(hn,!1,!0);s._setVisible(hn,!!t,!0),this.#e=null}setOCGState({state:e,preserveRB:t}){let i;for(let s of e){switch(s){case"ON":case"OFF":case"Toggle":i=s;continue}let o=this.#t.get(s);if(o)switch(i){case"ON":this.setVisibility(s,!0,t);break;case"OFF":this.setVisibility(s,!1,t);break;case"Toggle":this.setVisibility(s,!o.visible,t);break}}this.#e=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#t.size?this.#i?this.#i.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?y5(this.#t):null}getGroup(e){return this.#t.get(e)||null}getHash(){if(this.#e!==null)return this.#e;let e=new Vs;for(let[t,i]of this.#t)e.update(`${t}:${i.visible}`);return this.#e=e.hexdigest()}},E8=class{constructor(e,{disableRange:t=!1,disableStream:i=!1}){G1(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');let{length:s,initialData:o,progressiveDone:r,contentDispositionFilename:c}=e;if(this._queuedChunks=[],this._progressiveDone=r,this._contentDispositionFilename=c,o?.length>0){let a=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(a)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!i,this._isRangeSupported=!t,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((a,l)=>{this._onReceiveData({begin:a,chunk:l})}),e.addProgressListener((a,l)=>{this._onProgress({loaded:a,total:l})}),e.addProgressiveReadListener(a=>{this._onReceiveData({chunk:a})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){let i=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{let s=this._rangeReaders.some(function(o){return o._begin!==e?!1:(o._enqueue(i),!0)});G1(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){e.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){let t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){G1(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");let e=this._queuedChunks;return this._queuedChunks=null,new D8(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;let i=new N8(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(i),i}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(let t of this._rangeReaders.slice(0))t.cancel(e);this._pdfDataRangeTransport.abort()}},D8=class{constructor(e,t,i=!1,s=null){this._stream=e,this._done=i||!1,this._filename=L5(s)?s:null,this._queuedChunks=t||[],this._loaded=0;for(let o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){return S(this,null,function*(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};let e=Promise.withResolvers();return this._requests.push(e),e.promise})}cancel(e){this._done=!0;for(let t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}},N8=class{constructor(e,t,i){this._stream=e,this._begin=t,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(let i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){return S(this,null,function*(){if(this._queuedChunk){let t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};let e=Promise.withResolvers();return this._requests.push(e),e.promise})}cancel(e){this._done=!0;for(let t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}};function AS(n){let e=!0,t=i("filename\\*","i").exec(n);if(t){t=t[1];let u=c(t);return u=unescape(u),u=a(u),u=l(u),o(u)}if(t=r(n),t){let u=l(t);return o(u)}if(t=i("filename","i").exec(n),t){t=t[1];let u=c(t);return u=l(u),o(u)}function i(u,f){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',f)}function s(u,f){if(u){if(!/^[\x00-\xFF]+$/.test(f))return f;try{let d=new TextDecoder(u,{fatal:!0}),h=v6(f);f=d.decode(h),e=!1}catch{}}return f}function o(u){return e&&/[\x80-\xff]/.test(u)&&(u=s("utf-8",u),e&&(u=s("iso-8859-1",u))),u}function r(u){let f=[],d,h=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(d=h.exec(u))!==null;){let[,m,v,g]=d;if(m=parseInt(m,10),m in f){if(m===0)break;continue}f[m]=[v,g]}let p=[];for(let m=0;m<f.length&&m in f;++m){let[v,g]=f[m];g=c(g),v&&(g=unescape(g),m===0&&(g=a(g))),p.push(g)}return p.join("")}function c(u){if(u.startsWith('"')){let f=u.slice(1).split('\\"');for(let d=0;d<f.length;++d){let h=f[d].indexOf('"');h!==-1&&(f[d]=f[d].slice(0,h),f.length=d+1),f[d]=f[d].replaceAll(/\\(.)/g,"$1")}u=f.join('"')}return u}function a(u){let f=u.indexOf("'");if(f===-1)return u;let d=u.slice(0,f),p=u.slice(f+1).replace(/^[^']*'/,"");return s(d,p)}function l(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(f,d,h,p){if(h==="q"||h==="Q")return p=p.replaceAll("_"," "),p=p.replaceAll(/=([0-9a-fA-F]{2})/g,function(m,v){return String.fromCharCode(parseInt(v,16))}),s(d,p);try{p=atob(p)}catch{}return s(d,p)})}return""}function z5(n,e){let t=new Headers;if(!n||!e||typeof e!="object")return t;for(let i in e){let s=e[i];s!==void 0&&t.append(i,s)}return t}function x5({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:i}){let s={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(n.get("Content-Length"),10);return!Number.isInteger(o)||(s.suggestedLength=o,o<=2*t)||i||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(s.allowRangeRequests=!0),s}function S5(n){let e=n.get("Content-Disposition");if(e){let t=AS(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(L5(t))return t}return null}function M6(n,e){return n===404||n===0&&e.startsWith("file:")?new G2('Missing PDF "'+e+'".'):new gn(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n)}function ym(n){return n===200||n===206}function _m(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function Lm(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(e1(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}var Ys=class{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=z5(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return G1(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new T8(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;let i=new I8(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(let t of this._rangeRequestReaders.slice(0))t.cancel(e)}},T8=class{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;let t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;let i=new Headers(e.headers),s=t.url;fetch(s,_m(i,this._withCredentials,this._abortController)).then(o=>{if(!ym(o.status))throw M6(o.status,s);this._reader=o.body.getReader(),this._headersCapability.resolve();let r=o.headers,{allowRangeRequests:c,suggestedLength:a}=x5({responseHeaders:r,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=c,this._contentLength=a||this._contentLength,this._filename=S5(r),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new W2("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){return S(this,null,function*(){yield this._headersCapability.promise;let{value:e,done:t}=yield this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:Lm(e),done:!1})})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}},I8=class{constructor(e,t,i){this._stream=e,this._reader=null,this._loaded=0;let s=e.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController;let o=new Headers(e.headers);o.append("Range",`bytes=${t}-${i-1}`);let r=s.url;fetch(r,_m(o,this._withCredentials,this._abortController)).then(c=>{if(!ym(c.status))throw M6(c.status,r);this._readCapability.resolve(),this._reader=c.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){return S(this,null,function*(){yield this._readCapability.promise;let{value:e,done:t}=yield this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:Lm(e),done:!1})})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}},t8=200,n8=206;function ES(n){let e=n.response;return typeof e!="string"?e:v6(e).buffer}var k8=class{constructor({url:e,httpHeaders:t,withCredentials:i}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=z5(this.isHttp,t),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,i){let s={begin:e,end:t};for(let o in i)s[o]=i[o];return this.request(s)}requestFull(e){return this.request(e)}request(e){let t=new XMLHttpRequest,i=this.currXhrId++,s=this.pendingRequests[i]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(let[o,r]of this.headers)t.setRequestHeader(o,r);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),s.expectedStatus=n8):s.expectedStatus=t8,t.responseType="arraybuffer",e.onError&&(t.onerror=function(o){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,i),t.onprogress=this.onProgress.bind(this,i),s.onHeadersReceived=e.onHeadersReceived,s.onDone=e.onDone,s.onError=e.onError,s.onProgress=e.onProgress,t.send(null),i}onProgress(e,t){let i=this.pendingRequests[e];i&&i.onProgress?.(t)}onStateChange(e,t){let i=this.pendingRequests[e];if(!i)return;let s=i.xhr;if(s.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),s.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],s.status===0&&this.isHttp){i.onError?.(s.status);return}let o=s.status||t8;if(!(o===t8&&i.expectedStatus===n8)&&o!==i.expectedStatus){i.onError?.(s.status);return}let c=ES(s);if(o===n8){let a=s.getResponseHeader("Content-Range"),l=/bytes (\d+)-(\d+)\/(\d+)/.exec(a);i.onDone({begin:parseInt(l[1],10),chunk:c})}else c?i.onDone({begin:0,chunk:c}):i.onError?.(s.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){let t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}},O8=class{constructor(e){this._source=e,this._manager=new k8(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){let t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return G1(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new P8(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){let i=new R8(this._manager,e,t);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(let t of this._rangeRequestReaders.slice(0))t.cancel(e)}},P8=class{constructor(e,t){this._manager=e;let i={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(i),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){let e=this._fullRequestId,t=this._manager.getRequestXhr(e),i=new Headers(t.getAllResponseHeaders().trim().split(/[\r\n]+/).map(r=>{let[c,...a]=r.split(": ");return[c,a.join(": ")]})),{allowRangeRequests:s,suggestedLength:o}=x5({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=S5(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(let t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=M6(e,this._url),this._headersCapability.reject(this._storedError);for(let t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}read(){return S(this,null,function*(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};let e=Promise.withResolvers();return this._requests.push(e),e.promise})}cancel(e){this._done=!0,this._headersCapability.reject(e);for(let t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}},R8=class{constructor(e,t,i){this._manager=e;let s={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,i,s),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(e){let t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(let i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=M6(e,this._url);for(let t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}read(){return S(this,null,function*(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){let t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};let e=Promise.withResolvers();return this._requests.push(e),e.promise})}cancel(e){this._done=!0;for(let t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}},DS=/^[a-z][a-z0-9\-+.]+:/i;function NS(n){if(DS.test(n))return new URL(n);let e=M2.get("url");return new URL(e.pathToFileURL(n))}function wm(n,e,t){return n.protocol==="http:"?M2.get("http").request(n,{headers:e},t):M2.get("https").request(n,{headers:e},t)}var F8=class{constructor(e){this.source=e,this.url=NS(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.headers=z5(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return G1(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new B8(this):new H8(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;let i=this.isFsUrl?new j8(this,e,t):new V8(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(let t of this._rangeRequestReaders.slice(0))t.cancel(e)}},Js=class{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;let t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){return S(this,null,function*(){if(yield this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new W2("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}},Ks=class{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();let t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){return S(this,null,function*(){if(yield this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}},H8=class extends Js{constructor(e){super(e);let t=Object.fromEntries(e.headers),i=s=>{if(s.statusCode===404){let a=new G2(`Missing PDF "${this._url}".`);this._storedError=a,this._headersCapability.reject(a);return}this._headersCapability.resolve(),this._setReadableStream(s);let o=new Headers(this._readableStream.headers),{allowRangeRequests:r,suggestedLength:c}=x5({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=r,this._contentLength=c||this._contentLength,this._filename=S5(o)};this._request=wm(this._url,t,i),this._request.on("error",s=>{this._storedError=s,this._headersCapability.reject(s)}),this._request.end()}},V8=class extends Ks{constructor(e,t,i){super(e);let s=Object.fromEntries(e.headers);s.Range=`bytes=${t}-${i-1}`;let o=r=>{if(r.statusCode===404){let c=new G2(`Missing PDF "${this._url}".`);this._storedError=c;return}this._setReadableStream(r)};this._request=wm(this._url,s,o),this._request.on("error",r=>{this._storedError=r}),this._request.end()}},B8=class extends Js{constructor(e){super(e);let t=M2.get("fs");t.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(t.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=new G2(`Missing PDF "${this._url}".`)),this._storedError=i,this._headersCapability.reject(i)})}},j8=class extends Ks{constructor(e,t,i){super(e);let s=M2.get("fs");this._setReadableStream(s.createReadStream(this._url,{start:t,end:i-1}))}},TS=1e5,Me=30,IS=.8,I4=class n{#e=Promise.withResolvers();#t=null;#n=!1;#i=!!globalThis.FontInspector?.enabled;#s=null;#o=null;#a=0;#l=0;#u=null;#c=null;#f=0;#r=0;#d=Object.create(null);#p=[];#h=null;#m=[];#v=new WeakMap;#g=null;static#C=new Map;static#M=new Map;static#L=new WeakMap;static#y=null;static#_=new Set;constructor({textContentSource:e,container:t,viewport:i}){if(e instanceof ReadableStream)this.#h=e;else if(typeof e=="object")this.#h=new ReadableStream({start(a){a.enqueue(e),a.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#t=this.#c=t,this.#r=i.scale*(globalThis.devicePixelRatio||1),this.#f=i.rotation,this.#o={div:null,properties:null,ctx:null};let{pageWidth:s,pageHeight:o,pageX:r,pageY:c}=i.rawDims;this.#g=[1,0,0,-1,-r,c+o],this.#l=s,this.#a=o,n.#N(),i3(t,i),this.#e.promise.finally(()=>{n.#_.delete(this),this.#o=null,this.#d=null}).catch(()=>{})}static get fontFamilyMap(){let{isWindows:e,isFirefox:t}=X1.platform;return a1(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){let e=()=>{this.#u.read().then(({value:t,done:i})=>{if(i){this.#e.resolve();return}this.#s??=t.lang,Object.assign(this.#d,t.styles),this.#D(t.items),e()},this.#e.reject)};return this.#u=this.#h.getReader(),n.#_.add(this),e(),this.#e.promise}update({viewport:e,onBefore:t=null}){let i=e.scale*(globalThis.devicePixelRatio||1),s=e.rotation;if(s!==this.#f&&(t?.(),this.#f=s,i3(this.#c,{rotation:s})),i!==this.#r){t?.(),this.#r=i;let o={div:null,properties:null,ctx:n.#A(this.#s)};for(let r of this.#m)o.properties=this.#v.get(r),o.div=r,this.#w(o)}}cancel(){let e=new W2("TextLayer task cancelled.");this.#u?.cancel(e).catch(()=>{}),this.#u=null,this.#e.reject(e)}get textDivs(){return this.#m}get textContentItemsStr(){return this.#p}#D(e){if(this.#n)return;this.#o.ctx??=n.#A(this.#s);let t=this.#m,i=this.#p;for(let s of e){if(t.length>TS){e1("Ignoring additional textDivs for performance reasons."),this.#n=!0;return}if(s.str===void 0){if(s.type==="beginMarkedContentProps"||s.type==="beginMarkedContent"){let o=this.#t;this.#t=document.createElement("span"),this.#t.classList.add("markedContent"),s.id!==null&&this.#t.setAttribute("id",`${s.id}`),o.append(this.#t)}else s.type==="endMarkedContent"&&(this.#t=this.#t.parentNode);continue}i.push(s.str),this.#S(s)}}#S(e){let t=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};this.#m.push(t);let s=k.transform(this.#g,e.transform),o=Math.atan2(s[1],s[0]),r=this.#d[e.fontName];r.vertical&&(o+=Math.PI/2);let c=this.#i&&r.fontSubstitution||r.fontFamily;c=n.fontFamilyMap.get(c)||c;let a=Math.hypot(s[2],s[3]),l=a*n.#I(c,this.#s),u,f;o===0?(u=s[4],f=s[5]-l):(u=s[4]+l*Math.sin(o),f=s[5]-l*Math.cos(o));let d="calc(var(--scale-factor)*",h=t.style;this.#t===this.#c?(h.left=`${(100*u/this.#l).toFixed(2)}%`,h.top=`${(100*f/this.#a).toFixed(2)}%`):(h.left=`${d}${u.toFixed(2)}px)`,h.top=`${d}${f.toFixed(2)}px)`),h.fontSize=`${d}${(n.#y*a).toFixed(2)}px)`,h.fontFamily=c,i.fontSize=a,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,this.#i&&(t.dataset.fontName=r.fontSubstitutionLoadedName||e.fontName),o!==0&&(i.angle=o*(180/Math.PI));let p=!1;if(e.str.length>1)p=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){let m=Math.abs(e.transform[0]),v=Math.abs(e.transform[3]);m!==v&&Math.max(m,v)/Math.min(m,v)>1.5&&(p=!0)}if(p&&(i.canvasWidth=r.vertical?e.height:e.width),this.#v.set(t,i),this.#o.div=t,this.#o.properties=i,this.#w(this.#o),i.hasText&&this.#t.append(t),i.hasEOL){let m=document.createElement("br");m.setAttribute("role","presentation"),this.#t.append(m)}}#w(e){let{div:t,properties:i,ctx:s}=e,{style:o}=t,r="";if(n.#y>1&&(r=`scale(${1/n.#y})`),i.canvasWidth!==0&&i.hasText){let{fontFamily:c}=o,{canvasWidth:a,fontSize:l}=i;n.#x(s,l*this.#r,c);let{width:u}=s.measureText(t.textContent);u>0&&(r=`scaleX(${a*this.#r/u}) ${r}`)}i.angle!==0&&(r=`rotate(${i.angle}deg) ${r}`),r.length>0&&(o.transform=r)}static cleanup(){if(!(this.#_.size>0)){this.#C.clear();for(let{canvas:e}of this.#M.values())e.remove();this.#M.clear()}}static#A(e=null){let t=this.#M.get(e||="");if(!t){let i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=e,document.body.append(i),t=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#M.set(e,t),this.#L.set(t,{size:0,family:""})}return t}static#x(e,t,i){let s=this.#L.get(e);t===s.size&&i===s.family||(e.font=`${t}px ${i}`,s.size=t,s.family=i)}static#N(){if(this.#y!==null)return;let e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),this.#y=e.getBoundingClientRect().height,e.remove()}static#I(e,t){let i=this.#C.get(e);if(i)return i;let s=this.#A(t);s.canvas.width=s.canvas.height=Me,this.#x(s,Me,e);let o=s.measureText(""),r=o.fontBoundingBoxAscent,c=Math.abs(o.fontBoundingBoxDescent);if(r){let u=r/(r+c);return this.#C.set(e,u),s.canvas.width=s.canvas.height=0,u}s.strokeStyle="red",s.clearRect(0,0,Me,Me),s.strokeText("g",0,0);let a=s.getImageData(0,0,Me,Me).data;c=0;for(let u=a.length-1-3;u>=0;u-=4)if(a[u]>0){c=Math.ceil(u/4/Me);break}s.clearRect(0,0,Me,Me),s.strokeText("A",0,Me),a=s.getImageData(0,0,Me,Me).data,r=0;for(let u=0,f=a.length;u<f;u+=4)if(a[u]>0){r=Me-Math.floor(u/4/Me);break}s.canvas.width=s.canvas.height=0;let l=r?r/(r+c):IS;return this.#C.set(e,l),l}},k4=class n{static textContent(e){let t=[],i={items:t,styles:Object.create(null)};function s(o){if(!o)return;let r=null,c=o.name;if(c==="#text")r=o.value;else if(n.shouldBuildText(c))o?.attributes?.textContent?r=o.attributes.textContent:o.value&&(r=o.value);else return;if(r!==null&&t.push({str:r}),!!o.children)for(let a of o.children)s(a)}return s(e),i}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}},kS=65536,OS=100,PS=5e3,RS=le?C8:m8,FS=le?b8:$s,HS=le?v8:g8,VS=le?M8:qs;function BS(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});let e=new U8,{docId:t}=e,i=n.url?jS(n.url):null,s=n.data?US(n.data):null,o=n.httpHeaders||null,r=n.withCredentials===!0,c=n.password??null,a=n.range instanceof Qs?n.range:null,l=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:kS,u=n.worker instanceof mn?n.worker:null,f=n.verbosity,d=typeof n.docBaseUrl=="string"&&!b6(n.docBaseUrl)?n.docBaseUrl:null,h=typeof n.cMapUrl=="string"?n.cMapUrl:null,p=n.cMapPacked!==!1,m=n.CMapReaderFactory||FS,v=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,g=n.StandardFontDataFactory||VS,C=n.stopAtErrors!==!0,M=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,b=n.isEvalSupported!==!1,_=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!le,L=typeof n.isChrome=="boolean"?n.isChrome:!X1.platform.isFirefox&&typeof window<"u"&&!!window?.chrome,x=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,A=typeof n.disableFontFace=="boolean"?n.disableFontFace:le,y=n.fontExtraProperties===!0,w=n.enableXfa===!0,T=n.ownerDocument||globalThis.document,f1=n.disableRange===!0,l1=n.disableStream===!0,s1=n.disableAutoFetch===!0,b1=n.pdfBug===!0,N1=n.CanvasFactory||RS,R=n.FilterFactory||HS,Y=n.enableHWA===!0,X2=a?a.length:n.length??NaN,Dt=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!le&&!A,Ie=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:m===$s&&g===qs&&h&&v&&L4(h,document.baseURI)&&L4(v,document.baseURI);n.canvasFactory&&sm("`canvasFactory`-instance option, please use `CanvasFactory` instead."),n.filterFactory&&sm("`filterFactory`-instance option, please use `FilterFactory` instead.");let W1=null;nS(f);let F1={canvasFactory:new N1({ownerDocument:T,enableHWA:Y}),filterFactory:new R({docId:t,ownerDocument:T}),cMapReaderFactory:Ie?null:new m({baseUrl:h,isCompressed:p}),standardFontDataFactory:Ie?null:new g({baseUrl:v})};if(!u){let ke={verbosity:f,port:n3.workerPort};u=ke.port?mn.fromPort(ke):new mn(ke),e._worker=u}let p3={docId:t,apiVersion:"4.8.69",data:s,password:c,disableAutoFetch:s1,rangeChunkSize:l,length:X2,docBaseUrl:d,enableXfa:w,evaluatorOptions:{maxImageSize:M,disableFontFace:A,ignoreErrors:C,isEvalSupported:b,isOffscreenCanvasSupported:_,isChrome:L,canvasMaxAreaInBytes:x,fontExtraProperties:y,useSystemFonts:Dt,cMapUrl:Ie?h:null,standardFontDataUrl:Ie?v:null}},In={disableFontFace:A,fontExtraProperties:y,ownerDocument:T,pdfBug:b1,styleElement:W1,loadingParams:{disableAutoFetch:s1,enableXfa:w}};return u.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");let ke=u.messageHandler.sendWithPromise("GetDocRequest",p3,s?[s.buffer]:null),x1;if(a)x1=new E8(a,{disableRange:f1,disableStream:l1});else if(!s){if(!i)throw new Error("getDocument - no `url` parameter provided.");let w2;le?w2=typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&L4(i)?Ys:F8:w2=L4(i)?Ys:O8,x1=new w2({url:i,length:X2,httpHeaders:o,withCredentials:r,rangeChunkSize:l,disableRange:f1,disableStream:l1})}return ke.then(w2=>{if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");let ro=new t3(t,w2,u.port),sv=new q8(ro,e,x1,In,F1);e._transport=sv,ro.send("Ready",null)})}).catch(e._capability.reject),e}function jS(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if(le&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function US(n){if(le&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return v6(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n?.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function gm(n){return typeof n=="object"&&Number.isInteger(n?.num)&&n.num>=0&&Number.isInteger(n?.gen)&&n.gen>=0}var U8=class n{static#e=0;constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${n.#e++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}destroy(){return S(this,null,function*(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),yield this._transport?.destroy()}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)})}},Qs=class{constructor(e,t,i=!1,s=null){this.length=e,this.initialData=t,this.progressiveDone=i,this.contentDispositionFilename=s,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(let i of this._rangeListeners)i(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(let i of this._progressListeners)i(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(let t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(let e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){z1("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},$8=class{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return a1(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){let{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}},G8=class{#e=null;#t=!1;constructor(e,t,i,s=!1){this._pageIndex=e,this._pageInfo=t,this._transport=i,this._stats=s?new Rs:null,this._pdfBug=s,this.commonObjs=i.commonObjs,this.objs=new Xs,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:i=0,offsetY:s=0,dontFlip:o=!1}={}){return new S4({viewBox:this.view,scale:e,rotation:t,offsetX:i,offsetY:s,dontFlip:o})}getAnnotations({intent:e="display"}={}){let{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return a1(this,"isPureXfa",!!this._transport._htmlForXfa)}getXfa(){return S(this,null,function*(){return this._transport._htmlForXfa?.children[this._pageIndex]||null})}render({canvasContext:e,viewport:t,intent:i="display",annotationMode:s=wt.ENABLE,transform:o=null,background:r=null,optionalContentConfigPromise:c=null,annotationCanvasMap:a=null,pageColors:l=null,printAnnotationStorage:u=null,isEditing:f=!1}){this._stats?.time("Overall");let d=this._transport.getRenderingIntent(i,s,u,f),{renderingIntent:h,cacheKey:p}=d;this.#t=!1,this.#i(),c||=this._transport.getOptionalContentConfig(h);let m=this._intentStates.get(p);m||(m=Object.create(null),this._intentStates.set(p,m)),m.streamReaderCancelTimeout&&(clearTimeout(m.streamReaderCancelTimeout),m.streamReaderCancelTimeout=null);let v=!!(h&Ee.PRINT);m.displayReadyCapability||(m.displayReadyCapability=Promise.withResolvers(),m.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(d));let g=b=>{m.renderTasks.delete(C),(this._maybeCleanupAfterRender||v)&&(this.#t=!0),this.#n(!v),b?(C.capability.reject(b),this._abortOperatorList({intentState:m,reason:b instanceof Error?b:new Error(b)})):C.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},C=new Y8({callback:g,params:{canvasContext:e,viewport:t,transform:o,background:r},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:a,operatorList:m.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!v,pdfBug:this._pdfBug,pageColors:l});(m.renderTasks||=new Set).add(C);let M=C.task;return Promise.all([m.displayReadyCapability.promise,c]).then(([b,_])=>{if(this.destroyed){g();return}if(this._stats?.time("Rendering"),!(_.renderingIntent&h))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");C.initializeGraphics({transparency:b,optionalContentConfig:_}),C.operatorListChanged()}).catch(g),M}getOperatorList({intent:e="display",annotationMode:t=wt.ENABLE,printAnnotationStorage:i=null,isEditing:s=!1}={}){function o(){c.operatorList.lastChunk&&(c.opListReadCapability.resolve(c.operatorList),c.renderTasks.delete(a))}let r=this._transport.getRenderingIntent(e,t,i,s,!0),c=this._intentStates.get(r.cacheKey);c||(c=Object.create(null),this._intentStates.set(r.cacheKey,c));let a;return c.opListReadCapability||(a=Object.create(null),a.operatorListChanged=o,c.opListReadCapability=Promise.withResolvers(),(c.renderTasks||=new Set).add(a),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(r)),c.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(s){return s.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>k4.textContent(i));let t=this.streamTextContent(e);return new Promise(function(i,s){function o(){r.read().then(function({value:a,done:l}){if(l){i(c);return}c.lang??=a.lang,Object.assign(c.styles,a.styles),c.items.push(...a.items),o()},s)}let r=t.getReader(),c={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;let e=[];for(let t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(let i of t.renderTasks)e.push(i.completed),i.cancel();return this.objs.clear(),this.#t=!1,this.#i(),Promise.all(e)}cleanup(e=!1){this.#t=!0;let t=this.#n(!1);return e&&t&&(this._stats&&=new Rs),t}#n(e=!1){if(this.#i(),!this.#t||this.destroyed)return!1;if(e)return this.#e=setTimeout(()=>{this.#e=null,this.#n(!1)},PS),!1;for(let{renderTasks:t,operatorList:i}of this._intentStates.values())if(t.size>0||!i.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}#i(){this.#e&&(clearTimeout(this.#e),this.#e=null)}_startRenderPage(e,t){let i=this._intentStates.get(t);i&&(this._stats?.timeEnd("Page Request"),i.displayReadyCapability?.resolve(e))}_renderPageChunk(e,t){for(let i=0,s=e.length;i<s;i++)t.operatorList.fnArray.push(e.fnArray[i]),t.operatorList.argsArray.push(e.argsArray[i]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(let i of t.renderTasks)i.operatorListChanged();e.lastChunk&&this.#n(!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:i,modifiedIds:s}){let{map:o,transfer:r}=i,a=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:o,modifiedIds:s},r).getReader(),l=this._intentStates.get(t);l.streamReader=a;let u=()=>{a.read().then(({value:f,done:d})=>{if(d){l.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(f,l),u())},f=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(let d of l.renderTasks)d.operatorListChanged();this.#n(!0)}if(l.displayReadyCapability)l.displayReadyCapability.reject(f);else if(l.opListReadCapability)l.opListReadCapability.reject(f);else throw f}})};u()}_abortOperatorList({intentState:e,reason:t,force:i=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!i){if(e.renderTasks.size>0)return;if(t instanceof A4){let s=OS;t.extraDelay>0&&t.extraDelay<1e3&&(s+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},s);return}}if(e.streamReader.cancel(new W2(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(let[s,o]of this._intentStates)if(o===e){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}},W8=class{#e=new Map;#t=Promise.resolve();postMessage(e,t){let i={data:structuredClone(e,t?{transfer:t}:null)};this.#t.then(()=>{for(let[s]of this.#e)s.call(this,i)})}addEventListener(e,t,i=null){let s=null;if(i?.signal instanceof AbortSignal){let{signal:o}=i;if(o.aborted){e1("LoopbackPort - cannot use an `aborted` signal.");return}let r=()=>this.removeEventListener(e,t);s=()=>o.removeEventListener("abort",r),o.addEventListener("abort",r)}this.#e.set(t,s)}removeEventListener(e,t){this.#e.get(t)?.(),this.#e.delete(t)}terminate(){for(let[,e]of this.#e)e?.();this.#e.clear()}},mn=class n{static#e=0;static#t=!1;static#n;static{le&&(this.#t=!0,n3.workerSrc||="./pdf.worker.mjs"),this._isSameOrigin=(e,t)=>{let i;try{if(i=new URL(e),!i.origin||i.origin==="null")return!1}catch{return!1}let s=new URL(t,i);return i.origin===s.origin},this._createCDNWrapper=e=>{let t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))}}constructor({name:e=null,port:t=null,verbosity:i=iS()}={}){if(this.name=e,this.destroyed=!1,this.verbosity=i,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if(n.#n?.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(n.#n||=new WeakMap).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return le?Promise.all([M2.promise,this._readyCapability.promise]):this._readyCapability.promise}#i(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new t3("main","worker",e),this._messageHandler.on("ready",function(){}),this.#i()}_initialize(){if(n.#t||n.#s){this._setupFakeWorker();return}let{workerSrc:e}=n;try{n._isSameOrigin(window.location.href,e)||(e=n._createCDNWrapper(new URL(e,window.location).href));let t=new Worker(e,{type:"module"}),i=new t3("main","worker",t),s=()=>{o.abort(),i.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},o=new AbortController;t.addEventListener("error",()=>{this._webWorker||s()},{signal:o.signal}),i.on("test",c=>{if(o.abort(),this.destroyed||!c){s();return}this._messageHandler=i,this._port=t,this._webWorker=t,this.#i()}),i.on("ready",c=>{if(o.abort(),this.destroyed){s();return}try{r()}catch{this._setupFakeWorker()}});let r=()=>{let c=new Uint8Array;i.send("test",c,[c.buffer])};r();return}catch{g6("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){n.#t||(e1("Setting up fake worker."),n.#t=!0),n._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}let t=new W8;this._port=t;let i=`fake${n.#e++}`,s=new t3(i+"_worker",i,t);e.setup(s,t),this._messageHandler=new t3(i,i+"_worker",t),this.#i()}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),n.#n?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){if(!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");let t=this.#n?.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new n(e)}static get workerSrc(){if(n3.workerSrc)return n3.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get#s(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){return a1(this,"_setupFakeWorkerGlobal",S(this,null,function*(){return this.#s?this.#s:(yield import(this.workerSrc)).WorkerMessageHandler}))}},q8=class{#e=new Map;#t=new Map;#n=new Map;#i=new Map;#s=null;constructor(e,t,i,s,o){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new Xs,this.fontLoader=new h8({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}#o(e,t=null){let i=this.#e.get(e);if(i)return i;let s=this.messageHandler.sendWithPromise(e,t);return this.#e.set(e,s),s}get annotationStorage(){return a1(this,"annotationStorage",new N4)}getRenderingIntent(e,t=wt.ENABLE,i=null,s=!1,o=!1){let r=Ee.DISPLAY,c=d8;switch(e){case"any":r=Ee.ANY;break;case"display":break;case"print":r=Ee.PRINT;break;default:e1(`getRenderingIntent - invalid intent: ${e}`)}let a=r&Ee.PRINT&&i instanceof Bs?i:this.annotationStorage;switch(t){case wt.DISABLE:r+=Ee.ANNOTATIONS_DISABLE;break;case wt.ENABLE:break;case wt.ENABLE_FORMS:r+=Ee.ANNOTATIONS_FORMS;break;case wt.ENABLE_STORAGE:r+=Ee.ANNOTATIONS_STORAGE,c=a.serializable;break;default:e1(`getRenderingIntent - invalid annotationMode: ${t}`)}s&&(r+=Ee.IS_EDITING),o&&(r+=Ee.OPLIST);let{ids:l,hash:u}=a.modifiedIds,f=[r,c.hash,u];return{renderingIntent:r,cacheKey:f.join("_"),annotationStorageSerializable:c,modifiedIds:l}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#s?.reject(new Error("Worker was destroyed during onPassword callback"));let e=[];for(let i of this.#t.values())e.push(i._destroy());this.#t.clear(),this.#n.clear(),this.#i.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();let t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),I4.cleanup(),this._networkStream?.cancelAllRequests(new W2("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){let{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(i,s)=>{G1(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},s.onPull=()=>{this._fullReader.read().then(function({value:o,done:r}){if(r){s.close();return}G1(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{s.error(o)})},s.onCancel=o=>{this._fullReader.cancel(o),s.ready.catch(r=>{if(!this.destroyed)throw r})}}),e.on("ReaderHeadersReady",i=>S(this,null,function*(){yield this._fullReader.headersReady;let{isStreamingSupported:s,isRangeSupported:o,contentLength:r}=this._fullReader;return(!s||!o)&&(this._lastProgress&&t.onProgress?.(this._lastProgress),this._fullReader.onProgress=c=>{t.onProgress?.({loaded:c.loaded,total:c.total})}),{isStreamingSupported:s,isRangeSupported:o,contentLength:r}})),e.on("GetRangeReader",(i,s)=>{G1(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");let o=this._networkStream.getRangeReader(i.begin,i.end);if(!o){s.close();return}s.onPull=()=>{o.read().then(function({value:r,done:c}){if(c){s.close();return}G1(r instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(r),1,[r])}).catch(r=>{s.error(r)})},s.onCancel=r=>{o.cancel(r),s.ready.catch(c=>{if(!this.destroyed)throw c})}}),e.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,t._capability.resolve(new $8(i,this))}),e.on("DocException",function(i){let s;switch(i.name){case"PasswordException":s=new z4(i.message,i.code);break;case"InvalidPDFException":s=new Ps(i.message);break;case"MissingPDFException":s=new G2(i.message);break;case"UnexpectedResponseException":s=new gn(i.message,i.status);break;case"UnknownErrorException":s=new x4(i.message,i.details);break;default:z1("DocException - expected a valid Error.")}t._capability.reject(s)}),e.on("PasswordRequest",i=>{if(this.#s=Promise.withResolvers(),t.onPassword){let s=o=>{o instanceof Error?this.#s.reject(o):this.#s.resolve({password:o})};try{t.onPassword(s,i.code)}catch(o){this.#s.reject(o)}}else this.#s.reject(new z4(i.message,i.code));return this.#s.promise}),e.on("DataLoaded",i=>{t.onProgress?.({loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),e.on("StartRenderPage",i=>{if(this.destroyed)return;this.#t.get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),e.on("commonobj",([i,s,o])=>{if(this.destroyed||this.commonObjs.has(i))return null;switch(s){case"Font":let{disableFontFace:r,fontExtraProperties:c,pdfBug:a}=this._params;if("error"in o){let d=o.error;e1(`Error during font loading: ${d}`),this.commonObjs.resolve(i,d);break}let l=a&&globalThis.FontInspector?.enabled?(d,h)=>globalThis.FontInspector.fontAdded(d,h):null,u=new p8(o,{disableFontFace:r,inspectFont:l});this.fontLoader.bind(u).catch(()=>e.sendWithPromise("FontFallback",{id:i})).finally(()=>{!c&&u.data&&(u.data=null),this.commonObjs.resolve(i,u)});break;case"CopyLocalImage":let{imageRef:f}=o;G1(f,"The imageRef must be defined.");for(let d of this.#t.values())for(let[,h]of d.objs)if(h?.ref===f)return h.dataLen?(this.commonObjs.resolve(i,structuredClone(h)),h.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,o);break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),e.on("obj",([i,s,o,r])=>{if(this.destroyed)return;let c=this.#t.get(s);if(!c.objs.has(i)){if(c._intentStates.size===0){r?.bitmap?.close();return}switch(o){case"Image":c.objs.resolve(i,r),r?.dataLen>Kx&&(c._maybeCleanupAfterRender=!0);break;case"Pattern":c.objs.resolve(i,r);break;default:throw new Error(`Got unknown object type ${o}`)}}}),e.on("DocProgress",i=>{this.destroyed||t.onProgress?.({loaded:i.loaded,total:i.total})}),e.on("FetchBuiltInCMap",i=>S(this,null,function*(){if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(i)})),e.on("FetchStandardFontData",i=>S(this,null,function*(){if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(i)}))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&e1("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");let{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));let t=e-1,i=this.#n.get(t);if(i)return i;let s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&this.#i.set(o.refStr,e);let r=new G8(t,o,this,this._params.pdfBug);return this.#t.set(t,r),r});return this.#n.set(t,s),s}getPageIndex(e){return gm(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return this.#o("GetFieldObjects")}hasJSActions(){return this.#o("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#o("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return this.#o("GetOptionalContentConfig").then(t=>new A8(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){let e="GetMetadata",t=this.#e.get(e);if(t)return t;let i=this.messageHandler.sendWithPromise(e,null).then(s=>({info:s[0],metadata:s[1]?new x8(s[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(e,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(e=!1){return S(this,null,function*(){if(!this.destroyed){yield this.messageHandler.sendWithPromise("Cleanup",null);for(let t of this.#t.values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0),I4.cleanup()}})}cachedPageNumber(e){if(!gm(e))return null;let t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return this.#i.get(t)??null}},Ds=Symbol("INITIAL_DATA"),Xs=class{#e=Object.create(null);#t(e){return this.#e[e]||=t1(N({},Promise.withResolvers()),{data:Ds})}get(e,t=null){if(t){let s=this.#t(e);return s.promise.then(()=>t(s.data)),null}let i=this.#e[e];if(!i||i.data===Ds)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return i.data}has(e){let t=this.#e[e];return!!t&&t.data!==Ds}resolve(e,t=null){let i=this.#t(e);i.data=t,i.resolve()}clear(){for(let e in this.#e){let{data:t}=this.#e[e];t?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(let e in this.#e){let{data:t}=this.#e[e];t!==Ds&&(yield[e,t])}}},Z8=class{#e=null;constructor(e){this.#e=e,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(e=0){this.#e.cancel(null,e)}get separateAnnots(){let{separateAnnots:e}=this.#e.operatorList;if(!e)return!1;let{annotationCanvasMap:t}=this.#e;return e.form||e.canvas&&t?.size>0}},Y8=class n{#e=null;static#t=new WeakSet;constructor({callback:e,params:t,objs:i,commonObjs:s,annotationCanvasMap:o,operatorList:r,pageIndex:c,canvasFactory:a,filterFactory:l,useRequestAnimationFrame:u=!1,pdfBug:f=!1,pageColors:d=null}){this.callback=e,this.params=t,this.objs=i,this.commonObjs=s,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=r,this._pageIndex=c,this.canvasFactory=a,this.filterFactory=l,this._pdfBug=f,this.pageColors=d,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=u===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new Z8(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){if(this.cancelled)return;if(this._canvas){if(n.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");n.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());let{canvasContext:i,viewport:s,transform:o,background:r}=this.params;this.gfx=new pn(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:s,transparency:e,background:r}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,t=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=null),n.#t.delete(this._canvas),this.callback(e||new A4(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#e=window.requestAnimationFrame(()=>{this.#e=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){return S(this,null,function*(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),n.#t.delete(this._canvas),this.callback())))})}},$S="4.8.69",GS="3634dab10";function vm(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function _4(n){return Math.max(0,Math.min(255,255*n))}var e6=class{static CMYK_G([e,t,i,s]){return["G",1-Math.min(1,.3*e+.59*i+.11*t+s)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=_4(e),[e,e,e]}static G_HTML([e]){let t=vm(e);return`#${t}${t}${t}`}static RGB_G([e,t,i]){return["G",.3*e+.59*t+.11*i]}static RGB_rgb(e){return e.map(_4)}static RGB_HTML(e){return`#${e.map(vm).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,i,s]){return["RGB",1-Math.min(1,e+s),1-Math.min(1,i+s),1-Math.min(1,t+s)]}static CMYK_rgb([e,t,i,s]){return[_4(1-Math.min(1,e+s)),_4(1-Math.min(1,i+s)),_4(1-Math.min(1,t+s))]}static CMYK_HTML(e){let t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,i]){let s=1-e,o=1-t,r=1-i,c=Math.min(s,o,r);return["CMYK",s,o,r,c]}},J8=class{create(e,t,i=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");let s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),i||(s.setAttribute("width",`${e}px`),s.setAttribute("height",`${t}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${e} ${t}`),s}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){z1("Abstract method `_createSVG` called.")}},O4=class extends J8{_createSVG(e){return document.createElementNS(U2,e)}},t6=class{static setupStorage(e,t,i,s,o){let r=s.getValue(t,{value:null});switch(i.name){case"textarea":if(r.value!==null&&(e.textContent=r.value),o==="print")break;e.addEventListener("input",c=>{s.setValue(t,{value:c.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(r.value===i.attributes.xfaOn?e.setAttribute("checked",!0):r.value===i.attributes.xfaOff&&e.removeAttribute("checked"),o==="print")break;e.addEventListener("change",c=>{s.setValue(t,{value:c.target.checked?c.target.getAttribute("xfaOn"):c.target.getAttribute("xfaOff")})})}else{if(r.value!==null&&e.setAttribute("value",r.value),o==="print")break;e.addEventListener("input",c=>{s.setValue(t,{value:c.target.value})})}break;case"select":if(r.value!==null){e.setAttribute("value",r.value);for(let c of i.children)c.attributes.value===r.value?c.attributes.selected=!0:c.attributes.hasOwnProperty("selected")&&delete c.attributes.selected}e.addEventListener("input",c=>{let a=c.target.options,l=a.selectedIndex===-1?"":a[a.selectedIndex].value;s.setValue(t,{value:l})});break}}static setAttributes({html:e,element:t,storage:i=null,intent:s,linkService:o}){let{attributes:r}=t,c=e instanceof HTMLAnchorElement;r.type==="radio"&&(r.name=`${r.name}-${s}`);for(let[a,l]of Object.entries(r))if(l!=null)switch(a){case"class":l.length&&e.setAttribute(a,l.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",l);break;case"style":Object.assign(e.style,l);break;case"textContent":e.textContent=l;break;default:(!c||a!=="href"&&a!=="newWindow")&&e.setAttribute(a,l)}c&&o.addLinkAttributes(e,r.href,r.newWindow),i&&r.dataId&&this.setupStorage(e,r.dataId,t,i)}static render(e){let t=e.annotationStorage,i=e.linkService,s=e.xfaHtml,o=e.intent||"display",r=document.createElement(s.name);s.attributes&&this.setAttributes({html:r,element:s,intent:o,linkService:i});let c=o!=="richText",a=e.div;if(a.append(r),e.viewport){let f=`matrix(${e.viewport.transform.join(",")})`;a.style.transform=f}c&&a.setAttribute("class","xfaLayer xfaFont");let l=[];if(s.children.length===0){if(s.value){let f=document.createTextNode(s.value);r.append(f),c&&k4.shouldBuildText(s.name)&&l.push(f)}return{textDivs:l}}let u=[[s,-1,r]];for(;u.length>0;){let[f,d,h]=u.at(-1);if(d+1===f.children.length){u.pop();continue}let p=f.children[++u.at(-1)[1]];if(p===null)continue;let{name:m}=p;if(m==="#text"){let g=document.createTextNode(p.value);l.push(g),h.append(g);continue}let v=p?.attributes?.xmlns?document.createElementNS(p.attributes.xmlns,m):document.createElement(m);if(h.append(v),p.attributes&&this.setAttributes({html:v,element:p,storage:t,intent:o,linkService:i}),p.children?.length>0)u.push([p,-1,v]);else if(p.value){let g=document.createTextNode(p.value);c&&k4.shouldBuildText(m)&&l.push(g),v.append(g)}}for(let f of a.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))f.setAttribute("readOnly",!0);return{textDivs:l}}static update(e){let t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}},H4=1e3,WS=9,o3=new WeakSet;function $2(n){return{width:n[2]-n[0],height:n[3]-n[1]}}var K8=class{static create(e){switch(e.data.annotationType){case $1.LINK:return new n6(e);case $1.TEXT:return new Q8(e);case $1.WIDGET:switch(e.data.fieldType){case"Tx":return new X8(e);case"Btn":return e.data.radioButton?new i6(e):e.data.checkBox?new t5(e):new n5(e);case"Ch":return new i5(e);case"Sig":return new e5(e)}return new q2(e);case $1.POPUP:return new P4(e);case $1.FREETEXT:return new s6(e);case $1.LINE:return new o5(e);case $1.SQUARE:return new r5(e);case $1.CIRCLE:return new c5(e);case $1.POLYLINE:return new o6(e);case $1.CARET:return new l5(e);case $1.INK:return new R4(e);case $1.POLYGON:return new a5(e);case $1.HIGHLIGHT:return new r6(e);case $1.UNDERLINE:return new u5(e);case $1.SQUIGGLY:return new f5(e);case $1.STRIKEOUT:return new d5(e);case $1.STAMP:return new c6(e);case $1.FILEATTACHMENT:return new h5(e);default:return new R1(e)}}},R1=class n{#e=null;#t=!1;#n=null;constructor(e,{isRenderable:t=!1,ignoreBorder:i=!1,createQuadrilaterals:s=!1}={}){this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(i)),s&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:i}){return!!(e?.str||t?.str||i?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return n._hasPopupData(this.data)}updateEdited(e){if(!this.container)return;this.#e||={rect:this.data.rect.slice(0)};let{rect:t}=e;t&&this.#i(t),this.#n?.popup.updateEdited(e)}resetEdited(){this.#e&&(this.#i(this.#e.rect),this.#n?.popup.resetEdited(),this.#e=null)}#i(e){let{container:{style:t},data:{rect:i,rotation:s},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:r,pageX:c,pageY:a}}}}=this;i?.splice(0,4,...e);let{width:l,height:u}=$2(e);t.left=`${100*(e[0]-c)/o}%`,t.top=`${100*(r-e[3]+a)/r}%`,s===0?(t.width=`${100*l/o}%`,t.height=`${100*u/r}%`):this.setRotation(s)}_createContainer(e){let{data:t,parent:{page:i,viewport:s}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",t.id),this instanceof q2||(o.tabIndex=H4);let{style:r}=o;if(r.zIndex=this.parent.zIndex++,t.alternativeText&&(o.title=t.alternativeText),t.noRotate&&o.classList.add("norotate"),!t.rect||this instanceof P4){let{rotation:m}=t;return!t.hasOwnCanvas&&m!==0&&this.setRotation(m,o),o}let{width:c,height:a}=$2(t.rect);if(!e&&t.borderStyle.width>0){r.borderWidth=`${t.borderStyle.width}px`;let m=t.borderStyle.horizontalCornerRadius,v=t.borderStyle.verticalCornerRadius;if(m>0||v>0){let C=`calc(${m}px * var(--scale-factor)) / calc(${v}px * var(--scale-factor))`;r.borderRadius=C}else if(this instanceof i6){let C=`calc(${c}px * var(--scale-factor)) / calc(${a}px * var(--scale-factor))`;r.borderRadius=C}switch(t.borderStyle.style){case M4.SOLID:r.borderStyle="solid";break;case M4.DASHED:r.borderStyle="dashed";break;case M4.BEVELED:e1("Unimplemented border style: beveled");break;case M4.INSET:e1("Unimplemented border style: inset");break;case M4.UNDERLINE:r.borderBottomStyle="solid";break;default:break}let g=t.borderColor||null;g?(this.#t=!0,r.borderColor=k.makeHexColor(g[0]|0,g[1]|0,g[2]|0)):r.borderWidth=0}let l=k.normalizeRect([t.rect[0],i.view[3]-t.rect[1]+i.view[1],t.rect[2],i.view[3]-t.rect[3]+i.view[1]]),{pageWidth:u,pageHeight:f,pageX:d,pageY:h}=s.rawDims;r.left=`${100*(l[0]-d)/u}%`,r.top=`${100*(l[1]-h)/f}%`;let{rotation:p}=t;return t.hasOwnCanvas||p===0?(r.width=`${100*c/u}%`,r.height=`${100*a/f}%`):this.setRotation(p,o),o}setRotation(e,t=this.container){if(!this.data.rect)return;let{pageWidth:i,pageHeight:s}=this.parent.viewport.rawDims,{width:o,height:r}=$2(this.data.rect),c,a;e%180===0?(c=100*o/i,a=100*r/s):(c=100*r/i,a=100*o/s),t.style.width=`${c}%`,t.style.height=`${a}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){let e=(t,i,s)=>{let o=s.detail[t],r=o[0],c=o.slice(1);s.target.style[i]=e6[`${r}_HTML`](c),this.annotationStorage.setValue(this.data.id,{[i]:e6[`${r}_rgb`](c)})};return a1(this,"_commonActions",{display:t=>{let{display:i}=t.detail,s=i%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:i===1||i===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{let{hidden:i}=t.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{let i=t.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(e,t){let i=this._commonActions;for(let s of Object.keys(t.detail))(e[s]||i[s])?.(t)}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;let t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;let i=this._commonActions;for(let[s,o]of Object.entries(t)){let r=i[s];if(r){let c={detail:{[s]:o},target:e};r(c),delete t[s]}}}_createQuadrilaterals(){if(!this.container)return;let{quadPoints:e}=this.data;if(!e)return;let[t,i,s,o]=this.data.rect.map(m=>Math.fround(m));if(e.length===8){let[m,v,g,C]=e.subarray(2,6);if(s===m&&o===v&&t===g&&i===C)return}let{style:r}=this.container,c;if(this.#t){let{borderColor:m,borderWidth:v}=r;r.borderWidth=0,c=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${m}" stroke-width="${v}">`],this.container.classList.add("hasBorder")}let a=s-t,l=o-i,{svgFactory:u}=this,f=u.createElement("svg");f.classList.add("quadrilateralsContainer"),f.setAttribute("width",0),f.setAttribute("height",0);let d=u.createElement("defs");f.append(d);let h=u.createElement("clipPath"),p=`clippath_${this.data.id}`;h.setAttribute("id",p),h.setAttribute("clipPathUnits","objectBoundingBox"),d.append(h);for(let m=2,v=e.length;m<v;m+=8){let g=e[m],C=e[m+1],M=e[m+2],b=e[m+3],_=u.createElement("rect"),L=(M-t)/a,x=(o-C)/l,A=(g-M)/a,y=(C-b)/l;_.setAttribute("x",L),_.setAttribute("y",x),_.setAttribute("width",A),_.setAttribute("height",y),h.append(_),c?.push(`<rect vector-effect="non-scaling-stroke" x="${L}" y="${x}" width="${A}" height="${y}"/>`)}this.#t&&(c.push("</g></svg>')"),r.backgroundImage=c.join("")),this.container.append(f),this.container.style.clipPath=`url(#${p})`}_createPopup(){let{data:e}=this,t=this.#n=new P4({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]});this.parent.div.append(t.render())}render(){z1("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){let i=[];if(this._fieldObjects){let s=this._fieldObjects[e];if(s)for(let{page:o,id:r,exportValues:c}of s){if(o===-1||r===t)continue;let a=typeof c=="string"?c:null,l=document.querySelector(`[data-element-id="${r}"]`);if(l&&!o3.has(l)){e1(`_getElementsByName - element not allowed: ${r}`);continue}i.push({id:r,exportValue:a,domElement:l})}return i}for(let s of document.getElementsByName(e)){let{exportValue:o}=s,r=s.getAttribute("data-element-id");r!==t&&o3.has(s)&&i.push({id:r,exportValue:o,domElement:s})}return i}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){let e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(let t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;let{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}},n6=class extends R1{constructor(e,t=null){super(e,{isRenderable:!0,ignoreBorder:!!t?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){let{data:e,linkService:t}=this,i=document.createElement("a");i.setAttribute("data-element-id",e.id);let s=!1;return e.url?(t.addLinkAttributes(i,e.url,e.newWindow),s=!0):e.action?(this._bindNamedAction(i,e.action),s=!0):e.attachment?(this.#t(i,e.attachment,e.attachmentDest),s=!0):e.setOCGState?(this.#n(i,e.setOCGState),s=!0):e.dest?(this._bindLink(i,e.dest),s=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,e),s=!0),e.resetForm?(this._bindResetFormAction(i,e.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(i),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(e,t){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||t==="")&&this.#e()}_bindNamedAction(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),this.#e()}#t(e,t,i=null){e.href=this.linkService.getAnchorUrl(""),t.description&&(e.title=t.description),e.onclick=()=>(this.downloadManager?.openOrDownloadData(t.content,t.filename,i),!1),this.#e()}#n(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),this.#e()}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");let i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(let s of Object.keys(t.actions)){let o=i.get(s);o&&(e[o]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:s}}),!1))}e.onclick||(e.onclick=()=>!1),this.#e()}_bindResetFormAction(e,t){let i=e.onclick;if(i||(e.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){e1('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(e.onclick=()=>!1);return}e.onclick=()=>{i?.();let{fields:s,refs:o,include:r}=t,c=[];if(s.length!==0||o.length!==0){let u=new Set(o);for(let f of s){let d=this._fieldObjects[f]||[];for(let{id:h}of d)u.add(h)}for(let f of Object.values(this._fieldObjects))for(let d of f)u.has(d.id)===r&&c.push(d)}else for(let u of Object.values(this._fieldObjects))c.push(...u);let a=this.annotationStorage,l=[];for(let u of c){let{id:f}=u;switch(l.push(f),u.type){case"text":{let h=u.defaultValue||"";a.setValue(f,{value:h});break}case"checkbox":case"radiobutton":{let h=u.defaultValue===u.exportValues;a.setValue(f,{value:h});break}case"combobox":case"listbox":{let h=u.defaultValue||"";a.setValue(f,{value:h});break}default:continue}let d=document.querySelector(`[data-element-id="${f}"]`);if(d){if(!o3.has(d)){e1(`_bindResetFormAction - element not allowed: ${f}`);continue}}else continue;d.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:l,name:"ResetForm"}}),!1}}},Q8=class extends R1{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");let e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}},q2=class extends R1{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&(e.previousSibling?.nodeName==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return X1.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,i,s,o){i.includes("mouse")?e.addEventListener(i,r=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:o(r),shift:r.shiftKey,modifier:this._getKeyModifier(r)}})}):e.addEventListener(i,r=>{if(i==="blur"){if(!t.focused||!r.relatedTarget)return;t.focused=!1}else if(i==="focus"){if(t.focused)return;t.focused=!0}o&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:o(r)}})})}_setEventListeners(e,t,i,s){for(let[o,r]of i)(r==="Action"||this.data.actions?.[r])&&((r==="Focus"||r==="Blur")&&(t||={focused:!1}),this._setEventListener(e,t,o,r,s),r==="Focus"&&!this.data.actions?.Blur?this._setEventListener(e,t,"blur","Blur",null):r==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){let t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":k.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){let t=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||WS,o=e.style,r,c=2,a=l=>Math.round(10*l)/10;if(this.data.multiLine){let l=Math.abs(this.data.rect[3]-this.data.rect[1]-c),u=Math.round(l/(Ts*s))||1,f=l/u;r=Math.min(s,a(f/Ts))}else{let l=Math.abs(this.data.rect[3]-this.data.rect[1]-c);r=Math.min(s,a(l/Ts))}o.fontSize=`calc(${r}px * var(--scale-factor))`,o.color=k.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(o.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}},X8=class extends q2{constructor(e){let t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,i,s){let o=this.annotationStorage;for(let r of this._getElementsByName(e.name,e.id))r.domElement&&(r.domElement[t]=i),o.setValue(r.id,{[s]:i})}render(){let e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){let s=e.getValue(t,{value:this.data.fieldValue}),o=s.value||"",r=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;r&&o.length>r&&(o=o.slice(0,r));let c=s.formattedValue||this.data.textContent?.join(`
`)||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));let a={userValue:o,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=c??o,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type="text",i.setAttribute("value",c??o),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),o3.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=H4,this._setRequired(i,this.data.required),r&&(i.maxLength=r),i.addEventListener("input",u=>{e.setValue(t,{value:u.target.value}),this.setPropertyOnSiblings(i,"value",u.target.value,"value"),a.formattedValue=null}),i.addEventListener("resetform",u=>{let f=this.data.defaultFieldValue??"";i.value=a.userValue=f,a.formattedValue=null});let l=u=>{let{formattedValue:f}=a;f!=null&&(u.target.value=f),u.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",f=>{if(a.focused)return;let{target:d}=f;a.userValue&&(d.value=a.userValue),a.lastCommittedValue=d.value,a.commitKey=1,this.data.actions?.Focus||(a.focused=!0)}),i.addEventListener("updatefromsandbox",f=>{this.showElementAndHideCanvas(f.target);let d={value(h){a.userValue=h.detail.value??"",e.setValue(t,{value:a.userValue.toString()}),h.target.value=a.userValue},formattedValue(h){let{formattedValue:p}=h.detail;a.formattedValue=p,p!=null&&h.target!==document.activeElement&&(h.target.value=p),e.setValue(t,{formattedValue:p})},selRange(h){h.target.setSelectionRange(...h.detail.selRange)},charLimit:h=>{let{charLimit:p}=h.detail,{target:m}=h;if(p===0){m.removeAttribute("maxLength");return}m.setAttribute("maxLength",p);let v=a.userValue;!v||v.length<=p||(v=v.slice(0,p),m.value=a.userValue=v,e.setValue(t,{value:v}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:v,willCommit:!0,commitKey:1,selStart:m.selectionStart,selEnd:m.selectionEnd}}))}};this._dispatchEventFromSandbox(d,f)}),i.addEventListener("keydown",f=>{a.commitKey=1;let d=-1;if(f.key==="Escape"?d=0:f.key==="Enter"&&!this.data.multiLine?d=2:f.key==="Tab"&&(a.commitKey=3),d===-1)return;let{value:h}=f.target;a.lastCommittedValue!==h&&(a.lastCommittedValue=h,a.userValue=h,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:h,willCommit:!0,commitKey:d,selStart:f.target.selectionStart,selEnd:f.target.selectionEnd}}))});let u=l;l=null,i.addEventListener("blur",f=>{if(!a.focused||!f.relatedTarget)return;this.data.actions?.Blur||(a.focused=!1);let{value:d}=f.target;a.userValue=d,a.lastCommittedValue!==d&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:d,willCommit:!0,commitKey:a.commitKey,selStart:f.target.selectionStart,selEnd:f.target.selectionEnd}}),u(f)}),this.data.actions?.Keystroke&&i.addEventListener("beforeinput",f=>{a.lastCommittedValue=null;let{data:d,target:h}=f,{value:p,selectionStart:m,selectionEnd:v}=h,g=m,C=v;switch(f.inputType){case"deleteWordBackward":{let M=p.substring(0,m).match(/\w*[^\w]*$/);M&&(g-=M[0].length);break}case"deleteWordForward":{let M=p.substring(m).match(/^[^\w]*\w*/);M&&(C+=M[0].length);break}case"deleteContentBackward":m===v&&(g-=1);break;case"deleteContentForward":m===v&&(C+=1);break}f.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:p,change:d||"",willCommit:!1,selStart:g,selEnd:C}})}),this._setEventListeners(i,a,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],f=>f.target.value)}if(l&&i.addEventListener("blur",l),this.data.comb){let f=(this.data.rect[2]-this.data.rect[0])/r;i.classList.add("comb"),i.style.letterSpacing=`calc(${f}px * var(--scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}},e5=class extends q2{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}},t5=class extends q2{constructor(e){super(e,{isRenderable:e.renderForms})}render(){let e=this.annotationStorage,t=this.data,i=t.id,s=e.getValue(i,{value:t.exportValue===t.fieldValue}).value;typeof s=="string"&&(s=s!=="Off",e.setValue(i,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");let o=document.createElement("input");return o3.add(o),o.setAttribute("data-element-id",i),o.disabled=t.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=t.fieldName,s&&o.setAttribute("checked",!0),o.setAttribute("exportValue",t.exportValue),o.tabIndex=H4,o.addEventListener("change",r=>{let{name:c,checked:a}=r.target;for(let l of this._getElementsByName(c,i)){let u=a&&l.exportValue===t.exportValue;l.domElement&&(l.domElement.checked=u),e.setValue(l.id,{value:u})}e.setValue(i,{value:a})}),o.addEventListener("resetform",r=>{let c=t.defaultFieldValue||"Off";r.target.checked=c===t.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",r=>{let c={value(a){a.target.checked=a.detail.value!=="Off",e.setValue(i,{value:a.target.checked})}};this._dispatchEventFromSandbox(c,r)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],r=>r.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}},i6=class extends q2{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");let e=this.annotationStorage,t=this.data,i=t.id,s=e.getValue(i,{value:t.fieldValue===t.buttonValue}).value;if(typeof s=="string"&&(s=s!==t.buttonValue,e.setValue(i,{value:s})),s)for(let r of this._getElementsByName(t.fieldName,i))e.setValue(r.id,{value:!1});let o=document.createElement("input");if(o3.add(o),o.setAttribute("data-element-id",i),o.disabled=t.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=t.fieldName,s&&o.setAttribute("checked",!0),o.tabIndex=H4,o.addEventListener("change",r=>{let{name:c,checked:a}=r.target;for(let l of this._getElementsByName(c,i))e.setValue(l.id,{value:!1});e.setValue(i,{value:a})}),o.addEventListener("resetform",r=>{let c=t.defaultFieldValue;r.target.checked=c!=null&&c===t.buttonValue}),this.enableScripting&&this.hasJSActions){let r=t.buttonValue;o.addEventListener("updatefromsandbox",c=>{let a={value:l=>{let u=r===l.detail.value;for(let f of this._getElementsByName(l.target.name)){let d=u&&f.id===i;f.domElement&&(f.domElement.checked=d),e.setValue(f.id,{value:d})}}};this._dispatchEventFromSandbox(a,c)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}},n5=class extends n6{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){let e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");let t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),e}},i5=class extends q2{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");let e=this.annotationStorage,t=this.data.id,i=e.getValue(t,{value:this.data.fieldValue}),s=document.createElement("select");o3.add(s),s.setAttribute("data-element-id",t),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=H4;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",u=>{let f=this.data.defaultFieldValue;for(let d of s.options)d.selected=d.value===f});for(let u of this.data.options){let f=document.createElement("option");f.textContent=u.displayValue,f.value=u.exportValue,i.value.includes(u.exportValue)&&(f.setAttribute("selected",!0),o=!1),s.append(f)}let r=null;if(o){let u=document.createElement("option");u.value=" ",u.setAttribute("hidden",!0),u.setAttribute("selected",!0),s.prepend(u),r=()=>{u.remove(),s.removeEventListener("input",r),r=null},s.addEventListener("input",r)}let c=u=>{let f=u?"value":"textContent",{options:d,multiple:h}=s;return h?Array.prototype.filter.call(d,p=>p.selected).map(p=>p[f]):d.selectedIndex===-1?null:d[d.selectedIndex][f]},a=c(!1),l=u=>{let f=u.target.options;return Array.prototype.map.call(f,d=>({displayValue:d.textContent,exportValue:d.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",u=>{let f={value(d){r?.();let h=d.detail.value,p=new Set(Array.isArray(h)?h:[h]);for(let m of s.options)m.selected=p.has(m.value);e.setValue(t,{value:c(!0)}),a=c(!1)},multipleSelection(d){s.multiple=!0},remove(d){let h=s.options,p=d.detail.remove;h[p].selected=!1,s.remove(p),h.length>0&&Array.prototype.findIndex.call(h,v=>v.selected)===-1&&(h[0].selected=!0),e.setValue(t,{value:c(!0),items:l(d)}),a=c(!1)},clear(d){for(;s.length!==0;)s.remove(0);e.setValue(t,{value:null,items:[]}),a=c(!1)},insert(d){let{index:h,displayValue:p,exportValue:m}=d.detail.insert,v=s.children[h],g=document.createElement("option");g.textContent=p,g.value=m,v?v.before(g):s.append(g),e.setValue(t,{value:c(!0),items:l(d)}),a=c(!1)},items(d){let{items:h}=d.detail;for(;s.length!==0;)s.remove(0);for(let p of h){let{displayValue:m,exportValue:v}=p,g=document.createElement("option");g.textContent=m,g.value=v,s.append(g)}s.options.length>0&&(s.options[0].selected=!0),e.setValue(t,{value:c(!0),items:l(d)}),a=c(!1)},indices(d){let h=new Set(d.detail.indices);for(let p of d.target.options)p.selected=h.has(p.index);e.setValue(t,{value:c(!0)}),a=c(!1)},editable(d){d.target.disabled=!d.detail.editable}};this._dispatchEventFromSandbox(f,u)}),s.addEventListener("input",u=>{let f=c(!0),d=c(!1);e.setValue(t,{value:f}),u.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:a,change:d,changeEx:f,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],u=>u.target.value)):s.addEventListener("input",function(u){e.setValue(t,{value:c(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}},P4=class extends R1{constructor(e){let{data:t,elements:i}=e;super(e,{isRenderable:R1._hasPopupData(t)}),this.elements=i,this.popup=null}render(){this.container.classList.add("popupAnnotation");let e=this.popup=new s5({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(let i of this.elements)i.popup=e,i.container.ariaHasPopup="dialog",t.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(i=>`${_5}${i}`).join(",")),this.container}},s5=class{#e=this.#D.bind(this);#t=this.#x.bind(this);#n=this.#A.bind(this);#i=this.#w.bind(this);#s=null;#o=null;#a=null;#l=null;#u=null;#c=null;#f=null;#r=!1;#d=null;#p=null;#h=null;#m=null;#v=null;#g=null;#C=!1;constructor({container:e,color:t,elements:i,titleObj:s,modificationDate:o,contentsObj:r,richText:c,parent:a,rect:l,parentRect:u,open:f}){this.#o=e,this.#v=s,this.#a=r,this.#m=c,this.#c=a,this.#s=t,this.#h=l,this.#f=u,this.#u=i,this.#l=Fs.toDateObject(o),this.trigger=i.flatMap(d=>d.getElementsToTriggerPopup());for(let d of this.trigger)d.addEventListener("click",this.#i),d.addEventListener("mouseenter",this.#n),d.addEventListener("mouseleave",this.#t),d.classList.add("popupTriggerArea");for(let d of i)d.container?.addEventListener("keydown",this.#e);this.#o.hidden=!0,f&&this.#w()}render(){if(this.#d)return;let e=this.#d=document.createElement("div");if(e.className="popup",this.#s){let o=e.style.outlineColor=k.makeHexColor(...this.#s);CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${o} 30%, white)`:e.style.backgroundColor=k.makeHexColor(...this.#s.map(c=>Math.floor(.7*(255-c)+c)))}let t=document.createElement("span");t.className="header";let i=document.createElement("h1");if(t.append(i),{dir:i.dir,str:i.textContent}=this.#v,e.append(t),this.#l){let o=document.createElement("span");o.classList.add("popupDate"),o.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),o.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#l.valueOf()})),t.append(o)}let s=this.#M;if(s)t6.render({xfaHtml:s,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{let o=this._formatContents(this.#a);e.append(o)}this.#o.append(e)}get#M(){let e=this.#m,t=this.#a;return e?.str&&(!t?.str||t.str===e.str)&&this.#m.html||null}get#L(){return this.#M?.attributes?.style?.fontSize||0}get#y(){return this.#M?.attributes?.style?.color||null}#_(e){let t=[],i={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},s={style:{color:this.#y,fontSize:this.#L?`calc(${this.#L}px * var(--scale-factor))`:""}};for(let o of e.split(`
`))t.push({name:"span",value:o,attributes:s});return i}_formatContents({str:e,dir:t}){let i=document.createElement("p");i.classList.add("popupContent"),i.dir=t;let s=e.split(/(?:\r\n?|\n)/);for(let o=0,r=s.length;o<r;++o){let c=s[o];i.append(document.createTextNode(c)),o<r-1&&i.append(document.createElement("br"))}return i}#D(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&this.#r)&&this.#w()}updateEdited({rect:e,popupContent:t}){this.#g||={contentsObj:this.#a,richText:this.#m},e&&(this.#p=null),t&&(this.#m=this.#_(t),this.#a=null),this.#d?.remove(),this.#d=null}resetEdited(){this.#g&&({contentsObj:this.#a,richText:this.#m}=this.#g,this.#g=null,this.#d?.remove(),this.#d=null,this.#p=null)}#S(){if(this.#p!==null)return;let{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:i,pageX:s,pageY:o}}}=this.#c,r=!!this.#f,c=r?this.#f:this.#h;for(let p of this.#u)if(!c||k.intersect(p.data.rect,c)!==null){c=p.data.rect,r=!0;break}let a=k.normalizeRect([c[0],e[3]-c[1]+e[1],c[2],e[3]-c[3]+e[1]]),u=r?c[2]-c[0]+5:0,f=a[0]+u,d=a[1];this.#p=[100*(f-s)/t,100*(d-o)/i];let{style:h}=this.#o;h.left=`${this.#p[0]}%`,h.top=`${this.#p[1]}%`}#w(){this.#r=!this.#r,this.#r?(this.#A(),this.#o.addEventListener("click",this.#i),this.#o.addEventListener("keydown",this.#e)):(this.#x(),this.#o.removeEventListener("click",this.#i),this.#o.removeEventListener("keydown",this.#e))}#A(){this.#d||this.render(),this.isVisible?this.#r&&this.#o.classList.add("focused"):(this.#S(),this.#o.hidden=!1,this.#o.style.zIndex=parseInt(this.#o.style.zIndex)+1e3)}#x(){this.#o.classList.remove("focused"),!(this.#r||!this.isVisible)&&(this.#o.hidden=!0,this.#o.style.zIndex=parseInt(this.#o.style.zIndex)-1e3)}forceHide(){this.#C=this.isVisible,this.#C&&(this.#o.hidden=!0)}maybeShow(){this.#C&&(this.#d||this.#A(),this.#C=!1,this.#o.hidden=!1)}get isVisible(){return this.#o.hidden===!1}},s6=class extends R1{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=q.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){let e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(let t of this.textContent){let i=document.createElement("span");i.textContent=t,e.append(i)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}},o5=class extends R1{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");let e=this.data,{width:t,height:i}=$2(e.rect),s=this.svgFactory.create(t,i,!0),o=this.#e=this.svgFactory.createElement("svg:line");return o.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),o.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),o.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),o.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),o.setAttribute("stroke-width",e.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}},r5=class extends R1{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");let e=this.data,{width:t,height:i}=$2(e.rect),s=this.svgFactory.create(t,i,!0),o=e.borderStyle.width,r=this.#e=this.svgFactory.createElement("svg:rect");return r.setAttribute("x",o/2),r.setAttribute("y",o/2),r.setAttribute("width",t-o),r.setAttribute("height",i-o),r.setAttribute("stroke-width",o||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),s.append(r),this.container.append(s),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}},c5=class extends R1{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");let e=this.data,{width:t,height:i}=$2(e.rect),s=this.svgFactory.create(t,i,!0),o=e.borderStyle.width,r=this.#e=this.svgFactory.createElement("svg:ellipse");return r.setAttribute("cx",t/2),r.setAttribute("cy",i/2),r.setAttribute("rx",t/2-o/2),r.setAttribute("ry",i/2-o/2),r.setAttribute("stroke-width",o||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),s.append(r),this.container.append(s),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}},o6=class extends R1{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);let{data:{rect:e,vertices:t,borderStyle:i,popupRef:s}}=this;if(!t)return this.container;let{width:o,height:r}=$2(e),c=this.svgFactory.create(o,r,!0),a=[];for(let u=0,f=t.length;u<f;u+=2){let d=t[u]-e[0],h=e[3]-t[u+1];a.push(`${d},${h}`)}a=a.join(" ");let l=this.#e=this.svgFactory.createElement(this.svgElementName);return l.setAttribute("points",a),l.setAttribute("stroke-width",i.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),c.append(l),this.container.append(c),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}},a5=class extends o6{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}},l5=class extends R1{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}},R4=class extends R1{#e=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?q.HIGHLIGHT:q.INK}render(){this.container.classList.add(this.containerClassName);let{data:{rect:e,inkLists:t,borderStyle:i,popupRef:s}}=this,{width:o,height:r}=$2(e),c=this.svgFactory.create(o,r,!0);for(let a of t){let l=[];for(let f=0,d=a.length;f<d;f+=2){let h=a[f]-e[0],p=e[3]-a[f+1];l.push(`${h},${p}`)}l=l.join(" ");let u=this.svgFactory.createElement(this.svgElementName);this.#e.push(u),u.setAttribute("points",l),u.setAttribute("stroke-width",i.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),c.append(u)}return!s&&this.hasPopupData&&this._createPopup(),this.container.append(c),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}},r6=class extends R1{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=q.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}},u5=class extends R1{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}},f5=class extends R1{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}},d5=class extends R1{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}},c6=class extends R1{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=q.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}},h5=class extends R1{#e=null;constructor(e){super(e,{isRenderable:!0});let{file:t}=this.data;this.filename=t.filename,this.content=t.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",N({source:this},t))}render(){this.container.classList.add("fileAttachmentAnnotation");let{container:e,data:t}=this,i;t.hasAppearance||t.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(t.name)?"paperclip":"pushpin"}.svg`,t.fillAlpha&&t.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(t.fillAlpha*100)}%);`)),i.addEventListener("dblclick",this.#t.bind(this)),this.#e=i;let{isMac:s}=X1.platform;return e.addEventListener("keydown",o=>{o.key==="Enter"&&(s?o.metaKey:o.ctrlKey)&&this.#t()}),!t.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),e.append(i),e}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}},p5=class{#e=null;#t=null;#n=new Map;#i=null;constructor({div:e,accessibilityManager:t,annotationCanvasMap:i,annotationEditorUIManager:s,page:o,viewport:r,structTreeLayer:c}){this.div=e,this.#e=t,this.#t=i,this.#i=c||null,this.page=o,this.viewport=r,this.zIndex=0,this._annotationEditorUIManager=s}hasEditableAnnotations(){return this.#n.size>0}#s(e,t){return S(this,null,function*(){let i=e.firstChild||e,s=i.id=`${_5}${t}`,o=yield this.#i?.getAriaAttributes(s);if(o)for(let[r,c]of o)i.setAttribute(r,c);this.div.append(e),this.#e?.moveElementInDOM(this.div,e,i,!1)})}render(e){return S(this,null,function*(){let{annotations:t}=e,i=this.div;i3(i,this.viewport);let s=new Map,o={data:null,layer:i,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new O4,annotationStorage:e.annotationStorage||new N4,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(let r of t){if(r.noHTML)continue;let c=r.annotationType===$1.POPUP;if(c){let u=s.get(r.id);if(!u)continue;o.elements=u}else{let{width:u,height:f}=$2(r.rect);if(u<=0||f<=0)continue}o.data=r;let a=K8.create(o);if(!a.isRenderable)continue;if(!c&&r.popupRef){let u=s.get(r.popupRef);u?u.push(a):s.set(r.popupRef,[a])}let l=a.render();r.hidden&&(l.style.visibility="hidden"),yield this.#s(l,r.id),a._isEditable&&(this.#n.set(a.data.id,a),this._annotationEditorUIManager?.renderAnnotationElement(a))}this.#o()})}update({viewport:e}){let t=this.div;this.viewport=e,i3(t,{rotation:e.rotation}),this.#o(),t.hidden=!1}#o(){if(!this.#t)return;let e=this.div;for(let[t,i]of this.#t){let s=e.querySelector(`[data-annotation-id="${t}"]`);if(!s)continue;i.className="annotationContent";let{firstChild:o}=s;o?o.nodeName==="CANVAS"?o.replaceWith(i):o.classList.contains("annotationContent")?o.after(i):o.before(i):s.append(i)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(e){return this.#n.get(e)}},Ns=/\r\n?|\n/g,m5=class n extends C1{#e;#t="";#n=`${this.id}-editor`;#i=null;#s;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){let e=n.prototype,t=o=>o.isEmpty(),i=D4.TRANSLATE_SMALL,s=D4.TRANSLATE_BIG;return a1(this,"_keyboardManager",new s3([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,s],checker:t}]]))}static _type="freetext";static _editorType=q.FREETEXT;constructor(e){super(t1(N({},e),{name:"freeTextEditor"})),this.#e=e.color||n._defaultColor||C1._defaultLineColor,this.#s=e.fontSize||n._defaultFontSize}static initialize(e,t){C1.initialize(e,t);let i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case U.FREETEXT_SIZE:n._defaultFontSize=t;break;case U.FREETEXT_COLOR:n._defaultColor=t;break}}updateParams(e,t){switch(e){case U.FREETEXT_SIZE:this.#o(t);break;case U.FREETEXT_COLOR:this.#a(t);break}}static get defaultPropertiesToUpdate(){return[[U.FREETEXT_SIZE,n._defaultFontSize],[U.FREETEXT_COLOR,n._defaultColor||C1._defaultLineColor]]}get propertiesToUpdate(){return[[U.FREETEXT_SIZE,this.#s],[U.FREETEXT_COLOR,this.#e]]}#o(e){let t=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--scale-factor))`,this.translate(0,-(s-this.#s)*this.parentScale),this.#s=s,this.#u()},i=this.#s;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:U.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#a(e){let t=s=>{this.#e=this.editorDiv.style.color=s},i=this.#e;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:U.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){let e=this.parentScale;return[-n._internalPadding*e,-(n._internalPadding+this.#s)*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(q.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#i=new AbortController;let e=this._uiManager.combinedSignal(this.#i);this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#n),this._isDraggable=!0,this.#i?.abort(),this.#i=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#l(){let e=[];this.editorDiv.normalize();let t=null;for(let i of this.editorDiv.childNodes)t?.nodeType===Node.TEXT_NODE&&i.nodeName==="BR"||(e.push(n.#c(i)),t=i);return e.join(`
`)}#u(){let[e,t]=this.parentDimensions,i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{let{currentLayer:s,div:o}=this,r=o.style.display,c=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",s.div.append(this.div),i=o.getBoundingClientRect(),o.remove(),o.style.display=r,o.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=i.width/e,this.height=i.height/t):(this.width=i.height/e,this.height=i.width/t),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();let e=this.#t,t=this.#t=this.#l().trimEnd();if(e===t)return;let i=s=>{if(this.#t=s,!s){this.remove();return}this.#f(),this._uiManager.rebuild(this),this.#u()};this.addCommands({cmd:()=>{i(t)},undo:()=>{i(e)},mustExec:!1}),this.#u()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){n._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#n),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;let{style:i}=this.editorDiv;if(i.fontSize=`calc(${this.#s}px * var(--scale-factor))`,i.color=this.#e,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Hs(this,this.div,["dblclick","keydown"]),this.width){let[s,o]=this.parentDimensions;if(this.annotationElementId){let{position:r}=this._initialData,[c,a]=this.getInitialTranslation();[c,a]=this.pageTranslationToScreen(c,a);let[l,u]=this.pageDimensions,[f,d]=this.pageTranslation,h,p;switch(this.rotation){case 0:h=e+(r[0]-f)/l,p=t+this.height-(r[1]-d)/u;break;case 90:h=e+(r[0]-f)/l,p=t-(r[1]-d)/u,[c,a]=[a,-c];break;case 180:h=e-this.width+(r[0]-f)/l,p=t-(r[1]-d)/u,[c,a]=[-c,-a];break;case 270:h=e+(r[0]-f-this.height*u)/l,p=t+(r[1]-d-this.width*l)/u,[c,a]=[-a,c];break}this.setAt(h*s,p*o,c,a)}else this.setAt(e*s,t*o,this.width*s,this.height*o);this.#f(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#c(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(Ns,"")}editorDivPaste(e){let t=e.clipboardData||window.clipboardData,{types:i}=t;if(i.length===1&&i[0]==="text/plain")return;e.preventDefault();let s=n.#d(t.getData("text")||"").replaceAll(Ns,`
`);if(!s)return;let o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();let r=o.getRangeAt(0);if(!s.includes(`
`)){r.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),o.collapseToStart();return}let{startContainer:c,startOffset:a}=r,l=[],u=[];if(c.nodeType===Node.TEXT_NODE){let h=c.parentElement;if(u.push(c.nodeValue.slice(a).replaceAll(Ns,"")),h!==this.editorDiv){let p=l;for(let m of this.editorDiv.childNodes){if(m===h){p=u;continue}p.push(n.#c(m))}}l.push(c.nodeValue.slice(0,a).replaceAll(Ns,""))}else if(c===this.editorDiv){let h=l,p=0;for(let m of this.editorDiv.childNodes)p++===a&&(h=u),h.push(n.#c(m))}this.#t=`${l.join(`
`)}${s}${u.join(`
`)}`,this.#f();let f=new Range,d=l.reduce((h,p)=>h+p.length,0);for(let{firstChild:h}of this.editorDiv.childNodes)if(h.nodeType===Node.TEXT_NODE){let p=h.nodeValue.length;if(d<=p){f.setStart(h,d),f.setEnd(h,d);break}d-=p}o.removeAllRanges(),o.addRange(f)}#f(){if(this.editorDiv.replaceChildren(),!!this.#t)for(let e of this.#t.split(`
`)){let t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}#r(){return this.#t.replaceAll("\xA0"," ")}static#d(e){return e.replaceAll(" ","\xA0")}get contentDiv(){return this.editorDiv}static deserialize(e,t,i){return S(this,null,function*(){let s=null;if(e instanceof s6){let{data:{defaultAppearanceData:{fontSize:r,fontColor:c},rect:a,rotation:l,id:u,popupRef:f},textContent:d,textPosition:h,parent:{page:{pageNumber:p}}}=e;if(!d||d.length===0)return null;s=e={annotationType:q.FREETEXT,color:Array.from(c),fontSize:r,value:d.join(`
`),position:h,pageIndex:p-1,rect:a.slice(0),rotation:l,id:u,deleted:!1,popupRef:f}}let o=yield m3(n,this,"deserialize").call(this,e,t,i);return o.#s=e.fontSize,o.#e=k.makeHexColor(...e.color),o.#t=n.#d(e.value),o.annotationElementId=e.id||null,o._initialData=s,o})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();let t=n._internalPadding*this.parentScale,i=this.getRect(t,t),s=C1._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#e),o={annotationType:q.FREETEXT,color:s,fontSize:this.#s,value:this.#r(),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?o:this.annotationElementId&&!this.#p(o)?null:(o.id=this.annotationElementId,o)}#p(e){let{value:t,fontSize:i,color:s,pageIndex:o}=this._initialData;return this._hasBeenMoved||e.value!==t||e.fontSize!==i||e.color.some((r,c)=>r!==s[c])||e.pageIndex!==o}renderAnnotationElement(e){let t=super.renderAnnotationElement(e);if(this.deleted)return t;let{style:i}=t;i.fontSize=`calc(${this.#s}px * var(--scale-factor))`,i.color=this.#e,t.replaceChildren();for(let o of this.#t.split(`
`)){let r=document.createElement("div");r.append(o?document.createTextNode(o):document.createElement("br")),t.append(r)}let s=n._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(s,s),popupContent:this.#t}),t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}},a6=class{toSVGPath(){z1("Abstract method `toSVGPath` must be implemented.")}get box(){z1("Abstract getter `box` must be implemented.")}serialize(e,t){z1("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){z1("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){z1("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}},l6=class n{#e;#t=[];#n;#i;#s=[];#o=new Float64Array(18);#a;#l;#u;#c;#f;#r;#d=[];static#p=8;static#h=2;static#m=n.#p+n.#h;constructor({x:e,y:t},i,s,o,r,c=0){this.#e=i,this.#r=o*s,this.#i=r,this.#o.set([NaN,NaN,NaN,NaN,e,t],6),this.#n=c,this.#c=n.#p*s,this.#u=n.#m*s,this.#f=s,this.#d.push(e,t)}isEmpty(){return isNaN(this.#o[8])}#v(){let e=this.#o.subarray(4,6),t=this.#o.subarray(16,18),[i,s,o,r]=this.#e;return[(this.#a+(e[0]-t[0])/2-i)/o,(this.#l+(e[1]-t[1])/2-s)/r,(this.#a+(t[0]-e[0])/2-i)/o,(this.#l+(t[1]-e[1])/2-s)/r]}add({x:e,y:t}){this.#a=e,this.#l=t;let[i,s,o,r]=this.#e,[c,a,l,u]=this.#o.subarray(8,12),f=e-l,d=t-u,h=Math.hypot(f,d);if(h<this.#u)return!1;let p=h-this.#c,m=p/h,v=m*f,g=m*d,C=c,M=a;c=l,a=u,l+=v,u+=g,this.#d?.push(e,t);let b=-g/p,_=v/p,L=b*this.#r,x=_*this.#r;return this.#o.set(this.#o.subarray(2,8),0),this.#o.set([l+L,u+x],4),this.#o.set(this.#o.subarray(14,18),12),this.#o.set([l-L,u-x],16),isNaN(this.#o[6])?(this.#s.length===0&&(this.#o.set([c+L,a+x],2),this.#s.push(NaN,NaN,NaN,NaN,(c+L-i)/o,(a+x-s)/r),this.#o.set([c-L,a-x],14),this.#t.push(NaN,NaN,NaN,NaN,(c-L-i)/o,(a-x-s)/r)),this.#o.set([C,M,c,a,l,u],6),!this.isEmpty()):(this.#o.set([C,M,c,a,l,u],6),Math.abs(Math.atan2(M-a,C-c)-Math.atan2(g,v))<Math.PI/2?([c,a,l,u]=this.#o.subarray(2,6),this.#s.push(NaN,NaN,NaN,NaN,((c+l)/2-i)/o,((a+u)/2-s)/r),[c,a,C,M]=this.#o.subarray(14,18),this.#t.push(NaN,NaN,NaN,NaN,((C+c)/2-i)/o,((M+a)/2-s)/r),!0):([C,M,c,a,l,u]=this.#o.subarray(0,6),this.#s.push(((C+5*c)/6-i)/o,((M+5*a)/6-s)/r,((5*c+l)/6-i)/o,((5*a+u)/6-s)/r,((c+l)/2-i)/o,((a+u)/2-s)/r),[l,u,c,a,C,M]=this.#o.subarray(12,18),this.#t.push(((C+5*c)/6-i)/o,((M+5*a)/6-s)/r,((5*c+l)/6-i)/o,((5*a+u)/6-s)/r,((c+l)/2-i)/o,((a+u)/2-s)/r),!0))}toSVGPath(){if(this.isEmpty())return"";let e=this.#s,t=this.#t;if(isNaN(this.#o[6])&&!this.isEmpty())return this.#g();let i=[];i.push(`M${e[4]} ${e[5]}`);for(let s=6;s<e.length;s+=6)isNaN(e[s])?i.push(`L${e[s+4]} ${e[s+5]}`):i.push(`C${e[s]} ${e[s+1]} ${e[s+2]} ${e[s+3]} ${e[s+4]} ${e[s+5]}`);this.#M(i);for(let s=t.length-6;s>=6;s-=6)isNaN(t[s])?i.push(`L${t[s+4]} ${t[s+5]}`):i.push(`C${t[s]} ${t[s+1]} ${t[s+2]} ${t[s+3]} ${t[s+4]} ${t[s+5]}`);return this.#C(i),i.join(" ")}#g(){let[e,t,i,s]=this.#e,[o,r,c,a]=this.#v();return`M${(this.#o[2]-e)/i} ${(this.#o[3]-t)/s} L${(this.#o[4]-e)/i} ${(this.#o[5]-t)/s} L${o} ${r} L${c} ${a} L${(this.#o[16]-e)/i} ${(this.#o[17]-t)/s} L${(this.#o[14]-e)/i} ${(this.#o[15]-t)/s} Z`}#C(e){let t=this.#t;e.push(`L${t[4]} ${t[5]} Z`)}#M(e){let[t,i,s,o]=this.#e,r=this.#o.subarray(4,6),c=this.#o.subarray(16,18),[a,l,u,f]=this.#v();e.push(`L${(r[0]-t)/s} ${(r[1]-i)/o} L${a} ${l} L${u} ${f} L${(c[0]-t)/s} ${(c[1]-i)/o}`)}newFreeDrawOutline(e,t,i,s,o,r){return new u6(e,t,i,s,o,r)}getOutlines(){let e=this.#s,t=this.#t,i=this.#o,[s,o,r,c]=this.#e,a=new Float64Array((this.#d?.length??0)+2);for(let f=0,d=a.length-2;f<d;f+=2)a[f]=(this.#d[f]-s)/r,a[f+1]=(this.#d[f+1]-o)/c;if(a[a.length-2]=(this.#a-s)/r,a[a.length-1]=(this.#l-o)/c,isNaN(i[6])&&!this.isEmpty())return this.#L(a);let l=new Float64Array(this.#s.length+24+this.#t.length),u=e.length;for(let f=0;f<u;f+=2){if(isNaN(e[f])){l[f]=l[f+1]=NaN;continue}l[f]=e[f],l[f+1]=e[f+1]}u=this.#_(l,u);for(let f=t.length-6;f>=6;f-=6)for(let d=0;d<6;d+=2){if(isNaN(t[f+d])){l[u]=l[u+1]=NaN,u+=2;continue}l[u]=t[f+d],l[u+1]=t[f+d+1],u+=2}return this.#y(l,u),this.newFreeDrawOutline(l,a,this.#e,this.#f,this.#n,this.#i)}#L(e){let t=this.#o,[i,s,o,r]=this.#e,[c,a,l,u]=this.#v(),f=new Float64Array(36);return f.set([NaN,NaN,NaN,NaN,(t[2]-i)/o,(t[3]-s)/r,NaN,NaN,NaN,NaN,(t[4]-i)/o,(t[5]-s)/r,NaN,NaN,NaN,NaN,c,a,NaN,NaN,NaN,NaN,l,u,NaN,NaN,NaN,NaN,(t[16]-i)/o,(t[17]-s)/r,NaN,NaN,NaN,NaN,(t[14]-i)/o,(t[15]-s)/r],0),this.newFreeDrawOutline(f,e,this.#e,this.#f,this.#n,this.#i)}#y(e,t){let i=this.#t;return e.set([NaN,NaN,NaN,NaN,i[4],i[5]],t),t+=6}#_(e,t){let i=this.#o.subarray(4,6),s=this.#o.subarray(16,18),[o,r,c,a]=this.#e,[l,u,f,d]=this.#v();return e.set([NaN,NaN,NaN,NaN,(i[0]-o)/c,(i[1]-r)/a,NaN,NaN,NaN,NaN,l,u,NaN,NaN,NaN,NaN,f,d,NaN,NaN,NaN,NaN,(s[0]-o)/c,(s[1]-r)/a],t),t+=24}},u6=class extends a6{#e;#t=null;#n;#i;#s;#o;#a;constructor(e,t,i,s,o,r){super(),this.#a=e,this.#s=t,this.#e=i,this.#o=s,this.#n=o,this.#i=r,this.#c(r);let{x:c,y:a,width:l,height:u}=this.#t;for(let f=0,d=e.length;f<d;f+=2)e[f]=(e[f]-c)/l,e[f+1]=(e[f+1]-a)/u;for(let f=0,d=t.length;f<d;f+=2)t[f]=(t[f]-c)/l,t[f+1]=(t[f+1]-a)/u}toSVGPath(){let e=[`M${this.#a[4]} ${this.#a[5]}`];for(let t=6,i=this.#a.length;t<i;t+=6){if(isNaN(this.#a[t])){e.push(`L${this.#a[t+4]} ${this.#a[t+5]}`);continue}e.push(`C${this.#a[t]} ${this.#a[t+1]} ${this.#a[t+2]} ${this.#a[t+3]} ${this.#a[t+4]} ${this.#a[t+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,t,i,s],o){let r=i-e,c=s-t,a,l;switch(o){case 0:a=this.#l(this.#a,e,s,r,-c),l=this.#l(this.#s,e,s,r,-c);break;case 90:a=this.#u(this.#a,e,t,r,c),l=this.#u(this.#s,e,t,r,c);break;case 180:a=this.#l(this.#a,i,t,-r,c),l=this.#l(this.#s,i,t,-r,c);break;case 270:a=this.#u(this.#a,i,s,-r,-c),l=this.#u(this.#s,i,s,-r,-c);break}return{outline:Array.from(a),points:[Array.from(l)]}}#l(e,t,i,s,o){let r=new Float64Array(e.length);for(let c=0,a=e.length;c<a;c+=2)r[c]=t+e[c]*s,r[c+1]=i+e[c+1]*o;return r}#u(e,t,i,s,o){let r=new Float64Array(e.length);for(let c=0,a=e.length;c<a;c+=2)r[c]=t+e[c+1]*s,r[c+1]=i+e[c]*o;return r}#c(e){let t=this.#a,i=t[4],s=t[5],o=i,r=s,c=i,a=s,l=i,u=s,f=e?Math.max:Math.min;for(let v=6,g=t.length;v<g;v+=6){if(isNaN(t[v]))o=Math.min(o,t[v+4]),r=Math.min(r,t[v+5]),c=Math.max(c,t[v+4]),a=Math.max(a,t[v+5]),u<t[v+5]?(l=t[v+4],u=t[v+5]):u===t[v+5]&&(l=f(l,t[v+4]));else{let C=k.bezierBoundingBox(i,s,...t.slice(v,v+6));o=Math.min(o,C[0]),r=Math.min(r,C[1]),c=Math.max(c,C[2]),a=Math.max(a,C[3]),u<C[3]?(l=C[2],u=C[3]):u===C[3]&&(l=f(l,C[2]))}i=t[v+4],s=t[v+5]}let d=o-this.#n,h=r-this.#n,p=c-o+2*this.#n,m=a-r+2*this.#n;this.#t={x:d,y:h,width:p,height:m,lastPoint:[l,u]}}get box(){return this.#t}newOutliner(e,t,i,s,o,r=0){return new l6(e,t,i,s,o,r)}getNewOutline(e,t){let{x:i,y:s,width:o,height:r}=this.#t,[c,a,l,u]=this.#e,f=o*l,d=r*u,h=i*l+c,p=s*u+a,m=this.newOutliner({x:this.#s[0]*f+h,y:this.#s[1]*d+p},this.#e,this.#o,e,this.#i,t??this.#n);for(let v=2;v<this.#s.length;v+=2)m.add({x:this.#s[v]*f+h,y:this.#s[v+1]*d+p});return m.getOutlines()}get mustRemoveSelfIntersections(){return!0}},f6=class{#e;#t=[];#n=[];constructor(e,t=0,i=0,s=!0){let o=1/0,r=-1/0,c=1/0,a=-1/0,u=10**-4;for(let{x:g,y:C,width:M,height:b}of e){let _=Math.floor((g-t)/u)*u,L=Math.ceil((g+M+t)/u)*u,x=Math.floor((C-t)/u)*u,A=Math.ceil((C+b+t)/u)*u,y=[_,x,A,!0],w=[L,x,A,!1];this.#t.push(y,w),o=Math.min(o,_),r=Math.max(r,L),c=Math.min(c,x),a=Math.max(a,A)}let f=r-o+2*i,d=a-c+2*i,h=o-i,p=c-i,m=this.#t.at(s?-1:-2),v=[m[0],m[2]];for(let g of this.#t){let[C,M,b]=g;g[0]=(C-h)/f,g[1]=(M-p)/d,g[2]=(b-p)/d}this.#e={x:h,y:p,width:f,height:d,lastPoint:v}}getOutlines(){this.#t.sort((t,i)=>t[0]-i[0]||t[1]-i[1]||t[2]-i[2]);let e=[];for(let t of this.#t)t[3]?(e.push(...this.#l(t)),this.#o(t)):(this.#a(t),e.push(...this.#l(t)));return this.#i(e)}#i(e){let t=[],i=new Set;for(let r of e){let[c,a,l]=r;t.push([c,a,r],[c,l,r])}t.sort((r,c)=>r[1]-c[1]||r[0]-c[0]);for(let r=0,c=t.length;r<c;r+=2){let a=t[r][2],l=t[r+1][2];a.push(l),l.push(a),i.add(a),i.add(l)}let s=[],o;for(;i.size>0;){let r=i.values().next().value,[c,a,l,u,f]=r;i.delete(r);let d=c,h=a;for(o=[c,l],s.push(o);;){let p;if(i.has(u))p=u;else if(i.has(f))p=f;else break;i.delete(p),[c,a,l,u,f]=p,d!==c&&(o.push(d,h,c,h===a?a:l),d=c),h=h===a?l:a}o.push(d,h)}return new g5(s,this.#e)}#s(e){let t=this.#n,i=0,s=t.length-1;for(;i<=s;){let o=i+s>>1,r=t[o][0];if(r===e)return o;r<e?i=o+1:s=o-1}return s+1}#o([,e,t]){let i=this.#s(e);this.#n.splice(i,0,[e,t])}#a([,e,t]){let i=this.#s(e);for(let s=i;s<this.#n.length;s++){let[o,r]=this.#n[s];if(o!==e)break;if(o===e&&r===t){this.#n.splice(s,1);return}}for(let s=i-1;s>=0;s--){let[o,r]=this.#n[s];if(o!==e)break;if(o===e&&r===t){this.#n.splice(s,1);return}}}#l(e){let[t,i,s]=e,o=[[t,i,s]],r=this.#s(s);for(let c=0;c<r;c++){let[a,l]=this.#n[c];for(let u=0,f=o.length;u<f;u++){let[,d,h]=o[u];if(!(l<=d||h<=a)){if(d>=a){if(h>l)o[u][1]=l;else{if(f===1)return[];o.splice(u,1),u--,f--}continue}o[u][2]=a,h>l&&o.push([t,l,h])}}}return o}},g5=class extends a6{#e;#t;constructor(e,t){super(),this.#t=e,this.#e=t}toSVGPath(){let e=[];for(let t of this.#t){let[i,s]=t;e.push(`M${i} ${s}`);for(let o=2;o<t.length;o+=2){let r=t[o],c=t[o+1];r===i?(e.push(`V${c}`),s=c):c===s&&(e.push(`H${r}`),i=r)}e.push("Z")}return e.join(" ")}serialize([e,t,i,s],o){let r=[],c=i-e,a=s-t;for(let l of this.#t){let u=new Array(l.length);for(let f=0;f<l.length;f+=2)u[f]=e+l[f]*c,u[f+1]=s-l[f+1]*a;r.push(u)}return r}get box(){return this.#e}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}},F4=class extends l6{newFreeDrawOutline(e,t,i,s,o,r){return new v5(e,t,i,s,o,r)}get classNamesForDrawing(){return["highlight","free"]}},v5=class extends u6{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(e,t,i,s,o,r=0){return new F4(e,t,i,s,o,r)}},d6=class n{#e=null;#t=null;#n;#i=null;#s=!1;#o=!1;#a=null;#l;#u=null;#c=null;#f;static#r=null;static get _keyboardManager(){return a1(this,"_keyboardManager",new s3([[["Escape","mac+Escape"],n.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],n.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],n.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],n.prototype._moveToPrevious],[["Home","mac+Home"],n.prototype._moveToBeginning],[["End","mac+End"],n.prototype._moveToEnd]]))}constructor({editor:e=null,uiManager:t=null}){e?(this.#o=!1,this.#f=U.HIGHLIGHT_COLOR,this.#a=e):(this.#o=!0,this.#f=U.HIGHLIGHT_DEFAULT_COLOR),this.#c=e?._uiManager||t,this.#l=this.#c._eventBus,this.#n=e?.color||this.#c?.highlightColors.values().next().value||"#FFFF98",n.#r||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){let e=this.#e=document.createElement("button");e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);let t=this.#c._signal;e.addEventListener("click",this.#m.bind(this),{signal:t}),e.addEventListener("keydown",this.#h.bind(this),{signal:t});let i=this.#t=document.createElement("span");return i.className="swatch",i.setAttribute("aria-hidden",!0),i.style.backgroundColor=this.#n,e.append(i),e}renderMainDropdown(){let e=this.#i=this.#d();return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}#d(){let e=document.createElement("div"),t=this.#c._signal;e.addEventListener("contextmenu",Ue,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(let[i,s]of this.#c.highlightColors){let o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",s),o.title=i,o.setAttribute("data-l10n-id",n.#r[i]);let r=document.createElement("span");o.append(r),r.className="swatch",r.style.backgroundColor=s,o.setAttribute("aria-selected",s===this.#n),o.addEventListener("click",this.#p.bind(this,s),{signal:t}),e.append(o)}return e.addEventListener("keydown",this.#h.bind(this),{signal:t}),e}#p(e,t){t.stopPropagation(),this.#l.dispatch("switchannotationeditorparams",{source:this,type:this.#f,value:e})}_colorSelectFromKeyboard(e){if(e.target===this.#e){this.#m(e);return}let t=e.target.getAttribute("data-color");t&&this.#p(t,e)}_moveToNext(e){if(!this.#g){this.#m(e);return}if(e.target===this.#e){this.#i.firstChild?.focus();return}e.target.nextSibling?.focus()}_moveToPrevious(e){if(e.target===this.#i?.firstChild||e.target===this.#e){this.#g&&this._hideDropdownFromKeyboard();return}this.#g||this.#m(e),e.target.previousSibling?.focus()}_moveToBeginning(e){if(!this.#g){this.#m(e);return}this.#i.firstChild?.focus()}_moveToEnd(e){if(!this.#g){this.#m(e);return}this.#i.lastChild?.focus()}#h(e){n._keyboardManager.exec(this,e)}#m(e){if(this.#g){this.hideDropdown();return}if(this.#s=e.detail===0,this.#u||(this.#u=new AbortController,window.addEventListener("pointerdown",this.#v.bind(this),{signal:this.#c.combinedSignal(this.#u)})),this.#i){this.#i.classList.remove("hidden");return}let t=this.#i=this.#d();this.#e.append(t)}#v(e){this.#i?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#i?.classList.add("hidden"),this.#u?.abort(),this.#u=null}get#g(){return this.#i&&!this.#i.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#o){if(!this.#g){this.#a?.unselect();return}this.hideDropdown(),this.#e.focus({preventScroll:!0,focusVisible:this.#s})}}updateColor(e){if(this.#t&&(this.#t.style.backgroundColor=e),!this.#i)return;let t=this.#c.highlightColors.values();for(let i of this.#i.children)i.setAttribute("aria-selected",t.next().value===e)}destroy(){this.#e?.remove(),this.#e=null,this.#t=null,this.#i?.remove(),this.#i=null}},h6=class n extends C1{#e=null;#t=0;#n;#i=null;#s=null;#o=null;#a=null;#l=0;#u=null;#c=null;#f=null;#r=!1;#d=null;#p;#h=null;#m="";#v;#g="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=q.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){let e=n.prototype;return a1(this,"_keyboardManager",new s3([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super(t1(N({},e),{name:"highlightEditor"})),this.color=e.color||n._defaultColor,this.#v=e.thickness||n._defaultThickness,this.#p=e.opacity||n._defaultOpacity,this.#n=e.boxes||null,this.#g=e.methodOfCreation||"",this.#m=e.text||"",this._isDraggable=!1,e.highlightId>-1?(this.#r=!0,this.#M(e),this.#S()):this.#n&&(this.#e=e.anchorNode,this.#t=e.anchorOffset,this.#a=e.focusNode,this.#l=e.focusOffset,this.#C(),this.#S(),this.rotate(this.rotation))}get telemetryInitialData(){return{action:"added",type:this.#r?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:this.#v,methodOfCreation:this.#g}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#C(){let e=new f6(this.#n,.001);this.#c=e.getOutlines(),{x:this.x,y:this.y,width:this.width,height:this.height}=this.#c.box;let t=new f6(this.#n,.0025,.001,this._uiManager.direction==="ltr");this.#o=t.getOutlines();let{lastPoint:i}=this.#o.box;this.#d=[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]}#M({highlightOutlines:e,highlightId:t,clipPathId:i}){this.#c=e;let s=1.5;if(this.#o=e.getNewOutline(this.#v/2+s,.0025),t>=0)this.#f=t,this.#i=i,this.parent.drawLayer.finalizeLine(t,e),this.#h=this.parent.drawLayer.drawOutline(this.#o);else if(this.parent){let u=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(this.#f,e),this.parent.drawLayer.updateBox(this.#f,n.#w(this.#c.box,(u-this.rotation+360)%360)),this.parent.drawLayer.updateLine(this.#h,this.#o),this.parent.drawLayer.updateBox(this.#h,n.#w(this.#o.box,u))}let{x:o,y:r,width:c,height:a}=e.box;switch(this.rotation){case 0:this.x=o,this.y=r,this.width=c,this.height=a;break;case 90:{let[u,f]=this.parentDimensions;this.x=r,this.y=1-o,this.width=c*f/u,this.height=a*u/f;break}case 180:this.x=1-o,this.y=1-r,this.width=c,this.height=a;break;case 270:{let[u,f]=this.parentDimensions;this.x=1-r,this.y=o,this.width=c*f/u,this.height=a*u/f;break}}let{lastPoint:l}=this.#o.box;this.#d=[(l[0]-o)/c,(l[1]-r)/a]}static initialize(e,t){C1.initialize(e,t),n._defaultColor||=t.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,t){switch(e){case U.HIGHLIGHT_DEFAULT_COLOR:n._defaultColor=t;break;case U.HIGHLIGHT_THICKNESS:n._defaultThickness=t;break}}translateInPage(e,t){}get toolbarPosition(){return this.#d}updateParams(e,t){switch(e){case U.HIGHLIGHT_COLOR:this.#L(t);break;case U.HIGHLIGHT_THICKNESS:this.#y(t);break}}static get defaultPropertiesToUpdate(){return[[U.HIGHLIGHT_DEFAULT_COLOR,n._defaultColor],[U.HIGHLIGHT_THICKNESS,n._defaultThickness]]}get propertiesToUpdate(){return[[U.HIGHLIGHT_COLOR,this.color||n._defaultColor],[U.HIGHLIGHT_THICKNESS,this.#v||n._defaultThickness],[U.HIGHLIGHT_FREE,this.#r]]}#L(e){let t=(o,r)=>{this.color=o,this.parent?.drawLayer.changeColor(this.#f,o),this.#s?.updateColor(o),this.#p=r,this.parent?.drawLayer.changeOpacity(this.#f,r)},i=this.color,s=this.#p;this.addCommands({cmd:t.bind(this,e,n._defaultOpacity),undo:t.bind(this,i,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:U.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)}#y(e){let t=this.#v,i=s=>{this.#v=s,this.#_(s)};this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:U.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}addEditToolbar(){return S(this,null,function*(){let e=yield m3(n.prototype,this,"addEditToolbar").call(this);return e?(this._uiManager.highlightColors&&(this.#s=new d6({editor:this}),e.addColorPicker(this.#s)),e):null})}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#N())}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,this.#N())}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){this.#D(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#S(),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?this.#D():e&&(this.#S(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),t&&this.select()}#_(e){if(!this.#r)return;this.#M({highlightOutlines:this.#c.getNewOutline(e/2)}),this.fixAndSetPosition();let[t,i]=this.parentDimensions;this.setDims(this.width*t,this.height*i)}#D(){this.#f===null||!this.parent||(this.parent.drawLayer.remove(this.#f),this.#f=null,this.parent.drawLayer.remove(this.#h),this.#h=null)}#S(e=this.parent){this.#f===null&&({id:this.#f,clipPathId:this.#i}=e.drawLayer.draw(this.#c,this.color,this.#p),this.#h=e.drawLayer.drawOutline(this.#o),this.#u&&(this.#u.style.clipPath=this.#i))}static#w({x:e,y:t,width:i,height:s},o){switch(o){case 90:return{x:1-t-s,y:e,width:s,height:i};case 180:return{x:1-e-i,y:1-t-s,width:i,height:s};case 270:return{x:t,y:1-e-i,width:s,height:i}}return{x:e,y:t,width:i,height:s}}rotate(e){let{drawLayer:t}=this.parent,i;this.#r?(e=(e-this.rotation+360)%360,i=n.#w(this.#c.box,e)):i=n.#w(this,e),t.rotate(this.#f,e),t.rotate(this.#h,e),t.updateBox(this.#f,i),t.updateBox(this.#h,n.#w(this.#o.box,e))}render(){if(this.div)return this.div;let e=super.render();this.#m&&(e.setAttribute("aria-label",this.#m),e.setAttribute("role","mark")),this.#r?e.classList.add("free"):this.div.addEventListener("keydown",this.#A.bind(this),{signal:this._uiManager._signal});let t=this.#u=document.createElement("div");e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=this.#i;let[i,s]=this.parentDimensions;return this.setDims(this.width*i,this.height*s),Hs(this,this.#u,["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent.drawLayer.addClass(this.#h,"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(this.#h,"hovered")}#A(e){n._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#x(!0);break;case 1:case 3:this.#x(!1);break}}#x(e){if(!this.#e)return;let t=window.getSelection();e?t.setPosition(this.#e,this.#t):t.setPosition(this.#a,this.#l)}select(){super.select(),this.#h&&(this.parent?.drawLayer.removeClass(this.#h,"hovered"),this.parent?.drawLayer.addClass(this.#h,"selected"))}unselect(){super.unselect(),this.#h&&(this.parent?.drawLayer.removeClass(this.#h,"selected"),this.#r||this.#x(!1))}get _mustFixPosition(){return!this.#r}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.show(this.#f,e),this.parent.drawLayer.show(this.#h,e))}#N(){return this.#r?this.rotation:0}#I(){if(this.#r)return null;let[e,t]=this.pageDimensions,[i,s]=this.pageTranslation,o=this.#n,r=new Float32Array(o.length*8),c=0;for(let{x:a,y:l,width:u,height:f}of o){let d=a*e+i,h=(1-l-f)*t+s;r[c]=r[c+4]=d,r[c+1]=r[c+3]=h,r[c+2]=r[c+6]=d+u*e,r[c+5]=r[c+7]=h+f*t,c+=8}return r}#z(e){return this.#c.serialize(e,this.#N())}static startHighlighting(e,t,{target:i,x:s,y:o}){let{x:r,y:c,width:a,height:l}=i.getBoundingClientRect(),u=new AbortController,f=e.combinedSignal(u),d=p=>{p.preventDefault(),p.stopPropagation()},h=p=>{u.abort(),this.#E(e,p)};window.addEventListener("blur",h,{signal:f}),window.addEventListener("pointerup",h,{signal:f}),window.addEventListener("pointerdown",d,{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",Ue,{signal:f}),i.addEventListener("pointermove",this.#b.bind(this,e),{signal:f}),this._freeHighlight=new F4({x:s,y:o},[r,c,a,l],e.scale,this._defaultThickness/2,t,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static#b(e,t){this._freeHighlight.add(t)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)}static#E(e,t){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static deserialize(e,t,i){return S(this,null,function*(){let s=null;if(e instanceof r6){let{data:{quadPoints:p,rect:m,rotation:v,id:g,color:C,opacity:M,popupRef:b},parent:{page:{pageNumber:_}}}=e;s=e={annotationType:q.HIGHLIGHT,color:Array.from(C),opacity:M,quadPoints:p,boxes:null,pageIndex:_-1,rect:m.slice(0),rotation:v,id:g,deleted:!1,popupRef:b}}else if(e instanceof R4){let{data:{inkLists:p,rect:m,rotation:v,id:g,color:C,borderStyle:{rawWidth:M},popupRef:b},parent:{page:{pageNumber:_}}}=e;s=e={annotationType:q.HIGHLIGHT,color:Array.from(C),thickness:M,inkLists:p,boxes:null,pageIndex:_-1,rect:m.slice(0),rotation:v,id:g,deleted:!1,popupRef:b}}let{color:o,quadPoints:r,inkLists:c,opacity:a}=e,l=yield m3(n,this,"deserialize").call(this,e,t,i);l.color=k.makeHexColor(...o),l.#p=a||1,c&&(l.#v=e.thickness),l.annotationElementId=e.id||null,l._initialData=s;let[u,f]=l.pageDimensions,[d,h]=l.pageTranslation;if(r){let p=l.#n=[];for(let m=0;m<r.length;m+=8)p.push({x:(r[m]-d)/u,y:1-(r[m+1]-h)/f,width:(r[m+2]-r[m])/u,height:(r[m+1]-r[m+5])/f});l.#C(),l.#S(),l.rotate(l.rotation)}else if(c){l.#r=!0;let p=c[0],m={x:p[0]-d,y:f-(p[1]-h)},v=new F4(m,[0,0,u,f],1,l.#v/2,!0,.001);for(let M=0,b=p.length;M<b;M+=2)m.x=p[M]-d,m.y=f-(p[M+1]-h),v.add(m);let{id:g,clipPathId:C}=t.drawLayer.draw(v,l.color,l._defaultOpacity,!0);l.#M({highlightOutlines:v.getOutlines(),highlightId:g,clipPathId:C}),l.#S()}return l})}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();let t=this.getRect(0,0),i=C1._colorManager.convert(this.color),s={annotationType:q.HIGHLIGHT,color:i,opacity:this.#p,thickness:this.#v,quadPoints:this.#I(),outlines:this.#z(t),pageIndex:this.pageIndex,rect:t,rotation:this.#N(),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!this.#T(s)?null:(s.id=this.annotationElementId,s)}#T(e){let{color:t}=this._initialData;return e.color.some((i,s)=>i!==t[s])}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}},C5=class n extends C1{#e=0;#t=0;#n=null;#i=new Path2D;#s=!1;#o=null;#a=!1;#l=!1;#u=null;#c=null;#f=0;#r=0;#d=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";static _editorType=q.INK;constructor(e){super(t1(N({},e),{name:"inkEditor"})),this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,t){C1.initialize(e,t)}static updateDefaultParams(e,t){switch(e){case U.INK_THICKNESS:n._defaultThickness=t;break;case U.INK_COLOR:n._defaultColor=t;break;case U.INK_OPACITY:n._defaultOpacity=t/100;break}}updateParams(e,t){switch(e){case U.INK_THICKNESS:this.#p(t);break;case U.INK_COLOR:this.#h(t);break;case U.INK_OPACITY:this.#m(t);break}}static get defaultPropertiesToUpdate(){return[[U.INK_THICKNESS,n._defaultThickness],[U.INK_COLOR,n._defaultColor||C1._defaultLineColor],[U.INK_OPACITY,Math.round(n._defaultOpacity*100)]]}get propertiesToUpdate(){return[[U.INK_THICKNESS,this.thickness||n._defaultThickness],[U.INK_COLOR,this.color||n._defaultColor||C1._defaultLineColor],[U.INK_OPACITY,Math.round(100*(this.opacity??n._defaultOpacity))]]}#p(e){let t=s=>{this.thickness=s,this.#k()},i=this.thickness;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:U.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#h(e){let t=s=>{this.color=s,this.#w()},i=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:U.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#m(e){let t=s=>{this.opacity=s,this.#w()};e/=100;let i=this.opacity;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:U.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(this.#I(),this.#z()),this.isAttachedToDOM||(this.parent.add(this),this.#b()),this.#k()))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#n&&(clearTimeout(this.#n),this.#n=null),this.#u?.disconnect(),this.#u=null,super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&e===null&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){let[e,t]=this.parentDimensions,i=this.width*e,s=this.height*t;this.setDimensions(i,s)}enableEditMode(){this.#s||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.#A())}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.#x())}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}#v(){let{parentRotation:e,parentDimensions:[t,i]}=this;switch(e){case 90:return[0,i,i,t];case 180:return[t,i,t,i];case 270:return[t,0,i,t];default:return[0,0,t,i]}}#g(){let{ctx:e,color:t,opacity:i,thickness:s,parentScale:o,scaleFactor:r}=this;e.lineWidth=s*o/r,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=`${t}${vS(i)}`}#C(e,t){this.canvas.addEventListener("contextmenu",Ue,{signal:this._uiManager._signal}),this.#x(),this.#o=new AbortController;let i=this._uiManager.combinedSignal(this.#o);this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:i}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:i}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:i}),this.isEditing=!0,this.#l||(this.#l=!0,this.#b(),this.thickness||=n._defaultThickness,this.color||=n._defaultColor||C1._defaultLineColor,this.opacity??=n._defaultOpacity),this.currentPath.push([e,t]),this.#a=!1,this.#g(),this.#d=()=>{this.#_(),this.#d&&window.requestAnimationFrame(this.#d)},window.requestAnimationFrame(this.#d)}#M(e,t){let[i,s]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===i&&t===s)return;let o=this.currentPath,r=this.#i;if(o.push([e,t]),this.#a=!0,o.length<=2){r.moveTo(...o[0]),r.lineTo(e,t);return}o.length===3&&(this.#i=r=new Path2D,r.moveTo(...o[0])),this.#D(r,...o.at(-3),...o.at(-2),e,t)}#L(){if(this.currentPath.length===0)return;let e=this.currentPath.at(-1);this.#i.lineTo(...e)}#y(e,t){this.#d=null,e=Math.min(Math.max(e,0),this.canvas.width),t=Math.min(Math.max(t,0),this.canvas.height),this.#M(e,t),this.#L();let i;if(this.currentPath.length!==1)i=this.#S();else{let a=[e,t];i=[[a,a.slice(),a.slice(),a]]}let s=this.#i,o=this.currentPath;this.currentPath=[],this.#i=new Path2D;let r=()=>{this.allRawPaths.push(o),this.paths.push(i),this.bezierPath2D.push(s),this._uiManager.rebuild(this)},c=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(this.#I(),this.#z()),this.#k())};this.addCommands({cmd:r,undo:c,mustExec:!0})}#_(){if(!this.#a)return;this.#a=!1;let e=Math.ceil(this.thickness*this.parentScale),t=this.currentPath.slice(-3),i=t.map(u=>u[0]),s=t.map(u=>u[1]),o=Math.min(...i)-e,r=Math.max(...i)+e,c=Math.min(...s)-e,a=Math.max(...s)+e,{ctx:l}=this;l.save(),l.clearRect(0,0,this.canvas.width,this.canvas.height);for(let u of this.bezierPath2D)l.stroke(u);l.stroke(this.#i),l.restore()}#D(e,t,i,s,o,r,c){let a=(t+s)/2,l=(i+o)/2,u=(s+r)/2,f=(o+c)/2;e.bezierCurveTo(a+2*(s-a)/3,l+2*(o-l)/3,u+2*(s-u)/3,f+2*(o-f)/3,u,f)}#S(){let e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];let t=[],i,[s,o]=e[0];for(i=1;i<e.length-2;i++){let[d,h]=e[i],[p,m]=e[i+1],v=(d+p)/2,g=(h+m)/2,C=[s+2*(d-s)/3,o+2*(h-o)/3],M=[v+2*(d-v)/3,g+2*(h-g)/3];t.push([[s,o],C,M,[v,g]]),[s,o]=[v,g]}let[r,c]=e[i],[a,l]=e[i+1],u=[s+2*(r-s)/3,o+2*(c-o)/3],f=[a+2*(r-a)/3,l+2*(c-l)/3];return t.push([[s,o],u,f,[a,l]]),t}#w(){if(this.isEmpty()){this.#T();return}this.#g();let{canvas:e,ctx:t}=this;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height),this.#T();for(let i of this.bezierPath2D)t.stroke(i)}commit(){this.#s||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#s=!0,this.div.classList.add("disabled"),this.#k(!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}#A(){if(this.#c)return;this.#c=new AbortController;let e=this._uiManager.combinedSignal(this.#c);this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:e})}#x(){this.pointerdownAC?.abort(),this.pointerdownAC=null}canvasPointerdown(e){e.button!==0||!this.isInEditMode()||this.#s||(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),this.#C(e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),this.#M(e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),this.#N(e)}canvasPointerleave(e){this.#N(e)}#N(e){this.#o?.abort(),this.#o=null,this.#A(),this.#n&&clearTimeout(this.#n),this.#n=setTimeout(()=>{this.#n=null,this.canvas.removeEventListener("contextmenu",Ue)},10),this.#y(e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#I(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#z(){this.#u=new ResizeObserver(e=>{let t=e[0].contentRect;t.width&&t.height&&this.setDimensions(t.width,t.height)}),this.#u.observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{this.#u?.disconnect(),this.#u=null},{once:!0})}get isResizable(){return!this.isEmpty()&&this.#s}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");let[i,s,o,r]=this.#v();if(this.setAt(i,s,0,0),this.setDims(o,r),this.#I(),this.width){let[c,a]=this.parentDimensions;this.setAspectRatio(this.width*c,this.height*a),this.setAt(e*c,t*a,this.width*c,this.height*a),this.#l=!0,this.#b(),this.setDims(this.width*c,this.height*a),this.#w(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#z(),this.div}#b(){if(!this.#l)return;let[e,t]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*t),this.#T()}setDimensions(e,t){let i=Math.round(e),s=Math.round(t);if(this.#f===i&&this.#r===s)return;this.#f=i,this.#r=s,this.canvas.style.visibility="hidden";let[o,r]=this.parentDimensions;this.width=e/o,this.height=t/r,this.fixAndSetPosition(),this.#s&&this.#E(e,t),this.#b(),this.#w(),this.canvas.style.visibility="visible",this.fixDims()}#E(e,t){let i=this.#H(),s=(e-i)/this.#t,o=(t-i)/this.#e;this.scaleFactor=Math.min(s,o)}#T(){let e=this.#H()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)}static#R(e){let t=new Path2D;for(let i=0,s=e.length;i<s;i++){let[o,r,c,a]=e[i];i===0&&t.moveTo(...o),t.bezierCurveTo(r[0],r[1],c[0],c[1],a[0],a[1])}return t}static#B(e,t,i){let[s,o,r,c]=t;switch(i){case 0:for(let a=0,l=e.length;a<l;a+=2)e[a]+=s,e[a+1]=c-e[a+1];break;case 90:for(let a=0,l=e.length;a<l;a+=2){let u=e[a];e[a]=e[a+1]+s,e[a+1]=u+o}break;case 180:for(let a=0,l=e.length;a<l;a+=2)e[a]=r-e[a],e[a+1]+=o;break;case 270:for(let a=0,l=e.length;a<l;a+=2){let u=e[a];e[a]=r-e[a+1],e[a+1]=c-u}break;default:throw new Error("Invalid rotation")}return e}static#V(e,t,i){let[s,o,r,c]=t;switch(i){case 0:for(let a=0,l=e.length;a<l;a+=2)e[a]-=s,e[a+1]=c-e[a+1];break;case 90:for(let a=0,l=e.length;a<l;a+=2){let u=e[a];e[a]=e[a+1]-o,e[a+1]=u-s}break;case 180:for(let a=0,l=e.length;a<l;a+=2)e[a]=r-e[a],e[a+1]-=o;break;case 270:for(let a=0,l=e.length;a<l;a+=2){let u=e[a];e[a]=c-e[a+1],e[a+1]=r-u}break;default:throw new Error("Invalid rotation")}return e}#P(e,t,i,s){let o=[],r=this.thickness/2,c=e*t+r,a=e*i+r;for(let l of this.paths){let u=[],f=[];for(let d=0,h=l.length;d<h;d++){let[p,m,v,g]=l[d];if(p[0]===g[0]&&p[1]===g[1]&&h===1){let w=e*p[0]+c,T=e*p[1]+a;u.push(w,T),f.push(w,T);break}let C=e*p[0]+c,M=e*p[1]+a,b=e*m[0]+c,_=e*m[1]+a,L=e*v[0]+c,x=e*v[1]+a,A=e*g[0]+c,y=e*g[1]+a;d===0&&(u.push(C,M),f.push(C,M)),u.push(b,_,L,x,A,y),f.push(b,_),d===h-1&&f.push(A,y)}o.push({bezier:n.#B(u,s,this.rotation),points:n.#B(f,s,this.rotation)})}return o}#F(){let e=1/0,t=-1/0,i=1/0,s=-1/0;for(let o of this.paths)for(let[r,c,a,l]of o){let u=k.bezierBoundingBox(...r,...c,...a,...l);e=Math.min(e,u[0]),i=Math.min(i,u[1]),t=Math.max(t,u[2]),s=Math.max(s,u[3])}return[e,i,t,s]}#H(){return this.#s?Math.ceil(this.thickness*this.parentScale):0}#k(e=!1){if(this.isEmpty())return;if(!this.#s){this.#w();return}let t=this.#F(),i=this.#H();this.#t=Math.max(C1.MIN_SIZE,t[2]-t[0]),this.#e=Math.max(C1.MIN_SIZE,t[3]-t[1]);let s=Math.ceil(i+this.#t*this.scaleFactor),o=Math.ceil(i+this.#e*this.scaleFactor),[r,c]=this.parentDimensions;this.width=s/r,this.height=o/c,this.setAspectRatio(s,o);let a=this.translationX,l=this.translationY;this.translationX=-t[0],this.translationY=-t[1],this.#b(),this.#w(),this.#f=s,this.#r=o,this.setDims(s,o);let u=e?i/this.scaleFactor/2:0;this.translate(a-this.translationX-u,l-this.translationY-u)}static deserialize(e,t,i){return S(this,null,function*(){if(e instanceof R4)return null;let s=yield m3(n,this,"deserialize").call(this,e,t,i);s.thickness=e.thickness,s.color=k.makeHexColor(...e.color),s.opacity=e.opacity;let[o,r]=s.pageDimensions,c=s.width*o,a=s.height*r,l=s.parentScale,u=e.thickness/2;s.#s=!0,s.#f=Math.round(c),s.#r=Math.round(a);let{paths:f,rect:d,rotation:h}=e;for(let{bezier:m}of f){m=n.#V(m,d,h);let v=[];s.paths.push(v);let g=l*(m[0]-u),C=l*(m[1]-u);for(let b=2,_=m.length;b<_;b+=6){let L=l*(m[b]-u),x=l*(m[b+1]-u),A=l*(m[b+2]-u),y=l*(m[b+3]-u),w=l*(m[b+4]-u),T=l*(m[b+5]-u);v.push([[g,C],[L,x],[A,y],[w,T]]),g=w,C=T}let M=this.#R(v);s.bezierPath2D.push(M)}let p=s.#F();return s.#t=Math.max(C1.MIN_SIZE,p[2]-p[0]),s.#e=Math.max(C1.MIN_SIZE,p[3]-p[1]),s.#E(c,a),s})}serialize(){if(this.isEmpty())return null;let e=this.getRect(0,0),t=C1._colorManager.convert(this.ctx.strokeStyle);return{annotationType:q.INK,color:t,thickness:this.thickness,opacity:this.opacity,paths:this.#P(this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}},b5=class n extends C1{#e=null;#t=null;#n=null;#i=null;#s=null;#o="";#a=null;#l=null;#u=null;#c=!1;#f=!1;static _type="stamp";static _editorType=q.STAMP;constructor(e){super(t1(N({},e),{name:"stampEditor"})),this.#i=e.bitmapUrl,this.#s=e.bitmapFile}static initialize(e,t){C1.initialize(e,t)}static get supportedTypes(){return a1(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(t=>`image/${t}`))}static get supportedTypesStr(){return a1(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,t){t.pasteEditor(q.STAMP,{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(e){let t=e.get("hasAltText");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}#r(e,t=!1){if(!e){this.remove();return}this.#e=e.bitmap,t||(this.#t=e.id,this.#c=e.isSvg),e.file&&(this.#o=e.file.name),this.#h()}#d(){if(this.#n=null,this._uiManager.enableWaiting(!1),!!this.#a){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}mlGuessAltText(e=null,t=!0){return S(this,null,function*(){if(this.hasAltTextData())return null;let{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!(yield i.isEnabledFor("altText")))throw new Error("ML isn't enabled for alt text.");let{data:s,width:o,height:r}=e||this.copyCanvas(null,null,!0).imageData,c=yield i.guess({name:"altText",request:{data:s,width:o,height:r,channels:s.length/(o*r)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");let a=c.output;return yield this.setGuessedAltText(a),t&&!this.hasAltTextData()&&(this.altTextData={alt:a,decorative:!1}),a})}#p(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(i=>this.#r(i,!0)).finally(()=>this.#d());return}if(this.#i){let i=this.#i;this.#i=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(i).then(s=>this.#r(s)).finally(()=>this.#d());return}if(this.#s){let i=this.#s;this.#s=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(i).then(s=>this.#r(s)).finally(()=>this.#d());return}let e=document.createElement("input");e.type="file",e.accept=n.supportedTypesStr;let t=this._uiManager._signal;this.#n=new Promise(i=>{e.addEventListener("change",()=>S(this,null,function*(){if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);let s=yield this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#r(s)}i()}),{signal:t}),e.addEventListener("cancel",()=>{this.remove(),i()},{signal:t})}).finally(()=>this.#d()),e.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#a?.remove(),this.#a=null,this.#l?.disconnect(),this.#l=null,this.#u&&(clearTimeout(this.#u),this.#u=null)),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#p();return}super.rebuild(),this.div!==null&&(this.#t&&this.#a===null&&this.#p(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#n||this.#e||this.#i||this.#s||this.#t)}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;if(this.width&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),this.#e?this.#h():this.#p(),this.width&&!this.annotationElementId){let[i,s]=this.parentDimensions;this.setAt(e*i,t*s,this.width*i,this.height*s)}return this.div}#h(){let{div:e}=this,{width:t,height:i}=this.#e,[s,o]=this.pageDimensions,r=.75;if(this.width)t=this.width*s,i=this.height*o;else if(t>r*s||i>r*o){let u=Math.min(r*s/t,r*o/i);t*=u,i*=u}let[c,a]=this.parentDimensions;this.setDims(t*c/s,i*a/o),this._uiManager.enableWaiting(!1);let l=this.#a=document.createElement("canvas");l.setAttribute("role","img"),this.addContainer(l),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),this.#g(t,i),this.#M(),this.#f||(this.parent.addUndoableEditor(this),this.#f=!0),this._reportTelemetry({action:"inserted_image"}),this.#o&&l.setAttribute("aria-label",this.#o)}copyCanvas(e,t,i=!1){e||(e=224);let{width:s,height:o}=this.#e,r=new E4,c=this.#e,a=s,l=o,u=null;if(t){if(s>t||o>t){let L=Math.min(t/s,t/o);a=Math.floor(s*L),l=Math.floor(o*L)}u=document.createElement("canvas");let d=u.width=Math.ceil(a*r.sx),h=u.height=Math.ceil(l*r.sy);this.#c||(c=this.#v(d,h));let p=u.getContext("2d");p.filter=this._uiManager.hcmFilter;let m="white",v="#cfcfd8";this._uiManager.hcmFilter!=="none"?v="black":window.matchMedia?.("(prefers-color-scheme: dark)").matches&&(m="#8f8f9d",v="#42414d");let g=15,C=g*r.sx,M=g*r.sy,b=new OffscreenCanvas(C*2,M*2),_=b.getContext("2d");_.fillStyle=m,_.fillRect(0,0,C*2,M*2),_.fillStyle=v,_.fillRect(0,0,C,M),_.fillRect(C,M,C,M),p.fillStyle=p.createPattern(b,"repeat"),p.fillRect(0,0,d,h),p.drawImage(c,0,0,c.width,c.height,0,0,d,h)}let f=null;if(i){let d,h;if(r.symmetric&&c.width<e&&c.height<e)d=c.width,h=c.height;else if(c=this.#e,s>e||o>e){let v=Math.min(e/s,e/o);d=Math.floor(s*v),h=Math.floor(o*v),this.#c||(c=this.#v(d,h))}let m=new OffscreenCanvas(d,h).getContext("2d",{willReadFrequently:!0});m.drawImage(c,0,0,c.width,c.height,0,0,d,h),f={width:d,height:h,data:m.getImageData(0,0,d,h).data}}return{canvas:u,width:a,height:l,imageData:f}}#m(e,t){let[i,s]=this.parentDimensions;this.width=e/i,this.height=t/s,this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this.#u!==null&&clearTimeout(this.#u);let o=200;this.#u=setTimeout(()=>{this.#u=null,this.#g(e,t)},o)}#v(e,t){let{width:i,height:s}=this.#e,o=i,r=s,c=this.#e;for(;o>2*e||r>2*t;){let a=o,l=r;o>2*e&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),r>2*t&&(r=r>=16384?Math.floor(r/2)-1:Math.ceil(r/2));let u=new OffscreenCanvas(o,r);u.getContext("2d").drawImage(c,0,0,a,l,0,0,o,r),c=u.transferToImageBitmap()}return c}#g(e,t){let i=new E4,s=Math.ceil(e*i.sx),o=Math.ceil(t*i.sy),r=this.#a;if(!r||r.width===s&&r.height===o)return;r.width=s,r.height=o;let c=this.#c?this.#e:this.#v(s,o),a=r.getContext("2d");a.filter=this._uiManager.hcmFilter,a.drawImage(c,0,0,c.width,c.height,0,0,s,o)}getImageForAltText(){return this.#a}#C(e){if(e){if(this.#c){let s=this._uiManager.imageManager.getSvgUrl(this.#t);if(s)return s}let t=document.createElement("canvas");return{width:t.width,height:t.height}=this.#e,t.getContext("2d").drawImage(this.#e,0,0),t.toDataURL()}if(this.#c){let[t,i]=this.pageDimensions,s=Math.round(this.width*t*zt.PDF_TO_CSS_UNITS),o=Math.round(this.height*i*zt.PDF_TO_CSS_UNITS),r=new OffscreenCanvas(s,o);return r.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,s,o),r.transferToImageBitmap()}return structuredClone(this.#e)}#M(){this._uiManager._signal&&(this.#l=new ResizeObserver(e=>{let t=e[0].contentRect;t.width&&t.height&&this.#m(t.width,t.height)}),this.#l.observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{this.#l?.disconnect(),this.#l=null},{once:!0}))}static deserialize(e,t,i){return S(this,null,function*(){let s=null;if(e instanceof c6){let{data:{rect:p,rotation:m,id:v,structParent:g,popupRef:C},container:M,parent:{page:{pageNumber:b}}}=e,_=M.querySelector("canvas"),L=i.imageManager.getFromCanvas(M.id,_);_.remove();let x=(yield t._structTree.getAriaAttributes(`${_5}${v}`))?.get("aria-label")||"";s=e={annotationType:q.STAMP,bitmapId:L.id,bitmap:L.bitmap,pageIndex:b-1,rect:p.slice(0),rotation:m,id:v,deleted:!1,accessibilityData:{decorative:!1,altText:x},isSvg:!1,structParent:g,popupRef:C}}let o=yield m3(n,this,"deserialize").call(this,e,t,i),{rect:r,bitmap:c,bitmapUrl:a,bitmapId:l,isSvg:u,accessibilityData:f}=e;l&&i.imageManager.isValidId(l)?(o.#t=l,c&&(o.#e=c)):o.#i=a,o.#c=u;let[d,h]=o.pageDimensions;return o.width=(r[2]-r[0])/d,o.height=(r[3]-r[1])/h,o.annotationElementId=e.id||null,f&&(o.altTextData=f),o._initialData=s,o.#f=!!s,o})}serialize(e=!1,t=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();let i={annotationType:q.STAMP,bitmapId:this.#t,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#c,structTreeParentId:this._structTreeParentId};if(e)return i.bitmapUrl=this.#C(!0),i.accessibilityData=this.serializeAltText(!0),i;let{decorative:s,altText:o}=this.serializeAltText(!1);if(!s&&o&&(i.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){let c=this.#L(i);if(c.isSame)return null;c.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1}if(i.id=this.annotationElementId,t===null)return i;t.stamps||=new Map;let r=this.#c?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!t.stamps.has(this.#t))t.stamps.set(this.#t,{area:r,serialized:i}),i.bitmap=this.#C(!1);else if(this.#c){let c=t.stamps.get(this.#t);r>c.area&&(c.area=r,c.serialized.bitmap.close(),c.serialized.bitmap=this.#C(!1))}return i}#L(e){let{rect:t,pageIndex:i,accessibilityData:{altText:s}}=this._initialData,o=e.rect.every((a,l)=>Math.abs(a-t[l])<1),r=e.pageIndex===i,c=(e.accessibilityData?.alt||"")===s;return{isSame:o&&r&&c,isSameAltText:c}}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}},qS=(()=>{class n{#e;#t=!1;#n=null;#i=null;#s=null;#o=new Map;#a=!1;#l=!1;#u=!1;#c=null;#f=null;#r;static _initialized=!1;static#d=new Map([m5,C5,b5,h6].map(t=>[t._editorType,t]));constructor({uiManager:t,pageIndex:i,div:s,structTreeLayer:o,accessibilityManager:r,annotationLayer:c,drawLayer:a,textLayer:l,viewport:u,l10n:f}){let d=[...n.#d.values()];if(!n._initialized){n._initialized=!0;for(let h of d)h.initialize(f,t)}t.registerEditorTypes(d),this.#r=t,this.pageIndex=i,this.div=s,this.#e=r,this.#n=c,this.viewport=u,this.#c=l,this.drawLayer=a,this._structTree=o,this.#r.addLayer(this)}get isEmpty(){return this.#o.size===0}get isInvisible(){return this.isEmpty&&this.#r.getMode()===q.NONE}updateToolbar(t){this.#r.updateToolbar(t)}updateMode(t=this.#r.getMode()){switch(this.#g(),t){case q.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case q.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case q.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);let{classList:i}=this.div;for(let s of n.#d.values())i.toggle(`${s._type}Editing`,t===s._editorType);this.div.hidden=!1}hasTextLayer(t){return t===this.#c?.div}addInkEditorIfNeeded(t){if(this.#r.getMode()!==q.INK)return;if(!t){for(let s of this.#o.values())if(s.isEmpty()){s.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(t){this.#r.setEditingState(t)}addCommands(t){this.#r.addCommands(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){this.#n?.div.classList.toggle("disabled",!t)}enable(){return S(this,null,function*(){this.div.tabIndex=0,this.togglePointerEvents(!0);let t=new Set;for(let s of this.#o.values())s.enableEditing(),s.show(!0),s.annotationElementId&&(this.#r.removeChangedExistingAnnotation(s),t.add(s.annotationElementId));if(!this.#n)return;let i=this.#n.getEditableAnnotations();for(let s of i){if(s.hide(),this.#r.isDeletedAnnotationElement(s.data.id)||t.has(s.data.id))continue;let o=yield this.deserialize(s);o&&(this.addOrRebuild(o),o.enableEditing())}})}disable(){this.#u=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1);let t=new Map,i=new Map;for(let o of this.#o.values())if(o.disableEditing(),!!o.annotationElementId){if(o.serialize()!==null){t.set(o.annotationElementId,o);continue}else i.set(o.annotationElementId,o);this.getEditableAnnotation(o.annotationElementId)?.show(),o.remove()}if(this.#n){let o=this.#n.getEditableAnnotations();for(let r of o){let{id:c}=r.data;if(this.#r.isDeletedAnnotationElement(c))continue;let a=i.get(c);if(a){a.resetAnnotationElement(r),a.show(!1),r.show();continue}a=t.get(c),a&&(this.#r.addChangedExistingAnnotation(a),a.renderAnnotationElement(r)&&a.show(!1)),r.show()}}this.#g(),this.isEmpty&&(this.div.hidden=!0);let{classList:s}=this.div;for(let o of n.#d.values())s.remove(`${o._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#u=!1}getEditableAnnotation(t){return this.#n?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#r.getActive()!==t&&this.#r.setActiveEditor(t)}enableTextSelection(){if(this.div.tabIndex=-1,this.#c?.div&&!this.#f){this.#f=new AbortController;let t=this.#r.combinedSignal(this.#f);this.#c.div.addEventListener("pointerdown",this.#p.bind(this),{signal:t}),this.#c.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#c?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#c.div.classList.remove("highlighting"))}#p(t){this.#r.unselectAll();let{target:i}=t;if(i===this.#c.div||(i.getAttribute("role")==="img"||i.classList.contains("endOfContent"))&&this.#c.div.contains(i)){let{isMac:s}=X1.platform;if(t.button!==0||t.ctrlKey&&s)return;this.#r.showAllEditors("highlight",!0,!0),this.#c.div.classList.add("free"),this.toggleDrawing(),h6.startHighlighting(this,this.#r.direction==="ltr",{target:this.#c.div,x:t.x,y:t.y}),this.#c.div.addEventListener("pointerup",()=>{this.#c.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#r._signal}),t.preventDefault()}}enableClick(){if(this.#i)return;this.#i=new AbortController;let t=this.#r.combinedSignal(this.#i);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:t})}disableClick(){this.#i?.abort(),this.#i=null}attach(t){this.#o.set(t.id,t);let{annotationElementId:i}=t;i&&this.#r.isDeletedAnnotationElement(i)&&this.#r.removeDeletedAnnotationElement(t)}detach(t){this.#o.delete(t.id),this.#e?.removePointerInTextLayer(t.contentDiv),!this.#u&&t.annotationElementId&&this.#r.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#r.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,this.#l||this.addInkEditorIfNeeded(!1)}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#r.addDeletedAnnotationElement(t.annotationElementId),C1.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),this.#r.addEditor(t),this.attach(t),!t.isAttachedToDOM){let i=t.render();this.div.append(i),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),this.#r.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;let{activeElement:i}=document;t.div.contains(i)&&!this.#s&&(t._focusEventsAllowed=!1,this.#s=setTimeout(()=>{this.#s=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#r._signal}),i.focus())},0)),t._structTreeParentId=this.#e?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){let i=()=>t._uiManager.rebuild(t),s=()=>{t.remove()};this.addCommands({cmd:i,undo:s,mustExec:!1})}getNextId(){return this.#r.getId()}get#h(){return n.#d.get(this.#r.getMode())}combinedSignal(t){return this.#r.combinedSignal(t)}#m(t){let i=this.#h;return i?new i.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#h?.canCreateNewEmptyEditor()}pasteEditor(t,i){this.#r.updateToolbar(t),this.#r.updateMode(t);let{offsetX:s,offsetY:o}=this.#v(),r=this.getNextId(),c=this.#m(N({parent:this,id:r,x:s,y:o,uiManager:this.#r,isCentered:!0},i));c&&this.add(c)}deserialize(t){return S(this,null,function*(){return(yield n.#d.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#r))||null})}createAndAddNewEditor(t,i,s={}){let o=this.getNextId(),r=this.#m(N({parent:this,id:o,x:t.offsetX,y:t.offsetY,uiManager:this.#r,isCentered:i},s));return r&&this.add(r),r}#v(){let{x:t,y:i,width:s,height:o}=this.div.getBoundingClientRect(),r=Math.max(0,t),c=Math.max(0,i),a=Math.min(window.innerWidth,t+s),l=Math.min(window.innerHeight,i+o),u=(r+a)/2-t,f=(c+l)/2-i,[d,h]=this.viewport.rotation%180===0?[u,f]:[f,u];return{offsetX:d,offsetY:h}}addNewEditor(){this.createAndAddNewEditor(this.#v(),!0)}setSelected(t){this.#r.setSelected(t)}toggleSelected(t){this.#r.toggleSelected(t)}unselect(t){this.#r.unselect(t)}pointerup(t){let{isMac:i}=X1.platform;if(!(t.button!==0||t.ctrlKey&&i)&&t.target===this.div&&this.#a){if(this.#a=!1,!this.#t){this.#t=!0;return}if(this.#r.getMode()===q.STAMP){this.#r.unselectAll();return}this.createAndAddNewEditor(t,!1)}}pointerdown(t){if(this.#r.getMode()===q.HIGHLIGHT&&this.enableTextSelection(),this.#a){this.#a=!1;return}let{isMac:i}=X1.platform;if(t.button!==0||t.ctrlKey&&i||t.target!==this.div)return;this.#a=!0;let s=this.#r.getActive();this.#t=!s||s.isEmpty()}findNewParent(t,i,s){let o=this.#r.findParent(i,s);return o===null||o===this?!1:(o.changeParent(t),!0)}destroy(){this.#r.getActive()?.parent===this&&(this.#r.commitOrRemove(),this.#r.setActiveEditor(null)),this.#s&&(clearTimeout(this.#s),this.#s=null);for(let t of this.#o.values())this.#e?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#o.clear(),this.#r.removeLayer(this)}#g(){this.#l=!0;for(let t of this.#o.values())t.isEmpty()&&t.remove();this.#l=!1}render({viewport:t}){this.viewport=t,i3(this.div,t);for(let i of this.#r.getEditors(this.pageIndex))this.add(i),i.rebuild();this.updateMode()}update({viewport:t}){this.#r.commitOrRemove(),this.#g();let i=this.viewport.rotation,s=t.rotation;if(this.viewport=t,i3(this.div,{rotation:s}),i!==s)for(let o of this.#o.values())o.rotate(s);this.addInkEditorIfNeeded(!1)}get pageDimensions(){let{pageWidth:t,pageHeight:i}=this.viewport.rawDims;return[t,i]}get scale(){return this.#r.viewParameters.realScale}}return n})(),M5=class n{#e=null;#t=0;#n=new Map;#i=new Map;constructor({pageIndex:e}){this.pageIndex=e}setParent(e){if(!this.#e){this.#e=e;return}if(this.#e!==e){if(this.#n.size>0)for(let t of this.#n.values())t.remove(),e.append(t);this.#e=e}}static get _svgFactory(){return a1(this,"_svgFactory",new O4)}static#s(e,{x:t=0,y:i=0,width:s=1,height:o=1}={}){let{style:r}=e;r.top=`${100*i}%`,r.left=`${100*t}%`,r.width=`${100*s}%`,r.height=`${100*o}%`}#o(e){let t=n._svgFactory.create(1,1,!0);return this.#e.append(t),t.setAttribute("aria-hidden",!0),n.#s(t,e),t}#a(e,t){let i=n._svgFactory.createElement("clipPath");e.append(i);let s=`clip_${t}`;i.setAttribute("id",s),i.setAttribute("clipPathUnits","objectBoundingBox");let o=n._svgFactory.createElement("use");return i.append(o),o.setAttribute("href",`#${t}`),o.classList.add("clip"),s}draw(e,t,i,s=!1){let o=this.#t++,r=this.#o(e.box);r.classList.add(...e.classNamesForDrawing);let c=n._svgFactory.createElement("defs");r.append(c);let a=n._svgFactory.createElement("path");c.append(a);let l=`path_p${this.pageIndex}_${o}`;a.setAttribute("id",l),a.setAttribute("d",e.toSVGPath()),s&&this.#i.set(o,a);let u=this.#a(c,l),f=n._svgFactory.createElement("use");return r.append(f),r.setAttribute("fill",t),r.setAttribute("fill-opacity",i),f.setAttribute("href",`#${l}`),this.#n.set(o,r),{id:o,clipPathId:`url(#${u})`}}drawOutline(e){let t=this.#t++,i=this.#o(e.box);i.classList.add(...e.classNamesForOutlining);let s=n._svgFactory.createElement("defs");i.append(s);let o=n._svgFactory.createElement("path");s.append(o);let r=`path_p${this.pageIndex}_${t}`;o.setAttribute("id",r),o.setAttribute("d",e.toSVGPath()),o.setAttribute("vector-effect","non-scaling-stroke");let c;if(e.mustRemoveSelfIntersections){let u=n._svgFactory.createElement("mask");s.append(u),c=`mask_p${this.pageIndex}_${t}`,u.setAttribute("id",c),u.setAttribute("maskUnits","objectBoundingBox");let f=n._svgFactory.createElement("rect");u.append(f),f.setAttribute("width","1"),f.setAttribute("height","1"),f.setAttribute("fill","white");let d=n._svgFactory.createElement("use");u.append(d),d.setAttribute("href",`#${r}`),d.setAttribute("stroke","none"),d.setAttribute("fill","black"),d.setAttribute("fill-rule","nonzero"),d.classList.add("mask")}let a=n._svgFactory.createElement("use");i.append(a),a.setAttribute("href",`#${r}`),c&&a.setAttribute("mask",`url(#${c})`);let l=a.cloneNode();return i.append(l),a.classList.add("mainOutline"),l.classList.add("secondaryOutline"),this.#n.set(t,i),t}finalizeLine(e,t){let i=this.#i.get(e);this.#i.delete(e),this.updateBox(e,t.box),i.setAttribute("d",t.toSVGPath())}updateLine(e,t){this.#n.get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}updatePath(e,t){this.#i.get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){n.#s(this.#n.get(e),t)}show(e,t){this.#n.get(e).classList.toggle("hidden",!t)}rotate(e,t){this.#n.get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){this.#n.get(e).setAttribute("fill",t)}changeOpacity(e,t){this.#n.get(e).setAttribute("fill-opacity",t)}addClass(e,t){this.#n.get(e).classList.add(t)}removeClass(e,t){this.#n.get(e).classList.remove(t)}getSVGRoot(e){return this.#n.get(e)}remove(e){this.#i.delete(e),this.#e!==null&&(this.#n.get(e).remove(),this.#n.delete(e))}destroy(){this.#e=null;for(let e of this.#n.values())e.remove();this.#n.clear(),this.#i.clear()}};var ZS=$.AbortException,YS=$.AnnotationEditorLayer,JS=$.AnnotationEditorParamsType,A5=$.AnnotationEditorType,KS=$.AnnotationEditorUIManager,QS=$.AnnotationLayer,XS=$.AnnotationMode,eA=$.ColorPicker,tA=$.DOMSVGFactory,nA=$.DrawLayer,iA=$.FeatureTest,E5=$.GlobalWorkerOptions,sA=$.ImageKind,oA=$.InvalidPDFException,rA=$.MissingPDFException,cA=$.OPS,aA=$.OutputScale,lA=$.PDFDataRangeTransport,uA=$.PDFDateString,fA=$.PDFWorker,dA=$.PasswordResponses,hA=$.PermissionFlag,pA=$.PixelsPerInch,mA=$.RenderingCancelledException,gA=$.TextLayer,vA=$.UnexpectedResponseException,CA=$.Util,D5=$.VerbosityLevel,bA=$.XfaLayer,MA=$.build,yA=$.createValidAbsoluteUrl,_A=$.fetchData,N5=$.getDocument,LA=$.getFilenameFromUrl,wA=$.getPdfFilenameFromUrl,zA=$.getXfaPageViewport,xA=$.isDataScheme,SA=$.isPdfFile,AA=$.noContextMenu,EA=$.normalizeUnicode,DA=$.setLayerDimensions,NA=$.shadow,V4=$.version;var bl={};c7(bl,{AnnotationLayerBuilder:()=>CD,DownloadManager:()=>bD,EventBus:()=>MD,FindState:()=>yD,GenericL10n:()=>pl,LinkTarget:()=>l3,PDFFindController:()=>ml,PDFHistory:()=>_D,PDFLinkService:()=>gl,PDFPageView:()=>LD,PDFScriptingManager:()=>wD,PDFSinglePageViewer:()=>vl,PDFViewer:()=>Cl,ProgressBar:()=>zD,RenderingStates:()=>xD,ScrollMode:()=>SD,SimpleLinkService:()=>AD,SpreadMode:()=>ED,StructTreeLayerBuilder:()=>DD,TextLayerBuilder:()=>ND,XfaLayerBuilder:()=>TD,parseQueryString:()=>ID});var j4={};j4.d=(n,e)=>{for(var t in e)j4.o(e,t)&&!j4.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})};j4.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var D1=globalThis.pdfjsViewer={};j4.d(D1,{AnnotationLayerBuilder:()=>D6,DownloadManager:()=>$5,EventBus:()=>N6,FindState:()=>St,GenericL10n:()=>yn,LinkTarget:()=>r3,PDFFindController:()=>j5,PDFHistory:()=>tl,PDFLinkService:()=>A6,PDFPageView:()=>R6,PDFScriptingManager:()=>ul,PDFSinglePageViewer:()=>hl,PDFViewer:()=>F6,ProgressBar:()=>B5,RenderingStates:()=>k1,ScrollMode:()=>u1,SimpleLinkService:()=>G4,SpreadMode:()=>ue,StructTreeLayerBuilder:()=>k6,TextLayerBuilder:()=>O6,XfaLayerBuilder:()=>P6,parseQueryString:()=>H6});var TA="auto",sg=1,zm=1.1,IA=.1,kA=10,T5=0,OA=1.25,xm=40,Sm=5,k1={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},Cn={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};var y2={DISABLE:0,ENABLE:1,ENABLE_PERMISSIONS:2},u1={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3},ue={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};function og(n,e,t=!1){let i=n.offsetParent;if(!i){console.error("offsetParent is not set -- cannot scroll");return}let s=n.offsetTop+n.clientTop,o=n.offsetLeft+n.clientLeft;for(;i.clientHeight===i.scrollHeight&&i.clientWidth===i.scrollWidth||t&&(i.classList.contains("markedContent")||getComputedStyle(i).overflow==="hidden");)if(s+=i.offsetTop,o+=i.offsetLeft,i=i.offsetParent,!i)return;e&&(e.top!==void 0&&(s+=e.top),e.left!==void 0&&(o+=e.left,i.scrollLeft=o)),i.scrollTop=s}function PA(n,e,t=void 0){let i=function(r){o||(o=window.requestAnimationFrame(function(){o=null;let a=n.scrollLeft,l=s.lastX;a!==l&&(s.right=a>l),s.lastX=a;let u=n.scrollTop,f=s.lastY;u!==f&&(s.down=u>f),s.lastY=u,e(s)}))},s={right:!0,down:!0,lastX:n.scrollLeft,lastY:n.scrollTop,_eventHandler:i},o=null;return n.addEventListener("scroll",i,{useCapture:!0,signal:t}),t?.addEventListener("abort",()=>window.cancelAnimationFrame(o),{once:!0}),s}function H6(n){let e=new Map;for(let[t,i]of new URLSearchParams(n))e.set(t.toLowerCase(),i);return e}var Am=/[\x00-\x1F]/g;function U4(n,e=!1){return Am.test(n)?e?n.replaceAll(Am,t=>t==="\0"?"":" "):n.replaceAll("\0",""):n}function $4(n,e,t=0){let i=t,s=n.length-1;if(s<0||!e(n[s]))return n.length;if(e(n[i]))return i;for(;i<s;){let o=i+s>>1,r=n[o];e(r)?s=o:i=o+1}return i}function Em(n){if(Math.floor(n)===n)return[n,1];let e=1/n,t=8;if(e>t)return[1,t];if(Math.floor(e)===e)return[1,e];let i=n>1?e:n,s=0,o=1,r=1,c=1;for(;;){let l=s+r,u=o+c;if(u>t)break;i<=l/u?(r=l,c=u):(s=l,o=u)}let a;return i-s/o<r/c-i?a=i===n?[s,o]:[o,s]:a=i===n?[r,c]:[c,r],a}function y6(n,e){return n-n%e}function RA(n,e,t){if(n<2)return n;let i=e[n].div,s=i.offsetTop+i.clientTop;s>=t&&(i=e[n-1].div,s=i.offsetTop+i.clientTop);for(let o=n-2;o>=0&&(i=e[o].div,!(i.offsetTop+i.clientTop+i.clientHeight<=s));--o)n=o;return n}function FA({scrollEl:n,views:e,sortByVisibility:t=!1,horizontal:i=!1,rtl:s=!1}){let o=n.scrollTop,r=o+n.clientHeight,c=n.scrollLeft,a=c+n.clientWidth;function l(C){let M=C.div;return M.offsetTop+M.clientTop+M.clientHeight>o}function u(C){let M=C.div,b=M.offsetLeft+M.clientLeft,_=b+M.clientWidth;return s?b<a:_>c}let f=[],d=new Set,h=e.length,p=$4(e,i?u:l);p>0&&p<h&&!i&&(p=RA(p,e,o));let m=i?a:-1;for(let C=p;C<h;C++){let M=e[C],b=M.div,_=b.offsetLeft+b.clientLeft,L=b.offsetTop+b.clientTop,x=b.clientWidth,A=b.clientHeight,y=_+x,w=L+A;if(m===-1)w>=r&&(m=w);else if((i?_:L)>m)break;if(w<=o||L>=r||y<=c||_>=a)continue;let T=Math.max(0,o-L)+Math.max(0,w-r),f1=Math.max(0,c-_)+Math.max(0,y-a),l1=(A-T)/A,s1=(x-f1)/x,b1=l1*s1*100|0;f.push({id:M.id,x:_,y:L,view:M,percent:b1,widthPercent:s1*100|0}),d.add(M.id)}let v=f[0],g=f.at(-1);return t&&f.sort(function(C,M){let b=C.percent-M.percent;return Math.abs(b)>.001?-b:C.id-M.id}),{first:v,last:g,views:f,ids:d}}function rg(n){return Number.isInteger(n)&&n%90===0}function HA(n){return Number.isInteger(n)&&Object.values(u1).includes(n)&&n!==u1.UNKNOWN}function VA(n){return Number.isInteger(n)&&Object.values(ue).includes(n)&&n!==ue.UNKNOWN}function Dm(n){return n.width<=n.height}var QB=new Promise(function(n){window.requestAnimationFrame(n)}),BA=document.documentElement.style;function jA(n,e,t){return Math.min(Math.max(n,e),t)}var B5=class{#e=null;#t=null;#n=0;#i=null;#s=!0;constructor(e){this.#e=e.classList,this.#i=e.style}get percent(){return this.#n}set percent(e){if(this.#n=jA(e,0,100),isNaN(e)){this.#e.add("indeterminate");return}this.#e.remove("indeterminate"),this.#i.setProperty("--progressBar-percent",`${this.#n}%`)}setWidth(e){if(!e)return;let i=e.parentNode.offsetWidth-e.offsetWidth;i>0&&this.#i.setProperty("--progressBar-end-offset",`${i}px`)}setDisableAutoFetch(e=5e3){this.#n===100||isNaN(this.#n)||(this.#t&&clearTimeout(this.#t),this.show(),this.#t=setTimeout(()=>{this.#t=null,this.hide()},e))}hide(){this.#s&&(this.#s=!1,this.#e.add("hidden"))}show(){this.#s||(this.#s=!0,this.#e.remove("hidden"))}};function UA(n){let e=u1.VERTICAL,t=ue.NONE;switch(n){case"SinglePage":e=u1.PAGE;break;case"OneColumn":break;case"TwoPageLeft":e=u1.PAGE;case"TwoColumnLeft":t=ue.ODD;break;case"TwoPageRight":e=u1.PAGE;case"TwoColumnRight":t=ue.EVEN;break}return{scrollMode:e,spreadMode:t}}var _6=function(){let n=document.createElement("div");return n.style.width="round(down, calc(1.6666666666666665 * 792px), 1px)",n.style.width==="calc(1320px)"?Math.fround:e=>e}(),n2={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};function $A(n){return n<11904}function GA(n){return(n&65408)===0}function WA(n){return n>=97&&n<=122||n>=65&&n<=90}function qA(n){return n>=48&&n<=57}function ZA(n){return n===32||n===9||n===13||n===10}function YA(n){return n>=13312&&n<=40959||n>=63744&&n<=64255}function JA(n){return n>=12448&&n<=12543}function KA(n){return n>=12352&&n<=12447}function QA(n){return n>=65376&&n<=65439}function XA(n){return(n&65408)===3584}function L6(n){return $A(n)?GA(n)?ZA(n)?n2.SPACE:WA(n)||qA(n)||n===95?n2.ALPHA_LETTER:n2.PUNCT:XA(n)?n2.THAI_LETTER:n===160?n2.SPACE:n2.ALPHA_LETTER:YA(n)?n2.HAN_LETTER:JA(n)?n2.KATAKANA_LETTER:KA(n)?n2.HIRAGANA_LETTER:QA(n)?n2.HALFWIDTH_KATAKANA_LETTER:n2.ALPHA_LETTER}var Nm;function eE(){return Nm||="\xA0\xA8\xAA\xAF\xB2-\xB5\xB8-\xBA\xBC-\xBE\u0132-\u0133\u013F-\u0140\u0149\u017F\u01C4-\u01CC\u01F1-\u01F3\u02B0-\u02B8\u02D8-\u02DD\u02E0-\u02E4\u0374\u037A\u037E\u0384-\u0385\u0387\u03D0-\u03D6\u03F0-\u03F2\u03F4-\u03F5\u03F9\u0587\u0675-\u0678\u0958-\u095F\u09DC-\u09DD\u09DF\u0A33\u0A36\u0A59-\u0A5B\u0A5E\u0B5C-\u0B5D\u0E33\u0EB3\u0EDC-\u0EDD\u0F0C\u0F43\u0F4D\u0F52\u0F57\u0F5C\u0F69\u10FC\u1D2C-\u1D2E\u1D30-\u1D3A\u1D3C-\u1D4D\u1D4F-\u1D6A\u1D78\u1D9B-\u1DBF\u1E9A-\u1E9B\u1F71\u1F73\u1F75\u1F77\u1F79\u1F7B\u1F7D\u1FBB\u1FBD-\u1FC1\u1FC9\u1FCB\u1FCD-\u1FCF\u1FD3\u1FDB\u1FDD-\u1FDF\u1FE3\u1FEB\u1FED-\u1FEF\u1FF9\u1FFB\u1FFD-\u1FFE\u2000-\u200A\u2011\u2017\u2024-\u2026\u202F\u2033-\u2034\u2036-\u2037\u203C\u203E\u2047-\u2049\u2057\u205F\u2070-\u2071\u2074-\u208E\u2090-\u209C\u20A8\u2100-\u2103\u2105-\u2107\u2109-\u2113\u2115-\u2116\u2119-\u211D\u2120-\u2122\u2124\u2126\u2128\u212A-\u212D\u212F-\u2131\u2133-\u2139\u213B-\u2140\u2145-\u2149\u2150-\u217F\u2189\u222C-\u222D\u222F-\u2230\u2329-\u232A\u2460-\u24EA\u2A0C\u2A74-\u2A76\u2ADC\u2C7C-\u2C7D\u2D6F\u2E9F\u2EF3\u2F00-\u2FD5\u3000\u3036\u3038-\u303A\u309B-\u309C\u309F\u30FF\u3131-\u318E\u3192-\u319F\u3200-\u321E\u3220-\u3247\u3250-\u327E\u3280-\u33FF\uA69C-\uA69D\uA770\uA7F2-\uA7F4\uA7F8-\uA7F9\uAB5C-\uAB5F\uAB69\uF900-\uFA0D\uFA10\uFA12\uFA15-\uFA1E\uFA20\uFA22\uFA25-\uFA26\uFA2A-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFC\uFE10-\uFE19\uFE30-\uFE44\uFE47-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFE70-\uFE72\uFE74\uFE76-\uFEFC\uFF01-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\uFFE0-\uFFE6",Nm}var St={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3},tE=250,nE=-50,iE=-400,Tm={"\u2010":"-","\u2018":"'","\u2019":"'","\u201A":"'","\u201B":"'","\u201C":'"',"\u201D":'"',"\u201E":'"',"\u201F":'"',"\xBC":"1/4","\xBD":"1/2","\xBE":"3/4"},Im=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),km,sE=new RegExp("\\p{M}+","gu"),oE=new RegExp("([.*+?^${}()|[\\]\\\\])|(\\p{P})|(\\s+)|(\\p{M})|(\\p{L})","gu"),rE=new RegExp("([^\\p{M}])\\p{M}*$","u"),cE=new RegExp("^\\p{M}*([^\\p{M}])","u"),aE=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,Om=new Map,lE="[\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f]",Pm=new Map,I5=null,k5=null;function O5(n){let e=[],t;for(;(t=aE.exec(n))!==null;){let{index:h}=t;for(let p of t[0]){let m=Om.get(p);m||(m=p.normalize("NFD").length,Om.set(p,m)),e.push([m,h++])}}let i;if(e.length===0&&I5)i=I5;else if(e.length>0&&k5)i=k5;else{let h=Object.keys(Tm).join(""),p=eE(),C=`([${h}])|([${p}])|((?:\u3099|\u309A)\\n)|(\\p{M}+(?:-\\n)?)|(\\p{Ll}-\\n\\p{Lu})|(\\S-\\n)|((?:\\p{Ideographic}|[\u3040-\u30FF])\\n)|(\\n)`;e.length===0?i=I5=new RegExp(C+"|(\\u0000)","gum"):i=k5=new RegExp(C+`|(${lE})`,"gum")}let s=[];for(;(t=sE.exec(n))!==null;)s.push([t[0].length,t.index]);let o=n.normalize("NFD"),r=[[0,0]],c=0,a=0,l=0,u=0,f=0,d=!1;return o=o.replace(i,(h,p,m,v,g,C,M,b,_,L,x)=>{if(x-=u,p){let A=Tm[p],y=A.length;for(let w=1;w<y;w++)r.push([x-l+w,l-w]);return l-=y-1,A}if(m){let A=Pm.get(m);A||(A=m.normalize("NFKC"),Pm.set(m,A));let y=A.length;for(let w=1;w<y;w++)r.push([x-l+w,l-w]);return l-=y-1,A}if(v)return d=!0,x+f===s[c]?.[1]?++c:(r.push([x-1-l+1,l-1]),l-=1,u+=1),r.push([x-l+1,l]),u+=1,f+=1,v.charAt(0);if(g){let A=g.endsWith(`
`),y=A?g.length-2:g.length;d=!0;let w=y;x+f===s[c]?.[1]&&(w-=s[c][0],++c);for(let T=1;T<=w;T++)r.push([x-1-l+T,l-T]);return l-=w,u+=w,A?(x+=y-1,r.push([x-l+1,1+l]),l+=1,u+=1,f+=1,g.slice(0,y)):g}if(C)return r.push([x-l+3,1+l]),l+=1,u+=1,f+=1,C.replace(`
`,"");if(M){let A=M.length-2;return r.push([x-l+A,1+l]),l+=1,u+=1,f+=1,M.slice(0,-2)}if(b){let A=b.length-1;return r.push([x-l+A,l]),u+=1,f+=1,b.slice(0,-1)}if(_)return r.push([x-l+1,l-1]),l-=1,u+=1,f+=1," ";if(x+f===e[a]?.[1]){let A=e[a][0]-1;++a;for(let y=1;y<=A;y++)r.push([x-(l-y),l-y]);l-=A,u+=A}return L}),r.push([o.length,l]),[o,r,d]}function uE(n,e,t){if(!n)return[e,t];let i=e,s=e+t-1,o=$4(n,u=>u[0]>=i);n[o][0]>i&&--o;let r=$4(n,u=>u[0]>=s,o);n[r][0]>s&&--r;let c=i+n[o][1],l=s+n[r][1]+1-c;return[c,l]}var j5=class{#e=null;#t=!0;#n=0;constructor({linkService:e,eventBus:t,updateMatchesCountOnProgress:i=!0}){this._linkService=e,this._eventBus=t,this.#t=i,this.onIsPageVisible=null,this.#s(),t._on("find",this.#i.bind(this)),t._on("findbarclose",this.#C.bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this.#e}setDocument(e){this._pdfDocument&&this.#s(),e&&(this._pdfDocument=e,this._firstPageCapability.resolve())}#i(e){if(!e)return;let t=this._pdfDocument,{type:i}=e;(this.#e===null||this.#a(e))&&(this._dirtyMatch=!0),this.#e=e,i!=="highlightallchange"&&this.#y(St.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||t&&this._pdfDocument!==t)return;this.#f();let s=!this._highlightMatches,o=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),i?this._dirtyMatch?this.#p():i==="again"?(this.#p(),s&&this.#e.highlightAll&&this.#d()):i==="highlightallchange"?(o?this.#p():this._highlightMatches=!0,this.#d()):this.#p():this._findTimeout=setTimeout(()=>{this.#p(),this._findTimeout=null},tE)})}scrollMatchIntoView({element:e=null,selectedLeft:t=0,pageIndex:i=-1,matchIndex:s=-1}){if(!this._scrollMatches||!e)return;if(s===-1||s!==this._selected.matchIdx)return;if(i===-1||i!==this._selected.pageIdx)return;this._scrollMatches=!1;let o={top:nE,left:t+iE};og(e,o,!0)}#s(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this.#n=0,this.#e=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=Promise.withResolvers()}get#o(){let{query:e}=this.#e;return typeof e=="string"?(e!==this._rawQuery&&(this._rawQuery=e,[this._normalizedQuery]=O5(e)),this._normalizedQuery):(e||[]).filter(t=>!!t).map(t=>O5(t)[0])}#a(e){let t=e.query,i=this.#e.query,s=typeof t;if(s!==typeof i)return!0;if(s==="string"){if(t!==i)return!0}else if(JSON.stringify(t)!==JSON.stringify(i))return!0;switch(e.type){case"again":let r=this._selected.pageIdx+1,c=this._linkService;return r>=1&&r<=c.pagesCount&&r!==c.page&&!(this.onIsPageVisible?.(r)??!0);case"highlightallchange":return!1}return!0}#l(e,t,i){let s=e.slice(0,t).match(rE);if(s){let o=e.charCodeAt(t),r=s[1].charCodeAt(0);if(L6(o)===L6(r))return!1}if(s=e.slice(t+i).match(cE),s){let o=e.charCodeAt(t+i-1),r=s[1].charCodeAt(0);if(L6(o)===L6(r))return!1}return!0}#u(e,t){let{matchDiacritics:i}=this.#e,s=!1;e=e.replaceAll(oE,(r,c,a,l,u,f)=>c?`[ ]*\\${c}[ ]*`:a?`[ ]*${a}[ ]*`:l?"[ ]+":i?u||f:u?Im.has(u.charCodeAt(0))?u:"":t?(s=!0,`${f}\\p{M}*`):f);let o="[ ]*";return e.endsWith(o)&&(e=e.slice(0,e.length-o.length)),i&&t&&(km||=String.fromCharCode(...Im),s=!0,e=`${e}(?=[${km}]|[^\\p{M}]|$)`),[s,e]}#c(e){let t=this.#o;if(t.length===0)return;let i=this._pageContents[e],s=this.match(t,i,e),o=this._pageMatches[e]=[],r=this._pageMatchesLength[e]=[],c=this._pageDiffs[e];s?.forEach(({index:l,length:u})=>{let[f,d]=uE(c,l,u);d&&(o.push(f),r.push(d))}),this.#e.highlightAll&&this.#r(e),this._resumePageIdx===e&&(this._resumePageIdx=null,this.#m());let a=o.length;this._matchesCountTotal+=a,this.#t?a>0&&this.#L():++this.#n===this._linkService.pagesCount&&this.#L()}match(e,t,i){let s=this._hasDiacritics[i],o=!1;if(typeof e=="string"?[o,e]=this.#u(e,s):e=e.sort().reverse().map(f=>{let[d,h]=this.#u(f,s);return o||=d,`(${h})`}).join("|"),!e)return;let{caseSensitive:r,entireWord:c}=this.#e,a=`g${o?"u":""}${r?"":"i"}`;e=new RegExp(e,a);let l=[],u;for(;(u=e.exec(t))!==null;)c&&!this.#l(t,u.index,u[0].length)||l.push({index:u.index,length:u[0].length});return l}#f(){if(this._extractTextPromises.length>0)return;let e=Promise.resolve(),t={disableNormalization:!0};for(let i=0,s=this._linkService.pagesCount;i<s;i++){let{promise:o,resolve:r}=Promise.withResolvers();this._extractTextPromises[i]=o,e=e.then(()=>this._pdfDocument.getPage(i+1).then(c=>c.getTextContent(t)).then(c=>{let a=[];for(let l of c.items)a.push(l.str),l.hasEOL&&a.push(`
`);[this._pageContents[i],this._pageDiffs[i],this._hasDiacritics[i]]=O5(a.join("")),r()},c=>{console.error(`Unable to get text content for page ${i+1}`,c),this._pageContents[i]="",this._pageDiffs[i]=null,this._hasDiacritics[i]=!1,r()}))}}#r(e){this._scrollMatches&&this._selected.pageIdx===e&&(this._linkService.page=e+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:e})}#d(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}#p(){let e=this.#e.findPrevious,t=this._linkService.page-1,i=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=t,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this.#n=0,this._matchesCountTotal=0,this.#d();for(let r=0;r<i;r++)this._pendingFindMatches.has(r)||(this._pendingFindMatches.add(r),this._extractTextPromises[r].then(()=>{this._pendingFindMatches.delete(r),this.#c(r)}))}if(this.#o.length===0){this.#y(St.FOUND);return}if(this._resumePageIdx)return;let o=this._offset;if(this._pagesToSearch=i,o.matchIdx!==null){let r=this._pageMatches[o.pageIdx].length;if(!e&&o.matchIdx+1<r||e&&o.matchIdx>0){o.matchIdx=e?o.matchIdx-1:o.matchIdx+1,this.#g(!0);return}this.#v(e)}this.#m()}#h(e){let t=this._offset,i=e.length,s=this.#e.findPrevious;return i?(t.matchIdx=s?i-1:0,this.#g(!0),!0):(this.#v(s),t.wrapped&&(t.matchIdx=null,this._pagesToSearch<0)?(this.#g(!1),!0):!1)}#m(){this._resumePageIdx!==null&&console.error("There can only be one pending page.");let e=null;do{let t=this._offset.pageIdx;if(e=this._pageMatches[t],!e){this._resumePageIdx=t;break}}while(!this.#h(e))}#v(e){let t=this._offset,i=this._linkService.pagesCount;t.pageIdx=e?t.pageIdx-1:t.pageIdx+1,t.matchIdx=null,this._pagesToSearch--,(t.pageIdx>=i||t.pageIdx<0)&&(t.pageIdx=e?i-1:0,t.wrapped=!0)}#g(e=!1){let t=St.NOT_FOUND,i=this._offset.wrapped;if(this._offset.wrapped=!1,e){let s=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,t=i?St.WRAPPED:St.FOUND,s!==-1&&s!==this._selected.pageIdx&&this.#r(s)}this.#y(t,this.#e.findPrevious),this._selected.pageIdx!==-1&&(this._scrollMatches=!0,this.#r(this._selected.pageIdx))}#C(e){let t=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||t&&this._pdfDocument!==t||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),this.#y(St.FOUND),this._highlightMatches=!1,this.#d())})}#M(){let{pageIdx:e,matchIdx:t}=this._selected,i=0,s=this._matchesCountTotal;if(t!==-1){for(let o=0;o<e;o++)i+=this._pageMatches[o]?.length||0;i+=t+1}return(i<1||i>s)&&(i=s=0),{current:i,total:s}}#L(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this.#M()})}#y(e,t=!1){!this.#t&&(this.#n!==this._linkService.pagesCount||e===St.PENDING)||this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:e,previous:t,entireWord:this.#e?.entireWord??null,matchesCount:this.#M(),rawQuery:this.#e?.query??null})}},fE="noopener noreferrer nofollow",r3={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4},A6=class n{externalLinkEnabled=!0;constructor({eventBus:e,externalLinkTarget:t=null,externalLinkRel:i=null,ignoreDestinationZoom:s=!1}={}){this.eventBus=e,this.externalLinkTarget=t,this.externalLinkRel=i,this._ignoreDestinationZoom=s,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(e,t=null){this.baseUrl=t,this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setHistory(e){this.pdfHistory=e}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfDocument?this.pdfViewer.currentPageNumber:1}set page(e){this.pdfDocument&&(this.pdfViewer.currentPageNumber=e)}get rotation(){return this.pdfDocument?this.pdfViewer.pagesRotation:0}set rotation(e){this.pdfDocument&&(this.pdfViewer.pagesRotation=e)}get isInPresentationMode(){return this.pdfDocument?this.pdfViewer.isInPresentationMode:!1}goToDestination(e){return S(this,null,function*(){if(!this.pdfDocument)return;let t,i,s;if(typeof e=="string"?(t=e,i=yield this.pdfDocument.getDestination(e)):(t=null,i=yield e),!Array.isArray(i)){console.error(`goToDestination: "${i}" is not a valid destination array, for dest="${e}".`);return}let[o]=i;if(o&&typeof o=="object"){if(s=this.pdfDocument.cachedPageNumber(o),!s)try{s=(yield this.pdfDocument.getPageIndex(o))+1}catch{console.error(`goToDestination: "${o}" is not a valid page reference, for dest="${e}".`);return}}else Number.isInteger(o)&&(s=o+1);if(!s||s<1||s>this.pagesCount){console.error(`goToDestination: "${s}" is not a valid page number, for dest="${e}".`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:t,explicitDest:i,pageNumber:s})),this.pdfViewer.scrollPageIntoView({pageNumber:s,destArray:i,ignoreDestinationZoom:this._ignoreDestinationZoom})})}goToPage(e){if(!this.pdfDocument)return;let t=typeof e=="string"&&this.pdfViewer.pageLabelToPageNumber(e)||e|0;if(!(Number.isInteger(t)&&t>0&&t<=this.pagesCount)){console.error(`PDFLinkService.goToPage: "${e}" is not a valid page.`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(t)),this.pdfViewer.scrollPageIntoView({pageNumber:t})}addLinkAttributes(e,t,i=!1){if(!t||typeof t!="string")throw new Error('A valid "url" parameter must provided.');let s=i?r3.BLANK:this.externalLinkTarget,o=this.externalLinkRel;this.externalLinkEnabled?e.href=e.title=t:(e.href="",e.title=`Disabled: ${t}`,e.onclick=()=>!1);let r="";switch(s){case r3.NONE:break;case r3.SELF:r="_self";break;case r3.BLANK:r="_blank";break;case r3.PARENT:r="_parent";break;case r3.TOP:r="_top";break}e.target=r,e.rel=typeof o=="string"?o:fE}getDestinationHash(e){if(typeof e=="string"){if(e.length>0)return this.getAnchorUrl("#"+escape(e))}else if(Array.isArray(e)){let t=JSON.stringify(e);if(t.length>0)return this.getAnchorUrl("#"+escape(t))}return this.getAnchorUrl("")}getAnchorUrl(e){return this.baseUrl?this.baseUrl+e:e}setHash(e){if(!this.pdfDocument)return;let t,i;if(e.includes("=")){let s=H6(e);if(s.has("search")){let o=s.get("search").replaceAll('"',""),r=s.get("phrase")==="true";this.eventBus.dispatch("findfromurlhash",{source:this,query:r?o:o.match(/\S+/g)})}if(s.has("page")&&(t=s.get("page")|0||1),s.has("zoom")){let o=s.get("zoom").split(","),r=o[0],c=parseFloat(r);r.includes("Fit")?r==="Fit"||r==="FitB"?i=[null,{name:r}]:r==="FitH"||r==="FitBH"||r==="FitV"||r==="FitBV"?i=[null,{name:r},o.length>1?o[1]|0:null]:r==="FitR"?o.length!==5?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):i=[null,{name:r},o[1]|0,o[2]|0,o[3]|0,o[4]|0]:console.error(`PDFLinkService.setHash: "${r}" is not a valid zoom value.`):i=[null,{name:"XYZ"},o.length>1?o[1]|0:null,o.length>2?o[2]|0:null,c?c/100:r]}i?this.pdfViewer.scrollPageIntoView({pageNumber:t||this.page,destArray:i,allowNegativeOffset:!0}):t&&(this.page=t),s.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:s.get("pagemode")}),s.has("nameddest")&&this.goToDestination(s.get("nameddest"));return}i=unescape(e);try{i=JSON.parse(i),Array.isArray(i)||(i=i.toString())}catch{}if(typeof i=="string"||n.#e(i)){this.goToDestination(i);return}console.error(`PDFLinkService.setHash: "${unescape(e)}" is not a valid destination.`)}executeNamedAction(e){if(this.pdfDocument){switch(e){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1;break;default:break}this.eventBus.dispatch("namedaction",{source:this,action:e})}}executeSetOCGState(e){return S(this,null,function*(){if(!this.pdfDocument)return;let t=this.pdfDocument,i=yield this.pdfViewer.optionalContentConfigPromise;t===this.pdfDocument&&(i.setOCGState(e),this.pdfViewer.optionalContentConfigPromise=Promise.resolve(i))})}static#e(e){if(!Array.isArray(e)||e.length<2)return!1;let[t,i,...s]=e;if(!(typeof t=="object"&&Number.isInteger(t?.num)&&Number.isInteger(t?.gen))&&!Number.isInteger(t)||!(typeof i=="object"&&typeof i?.name=="string"))return!1;let o=s.length,r=!0;switch(i.name){case"XYZ":if(o<2||o>3)return!1;break;case"Fit":case"FitB":return o===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(o>1)return!1;break;case"FitR":if(o!==4)return!1;r=!1;break;default:return!1}for(let c of s)if(!(typeof c=="number"||r&&c===null))return!1;return!0}},G4=class extends A6{setDocument(e,t=null){}},{AbortException:dE,AnnotationEditorLayer:hE,AnnotationEditorParamsType:XB,AnnotationEditorType:De,AnnotationEditorUIManager:pE,AnnotationLayer:mE,AnnotationMode:Y2,build:ej,ColorPicker:tj,createValidAbsoluteUrl:gE,DOMSVGFactory:nj,DrawLayer:vE,FeatureTest:ij,fetchData:Rm,getDocument:sj,getFilenameFromUrl:oj,getPdfFilenameFromUrl:CE,getXfaPageViewport:rj,GlobalWorkerOptions:cj,ImageKind:aj,InvalidPDFException:lj,isDataScheme:uj,isPdfFile:bE,MissingPDFException:fj,noContextMenu:dj,normalizeUnicode:ME,OPS:hj,OutputScale:yE,PasswordResponses:pj,PDFDataRangeTransport:mj,PDFDateString:gj,PDFWorker:vj,PermissionFlag:w6,PixelsPerInch:Z2,RenderingCancelledException:U5,setLayerDimensions:_E,shadow:E6,TextLayer:LE,UnexpectedResponseException:Cj,Util:bj,VerbosityLevel:Mj,version:Fm,XfaLayer:P5}=globalThis.pdfjsLib,D6=class{#e=null;#t=null;constructor({pdfPage:e,linkService:t,downloadManager:i,annotationStorage:s=null,imageResourcesPath:o="",renderForms:r=!0,enableScripting:c=!1,hasJSActionsPromise:a=null,fieldObjectsPromise:l=null,annotationCanvasMap:u=null,accessibilityManager:f=null,annotationEditorUIManager:d=null,onAppend:h=null}){this.pdfPage=e,this.linkService=t,this.downloadManager=i,this.imageResourcesPath=o,this.renderForms=r,this.annotationStorage=s,this.enableScripting=c,this._hasJSActionsPromise=a||Promise.resolve(!1),this._fieldObjectsPromise=l||Promise.resolve(null),this._annotationCanvasMap=u,this._accessibilityManager=f,this._annotationEditorUIManager=d,this.#e=h,this.annotationLayer=null,this.div=null,this._cancelled=!1,this._eventBus=t.eventBus}render(e,t,i="display"){return S(this,null,function*(){if(this.div){if(this._cancelled||!this.annotationLayer)return;this.annotationLayer.update({viewport:e.clone({dontFlip:!0})});return}let[s,o,r]=yield Promise.all([this.pdfPage.getAnnotations({intent:i}),this._hasJSActionsPromise,this._fieldObjectsPromise]);if(this._cancelled)return;let c=this.div=document.createElement("div");if(c.className="annotationLayer",this.#e?.(c),s.length===0){this.hide();return}this.annotationLayer=new mE({div:c,accessibilityManager:this._accessibilityManager,annotationCanvasMap:this._annotationCanvasMap,annotationEditorUIManager:this._annotationEditorUIManager,page:this.pdfPage,viewport:e.clone({dontFlip:!0}),structTreeLayer:t?.structTreeLayer||null}),yield this.annotationLayer.render({annotations:s,imageResourcesPath:this.imageResourcesPath,renderForms:this.renderForms,linkService:this.linkService,downloadManager:this.downloadManager,annotationStorage:this.annotationStorage,enableScripting:this.enableScripting,hasJSActions:o,fieldObjects:r}),this.linkService.isInPresentationMode&&this.#n(Cn.FULLSCREEN),this.#t||(this.#t=new AbortController,this._eventBus?._on("presentationmodechanged",a=>{this.#n(a.state)},{signal:this.#t.signal}))})}cancel(){this._cancelled=!0,this.#t?.abort(),this.#t=null}hide(){this.div&&(this.div.hidden=!0)}hasEditableAnnotations(){return!!this.annotationLayer?.hasEditableAnnotations()}#n(e){if(!this.div)return;let t=!1;switch(e){case Cn.FULLSCREEN:t=!0;break;case Cn.NORMAL:break;default:return}for(let i of this.div.childNodes)i.hasAttribute("data-internal-link")||(i.inert=t)}};function Hm(n,e){let t=document.createElement("a");if(!t.click)throw new Error('DownloadManager: "a.click()" is not supported.');t.href=n,t.target="_parent","download"in t&&(t.download=e),(document.body||document.documentElement).append(t),t.click(),t.remove()}var $5=class{#e=new WeakMap;downloadData(e,t,i){let s=URL.createObjectURL(new Blob([e],{type:i}));Hm(s,t)}openOrDownloadData(e,t,i=null){let o=bE(t)?"application/pdf":"";return this.downloadData(e,t,o),!1}download(e,t,i){let s;if(e)s=URL.createObjectURL(new Blob([e],{type:"application/pdf"}));else{if(!gE(t,"http://example.com")){console.error(`download - not a valid URL: ${t}`);return}s=t+"#pdfjs.action=download"}Hm(s,i)}},Vm={EVENT:"event",TIMEOUT:"timeout"};function wE(i){return S(this,arguments,function*({target:n,name:e,delay:t=0}){if(typeof n!="object"||!(e&&typeof e=="string")||!(Number.isInteger(t)&&t>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");let{promise:s,resolve:o}=Promise.withResolvers(),r=new AbortController;function c(u){r.abort(),clearTimeout(l),o(u)}let a=n instanceof N6?"_on":"addEventListener";n[a](e,c.bind(null,Vm.EVENT),{signal:r.signal});let l=setTimeout(c.bind(null,Vm.TIMEOUT),t);return s})}var N6=class{#e=Object.create(null);on(e,t,i=null){this._on(e,t,{external:!0,once:i?.once,signal:i?.signal})}off(e,t,i=null){this._off(e,t)}dispatch(e,t){let i=this.#e[e];if(!i||i.length===0)return;let s;for(let{listener:o,external:r,once:c}of i.slice(0)){if(c&&this._off(e,o),r){(s||=[]).push(o);continue}o(t)}if(s){for(let o of s)o(t);s=null}}_on(e,t,i=null){let s=null;if(i?.signal instanceof AbortSignal){let{signal:r}=i;if(r.aborted){console.error("Cannot use an `aborted` signal.");return}let c=()=>this._off(e,t);s=()=>r.removeEventListener("abort",c),r.addEventListener("abort",c)}(this.#e[e]||=[]).push({listener:t,external:i?.external===!0,once:i?.once===!0,rmAbort:s})}_off(e,t,i=null){let s=this.#e[e];if(s)for(let o=0,r=s.length;o<r;o++){let c=s[o];if(c.listener===t){c.rmAbort?.(),s.splice(o,1);return}}}};var bn=class{constructor(e){this.value=e}valueOf(){return this.value}},O1=class extends bn{constructor(e="???"){super(e)}toString(e){return`{${this.value}}`}},i2=class extends bn{constructor(e,t={}){super(e),this.opts=t}toString(e){try{return e.memoizeIntlObject(Intl.NumberFormat,this.opts).format(this.value)}catch(t){return e.reportError(t),this.value.toString(10)}}},a3=class extends bn{constructor(e,t={}){super(e),this.opts=t}toString(e){try{return e.memoizeIntlObject(Intl.DateTimeFormat,this.opts).format(this.value)}catch(t){return e.reportError(t),new Date(this.value).toISOString()}}},Bm=100,zE="\u2068",xE="\u2069";function SE(n,e,t){if(t===e||t instanceof i2&&e instanceof i2&&t.value===e.value)return!0;if(e instanceof i2&&typeof t=="string"){let i=n.memoizeIntlObject(Intl.PluralRules,e.opts).select(e.value);if(t===i)return!0}return!1}function jm(n,e,t){return e[t]?Mn(n,e[t].value):(n.reportError(new RangeError("No default")),new O1)}function G5(n,e){let t=[],i=Object.create(null);for(let s of e)s.type==="narg"?i[s.name]=W4(n,s.value):t.push(W4(n,s));return{positional:t,named:i}}function W4(n,e){switch(e.type){case"str":return e.value;case"num":return new i2(e.value,{minimumFractionDigits:e.precision});case"var":return AE(n,e);case"mesg":return EE(n,e);case"term":return DE(n,e);case"func":return NE(n,e);case"select":return TE(n,e);default:return new O1}}function AE(n,{name:e}){let t;if(n.params)if(Object.prototype.hasOwnProperty.call(n.params,e))t=n.params[e];else return new O1(`$${e}`);else if(n.args&&Object.prototype.hasOwnProperty.call(n.args,e))t=n.args[e];else return n.reportError(new ReferenceError(`Unknown variable: $${e}`)),new O1(`$${e}`);if(t instanceof bn)return t;switch(typeof t){case"string":return t;case"number":return new i2(t);case"object":if(t instanceof Date)return new a3(t.getTime());default:return n.reportError(new TypeError(`Variable type not supported: $${e}, ${typeof t}`)),new O1(`$${e}`)}}function EE(n,{name:e,attr:t}){let i=n.bundle._messages.get(e);if(!i)return n.reportError(new ReferenceError(`Unknown message: ${e}`)),new O1(e);if(t){let s=i.attributes[t];return s?Mn(n,s):(n.reportError(new ReferenceError(`Unknown attribute: ${t}`)),new O1(`${e}.${t}`))}return i.value?Mn(n,i.value):(n.reportError(new ReferenceError(`No value: ${e}`)),new O1(e))}function DE(n,{name:e,attr:t,args:i}){let s=`-${e}`,o=n.bundle._terms.get(s);if(!o)return n.reportError(new ReferenceError(`Unknown term: ${s}`)),new O1(s);if(t){let c=o.attributes[t];if(c){n.params=G5(n,i).named;let a=Mn(n,c);return n.params=null,a}return n.reportError(new ReferenceError(`Unknown attribute: ${t}`)),new O1(`${s}.${t}`)}n.params=G5(n,i).named;let r=Mn(n,o.value);return n.params=null,r}function NE(n,{name:e,args:t}){let i=n.bundle._functions[e];if(!i)return n.reportError(new ReferenceError(`Unknown function: ${e}()`)),new O1(`${e}()`);if(typeof i!="function")return n.reportError(new TypeError(`Function ${e}() is not callable`)),new O1(`${e}()`);try{let s=G5(n,t);return i(s.positional,s.named)}catch(s){return n.reportError(s),new O1(`${e}()`)}}function TE(n,{selector:e,variants:t,star:i}){let s=W4(n,e);if(s instanceof O1)return jm(n,t,i);for(let o of t){let r=W4(n,o.key);if(SE(n,s,r))return Mn(n,o.value)}return jm(n,t,i)}function cg(n,e){if(n.dirty.has(e))return n.reportError(new RangeError("Cyclic reference")),new O1;n.dirty.add(e);let t=[],i=n.bundle._useIsolating&&e.length>1;for(let s of e){if(typeof s=="string"){t.push(n.bundle._transform(s));continue}if(n.placeables++,n.placeables>Bm)throw n.dirty.delete(e),new RangeError(`Too many placeables expanded: ${n.placeables}, max allowed is ${Bm}`);i&&t.push(zE),t.push(W4(n,s).toString(n)),i&&t.push(xE)}return n.dirty.delete(e),t.join("")}function Mn(n,e){return typeof e=="string"?n.bundle._transform(e):cg(n,e)}var W5=class{constructor(e,t,i){this.dirty=new WeakSet,this.params=null,this.placeables=0,this.bundle=e,this.errors=t,this.args=i}reportError(e){if(!this.errors||!(e instanceof Error))throw e;this.errors.push(e)}memoizeIntlObject(e,t){let i=this.bundle._intls.get(e);i||(i={},this.bundle._intls.set(e,i));let s=JSON.stringify(t);return i[s]||(i[s]=new e(this.bundle.locales,t)),i[s]}};function T6(n,e){let t=Object.create(null);for(let[i,s]of Object.entries(n))e.includes(i)&&(t[i]=s.valueOf());return t}var Um=["unitDisplay","currencyDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"];function IE(n,e){let t=n[0];if(t instanceof O1)return new O1(`NUMBER(${t.valueOf()})`);if(t instanceof i2)return new i2(t.valueOf(),N(N({},t.opts),T6(e,Um)));if(t instanceof a3)return new i2(t.valueOf(),N({},T6(e,Um)));throw new TypeError("Invalid argument to NUMBER")}var $m=["dateStyle","timeStyle","fractionalSecondDigits","dayPeriod","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName"];function kE(n,e){let t=n[0];if(t instanceof O1)return new O1(`DATETIME(${t.valueOf()})`);if(t instanceof a3)return new a3(t.valueOf(),N(N({},t.opts),T6(e,$m)));if(t instanceof i2)return new a3(t.valueOf(),N({},T6(e,$m)));throw new TypeError("Invalid argument to DATETIME")}var Gm=new Map;function OE(n){let e=Array.isArray(n)?n.join(" "):n,t=Gm.get(e);return t===void 0&&(t=new Map,Gm.set(e,t)),t}var q5=class{constructor(e,{functions:t,useIsolating:i=!0,transform:s=o=>o}={}){this._terms=new Map,this._messages=new Map,this.locales=Array.isArray(e)?e:[e],this._functions=N({NUMBER:IE,DATETIME:kE},t),this._useIsolating=i,this._transform=s,this._intls=OE(e)}hasMessage(e){return this._messages.has(e)}getMessage(e){return this._messages.get(e)}addResource(e,{allowOverrides:t=!1}={}){let i=[];for(let s=0;s<e.body.length;s++){let o=e.body[s];if(o.id.startsWith("-")){if(t===!1&&this._terms.has(o.id)){i.push(new Error(`Attempt to override an existing term: "${o.id}"`));continue}this._terms.set(o.id,o)}else{if(t===!1&&this._messages.has(o.id)){i.push(new Error(`Attempt to override an existing message: "${o.id}"`));continue}this._messages.set(o.id,o)}}return i}formatPattern(e,t=null,i=null){if(typeof e=="string")return this._transform(e);let s=new W5(this,i,t);try{return cg(s,e).toString(s)}catch(o){if(s.errors&&o instanceof Error)return s.errors.push(o),new O1().toString(s);throw o}}},R5=/^(-?[a-zA-Z][\w-]*) *= */gm,Wm=/\.([a-zA-Z][\w-]*) *= */y,PE=/\*?\[/y,F5=/(-?[0-9]+(?:\.([0-9]+))?)/y,RE=/([a-zA-Z][\w-]*)/y,qm=/([$-])?([a-zA-Z][\w-]*)(?:\.([a-zA-Z][\w-]*))?/y,FE=/^[A-Z][A-Z0-9_-]*$/,z6=/([^{}\n\r]+)/y,HE=/([^\\"\n\r]*)/y,Zm=/\\([\\"])/y,Ym=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{6})/y,VE=/^\n+/,Jm=/ +$/,BE=/ *\r?\n/g,jE=/( *)$/,UE=/{\s*/y,Km=/\s*}/y,$E=/\[\s*/y,GE=/\s*] */y,WE=/\s*\(\s*/y,qE=/\s*->\s*/y,ZE=/\s*:\s*/y,YE=/\s*,?\s*/y,JE=/\s+/y,Z5=class{constructor(e){this.body=[],R5.lastIndex=0;let t=0;for(;;){let y=R5.exec(e);if(y===null)break;t=R5.lastIndex;try{this.body.push(a(y[1]))}catch(w){if(w instanceof SyntaxError)continue;throw w}}function i(y){return y.lastIndex=t,y.test(e)}function s(y,w){if(e[t]===y)return t++,!0;if(w)throw new w(`Expected ${y}`);return!1}function o(y,w){if(i(y))return t=y.lastIndex,!0;if(w)throw new w(`Expected ${y.toString()}`);return!1}function r(y){y.lastIndex=t;let w=y.exec(e);if(w===null)throw new SyntaxError(`Expected ${y.toString()}`);return t=y.lastIndex,w}function c(y){return r(y)[1]}function a(y){let w=u(),T=l();if(w===null&&Object.keys(T).length===0)throw new SyntaxError("Expected message value or attributes");return{id:y,value:w,attributes:T}}function l(){let y=Object.create(null);for(;i(Wm);){let w=c(Wm),T=u();if(T===null)throw new SyntaxError("Expected attribute value");y[w]=T}return y}function u(){let y;if(i(z6)&&(y=c(z6)),e[t]==="{"||e[t]==="}")return f(y?[y]:[],1/0);let w=L();return w?y?f([y,w],w.length):(w.value=x(w.value,VE),f([w],w.length)):y?x(y,Jm):null}function f(y=[],w){for(;;){if(i(z6)){y.push(c(z6));continue}if(e[t]==="{"){y.push(d());continue}if(e[t]==="}")throw new SyntaxError("Unbalanced closing brace");let s1=L();if(s1){y.push(s1),w=Math.min(w,s1.length);continue}break}let T=y.length-1,f1=y[T];typeof f1=="string"&&(y[T]=x(f1,Jm));let l1=[];for(let s1 of y)s1 instanceof I6&&(s1=s1.value.slice(0,s1.value.length-w)),s1&&l1.push(s1);return l1}function d(){o(UE,SyntaxError);let y=h();if(o(Km))return y;if(o(qE)){let w=v();return o(Km,SyntaxError),N({type:"select",selector:y},w)}throw new SyntaxError("Unclosed placeable")}function h(){if(e[t]==="{")return d();if(i(qm)){let[,y,w,T=null]=r(qm);if(y==="$")return{type:"var",name:w};if(o(WE)){let f1=p();if(y==="-")return{type:"term",name:w,attr:T,args:f1};if(FE.test(w))return{type:"func",name:w,args:f1};throw new SyntaxError("Function names must be all upper-case")}return y==="-"?{type:"term",name:w,attr:T,args:[]}:{type:"mesg",name:w,attr:T}}return C()}function p(){let y=[];for(;;){switch(e[t]){case")":return t++,y;case void 0:throw new SyntaxError("Unclosed argument list")}y.push(m()),o(YE)}}function m(){let y=h();return y.type!=="mesg"?y:o(ZE)?{type:"narg",name:y.name,value:C()}:y}function v(){let y=[],w=0,T;for(;i(PE);){s("*")&&(T=w);let f1=g(),l1=u();if(l1===null)throw new SyntaxError("Expected variant value");y[w++]={key:f1,value:l1}}if(w===0)return null;if(T===void 0)throw new SyntaxError("Expected default variant");return{variants:y,star:T}}function g(){o($E,SyntaxError);let y;return i(F5)?y=M():y={type:"str",value:c(RE)},o(GE,SyntaxError),y}function C(){if(i(F5))return M();if(e[t]==='"')return b();throw new SyntaxError("Invalid expression")}function M(){let[,y,w=""]=r(F5),T=w.length;return{type:"num",value:parseFloat(y),precision:T}}function b(){s('"',SyntaxError);let y="";for(;;){if(y+=c(HE),e[t]==="\\"){y+=_();continue}if(s('"'))return{type:"str",value:y};throw new SyntaxError("Unclosed string literal")}}function _(){if(i(Zm))return c(Zm);if(i(Ym)){let[,y,w]=r(Ym),T=parseInt(y||w,16);return T<=55295||57344<=T?String.fromCodePoint(T):"\uFFFD"}throw new SyntaxError("Unknown escape sequence")}function L(){let y=t;switch(o(JE),e[t]){case".":case"[":case"*":case"}":case void 0:return!1;case"{":return A(e.slice(y,t))}return e[t-1]===" "?A(e.slice(y,t)):!1}function x(y,w){return y.replace(w,"")}function A(y){let w=y.replace(BE,`
`),T=jE.exec(y)[1].length;return new I6(w,T)}}},I6=class{constructor(e,t){this.value=e,this.length=t}},KE=/<|&#?\w+;/,QE={"http://www.w3.org/1999/xhtml":["em","strong","small","s","cite","q","dfn","abbr","data","time","code","var","samp","kbd","sub","sup","i","b","u","mark","bdi","bdo","span","br","wbr"]},XE={"http://www.w3.org/1999/xhtml":{global:["title","aria-label","aria-valuetext"],a:["download"],area:["download","alt"],input:["alt","placeholder"],menuitem:["label"],menu:["label"],optgroup:["label"],option:["label"],track:["label"],img:["alt"],textarea:["placeholder"],th:["abbr"]},"http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul":{global:["accesskey","aria-label","aria-valuetext","label","title","tooltiptext"],description:["value"],key:["key","keycode"],label:["value"],textbox:["placeholder","value"]}};function eD(n,e){let{value:t}=e;if(typeof t=="string")if(n.localName==="title"&&n.namespaceURI==="http://www.w3.org/1999/xhtml")n.textContent=t;else if(!KE.test(t))n.textContent=t;else{let i=n.ownerDocument.createElementNS("http://www.w3.org/1999/xhtml","template");i.innerHTML=t,tD(i.content,n)}ag(e,n)}function tD(n,e){for(let t of n.childNodes)if(t.nodeType!==t.TEXT_NODE){if(t.hasAttribute("data-l10n-name")){let i=iD(e,t);n.replaceChild(i,t);continue}if(oD(t)){let i=sD(t);n.replaceChild(i,t);continue}console.warn(`An element of forbidden type "${t.localName}" was found in the translation. Only safe text-level elements and elements with data-l10n-name are allowed.`),n.replaceChild(Y5(t),t)}e.textContent="",e.appendChild(n)}function nD(n,e){if(!n)return!1;for(let t of n)if(t.name===e)return!0;return!1}function ag(n,e){let t=e.hasAttribute("data-l10n-attrs")?e.getAttribute("data-l10n-attrs").split(",").map(i=>i.trim()):null;for(let i of Array.from(e.attributes))Qm(i.name,e,t)&&!nD(n.attributes,i.name)&&e.removeAttribute(i.name);if(n.attributes)for(let i of Array.from(n.attributes))Qm(i.name,e,t)&&e.getAttribute(i.name)!==i.value&&e.setAttribute(i.name,i.value)}function iD(n,e){let t=e.getAttribute("data-l10n-name"),i=n.querySelector(`[data-l10n-name="${t}"]`);if(!i)return console.warn(`An element named "${t}" wasn't found in the source.`),Y5(e);if(i.localName!==e.localName)return console.warn(`An element named "${t}" was found in the translation but its type ${e.localName} didn't match the element found in the source (${i.localName}).`),Y5(e);n.removeChild(i);let s=i.cloneNode(!1);return lg(e,s)}function sD(n){let e=n.ownerDocument.createElement(n.localName);return lg(n,e)}function Y5(n){return n.ownerDocument.createTextNode(n.textContent)}function oD(n){let e=QE[n.namespaceURI];return e&&e.includes(n.localName)}function Qm(n,e,t=null){if(t&&t.includes(n))return!0;let i=XE[e.namespaceURI];if(!i)return!1;let s=n.toLowerCase(),o=e.localName;if(i.global.includes(s))return!0;if(!i[o])return!1;if(i[o].includes(s))return!0;if(e.namespaceURI==="http://www.w3.org/1999/xhtml"&&o==="input"&&s==="value"){let r=e.type.toLowerCase();if(r==="submit"||r==="button"||r==="reset")return!0}return!1}function lg(n,e){return e.textContent=n.textContent,ag(n,e),e}var J5=class extends Array{static from(e){return e instanceof this?e:new this(e)}};var K5=class extends J5{constructor(e){if(super(),Symbol.asyncIterator in Object(e))this.iterator=e[Symbol.asyncIterator]();else if(Symbol.iterator in Object(e))this.iterator=e[Symbol.iterator]();else throw new TypeError("Argument must implement the iteration protocol.")}[Symbol.asyncIterator](){let e=this,t=0;return{next(){return S(this,null,function*(){return e.length<=t&&e.push(e.iterator.next()),e[t++]})}}}touchNext(e=1){return S(this,null,function*(){let t=0;for(;t++<e;){let i=this[this.length-1];if(i&&(yield i).done)break;this.push(this.iterator.next())}return this[this.length-1]})}},Q5=class{constructor(e=[],t){this.resourceIds=e,this.generateBundles=t,this.onChange(!0)}addResourceIds(e,t=!1){return this.resourceIds.push(...e),this.onChange(t),this.resourceIds.length}removeResourceIds(e){return this.resourceIds=this.resourceIds.filter(t=>!e.includes(t)),this.onChange(),this.resourceIds.length}formatWithFallback(e,t){return S(this,null,function*(){let i=[],s=!1;try{for(var o=a7(this.bundles),r,c,a;r=!(c=yield o.next()).done;r=!1){let l=c.value;s=!0;let u=aD(t,l,e,i);if(u.size===0)break;if(typeof console<"u"){let f=l.locales[0],d=Array.from(u).join(", ");console.warn(`[fluent] Missing translations in ${f}: ${d}`)}}}catch{a=[c]}finally{try{r&&(c=o.return)&&(yield c.call(o))}finally{if(a)throw a[0]}}return!s&&typeof console<"u"&&console.warn(`[fluent] Request for keys failed because no resource bundles got generated.
  keys: ${JSON.stringify(e)}.
  resourceIds: ${JSON.stringify(this.resourceIds)}.`),i})}formatMessages(e){return this.formatWithFallback(e,cD)}formatValues(e){return this.formatWithFallback(e,rD)}formatValue(e,t){return S(this,null,function*(){let[i]=yield this.formatValues([{id:e,args:t}]);return i})}handleEvent(){this.onChange()}onChange(e=!1){this.bundles=K5.from(this.generateBundles(this.resourceIds)),e&&this.bundles.touchNext(2)}};function rD(n,e,t,i){return t.value?n.formatPattern(t.value,i,e):null}function cD(n,e,t,i){let s={value:null,attributes:null};t.value&&(s.value=n.formatPattern(t.value,i,e));let o=Object.keys(t.attributes);if(o.length>0){s.attributes=new Array(o.length);for(let[r,c]of o.entries()){let a=n.formatPattern(t.attributes[c],i,e);s.attributes[r]={name:c,value:a}}}return s}function aD(n,e,t,i){let s=[],o=new Set;return t.forEach(({id:r,args:c},a)=>{if(i[a]!==void 0)return;let l=e.getMessage(r);if(l){if(s.length=0,i[a]=n(e,s,l,c),s.length>0&&typeof console<"u"){let u=e.locales[0],f=s.join(", ");console.warn(`[fluent][resolver] errors in ${u}/${r}: ${f}.`)}}else o.add(r)}),o}var c3="data-l10n-id",B4="data-l10n-args",lD=`[${c3}]`,X5=class extends Q5{constructor(e,t){super(e,t),this.roots=new Set,this.pendingrAF=null,this.pendingElements=new Set,this.windowElement=null,this.mutationObserver=null,this.observerConfig={attributes:!0,characterData:!1,childList:!0,subtree:!0,attributeFilter:[c3,B4]}}onChange(e=!1){super.onChange(e),this.roots&&this.translateRoots()}setAttributes(e,t,i){return e.setAttribute(c3,t),i?e.setAttribute(B4,JSON.stringify(i)):e.removeAttribute(B4),e}getAttributes(e){return{id:e.getAttribute(c3),args:JSON.parse(e.getAttribute(B4)||null)}}connectRoot(e){for(let t of this.roots)if(t===e||t.contains(e)||e.contains(t))throw new Error("Cannot add a root that overlaps with existing root.");if(this.windowElement){if(this.windowElement!==e.ownerDocument.defaultView)throw new Error(`Cannot connect a root:
          DOMLocalization already has a root from a different window.`)}else this.windowElement=e.ownerDocument.defaultView,this.mutationObserver=new this.windowElement.MutationObserver(t=>this.translateMutations(t));this.roots.add(e),this.mutationObserver.observe(e,this.observerConfig)}disconnectRoot(e){return this.roots.delete(e),this.pauseObserving(),this.roots.size===0?(this.mutationObserver=null,this.windowElement&&this.pendingrAF&&this.windowElement.cancelAnimationFrame(this.pendingrAF),this.windowElement=null,this.pendingrAF=null,this.pendingElements.clear(),!0):(this.resumeObserving(),!1)}translateRoots(){let e=Array.from(this.roots);return Promise.all(e.map(t=>this.translateFragment(t)))}pauseObserving(){this.mutationObserver&&(this.translateMutations(this.mutationObserver.takeRecords()),this.mutationObserver.disconnect())}resumeObserving(){if(this.mutationObserver)for(let e of this.roots)this.mutationObserver.observe(e,this.observerConfig)}translateMutations(e){for(let t of e)switch(t.type){case"attributes":t.target.hasAttribute("data-l10n-id")&&this.pendingElements.add(t.target);break;case"childList":for(let i of t.addedNodes)if(i.nodeType===i.ELEMENT_NODE)if(i.childElementCount)for(let s of this.getTranslatables(i))this.pendingElements.add(s);else i.hasAttribute(c3)&&this.pendingElements.add(i);break}this.pendingElements.size>0&&this.pendingrAF===null&&(this.pendingrAF=this.windowElement.requestAnimationFrame(()=>{this.translateElements(Array.from(this.pendingElements)),this.pendingElements.clear(),this.pendingrAF=null}))}translateFragment(e){return this.translateElements(this.getTranslatables(e))}translateElements(e){return S(this,null,function*(){if(!e.length)return;let t=e.map(this.getKeysForElement),i=yield this.formatMessages(t);return this.applyTranslations(e,i)})}applyTranslations(e,t){this.pauseObserving();for(let i=0;i<e.length;i++)t[i]!==void 0&&eD(e[i],t[i]);this.resumeObserving()}getTranslatables(e){let t=Array.from(e.querySelectorAll(lD));return typeof e.hasAttribute=="function"&&e.hasAttribute(c3)&&t.push(e),t}getKeysForElement(e){return{id:e.getAttribute(c3),args:JSON.parse(e.getAttribute(B4)||null)}}},el=class n{#e;#t;#n;#i;constructor({lang:e,isRTL:t},i=null){this.#n=n.#s(e),this.#i=i,this.#e=t??n.#o(this.#n)?"rtl":"ltr"}_setL10n(e){this.#i=e}getLanguage(){return this.#n}getDirection(){return this.#e}get(e,t=null,i){return S(this,null,function*(){return Array.isArray(e)?(e=e.map(r=>({id:r})),(yield this.#i.formatMessages(e)).map(r=>r.value)):(yield this.#i.formatMessages([{id:e,args:t}]))[0]?.value||i})}translate(e){return S(this,null,function*(){(this.#t||=new Set).add(e);try{this.#i.connectRoot(e),yield this.#i.translateRoots()}catch{}})}translateOnce(e){return S(this,null,function*(){try{yield this.#i.translateElements([e])}catch(t){console.error(`translateOnce: "${t}".`)}})}destroy(){return S(this,null,function*(){if(this.#t){for(let e of this.#t)this.#i.disconnectRoot(e);this.#t.clear(),this.#t=null}this.#i.pauseObserving()})}pause(){this.#i.pauseObserving()}resume(){this.#i.resumeObserving()}static#s(e){return e=e?.toLowerCase()||"en-us",{en:"en-us",es:"es-es",fy:"fy-nl",ga:"ga-ie",gu:"gu-in",hi:"hi-in",hy:"hy-am",nb:"nb-no",ne:"ne-np",nn:"nn-no",pa:"pa-in",pt:"pt-pt",sv:"sv-se",zh:"zh-cn"}[e]||e}static#o(e){let t=e.split("-",1)[0];return["ar","he","fa","ps","ur"].includes(t)}};function Xm(n,e){let t=new Z5(e),i=new q5(n),s=i.addResource(t);return s.length&&console.error("L10n errors",s),i}var yn=class n extends el{constructor(e){super({lang:e});let t=e?n.#e.bind(n,"en-us",this.getLanguage()):n.#i.bind(n,this.getLanguage());this._setL10n(new X5([],t))}static#e(e,t){return ao(this,null,function*(){let{baseURL:i,paths:s}=yield new p0(this.#n()),o=[t];if(e!==t){let r=t.split("-",1)[0];r!==t&&o.push(r),o.push(e)}for(let r of o){let c=yield new p0(this.#t(r,i,s));c?yield c:r==="en-us"&&(yield this.#s(r))}})}static#t(e,t,i){return S(this,null,function*(){let s=i[e];if(!s)return null;let o=new URL(s,t),r=yield Rm(o,"text");return Xm(e,r)})}static#n(){return S(this,null,function*(){try{let{href:e}=document.querySelector('link[type="application/l10n"]'),t=yield Rm(e,"json");return{baseURL:e.replace(/[^/]*$/,"")||"./",paths:t}}catch{}return{baseURL:"./",paths:Object.create(null)}})}static#i(e){return ao(this,null,function*(){yield this.#s(e)})}static#s(e){return S(this,null,function*(){return Xm(e,`pdfjs-previous-button =
    .title = Previous Page
pdfjs-previous-button-label = Previous
pdfjs-next-button =
    .title = Next Page
pdfjs-next-button-label = Next
pdfjs-page-input =
    .title = Page
pdfjs-of-pages = of { $pagesCount }
pdfjs-page-of-pages = ({ $pageNumber } of { $pagesCount })
pdfjs-zoom-out-button =
    .title = Zoom Out
pdfjs-zoom-out-button-label = Zoom Out
pdfjs-zoom-in-button =
    .title = Zoom In
pdfjs-zoom-in-button-label = Zoom In
pdfjs-zoom-select =
    .title = Zoom
pdfjs-presentation-mode-button =
    .title = Switch to Presentation Mode
pdfjs-presentation-mode-button-label = Presentation Mode
pdfjs-open-file-button =
    .title = Open File
pdfjs-open-file-button-label = Open
pdfjs-print-button =
    .title = Print
pdfjs-print-button-label = Print
pdfjs-save-button =
    .title = Save
pdfjs-save-button-label = Save
pdfjs-download-button =
    .title = Download
pdfjs-download-button-label = Download
pdfjs-bookmark-button =
    .title = Current Page (View URL from Current Page)
pdfjs-bookmark-button-label = Current Page
pdfjs-tools-button =
    .title = Tools
pdfjs-tools-button-label = Tools
pdfjs-first-page-button =
    .title = Go to First Page
pdfjs-first-page-button-label = Go to First Page
pdfjs-last-page-button =
    .title = Go to Last Page
pdfjs-last-page-button-label = Go to Last Page
pdfjs-page-rotate-cw-button =
    .title = Rotate Clockwise
pdfjs-page-rotate-cw-button-label = Rotate Clockwise
pdfjs-page-rotate-ccw-button =
    .title = Rotate Counterclockwise
pdfjs-page-rotate-ccw-button-label = Rotate Counterclockwise
pdfjs-cursor-text-select-tool-button =
    .title = Enable Text Selection Tool
pdfjs-cursor-text-select-tool-button-label = Text Selection Tool
pdfjs-cursor-hand-tool-button =
    .title = Enable Hand Tool
pdfjs-cursor-hand-tool-button-label = Hand Tool
pdfjs-scroll-page-button =
    .title = Use Page Scrolling
pdfjs-scroll-page-button-label = Page Scrolling
pdfjs-scroll-vertical-button =
    .title = Use Vertical Scrolling
pdfjs-scroll-vertical-button-label = Vertical Scrolling
pdfjs-scroll-horizontal-button =
    .title = Use Horizontal Scrolling
pdfjs-scroll-horizontal-button-label = Horizontal Scrolling
pdfjs-scroll-wrapped-button =
    .title = Use Wrapped Scrolling
pdfjs-scroll-wrapped-button-label = Wrapped Scrolling
pdfjs-spread-none-button =
    .title = Do not join page spreads
pdfjs-spread-none-button-label = No Spreads
pdfjs-spread-odd-button =
    .title = Join page spreads starting with odd-numbered pages
pdfjs-spread-odd-button-label = Odd Spreads
pdfjs-spread-even-button =
    .title = Join page spreads starting with even-numbered pages
pdfjs-spread-even-button-label = Even Spreads
pdfjs-document-properties-button =
    .title = Document Properties\u2026
pdfjs-document-properties-button-label = Document Properties\u2026
pdfjs-document-properties-file-name = File name:
pdfjs-document-properties-file-size = File size:
pdfjs-document-properties-size-kb = { NUMBER($kb, maximumSignificantDigits: 3) } KB ({ $b } bytes)
pdfjs-document-properties-size-mb = { NUMBER($mb, maximumSignificantDigits: 3) } MB ({ $b } bytes)
pdfjs-document-properties-title = Title:
pdfjs-document-properties-author = Author:
pdfjs-document-properties-subject = Subject:
pdfjs-document-properties-keywords = Keywords:
pdfjs-document-properties-creation-date = Creation Date:
pdfjs-document-properties-modification-date = Modification Date:
pdfjs-document-properties-date-time-string = { DATETIME($dateObj, dateStyle: "short", timeStyle: "medium") }
pdfjs-document-properties-creator = Creator:
pdfjs-document-properties-producer = PDF Producer:
pdfjs-document-properties-version = PDF Version:
pdfjs-document-properties-page-count = Page Count:
pdfjs-document-properties-page-size = Page Size:
pdfjs-document-properties-page-size-unit-inches = in
pdfjs-document-properties-page-size-unit-millimeters = mm
pdfjs-document-properties-page-size-orientation-portrait = portrait
pdfjs-document-properties-page-size-orientation-landscape = landscape
pdfjs-document-properties-page-size-name-a-three = A3
pdfjs-document-properties-page-size-name-a-four = A4
pdfjs-document-properties-page-size-name-letter = Letter
pdfjs-document-properties-page-size-name-legal = Legal
pdfjs-document-properties-page-size-dimension-string = { $width } \xD7 { $height } { $unit } ({ $orientation })
pdfjs-document-properties-page-size-dimension-name-string = { $width } \xD7 { $height } { $unit } ({ $name }, { $orientation })
pdfjs-document-properties-linearized = Fast Web View:
pdfjs-document-properties-linearized-yes = Yes
pdfjs-document-properties-linearized-no = No
pdfjs-document-properties-close-button = Close
pdfjs-print-progress-message = Preparing document for printing\u2026
pdfjs-print-progress-percent = { $progress }%
pdfjs-print-progress-close-button = Cancel
pdfjs-printing-not-supported = Warning: Printing is not fully supported by this browser.
pdfjs-printing-not-ready = Warning: The PDF is not fully loaded for printing.
pdfjs-toggle-sidebar-button =
    .title = Toggle Sidebar
pdfjs-toggle-sidebar-notification-button =
    .title = Toggle Sidebar (document contains outline/attachments/layers)
pdfjs-toggle-sidebar-button-label = Toggle Sidebar
pdfjs-document-outline-button =
    .title = Show Document Outline (double-click to expand/collapse all items)
pdfjs-document-outline-button-label = Document Outline
pdfjs-attachments-button =
    .title = Show Attachments
pdfjs-attachments-button-label = Attachments
pdfjs-layers-button =
    .title = Show Layers (double-click to reset all layers to the default state)
pdfjs-layers-button-label = Layers
pdfjs-thumbs-button =
    .title = Show Thumbnails
pdfjs-thumbs-button-label = Thumbnails
pdfjs-current-outline-item-button =
    .title = Find Current Outline Item
pdfjs-current-outline-item-button-label = Current Outline Item
pdfjs-findbar-button =
    .title = Find in Document
pdfjs-findbar-button-label = Find
pdfjs-additional-layers = Additional Layers
pdfjs-thumb-page-title =
    .title = Page { $page }
pdfjs-thumb-page-canvas =
    .aria-label = Thumbnail of Page { $page }
pdfjs-find-input =
    .title = Find
    .placeholder = Find in document\u2026
pdfjs-find-previous-button =
    .title = Find the previous occurrence of the phrase
pdfjs-find-previous-button-label = Previous
pdfjs-find-next-button =
    .title = Find the next occurrence of the phrase
pdfjs-find-next-button-label = Next
pdfjs-find-highlight-checkbox = Highlight All
pdfjs-find-match-case-checkbox-label = Match Case
pdfjs-find-match-diacritics-checkbox-label = Match Diacritics
pdfjs-find-entire-word-checkbox-label = Whole Words
pdfjs-find-reached-top = Reached top of document, continued from bottom
pdfjs-find-reached-bottom = Reached end of document, continued from top
pdfjs-find-match-count =
    { $total ->
        [one] { $current } of { $total } match
       *[other] { $current } of { $total } matches
    }
pdfjs-find-match-count-limit =
    { $limit ->
        [one] More than { $limit } match
       *[other] More than { $limit } matches
    }
pdfjs-find-not-found = Phrase not found
pdfjs-page-scale-width = Page Width
pdfjs-page-scale-fit = Page Fit
pdfjs-page-scale-auto = Automatic Zoom
pdfjs-page-scale-actual = Actual Size
pdfjs-page-scale-percent = { $scale }%
pdfjs-page-landmark =
    .aria-label = Page { $page }
pdfjs-loading-error = An error occurred while loading the PDF.
pdfjs-invalid-file-error = Invalid or corrupted PDF file.
pdfjs-missing-file-error = Missing PDF file.
pdfjs-unexpected-response-error = Unexpected server response.
pdfjs-rendering-error = An error occurred while rendering the page.
pdfjs-annotation-date-time-string = { DATETIME($dateObj, dateStyle: "short", timeStyle: "medium") }
pdfjs-text-annotation-type =
    .alt = [{ $type } Annotation]
pdfjs-password-label = Enter the password to open this PDF file.
pdfjs-password-invalid = Invalid password. Please try again.
pdfjs-password-ok-button = OK
pdfjs-password-cancel-button = Cancel
pdfjs-web-fonts-disabled = Web fonts are disabled: unable to use embedded PDF fonts.
pdfjs-editor-free-text-button =
    .title = Text
pdfjs-editor-free-text-button-label = Text
pdfjs-editor-ink-button =
    .title = Draw
pdfjs-editor-ink-button-label = Draw
pdfjs-editor-stamp-button =
    .title = Add or edit images
pdfjs-editor-stamp-button-label = Add or edit images
pdfjs-editor-highlight-button =
    .title = Highlight
pdfjs-editor-highlight-button-label = Highlight
pdfjs-highlight-floating-button1 =
    .title = Highlight
    .aria-label = Highlight
pdfjs-highlight-floating-button-label = Highlight
pdfjs-editor-remove-ink-button =
    .title = Remove drawing
pdfjs-editor-remove-freetext-button =
    .title = Remove text
pdfjs-editor-remove-stamp-button =
    .title = Remove image
pdfjs-editor-remove-highlight-button =
    .title = Remove highlight
pdfjs-editor-free-text-color-input = Color
pdfjs-editor-free-text-size-input = Size
pdfjs-editor-ink-color-input = Color
pdfjs-editor-ink-thickness-input = Thickness
pdfjs-editor-ink-opacity-input = Opacity
pdfjs-editor-stamp-add-image-button =
    .title = Add image
pdfjs-editor-stamp-add-image-button-label = Add image
pdfjs-editor-free-highlight-thickness-input = Thickness
pdfjs-editor-free-highlight-thickness-title =
    .title = Change thickness when highlighting items other than text
pdfjs-free-text2 =
    .aria-label = Text Editor
    .default-content = Start typing\u2026
pdfjs-ink =
    .aria-label = Draw Editor
pdfjs-ink-canvas =
    .aria-label = User-created image
pdfjs-editor-alt-text-button =
    .aria-label = Alt text
pdfjs-editor-alt-text-button-label = Alt text
pdfjs-editor-alt-text-edit-button =
    .aria-label = Edit alt text
pdfjs-editor-alt-text-dialog-label = Choose an option
pdfjs-editor-alt-text-dialog-description = Alt text (alternative text) helps when people can\u2019t see the image or when it doesn\u2019t load.
pdfjs-editor-alt-text-add-description-label = Add a description
pdfjs-editor-alt-text-add-description-description = Aim for 1-2 sentences that describe the subject, setting, or actions.
pdfjs-editor-alt-text-mark-decorative-label = Mark as decorative
pdfjs-editor-alt-text-mark-decorative-description = This is used for ornamental images, like borders or watermarks.
pdfjs-editor-alt-text-cancel-button = Cancel
pdfjs-editor-alt-text-save-button = Save
pdfjs-editor-alt-text-decorative-tooltip = Marked as decorative
pdfjs-editor-alt-text-textarea =
    .placeholder = For example, \u201CA young man sits down at a table to eat a meal\u201D
pdfjs-editor-resizer-top-left =
    .aria-label = Top left corner \u2014 resize
pdfjs-editor-resizer-top-middle =
    .aria-label = Top middle \u2014 resize
pdfjs-editor-resizer-top-right =
    .aria-label = Top right corner \u2014 resize
pdfjs-editor-resizer-middle-right =
    .aria-label = Middle right \u2014 resize
pdfjs-editor-resizer-bottom-right =
    .aria-label = Bottom right corner \u2014 resize
pdfjs-editor-resizer-bottom-middle =
    .aria-label = Bottom middle \u2014 resize
pdfjs-editor-resizer-bottom-left =
    .aria-label = Bottom left corner \u2014 resize
pdfjs-editor-resizer-middle-left =
    .aria-label = Middle left \u2014 resize
pdfjs-editor-highlight-colorpicker-label = Highlight color
pdfjs-editor-colorpicker-button =
    .title = Change color
pdfjs-editor-colorpicker-dropdown =
    .aria-label = Color choices
pdfjs-editor-colorpicker-yellow =
    .title = Yellow
pdfjs-editor-colorpicker-green =
    .title = Green
pdfjs-editor-colorpicker-blue =
    .title = Blue
pdfjs-editor-colorpicker-pink =
    .title = Pink
pdfjs-editor-colorpicker-red =
    .title = Red
pdfjs-editor-highlight-show-all-button-label = Show all
pdfjs-editor-highlight-show-all-button =
    .title = Show all
pdfjs-editor-new-alt-text-dialog-edit-label = Edit alt text (image description)
pdfjs-editor-new-alt-text-dialog-add-label = Add alt text (image description)
pdfjs-editor-new-alt-text-textarea =
    .placeholder = Write your description here\u2026
pdfjs-editor-new-alt-text-description = Short description for people who can\u2019t see the image or when the image doesn\u2019t load.
pdfjs-editor-new-alt-text-disclaimer1 = This alt text was created automatically and may be inaccurate.
pdfjs-editor-new-alt-text-disclaimer-learn-more-url = Learn more
pdfjs-editor-new-alt-text-create-automatically-button-label = Create alt text automatically
pdfjs-editor-new-alt-text-not-now-button = Not now
pdfjs-editor-new-alt-text-error-title = Couldn\u2019t create alt text automatically
pdfjs-editor-new-alt-text-error-description = Please write your own alt text or try again later.
pdfjs-editor-new-alt-text-error-close-button = Close
pdfjs-editor-new-alt-text-ai-model-downloading-progress = Downloading alt text AI model ({ $downloadedSize } of { $totalSize } MB)
    .aria-valuetext = Downloading alt text AI model ({ $downloadedSize } of { $totalSize } MB)
pdfjs-editor-new-alt-text-added-button =
    .aria-label = Alt text added
pdfjs-editor-new-alt-text-added-button-label = Alt text added
pdfjs-editor-new-alt-text-missing-button =
    .aria-label = Missing alt text
pdfjs-editor-new-alt-text-missing-button-label = Missing alt text
pdfjs-editor-new-alt-text-to-review-button =
    .aria-label = Review alt text
pdfjs-editor-new-alt-text-to-review-button-label = Review alt text
pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer = Created automatically: { $generatedAltText }
pdfjs-image-alt-text-settings-button =
    .title = Image alt text settings
pdfjs-image-alt-text-settings-button-label = Image alt text settings
pdfjs-editor-alt-text-settings-dialog-label = Image alt text settings
pdfjs-editor-alt-text-settings-automatic-title = Automatic alt text
pdfjs-editor-alt-text-settings-create-model-button-label = Create alt text automatically
pdfjs-editor-alt-text-settings-create-model-description = Suggests descriptions to help people who can\u2019t see the image or when the image doesn\u2019t load.
pdfjs-editor-alt-text-settings-download-model-label = Alt text AI model ({ $totalSize } MB)
pdfjs-editor-alt-text-settings-ai-model-description = Runs locally on your device so your data stays private. Required for automatic alt text.
pdfjs-editor-alt-text-settings-delete-model-button = Delete
pdfjs-editor-alt-text-settings-download-model-button = Download
pdfjs-editor-alt-text-settings-downloading-model-button = Downloading\u2026
pdfjs-editor-alt-text-settings-editor-title = Alt text editor
pdfjs-editor-alt-text-settings-show-dialog-button-label = Show alt text editor right away when adding an image
pdfjs-editor-alt-text-settings-show-dialog-description = Helps you make sure all your images have alt text.
pdfjs-editor-alt-text-settings-close-button = Close`)})}},uD=1e3,H5=50,eg=1e3;function V5(){return document.location.hash}var tl=class{#e=null;constructor({linkService:e,eventBus:t}){this.linkService=e,this.eventBus=t,this._initialized=!1,this._fingerprint="",this.reset(),this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",i=>{this._isPagesLoaded=!!i.pagesCount},{once:!0})})}initialize({fingerprint:e,resetHistory:t=!1,updateUrl:i=!1}){if(!e||typeof e!="string"){console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');return}this._initialized&&this.reset();let s=this._fingerprint!==""&&this._fingerprint!==e;this._fingerprint=e,this._updateUrl=i===!0,this._initialized=!0,this.#f();let o=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=V5(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this.#s(o,!0)||t){let{hash:c,page:a,rotation:l}=this.#a(!0);if(!c||s||t){this.#t(null,!0);return}this.#t({hash:c,page:a,rotation:l},!0);return}let r=o.destination;this.#o(r,o.uid,!0),r.rotation!==void 0&&(this._initialRotation=r.rotation),r.dest?(this._initialBookmark=JSON.stringify(r.dest),this._destination.page=null):r.hash?this._initialBookmark=r.hash:r.page&&(this._initialBookmark=`page=${r.page}`)}reset(){this._initialized&&(this.#c(),this._initialized=!1,this.#r()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:e=null,explicitDest:t,pageNumber:i}){if(!this._initialized)return;if(e&&typeof e!="string"){console.error(`PDFHistory.push: "${e}" is not a valid namedDest parameter.`);return}else if(Array.isArray(t)){if(!this.#i(i)&&(i!==null||this._destination)){console.error(`PDFHistory.push: "${i}" is not a valid pageNumber parameter.`);return}}else{console.error(`PDFHistory.push: "${t}" is not a valid explicitDest parameter.`);return}let s=e||JSON.stringify(t);if(!s)return;let o=!1;if(this._destination&&(fD(this._destination.hash,s)||dD(this._destination.dest,t))){if(this._destination.page)return;o=!0}this._popStateInProgress&&!o||(this.#t({dest:t,hash:s,page:i,rotation:this.linkService.rotation},o),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(e){if(this._initialized){if(!this.#i(e)){console.error(`PDFHistory.pushPage: "${e}" is not a valid page number.`);return}this._destination?.page!==e&&(this._popStateInProgress||(this.#t({dest:null,hash:`page=${e}`,page:e,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this.#n()}back(){if(!this._initialized||this._popStateInProgress)return;let e=window.history.state;this.#s(e)&&e.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;let e=window.history.state;this.#s(e)&&e.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}#t(e,t=!1){let i=t||!this._destination,s={fingerprint:this._fingerprint,uid:i?this._uid:this._uid+1,destination:e};this.#o(e,s.uid);let o;if(this._updateUrl&&e?.hash){let r=document.location.href.split("#",1)[0];r.startsWith("file://")||(o=`${r}#${e.hash}`)}i?window.history.replaceState(s,"",o):window.history.pushState(s,"",o)}#n(e=!1){if(!this._position)return;let t=this._position;if(e&&(t=Object.assign(Object.create(null),this._position),t.temporary=!0),!this._destination){this.#t(t);return}if(this._destination.temporary){this.#t(t,!0);return}if(this._destination.hash===t.hash||!this._destination.page&&(H5<=0||this._numPositionUpdates<=H5))return;let i=!1;if(this._destination.page>=t.first&&this._destination.page<=t.page){if(this._destination.dest!==void 0||!this._destination.first)return;i=!0}this.#t(t,i)}#i(e){return Number.isInteger(e)&&e>0&&e<=this.linkService.pagesCount}#s(e,t=!1){if(!e)return!1;if(e.fingerprint!==this._fingerprint)if(t){if(typeof e.fingerprint!="string"||e.fingerprint.length!==this._fingerprint.length)return!1;let[i]=performance.getEntriesByType("navigation");if(i?.type!=="reload")return!1}else return!1;return!(!Number.isInteger(e.uid)||e.uid<0||e.destination===null||typeof e.destination!="object")}#o(e,t,i=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),i&&e?.temporary&&delete e.temporary,this._destination=e,this._uid=t,this._maxUid=Math.max(this._maxUid,t),this._numPositionUpdates=0}#a(e=!1){let t=unescape(V5()).substring(1),i=H6(t),s=i.get("nameddest")||"",o=i.get("page")|0;return(!this.#i(o)||e&&s.length>0)&&(o=null),{hash:t,page:o,rotation:this.linkService.rotation}}#l({location:e}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:e.pdfOpenParams.substring(1),page:this.linkService.page,first:e.pageNumber,rotation:e.rotation},!this._popStateInProgress&&(H5>0&&this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,eg>0&&(this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this.#n(!0),this._updateViewareaTimeout=null},eg)))}#u({state:e}){let t=V5(),i=this._currentHash!==t;if(this._currentHash=t,!e){this._uid++;let{hash:o,page:r,rotation:c}=this.#a();this.#t({hash:o,page:r,rotation:c},!0);return}if(!this.#s(e))return;this._popStateInProgress=!0,i&&(this._blockHashChange++,wE({target:window,name:"hashchange",delay:uD}).then(()=>{this._blockHashChange--}));let s=e.destination;this.#o(s,e.uid,!0),rg(s.rotation)&&(this.linkService.rotation=s.rotation),s.dest?this.linkService.goToDestination(s.dest):s.hash?this.linkService.setHash(s.hash):s.page&&(this.linkService.page=s.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}#c(){(!this._destination||this._destination.temporary)&&this.#n()}#f(){if(this.#e)return;this.#e=new AbortController;let{signal:e}=this.#e;this.eventBus._on("updateviewarea",this.#l.bind(this),{signal:e}),window.addEventListener("popstate",this.#u.bind(this),{signal:e}),window.addEventListener("pagehide",this.#c.bind(this),{signal:e})}#r(){this.#e?.abort(),this.#e=null}};function fD(n,e){return typeof n!="string"||typeof e!="string"?!1:n===e||H6(n).get("nameddest")===e}function dD(n,e){function t(i,s){if(typeof i!=typeof s||Array.isArray(i)||Array.isArray(s))return!1;if(i!==null&&typeof i=="object"&&s!==null){if(Object.keys(i).length!==Object.keys(s).length)return!1;for(let o in i)if(!t(i[o],s[o]))return!1;return!0}return i===s||Number.isNaN(i)&&Number.isNaN(s)}if(!(Array.isArray(n)&&Array.isArray(e))||n.length!==e.length)return!1;for(let i=0,s=n.length;i<s;i++)if(!t(n[i],e[i]))return!1;return!0}var nl=class{#e=null;#t=null;#n=null;#i=null;#s=null;#o;constructor(e){this.pdfPage=e.pdfPage,this.accessibilityManager=e.accessibilityManager,this.l10n=e.l10n,this.l10n||=new yn,this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,this.#o=e.uiManager,this.#e=e.annotationLayer||null,this.#s=e.textLayer||null,this.#t=e.drawLayer||null,this.#n=e.onAppend||null,this.#i=e.structTreeLayer||null}render(e,t="display"){return S(this,null,function*(){if(t!=="display"||this._cancelled)return;let i=e.clone({dontFlip:!0});if(this.div){this.annotationEditorLayer.update({viewport:i}),this.show();return}let s=this.div=document.createElement("div");s.className="annotationEditorLayer",s.hidden=!0,s.dir=this.#o.direction,this.#n?.(s),this.annotationEditorLayer=new hE({uiManager:this.#o,div:s,structTreeLayer:this.#i,accessibilityManager:this.accessibilityManager,pageIndex:this.pdfPage.pageNumber-1,l10n:this.l10n,viewport:i,annotationLayer:this.#e,textLayer:this.#s,drawLayer:this.#t});let o={viewport:i,div:s,annotations:null,intent:t};this.annotationEditorLayer.render(o),this.show()})}cancel(){this._cancelled=!0,this.div&&this.annotationEditorLayer.destroy()}hide(){this.div&&(this.div.hidden=!0)}show(){!this.div||this.annotationEditorLayer.isInvisible||(this.div.hidden=!1)}};{S6=new Map;let n=navigator.userAgent||"",e=navigator.platform||"",t=navigator.maxTouchPoints||1,i=/Android/.test(n),s=/\b(iPad|iPhone|iPod)(?=;)/.test(n)||e==="MacIntel"&&t>1;(function(){(s||i)&&S6.set("maxCanvasPixels",5242880)})(),function(){i&&S6.set("useSystemFonts",!1)}()}var S6,z={BROWSER:1,VIEWER:2,API:4,WORKER:8,EVENT_DISPATCH:16,PREFERENCE:128},il={BOOLEAN:1,NUMBER:2,OBJECT:4,STRING:8,UNDEFINED:16},_2={allowedGlobalEvents:{value:null,kind:z.BROWSER},canvasMaxAreaInBytes:{value:-1,kind:z.BROWSER+z.API},isInAutomation:{value:!1,kind:z.BROWSER},localeProperties:{value:{lang:navigator.language||"en-US"},kind:z.BROWSER},nimbusDataStr:{value:"",kind:z.BROWSER},supportsCaretBrowsingMode:{value:!1,kind:z.BROWSER},supportsDocumentFonts:{value:!0,kind:z.BROWSER},supportsIntegratedFind:{value:!1,kind:z.BROWSER},supportsMouseWheelZoomCtrlKey:{value:!0,kind:z.BROWSER},supportsMouseWheelZoomMetaKey:{value:!0,kind:z.BROWSER},supportsPinchToZoom:{value:!0,kind:z.BROWSER},toolbarDensity:{value:0,kind:z.BROWSER+z.EVENT_DISPATCH},altTextLearnMoreUrl:{value:"",kind:z.VIEWER+z.PREFERENCE},annotationEditorMode:{value:0,kind:z.VIEWER+z.PREFERENCE},annotationMode:{value:2,kind:z.VIEWER+z.PREFERENCE},cursorToolOnLoad:{value:0,kind:z.VIEWER+z.PREFERENCE},debuggerSrc:{value:"./debugger.mjs",kind:z.VIEWER},defaultZoomDelay:{value:400,kind:z.VIEWER+z.PREFERENCE},defaultZoomValue:{value:"",kind:z.VIEWER+z.PREFERENCE},disableHistory:{value:!1,kind:z.VIEWER},disablePageLabels:{value:!1,kind:z.VIEWER+z.PREFERENCE},enableAltText:{value:!1,kind:z.VIEWER+z.PREFERENCE},enableAltTextModelDownload:{value:!0,kind:z.VIEWER+z.PREFERENCE+z.EVENT_DISPATCH},enableGuessAltText:{value:!0,kind:z.VIEWER+z.PREFERENCE+z.EVENT_DISPATCH},enableHighlightFloatingButton:{value:!1,kind:z.VIEWER+z.PREFERENCE},enableNewAltTextWhenAddingImage:{value:!0,kind:z.VIEWER+z.PREFERENCE},enablePermissions:{value:!1,kind:z.VIEWER+z.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:z.VIEWER+z.PREFERENCE},enableScripting:{value:!0,kind:z.VIEWER+z.PREFERENCE},enableUpdatedAddImage:{value:!1,kind:z.VIEWER+z.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:z.VIEWER},externalLinkTarget:{value:0,kind:z.VIEWER+z.PREFERENCE},highlightEditorColors:{value:"yellow=#FFFF98,green=#53FFBC,blue=#80EBFF,pink=#FFCBE6,red=#FF4F5F",kind:z.VIEWER+z.PREFERENCE},historyUpdateUrl:{value:!1,kind:z.VIEWER+z.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:z.VIEWER+z.PREFERENCE},imageResourcesPath:{value:"./images/",kind:z.VIEWER},maxCanvasPixels:{value:2**25,kind:z.VIEWER},forcePageColors:{value:!1,kind:z.VIEWER+z.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:z.VIEWER+z.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:z.VIEWER+z.PREFERENCE},pdfBugEnabled:{value:!1,kind:z.VIEWER+z.PREFERENCE},printResolution:{value:150,kind:z.VIEWER},sidebarViewOnLoad:{value:-1,kind:z.VIEWER+z.PREFERENCE},scrollModeOnLoad:{value:-1,kind:z.VIEWER+z.PREFERENCE},spreadModeOnLoad:{value:-1,kind:z.VIEWER+z.PREFERENCE},textLayerMode:{value:1,kind:z.VIEWER+z.PREFERENCE},viewOnLoad:{value:0,kind:z.VIEWER+z.PREFERENCE},cMapPacked:{value:!0,kind:z.API},cMapUrl:{value:"../web/cmaps/",kind:z.API},disableAutoFetch:{value:!1,kind:z.API+z.PREFERENCE},disableFontFace:{value:!1,kind:z.API+z.PREFERENCE},disableRange:{value:!1,kind:z.API+z.PREFERENCE},disableStream:{value:!1,kind:z.API+z.PREFERENCE},docBaseUrl:{value:"",kind:z.API},enableHWA:{value:!0,kind:z.API+z.VIEWER+z.PREFERENCE},enableXfa:{value:!0,kind:z.API+z.PREFERENCE},fontExtraProperties:{value:!1,kind:z.API},isEvalSupported:{value:!0,kind:z.API},isOffscreenCanvasSupported:{value:!0,kind:z.API},maxImageSize:{value:-1,kind:z.API},pdfBug:{value:!1,kind:z.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:z.API},useSystemFonts:{value:void 0,kind:z.API,type:il.BOOLEAN+il.UNDEFINED},verbosity:{value:1,kind:z.API},workerPort:{value:null,kind:z.WORKER},workerSrc:{value:"../build/pdf.worker.mjs",kind:z.WORKER}};_2.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:z.VIEWER},_2.sandboxBundleSrc={value:"../build/pdf.sandbox.mjs",kind:z.VIEWER},_2.viewerCssTheme={value:0,kind:z.VIEWER+z.PREFERENCE},_2.enableFakeMLManager={value:!0,kind:z.VIEWER};_2.disablePreferences={value:!1,kind:z.VIEWER};var sl=class{static eventBus;static#e=new Map;static{for(let e in _2)this.#e.set(e,_2[e].value);for(let[e,t]of S6)this.#e.set(e,t);this._hasInvokedSet=!1,this._checkDisablePreferences=()=>this.get("disablePreferences")?!0:(this._hasInvokedSet&&console.warn('The Preferences may override manually set AppOptions; please use the "disablePreferences"-option to prevent that.'),!1)}static get(e){return this.#e.get(e)}static getAll(e=null,t=!1){let i=Object.create(null);for(let s in _2){let o=_2[s];e&&!(e&o.kind)||(i[s]=t?o.value:this.#e.get(s))}return i}static set(e,t){this.setAll({[e]:t})}static setAll(e,t=!1){this._hasInvokedSet||=!0;let i;for(let s in e){let o=_2[s],r=e[s];if(!o||!(typeof r==typeof o.value||il[(typeof r).toUpperCase()]&o.type))continue;let{kind:c}=o;t&&!(c&z.BROWSER||c&z.PREFERENCE)||(this.eventBus&&c&z.EVENT_DISPATCH&&(i||=new Map).set(s,r),this.#e.set(s,r))}if(i)for(let[s,o]of i)this.eventBus.dispatch(s.toLowerCase(),{source:this,value:o})}},ol=class{#e=null;constructor(e){this.pageIndex=e.pageIndex}render(e="display"){return S(this,null,function*(){e!=="display"||this.#e||this._cancelled||(this.#e=new vE({pageIndex:this.pageIndex}))})}cancel(){this._cancelled=!0,this.#e&&(this.#e.destroy(),this.#e=null)}setParent(e){this.#e?.setParent(e)}getDrawLayer(){return this.#e}},tg={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},hD=/^H(\d+)$/,k6=class{#e;#t=null;#n;#i=new Map;#s;#o=null;constructor(e,t){this.#e=e.getStructTree(),this.#s=t}render(){return S(this,null,function*(){if(this.#n)return this.#n;let{promise:e,resolve:t,reject:i}=Promise.withResolvers();this.#n=e;try{this.#t=this.#u(yield this.#e)}catch(s){i(s)}return this.#e=null,this.#t?.classList.add("structTree"),t(this.#t),e})}getAriaAttributes(e){return S(this,null,function*(){try{return yield this.render(),this.#i.get(e)}catch{}return null})}hide(){this.#t&&!this.#t.hidden&&(this.#t.hidden=!0)}show(){this.#t?.hidden&&(this.#t.hidden=!1)}#a(e,t){let{alt:i,id:s,lang:o}=e;if(i!==void 0){let r=!1,c=U4(i);for(let a of e.children)if(a.type==="annotation"){let l=this.#i.get(a.id);l||(l=new Map,this.#i.set(a.id,l)),l.set("aria-label",c),r=!0}r||t.setAttribute("aria-label",c)}s!==void 0&&t.setAttribute("aria-owns",s),o!==void 0&&t.setAttribute("lang",U4(o,!0))}#l(e,t){let{alt:i,bbox:s,children:o}=e,r=o?.[0];if(!this.#s||!i||!s||r?.type!=="content")return!1;let{id:c}=r;if(!c)return!1;t.setAttribute("aria-owns",c);let a=document.createElement("span");(this.#o||=new Map).set(c,a),a.setAttribute("role","img"),a.setAttribute("aria-label",U4(i));let{pageHeight:l,pageX:u,pageY:f}=this.#s,d="calc(var(--scale-factor)*",{style:h}=a;return h.width=`${d}${s[2]-s[0]}px)`,h.height=`${d}${s[3]-s[1]}px)`,h.left=`${d}${s[0]-u}px)`,h.top=`${d}${l-s[3]+f}px)`,!0}addElementsToTextLayer(){if(this.#o){for(let[e,t]of this.#o)document.getElementById(e)?.append(t);this.#o.clear(),this.#o=null}}#u(e){if(!e)return null;let t=document.createElement("span");if("role"in e){let{role:i}=e,s=i.match(hD);if(s?(t.setAttribute("role","heading"),t.setAttribute("aria-level",s[1])):tg[i]&&t.setAttribute("role",tg[i]),i==="Figure"&&this.#l(e,t))return t}if(this.#a(e,t),e.children)if(e.children.length===1&&"id"in e.children[0])this.#a(e.children[0],t);else for(let i of e.children)t.append(this.#u(i));return t}},rl=class n{#e=!1;#t=null;#n=new Map;#i=new Map;setTextMapping(e){this.#t=e}static#s(e,t){let i=e.getBoundingClientRect(),s=t.getBoundingClientRect();if(i.width===0&&i.height===0)return 1;if(s.width===0&&s.height===0)return-1;let o=i.y,r=i.y+i.height,c=i.y+i.height/2,a=s.y,l=s.y+s.height,u=s.y+s.height/2;if(c<=a&&u>=r)return-1;if(u<=o&&c>=l)return 1;let f=i.x+i.width/2,d=s.x+s.width/2;return f-d}enable(){if(this.#e)throw new Error("TextAccessibilityManager is already enabled.");if(!this.#t)throw new Error("Text divs and strings have not been set.");if(this.#e=!0,this.#t=this.#t.slice(),this.#t.sort(n.#s),this.#n.size>0){let e=this.#t;for(let[t,i]of this.#n){if(!document.getElementById(t)){this.#n.delete(t);continue}this.#o(t,e[i])}}for(let[e,t]of this.#i)this.addPointerInTextLayer(e,t);this.#i.clear()}disable(){this.#e&&(this.#i.clear(),this.#t=null,this.#e=!1)}removePointerInTextLayer(e){if(!this.#e){this.#i.delete(e);return}let t=this.#t;if(!t||t.length===0)return;let{id:i}=e,s=this.#n.get(i);if(s===void 0)return;let o=t[s];this.#n.delete(i);let r=o.getAttribute("aria-owns");r?.includes(i)&&(r=r.split(" ").filter(c=>c!==i).join(" "),r?o.setAttribute("aria-owns",r):(o.removeAttribute("aria-owns"),o.setAttribute("role","presentation")))}#o(e,t){let i=t.getAttribute("aria-owns");i?.includes(e)||t.setAttribute("aria-owns",i?`${i} ${e}`:e),t.removeAttribute("role")}addPointerInTextLayer(e,t){let{id:i}=e;if(!i)return null;if(!this.#e)return this.#i.set(e,t),null;t&&this.removePointerInTextLayer(e);let s=this.#t;if(!s||s.length===0)return null;let o=$4(s,l=>n.#s(e,l)<0),r=Math.max(0,o-1),c=s[r];this.#o(i,c),this.#n.set(i,r);let a=c.parentNode;return a?.classList.contains("markedContent")?a.id:null}moveElementInDOM(e,t,i,s){let o=this.addPointerInTextLayer(i,s);if(!e.hasChildNodes())return e.append(t),o;let r=Array.from(e.childNodes).filter(l=>l!==t);if(r.length===0)return o;let c=i||t,a=$4(r,l=>n.#s(c,l)<0);return a===0?r[0].before(t):r[a-1].after(t),o}},cl=class{#e=null;constructor({findController:e,eventBus:t,pageIndex:i}){this.findController=e,this.matches=[],this.eventBus=t,this.pageIdx=i,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(e,t){this.textDivs=e,this.textContentItemsStr=t}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this.#e||(this.#e=new AbortController,this.eventBus._on("updatetextlayermatches",e=>{(e.pageIndex===this.pageIdx||e.pageIndex===-1)&&this._updateMatches()},{signal:this.#e.signal})),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this.#e?.abort(),this.#e=null,this._updateMatches(!0))}_convertMatches(e,t){if(!e)return[];let{textContentItemsStr:i}=this,s=0,o=0,r=i.length-1,c=[];for(let a=0,l=e.length;a<l;a++){let u=e[a];for(;s!==r&&u>=o+i[s].length;)o+=i[s].length,s++;s===i.length&&console.error("Could not find a matching mapping");let f={begin:{divIdx:s,offset:u-o}};for(u+=t[a];s!==r&&u>o+i[s].length;)o+=i[s].length,s++;f.end={divIdx:s,offset:u-o},c.push(f)}return c}_renderMatches(e){if(e.length===0)return;let{findController:t,pageIdx:i}=this,{textContentItemsStr:s,textDivs:o}=this,r=i===t.selected.pageIdx,c=t.selected.matchIdx,a=t.state.highlightAll,l=null,u={divIdx:-1,offset:void 0};function f(g,C){let M=g.divIdx;return o[M].textContent="",d(M,0,g.offset,C)}function d(g,C,M,b){let _=o[g];if(_.nodeType===Node.TEXT_NODE){let A=document.createElement("span");_.before(A),A.append(_),o[g]=A,_=A}let L=s[g].substring(C,M),x=document.createTextNode(L);if(b){let A=document.createElement("span");return A.className=`${b} appended`,A.append(x),_.append(A),b.includes("selected")?A.offsetLeft:0}return _.append(x),0}let h=c,p=h+1;if(a)h=0,p=e.length;else if(!r)return;let m=-1,v=-1;for(let g=h;g<p;g++){let C=e[g],M=C.begin;if(M.divIdx===m&&M.offset===v)continue;m=M.divIdx,v=M.offset;let b=C.end,_=r&&g===c,L=_?" selected":"",x=0;if(!l||M.divIdx!==l.divIdx?(l!==null&&d(l.divIdx,l.offset,u.offset),f(M)):d(l.divIdx,l.offset,M.offset),M.divIdx===b.divIdx)x=d(M.divIdx,M.offset,b.offset,"highlight"+L);else{x=d(M.divIdx,M.offset,u.offset,"highlight begin"+L);for(let A=M.divIdx+1,y=b.divIdx;A<y;A++)o[A].className="highlight middle"+L;f(b,"highlight end"+L)}l=b,_&&t.scrollMatchIntoView({element:o[M.divIdx],selectedLeft:x,pageIndex:i,matchIndex:c})}l&&d(l.divIdx,l.offset,u.offset)}_updateMatches(e=!1){if(!this.enabled&&!e)return;let{findController:t,matches:i,pageIdx:s}=this,{textContentItemsStr:o,textDivs:r}=this,c=-1;for(let u of i){let f=Math.max(c,u.begin.divIdx);for(let d=f,h=u.end.divIdx;d<=h;d++){let p=r[d];p.textContent=o[d],p.className=""}c=u.end.divIdx+1}if(!t?.highlightMatches||e)return;let a=t.pageMatches[s]||null,l=t.pageMatchesLength[s]||null;this.matches=this._convertMatches(a,l),this._renderMatches(this.matches)}},O6=class n{#e=!1;#t=null;#n=!1;#i=null;static#s=new Map;static#o=null;constructor({pdfPage:e,highlighter:t=null,accessibilityManager:i=null,enablePermissions:s=!1,onAppend:o=null}){this.pdfPage=e,this.highlighter=t,this.accessibilityManager=i,this.#e=s===!0,this.#t=o,this.div=document.createElement("div"),this.div.tabIndex=0,this.div.className="textLayer"}render(e,t=null){return S(this,null,function*(){if(this.#n&&this.#i){this.#i.update({viewport:e,onBefore:this.hide.bind(this)}),this.show();return}this.cancel(),this.#i=new LE({textContentSource:this.pdfPage.streamTextContent(t||{includeMarkedContent:!0,disableNormalization:!0}),container:this.div,viewport:e});let{textDivs:i,textContentItemsStr:s}=this.#i;this.highlighter?.setTextMapping(i,s),this.accessibilityManager?.setTextMapping(i),yield this.#i.render(),this.#n=!0;let o=document.createElement("div");o.className="endOfContent",this.div.append(o),this.#a(o),this.#t?.(this.div),this.highlighter?.enable(),this.accessibilityManager?.enable()})}hide(){!this.div.hidden&&this.#n&&(this.highlighter?.disable(),this.div.hidden=!0)}show(){this.div.hidden&&this.#n&&(this.div.hidden=!1,this.highlighter?.enable())}cancel(){this.#i?.cancel(),this.#i=null,this.highlighter?.disable(),this.accessibilityManager?.disable(),n.#l(this.div)}#a(e){let{div:t}=this;t.addEventListener("mousedown",()=>{t.classList.add("selecting")}),t.addEventListener("copy",i=>{if(!this.#e){let s=document.getSelection();i.clipboardData.setData("text/plain",U4(ME(s.toString())))}i.preventDefault(),i.stopPropagation()}),n.#s.set(t,e),n.#u()}static#l(e){this.#s.delete(e),this.#s.size===0&&(this.#o?.abort(),this.#o=null)}static#u(){if(this.#o)return;this.#o=new AbortController;let{signal:e}=this.#o,t=(r,c)=>{c.append(r),r.style.width="",r.style.height="",c.classList.remove("selecting")},i=!1;document.addEventListener("pointerdown",()=>{i=!0},{signal:e}),document.addEventListener("pointerup",()=>{i=!1,this.#s.forEach(t)},{signal:e}),window.addEventListener("blur",()=>{i=!1,this.#s.forEach(t)},{signal:e}),document.addEventListener("keyup",()=>{i||this.#s.forEach(t)},{signal:e});var s,o;document.addEventListener("selectionchange",()=>{let r=document.getSelection();if(r.rangeCount===0){this.#s.forEach(t);return}let c=new Set;for(let h=0;h<r.rangeCount;h++){let p=r.getRangeAt(h);for(let m of this.#s.keys())!c.has(m)&&p.intersectsNode(m)&&c.add(m)}for(let[h,p]of this.#s)c.has(h)?h.classList.add("selecting"):t(p,h);if(s??=getComputedStyle(this.#s.values().next().value).getPropertyValue("-moz-user-select")==="none",s)return;let a=r.getRangeAt(0),l=o&&(a.compareBoundaryPoints(Range.END_TO_END,o)===0||a.compareBoundaryPoints(Range.START_TO_END,o)===0),u=l?a.startContainer:a.endContainer;u.nodeType===Node.TEXT_NODE&&(u=u.parentNode);let f=u.parentElement?.closest(".textLayer"),d=this.#s.get(f);d&&(d.style.width=f.style.width,d.style.height=f.style.height,u.parentElement.insertBefore(d,l?u:u.nextSibling)),o=a.cloneRange()},{signal:e})}},P6=class{constructor({pdfPage:e,annotationStorage:t=null,linkService:i,xfaHtml:s=null}){this.pdfPage=e,this.annotationStorage=t,this.linkService=i,this.xfaHtml=s,this.div=null,this._cancelled=!1}render(e,t="display"){return S(this,null,function*(){if(t==="print"){let o={viewport:e.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t};return this.div=document.createElement("div"),o.div=this.div,P5.render(o)}let i=yield this.pdfPage.getXfa();if(this._cancelled||!i)return{textDivs:[]};let s={viewport:e.clone({dontFlip:!0}),div:this.div,xfaHtml:i,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t};return this.div?P5.update(s):(this.div=document.createElement("div"),s.div=this.div,P5.render(s))})}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}},pD={annotationEditorUIManager:null,annotationStorage:null,downloadManager:null,enableScripting:!1,fieldObjectsPromise:null,findController:null,hasJSActionsPromise:null,get linkService(){return new G4}},mD=new Map([["canvasWrapper",0],["textLayer",1],["annotationLayer",2],["annotationEditorLayer",3],["xfaLayer",3]]),R6=class{#e=Y2.ENABLE_FORMS;#t=!1;#n=!1;#i=!1;#s=null;#o=null;#a=null;#l=1;#u=1;#c=null;#f=k1.INITIAL;#r=y2.ENABLE;#d={directDrawing:!0,initialOptionalContent:!0,regularAnnotations:!0};#p=new WeakMap;#h=[null,null,null,null];constructor(e){let t=e.container,i=e.defaultViewport;this.id=e.id,this.renderingId="page"+this.id,this.#s=e.layerProperties||pD,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=e.scale||sg,this.viewport=i,this.pdfPageRotate=i.rotation,this._optionalContentConfigPromise=e.optionalContentConfigPromise||null,this.#r=e.textLayerMode??y2.ENABLE,this.#e=e.annotationMode??Y2.ENABLE_FORMS,this.imageResourcesPath=e.imageResourcesPath||"",this.maxCanvasPixels=e.maxCanvasPixels??sl.get("maxCanvasPixels"),this.pageColors=e.pageColors||null,this.#t=e.enableHWA||!1,this.eventBus=e.eventBus,this.renderingQueue=e.renderingQueue,this.l10n=e.l10n,this.l10n||=new yn,this.renderTask=null,this.resume=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._container=t,this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null,this.drawLayer=null;let s=document.createElement("div");if(s.className="page",s.setAttribute("data-page-number",this.id),s.setAttribute("role","region"),s.setAttribute("data-l10n-id","pdfjs-page-landmark"),s.setAttribute("data-l10n-args",JSON.stringify({page:this.id})),this.div=s,this.#v(),t?.append(s),this._isStandalone){t?.style.setProperty("--scale-factor",this.scale*Z2.PDF_TO_CSS_UNITS),this.pageColors?.background&&t?.style.setProperty("--page-bg-color",this.pageColors.background);let{optionalContentConfigPromise:o}=e;o&&o.then(r=>{o===this._optionalContentConfigPromise&&(this.#d.initialOptionalContent=r.hasInitialVisibility)}),e.l10n||this.l10n.translate(this.div)}}#m(e,t){let i=mD.get(t),s=this.#h[i];if(this.#h[i]=e,s){s.replaceWith(e);return}for(let o=i-1;o>=0;o--){let r=this.#h[o];if(r){r.after(e);return}}this.div.prepend(e)}get renderingState(){return this.#f}set renderingState(e){if(e!==this.#f)switch(this.#f=e,this.#o&&(clearTimeout(this.#o),this.#o=null),e){case k1.PAUSED:this.div.classList.remove("loading");break;case k1.RUNNING:this.div.classList.add("loadingIcon"),this.#o=setTimeout(()=>{this.div.classList.add("loading"),this.#o=null},0);break;case k1.INITIAL:case k1.FINISHED:this.div.classList.remove("loadingIcon","loading");break}}#v(){let{viewport:e}=this;if(this.pdfPage){if(this.#a===e.rotation)return;this.#a=e.rotation}_E(this.div,e,!0,!1)}setPdfPage(e){this._isStandalone&&(this.pageColors?.foreground==="CanvasText"||this.pageColors?.background==="Canvas")&&(this._container?.style.setProperty("--hcm-highlight-filter",e.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),this._container?.style.setProperty("--hcm-highlight-selected-filter",e.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","Highlight"))),this.pdfPage=e,this.pdfPageRotate=e.rotate;let t=(this.rotation+this.pdfPageRotate)%360;this.viewport=e.getViewport({scale:this.scale*Z2.PDF_TO_CSS_UNITS,rotation:t}),this.#v(),this.reset()}destroy(){this.reset(),this.pdfPage?.cleanup()}hasEditableAnnotations(){return!!this.annotationLayer?.hasEditableAnnotations()}get _textHighlighter(){return E6(this,"_textHighlighter",new cl({pageIndex:this.id-1,eventBus:this.eventBus,findController:this.#s.findController}))}#g(e,t){this.eventBus.dispatch(e,{source:this,pageNumber:this.id,error:t})}#C(){return S(this,null,function*(){let e=null;try{yield this.annotationLayer.render(this.viewport,{structTreeLayer:this.structTreeLayer},"display")}catch(t){console.error(`#renderAnnotationLayer: "${t}".`),e=t}finally{this.#g("annotationlayerrendered",e)}})}#M(){return S(this,null,function*(){let e=null;try{yield this.annotationEditorLayer.render(this.viewport,"display")}catch(t){console.error(`#renderAnnotationEditorLayer: "${t}".`),e=t}finally{this.#g("annotationeditorlayerrendered",e)}})}#L(){return S(this,null,function*(){try{yield this.drawLayer.render("display")}catch(e){console.error(`#renderDrawLayer: "${e}".`)}})}#y(){return S(this,null,function*(){let e=null;try{let t=yield this.xfaLayer.render(this.viewport,"display");t?.textDivs&&this._textHighlighter&&this.#S(t.textDivs)}catch(t){console.error(`#renderXfaLayer: "${t}".`),e=t}finally{this.xfaLayer?.div&&(this.l10n.pause(),this.#m(this.xfaLayer.div,"xfaLayer"),this.l10n.resume()),this.#g("xfalayerrendered",e)}})}#_(){return S(this,null,function*(){if(!this.textLayer)return;let e=null;try{yield this.textLayer.render(this.viewport)}catch(t){if(t instanceof dE)return;console.error(`#renderTextLayer: "${t}".`),e=t}this.#g("textlayerrendered",e),this.#D()})}#D(){return S(this,null,function*(){if(!this.textLayer)return;let e=yield this.structTreeLayer?.render();e&&(this.l10n.pause(),this.structTreeLayer?.addElementsToTextLayer(),this.canvas&&e.parentNode!==this.canvas&&this.canvas.append(e),this.l10n.resume()),this.structTreeLayer?.show()})}#S(e){return S(this,null,function*(){let t=yield this.pdfPage.getTextContent(),i=[];for(let s of t.items)i.push(s.str);this._textHighlighter.setTextMapping(e,i),this._textHighlighter.enable()})}_resetZoomLayer(e=!1){if(!this.zoomLayer)return;let t=this.zoomLayer.firstChild;this.#p.delete(t),t.width=0,t.height=0,e&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:e=!1,keepAnnotationLayer:t=!1,keepAnnotationEditorLayer:i=!1,keepXfaLayer:s=!1,keepTextLayer:o=!1}={}){this.cancelRendering({keepAnnotationLayer:t,keepAnnotationEditorLayer:i,keepXfaLayer:s,keepTextLayer:o}),this.renderingState=k1.INITIAL;let r=this.div,c=r.childNodes,a=e&&this.zoomLayer||null,l=t&&this.annotationLayer?.div||null,u=i&&this.annotationEditorLayer?.div||null,f=s&&this.xfaLayer?.div||null,d=o&&this.textLayer?.div||null;for(let h=c.length-1;h>=0;h--){let p=c[h];switch(p){case a:case l:case u:case f:case d:continue}p.remove();let m=this.#h.indexOf(p);m>=0&&(this.#h[m]=null)}r.removeAttribute("data-loaded"),l&&this.annotationLayer.hide(),u&&this.annotationEditorLayer.hide(),f&&this.xfaLayer.hide(),d&&this.textLayer.hide(),this.structTreeLayer?.hide(),a||(this.canvas&&(this.#p.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer())}toggleEditingMode(e){this.hasEditableAnnotations()&&(this.#i=e,this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0}))}update({scale:e=0,rotation:t=null,optionalContentConfigPromise:i=null,drawingDelay:s=-1}){this.scale=e||this.scale,typeof t=="number"&&(this.rotation=t),i instanceof Promise&&(this._optionalContentConfigPromise=i,i.then(r=>{i===this._optionalContentConfigPromise&&(this.#d.initialOptionalContent=r.hasInitialVisibility)})),this.#d.directDrawing=!0;let o=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*Z2.PDF_TO_CSS_UNITS,rotation:o}),this.#v(),this._isStandalone&&this._container?.style.setProperty("--scale-factor",this.viewport.scale),this.canvas){let r=!1;if(this.#n){if(this.maxCanvasPixels===0)r=!0;else if(this.maxCanvasPixels>0){let{width:a,height:l}=this.viewport,{sx:u,sy:f}=this.outputScale;r=(Math.floor(a)*u|0)*(Math.floor(l)*f|0)>this.maxCanvasPixels}}let c=s>=0&&s<1e3;if(c||r){if(c&&!r&&this.renderingState!==k1.FINISHED&&(this.cancelRendering({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,cancelExtraDelay:s}),this.renderingState=k1.FINISHED,this.#d.directDrawing=!1),this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0,redrawTextLayer:!c,hideTextLayer:c}),c)return;this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this.#c});return}!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0})}cancelRendering({keepAnnotationLayer:e=!1,keepAnnotationEditorLayer:t=!1,keepXfaLayer:i=!1,keepTextLayer:s=!1,cancelExtraDelay:o=0}={}){this.renderTask&&(this.renderTask.cancel(o),this.renderTask=null),this.resume=null,this.textLayer&&(!s||!this.textLayer.div)&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!e||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.structTreeLayer&&!this.textLayer&&(this.structTreeLayer=null),this.annotationEditorLayer&&(!t||!this.annotationEditorLayer.div)&&(this.drawLayer&&(this.drawLayer.cancel(),this.drawLayer=null),this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),this.xfaLayer&&(!i||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this._textHighlighter?.disable())}cssTransform({target:e,redrawAnnotationLayer:t=!1,redrawAnnotationEditorLayer:i=!1,redrawXfaLayer:s=!1,redrawTextLayer:o=!1,hideTextLayer:r=!1}){if(!e.hasAttribute("zooming")){e.setAttribute("zooming",!0);let{style:a}=e;a.width=a.height=""}let c=this.#p.get(e);if(this.viewport!==c){let a=this.viewport.rotation-c.rotation,l=Math.abs(a),u=1,f=1;if(l===90||l===270){let{width:d,height:h}=this.viewport;u=h/d,f=d/h}e.style.transform=`rotate(${a}deg) scale(${u}, ${f})`}t&&this.annotationLayer&&this.#C(),i&&this.annotationEditorLayer&&(this.drawLayer&&this.#L(),this.#M()),s&&this.xfaLayer&&this.#y(),this.textLayer&&(r?(this.textLayer.hide(),this.structTreeLayer?.hide()):o&&this.#_())}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(e,t){return this.viewport.convertToPdfPoint(e,t)}#w(e,t=null){return S(this,null,function*(){if(e===this.renderTask&&(this.renderTask=null),t instanceof U5){this.#c=null;return}if(this.#c=t,this.renderingState=k1.FINISHED,this._resetZoomLayer(!0),this.#d.regularAnnotations=!e.separateAnnots,this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!1,timestamp:performance.now(),error:this.#c}),t)throw t})}draw(){return S(this,null,function*(){this.renderingState!==k1.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());let{div:e,l10n:t,pageColors:i,pdfPage:s,viewport:o}=this;if(!s)throw this.renderingState=k1.FINISHED,new Error("pdfPage is not loaded");this.renderingState=k1.RUNNING;let r=document.createElement("div");if(r.classList.add("canvasWrapper"),this.#m(r,"canvasWrapper"),!this.textLayer&&this.#r!==y2.DISABLE&&!s.isPureXfa&&(this._accessibilityManager||=new rl,this.textLayer=new O6({pdfPage:s,highlighter:this._textHighlighter,accessibilityManager:this._accessibilityManager,enablePermissions:this.#r===y2.ENABLE_PERMISSIONS,onAppend:y=>{this.l10n.pause(),this.#m(y,"textLayer"),this.l10n.resume()}})),!this.annotationLayer&&this.#e!==Y2.DISABLE){let{annotationStorage:y,annotationEditorUIManager:w,downloadManager:T,enableScripting:f1,fieldObjectsPromise:l1,hasJSActionsPromise:s1,linkService:b1}=this.#s;this._annotationCanvasMap||=new Map,this.annotationLayer=new D6({pdfPage:s,annotationStorage:y,imageResourcesPath:this.imageResourcesPath,renderForms:this.#e===Y2.ENABLE_FORMS,linkService:b1,downloadManager:T,enableScripting:f1,hasJSActionsPromise:s1,fieldObjectsPromise:l1,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager,annotationEditorUIManager:w,onAppend:N1=>{this.#m(N1,"annotationLayer")}})}let c=y=>{if(d?.(!1),this.renderingQueue&&!this.renderingQueue.isHighestPriority(this)){this.renderingState=k1.PAUSED,this.resume=()=>{this.renderingState=k1.RUNNING,y()};return}y()},{width:a,height:l}=o,u=document.createElement("canvas");u.setAttribute("role","presentation"),u.hidden=!0;let f=!!(i?.background&&i?.foreground),d=y=>{(!f||y)&&(u.hidden=!1,d=null)};r.append(u),this.canvas=u;let h=u.getContext("2d",{alpha:!1,willReadFrequently:!this.#t}),p=this.outputScale=new yE;if(this.maxCanvasPixels===0){let y=1/this.scale;p.sx*=y,p.sy*=y,this.#n=!0}else if(this.maxCanvasPixels>0){let y=a*l,w=Math.sqrt(this.maxCanvasPixels/y);p.sx>w||p.sy>w?(p.sx=w,p.sy=w,this.#n=!0):this.#n=!1}let m=Em(p.sx),v=Em(p.sy),g=u.width=y6(_6(a*p.sx),m[0]),C=u.height=y6(_6(l*p.sy),v[0]),M=y6(_6(a),m[1]),b=y6(_6(l),v[1]);p.sx=g/M,p.sy=C/b,this.#l!==m[1]&&(e.style.setProperty("--scale-round-x",`${m[1]}px`),this.#l=m[1]),this.#u!==v[1]&&(e.style.setProperty("--scale-round-y",`${v[1]}px`),this.#u=v[1]),this.#p.set(u,o);let _=p.scaled?[p.sx,0,0,p.sy,0,0]:null,L={canvasContext:h,transform:_,viewport:o,annotationMode:this.#e,optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:i,isEditing:this.#i},x=this.renderTask=s.render(L);x.onContinue=c;let A=x.promise.then(()=>S(this,null,function*(){d?.(!0),yield this.#w(x),this.structTreeLayer||=new k6(s,o.rawDims),this.#_(),this.annotationLayer&&(yield this.#C());let{annotationEditorUIManager:y}=this.#s;y&&(this.drawLayer||=new ol({pageIndex:this.id}),yield this.#L(),this.drawLayer.setParent(r),this.annotationEditorLayer||=new nl({uiManager:y,pdfPage:s,l10n:t,structTreeLayer:this.structTreeLayer,accessibilityManager:this._accessibilityManager,annotationLayer:this.annotationLayer?.annotationLayer,textLayer:this.textLayer,drawLayer:this.drawLayer.getDrawLayer(),onAppend:w=>{this.#m(w,"annotationEditorLayer")}}),this.#M())}),y=>(y instanceof U5||d?.(!0),this.#w(x,y)));if(s.isPureXfa){if(!this.xfaLayer){let{annotationStorage:y,linkService:w}=this.#s;this.xfaLayer=new P6({pdfPage:s,annotationStorage:y,linkService:w})}this.#y()}return e.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),A})}setPageLabel(e){this.pageLabel=typeof e=="string"?e:null,this.div.setAttribute("data-l10n-args",JSON.stringify({page:this.pageLabel??this.id})),this.pageLabel!==null?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){let{directDrawing:e,initialOptionalContent:t,regularAnnotations:i}=this.#d;return e&&t&&i?this.canvas:null}};function gD(n){return S(this,null,function*(){let e="",t=e.split("#",1)[0],{info:i,metadata:s,contentDispositionFilename:o,contentLength:r}=yield n.getMetadata();if(!r){let{length:c}=yield n.getDownloadInfo();r=c}return t1(N({},i),{baseURL:t,filesize:r,filename:o||CE(e),metadata:s?.getRaw(),authors:s?.get("dc:creator"),numPages:n.numPages,URL:e})})}var al=class{constructor(e){this._ready=new Promise((t,i)=>{import(e).then(o=>{t(o.QuickJSSandbox())}).catch(i)})}createSandbox(e){return S(this,null,function*(){(yield this._ready).create(e)})}dispatchEventInSandbox(e){return S(this,null,function*(){let t=yield this._ready;setTimeout(()=>t.dispatchEvent(e),0)})}destroySandbox(){return S(this,null,function*(){(yield this._ready).nukeSandbox()})}},ll=class{#e=null;#t=null;#n=null;#i=null;#s=null;#o=null;#a=null;#l=null;#u=!1;#c=null;#f=null;constructor({eventBus:e,externalServices:t=null,docProperties:i=null}){this.#s=e,this.#o=t,this.#n=i}setViewer(e){this.#l=e}setDocument(e){return S(this,null,function*(){if(this.#a&&(yield this.#m()),this.#a=e,!e)return;let[t,i,s]=yield Promise.all([e.getFieldObjects(),e.getCalculationOrderIds(),e.getJSActions()]);if(!t&&!s){yield this.#m();return}if(e!==this.#a)return;try{this.#c=this.#h()}catch(c){console.error(`setDocument: "${c.message}".`),yield this.#m();return}let o=this.#s;this.#i=new AbortController;let{signal:r}=this.#i;o._on("updatefromsandbox",c=>{c?.source===window&&this.#r(c.detail)},{signal:r}),o._on("dispatcheventinsandbox",c=>{this.#c?.dispatchEventInSandbox(c.detail)},{signal:r}),o._on("pagechanging",({pageNumber:c,previous:a})=>{c!==a&&(this.#p(a),this.#d(c))},{signal:r}),o._on("pagerendered",({pageNumber:c})=>{this._pageOpenPending.has(c)&&c===this.#l.currentPageNumber&&this.#d(c)},{signal:r}),o._on("pagesdestroy",()=>S(this,null,function*(){yield this.#p(this.#l.currentPageNumber),yield this.#c?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),this.#e?.resolve()}),{signal:r});try{let c=yield this.#n(e);if(e!==this.#a)return;yield this.#c.createSandbox({objects:t,calculationOrder:i,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:t1(N({},c),{actions:s})}),o.dispatch("sandboxcreated",{source:this})}catch(c){console.error(`setDocument: "${c.message}".`),yield this.#m();return}yield this.#c?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield this.#d(this.#l.currentPageNumber,!0),Promise.resolve().then(()=>{e===this.#a&&(this.#u=!0)})})}dispatchWillSave(){return S(this,null,function*(){return this.#c?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})}dispatchDidSave(){return S(this,null,function*(){return this.#c?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})}dispatchWillPrint(){return S(this,null,function*(){if(this.#c){yield this.#f?.promise,this.#f=Promise.withResolvers();try{yield this.#c.dispatchEventInSandbox({id:"doc",name:"WillPrint"})}catch(e){throw this.#f.resolve(),this.#f=null,e}yield this.#f.promise}})}dispatchDidPrint(){return S(this,null,function*(){return this.#c?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})}get destroyPromise(){return this.#t?.promise||null}get ready(){return this.#u}get _pageOpenPending(){return E6(this,"_pageOpenPending",new Set)}get _visitedPages(){return E6(this,"_visitedPages",new Map)}#r(e){return S(this,null,function*(){let t=this.#l,i=t.isInPresentationMode||t.isChangingPresentationMode,{id:s,siblings:o,command:r,value:c}=e;if(!s){switch(r){case"clear":console.clear();break;case"error":console.error(c);break;case"layout":if(!i){let l=UA(c);t.spreadMode=l.spreadMode}break;case"page-num":t.currentPageNumber=c+1;break;case"print":yield t.pagesPromise,this.#s.dispatch("print",{source:this});break;case"println":console.log(c);break;case"zoom":i||(t.currentScaleValue=c);break;case"SaveAs":this.#s.dispatch("download",{source:this});break;case"FirstPage":t.currentPageNumber=1;break;case"LastPage":t.currentPageNumber=t.pagesCount;break;case"NextPage":t.nextPage();break;case"PrevPage":t.previousPage();break;case"ZoomViewIn":i||t.increaseScale();break;case"ZoomViewOut":i||t.decreaseScale();break;case"WillPrintFinished":this.#f?.resolve(),this.#f=null;break}return}if(i&&e.focus)return;delete e.id,delete e.siblings;let a=o?[s,...o]:[s];for(let l of a){let u=document.querySelector(`[data-element-id="${l}"]`);u?u.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:e})):this.#a?.annotationStorage.setValue(l,e)}})}#d(e,t=!1){return S(this,null,function*(){let i=this.#a,s=this._visitedPages;if(t&&(this.#e=Promise.withResolvers()),!this.#e)return;let o=this.#l.getPageView(e-1);if(o?.renderingState!==k1.FINISHED){this._pageOpenPending.add(e);return}this._pageOpenPending.delete(e);let r=S(this,null,function*(){let c=yield s.has(e)?null:o.pdfPage?.getJSActions();i===this.#a&&(yield this.#c?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:e,actions:c}))});s.set(e,r)})}#p(e){return S(this,null,function*(){let t=this.#a,i=this._visitedPages;if(!this.#e||this._pageOpenPending.has(e))return;let s=i.get(e);s&&(i.set(e,null),yield s,t===this.#a&&(yield this.#c?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:e})))})}#h(){if(this.#t=Promise.withResolvers(),this.#c)throw new Error("#initScripting: Scripting already exists.");return this.#o.createScripting()}#m(){return S(this,null,function*(){if(!this.#c){this.#a=null,this.#t?.resolve();return}this.#e&&(yield Promise.race([this.#e.promise,new Promise(e=>{setTimeout(e,1e3)})]).catch(()=>{}),this.#e=null),this.#a=null;try{yield this.#c.destroySandbox()}catch{}this.#f?.reject(new Error("Scripting destroyed.")),this.#f=null,this.#i?.abort(),this.#i=null,this._pageOpenPending.clear(),this._visitedPages.clear(),this.#c=null,this.#u=!1,this.#t?.resolve()})}},ul=class extends ll{constructor(e){e.externalServices||window.addEventListener("updatefromsandbox",t=>{e.eventBus.dispatch("updatefromsandbox",{source:window,detail:t.detail})}),e.externalServices||={createScripting:()=>new al(e.sandboxBundleSrc)},e.docProperties||=t=>gD(t),super(e)}},vD=3e4,fl=class{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1,Object.defineProperty(this,"hasViewer",{value:()=>!!this.pdfViewer})}setViewer(e){this.pdfViewer=e}setThumbnailViewer(e){this.pdfThumbnailViewer=e}isHighestPriority(e){return this.highestPriorityPage===e.renderingId}renderHighestPriority(e){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(e)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),vD)))}getHighestPriority(e,t,i,s=!1){let o=e.views,r=o.length;if(r===0)return null;for(let f=0;f<r;f++){let d=o[f].view;if(!this.isViewFinished(d))return d}let c=e.first.id,a=e.last.id;if(a-c+1>r){let f=e.ids;for(let d=1,h=a-c;d<h;d++){let p=i?c+d:a-d;if(f.has(p))continue;let m=t[p-1];if(!this.isViewFinished(m))return m}}let l=i?a:c-2,u=t[l];return u&&!this.isViewFinished(u)||s&&(l+=i?1:-1,u=t[l],u&&!this.isViewFinished(u))?u:null}isViewFinished(e){return e.renderingState===k1.FINISHED}renderView(e){switch(e.renderingState){case k1.FINISHED:return!1;case k1.PAUSED:this.highestPriorityPage=e.renderingId,e.resume();break;case k1.RUNNING:this.highestPriorityPage=e.renderingId;break;case k1.INITIAL:this.highestPriorityPage=e.renderingId,e.draw().finally(()=>{this.renderHighestPriority()}).catch(t=>{t instanceof U5||console.error(`renderView: "${t}"`)});break}return!0}},ng=10,x6={FORCE_SCROLL_MODE_PAGE:1e4,FORCE_LAZY_PAGE_INIT:5e3,PAUSE_EAGER_PAGE_INIT:250};function ig(n){return Object.values(De).includes(n)&&n!==De.DISABLE}var dl=class{#e=new Set;#t=0;constructor(e){this.#t=e}push(e){let t=this.#e;t.has(e)&&t.delete(e),t.add(e),t.size>this.#t&&this.#n()}resize(e,t=null){this.#t=e;let i=this.#e;if(t){let s=i.size,o=1;for(let r of i)if(t.has(r.id)&&(i.delete(r),i.add(r)),++o>s)break}for(;i.size>this.#t;)this.#n()}has(e){return this.#e.has(e)}[Symbol.iterator](){return this.#e.keys()}#n(){let e=this.#e.keys().next().value;e?.destroy(),this.#e.delete(e)}},F6=class{#e=null;#t=null;#n=null;#i=De.NONE;#s=null;#o=Y2.ENABLE_FORMS;#a=null;#l=!1;#u=!1;#c=!1;#f=!1;#r=!1;#d=null;#p=null;#h=null;#m=null;#v=!1;#g=null;#C=!1;#M=0;#L=new ResizeObserver(this.#F.bind(this));#y=null;#_=null;#D=y2.ENABLE;constructor(e){let t="4.8.69";if(Fm!==t)throw new Error(`The API version "${Fm}" does not match the Viewer version "${t}".`);if(this.container=e.container,this.viewer=e.viewer||e.container.firstElementChild,this.container?.tagName!=="DIV"||this.viewer?.tagName!=="DIV")throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&getComputedStyle(this.container).position!=="absolute")throw new Error("The `container` must be absolutely positioned.");this.#L.observe(this.container),this.eventBus=e.eventBus,this.linkService=e.linkService||new G4,this.downloadManager=e.downloadManager||null,this.findController=e.findController||null,this.#t=e.altTextManager||null,this.findController&&(this.findController.onIsPageVisible=s=>this._getVisiblePages().ids.has(s)),this._scriptingManager=e.scriptingManager||null,this.#D=e.textLayerMode??y2.ENABLE,this.#o=e.annotationMode??Y2.ENABLE_FORMS,this.#i=e.annotationEditorMode??De.NONE,this.#n=e.annotationEditorHighlightColors||null,this.#u=e.enableHighlightFloatingButton===!0,this.#f=e.enableUpdatedAddImage===!0,this.#r=e.enableNewAltTextWhenAddingImage===!0,this.imageResourcesPath=e.imageResourcesPath||"",this.enablePrintAutoRotate=e.enablePrintAutoRotate||!1,this.removePageBorders=e.removePageBorders||!1,this.maxCanvasPixels=e.maxCanvasPixels,this.l10n=e.l10n,this.l10n||=new yn,this.#c=e.enablePermissions||!1,this.pageColors=e.pageColors||null,this.#p=e.mlManager||null,this.#l=e.enableHWA||!1,this.defaultRenderingQueue=!e.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new fl,this.renderingQueue.setViewer(this)):this.renderingQueue=e.renderingQueue;let{abortSignal:i}=e;i?.addEventListener("abort",()=>{this.#L.disconnect(),this.#L=null},{once:!0}),this.scroll=PA(this.container,this._scrollUpdate.bind(this),i),this.presentationModeState=Cn.UNKNOWN,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.#P(),this.eventBus._on("thumbnailrendered",({pageNumber:s,pdfPage:o})=>{let r=this._pages[s-1];this.#e.has(r)||o?.cleanup()}),e.l10n||this.l10n.translate(this.container)}get pagesCount(){return this._pages.length}getPageView(e){return this._pages[e]}getCachedPageViews(){return new Set(this.#e)}get pageViewsReady(){return this._pages.every(e=>e?.pdfPage)}get renderForms(){return this.#o===Y2.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(e){if(!Number.isInteger(e))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(e,!0)||console.error(`currentPageNumber: "${e}" is not a valid page.`))}_setCurrentPageNumber(e,t=!1){if(this._currentPageNumber===e)return t&&this.#T(),!0;if(!(0<e&&e<=this.pagesCount))return!1;let i=this._currentPageNumber;return this._currentPageNumber=e,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:e,pageLabel:this._pageLabels?.[e-1]??null,previous:i}),t&&this.#T(),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(e){if(!this.pdfDocument)return;let t=e|0;if(this._pageLabels){let i=this._pageLabels.indexOf(e);i>=0&&(t=i+1)}this._setCurrentPageNumber(t,!0)||console.error(`currentPageLabel: "${e}" is not a valid page.`)}get currentScale(){return this._currentScale!==T5?this._currentScale:sg}set currentScale(e){if(isNaN(e))throw new Error("Invalid numeric scale.");this.pdfDocument&&this.#E(e,{noScroll:!1})}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(e){this.pdfDocument&&this.#E(e,{noScroll:!1})}get pagesRotation(){return this._pagesRotation}set pagesRotation(e){if(!rg(e))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||(e%=360,e<0&&(e+=360),this._pagesRotation===e))return;this._pagesRotation=e;let t=this._currentPageNumber;this.refresh(!0,{rotation:e}),this._currentScaleValue&&this.#E(this._currentScaleValue,{noScroll:!0}),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:e,pageNumber:t}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}get _layerProperties(){let e=this;return E6(this,"_layerProperties",{get annotationEditorUIManager(){return e.#s},get annotationStorage(){return e.pdfDocument?.annotationStorage},get downloadManager(){return e.downloadManager},get enableScripting(){return!!e._scriptingManager},get fieldObjectsPromise(){return e.pdfDocument?.getFieldObjects()},get findController(){return e.findController},get hasJSActionsPromise(){return e.pdfDocument?.hasJSActions()},get linkService(){return e.linkService}})}#S(e){let t={annotationEditorMode:this.#i,annotationMode:this.#o,textLayerMode:this.#D};return e&&(!e.includes(w6.COPY)&&this.#D===y2.ENABLE&&(t.textLayerMode=y2.ENABLE_PERMISSIONS),e.includes(w6.MODIFY_CONTENTS)||(t.annotationEditorMode=De.DISABLE),!e.includes(w6.MODIFY_ANNOTATIONS)&&!e.includes(w6.FILL_INTERACTIVE_FORMS)&&this.#o===Y2.ENABLE_FORMS&&(t.annotationMode=Y2.ENABLE)),t}#w(e){return S(this,null,function*(){if(document.visibilityState==="hidden"||!this.container.offsetParent||this._getVisiblePages().views.length===0)return;let t=Promise.withResolvers(),i=new AbortController;document.addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&t.resolve()},{signal:typeof AbortSignal.any=="function"?AbortSignal.any([e,i.signal]):e}),yield Promise.race([this._onePageRenderedCapability.promise,t.promise]),i.abort()})}getAllText(){return S(this,null,function*(){let e=[],t=[];for(let i=1,s=this.pdfDocument.numPages;i<=s;++i){if(this.#C)return null;t.length=0;let o=yield this.pdfDocument.getPage(i),{items:r}=yield o.getTextContent();for(let c of r)c.str&&t.push(c.str),c.hasEOL&&t.push(`
`);e.push(U4(t.join("")))}return e.join(`
`)})}#A(e,t){let i=document.getSelection(),{focusNode:s,anchorNode:o}=i;if(o&&s&&i.containsNode(this.#g)){if(this.#v||e===y2.ENABLE_PERMISSIONS){t.preventDefault(),t.stopPropagation();return}this.#v=!0;let{classList:r}=this.viewer;r.add("copyAll");let c=new AbortController;window.addEventListener("keydown",a=>this.#C=a.key==="Escape",{signal:c.signal}),this.getAllText().then(a=>S(this,null,function*(){a!==null&&(yield navigator.clipboard.writeText(a))})).catch(a=>{console.warn(`Something goes wrong when extracting the text: ${a.message}`)}).finally(()=>{this.#v=!1,this.#C=!1,c.abort(),r.remove("copyAll")}),t.preventDefault(),t.stopPropagation()}}setDocument(e){if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController?.setDocument(null),this._scriptingManager?.setDocument(null),this.#s?.destroy(),this.#s=null),this.pdfDocument=e,!e)return;let t=e.numPages,i=e.getPage(1),s=e.getOptionalContentConfig({intent:"display"}),o=this.#c?e.getPermissions():Promise.resolve(),{eventBus:r,pageColors:c,viewer:a}=this;this.#d=new AbortController;let{signal:l}=this.#d;if(t>x6.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");let d=this._scrollMode=u1.PAGE;r.dispatch("scrollmodechanged",{source:this,mode:d})}this._pagesCapability.promise.then(()=>{r.dispatch("pagesloaded",{source:this,pagesCount:t})},()=>{});let u=d=>{let h=this._pages[d.pageNumber-1];h&&this.#e.push(h)};r._on("pagerender",u,{signal:l});let f=d=>{d.cssTransform||(this._onePageRenderedCapability.resolve({timestamp:d.timestamp}),r._off("pagerendered",f))};r._on("pagerendered",f,{signal:l}),Promise.all([i,o]).then(([d,h])=>{if(e!==this.pdfDocument)return;this._firstPageCapability.resolve(d),this._optionalContentConfigPromise=s;let{annotationEditorMode:p,annotationMode:m,textLayerMode:v}=this.#S(h);if(v!==y2.DISABLE){let b=this.#g=document.createElement("div");b.id="hiddenCopyElement",a.before(b)}if(typeof AbortSignal.any=="function"&&p!==De.DISABLE){let b=p;e.isPureXfa?console.warn("Warning: XFA-editing is not implemented."):ig(b)?(this.#s=new pE(this.container,a,this.#t,r,e,c,this.#n,this.#u,this.#f,this.#r,this.#p),r.dispatch("annotationeditoruimanager",{source:this,uiManager:this.#s}),b!==De.NONE&&(b===De.STAMP&&this.#p?.loadModel("altText"),this.#s.updateMode(b))):console.error(`Invalid AnnotationEditor mode: ${b}`)}let g=this._scrollMode===u1.PAGE?null:a,C=this.currentScale,M=d.getViewport({scale:C*Z2.PDF_TO_CSS_UNITS});a.style.setProperty("--scale-factor",M.scale),c?.background&&a.style.setProperty("--page-bg-color",c.background),(c?.foreground==="CanvasText"||c?.background==="Canvas")&&(a.style.setProperty("--hcm-highlight-filter",e.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),a.style.setProperty("--hcm-highlight-selected-filter",e.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","ButtonText")));for(let b=1;b<=t;++b){let _=new R6({container:g,eventBus:r,id:b,scale:C,defaultViewport:M.clone(),optionalContentConfigPromise:s,renderingQueue:this.renderingQueue,textLayerMode:v,annotationMode:m,imageResourcesPath:this.imageResourcesPath,maxCanvasPixels:this.maxCanvasPixels,pageColors:c,l10n:this.l10n,layerProperties:this._layerProperties,enableHWA:this.#l});this._pages.push(_)}this._pages[0]?.setPdfPage(d),this._scrollMode===u1.PAGE?this.#x():this._spreadMode!==ue.NONE&&this._updateSpreadMode(),this.#w(l).then(()=>S(this,null,function*(){if(e!==this.pdfDocument)return;if(this.findController?.setDocument(e),this._scriptingManager?.setDocument(e),this.#g&&document.addEventListener("copy",this.#A.bind(this,v),{signal:l}),this.#s&&r.dispatch("annotationeditormodechanged",{source:this,mode:this.#i}),e.loadingParams.disableAutoFetch||t>x6.FORCE_LAZY_PAGE_INIT){this._pagesCapability.resolve();return}let b=t-1;if(b<=0){this._pagesCapability.resolve();return}for(let _=2;_<=t;++_){let L=e.getPage(_).then(x=>{let A=this._pages[_-1];A.pdfPage||A.setPdfPage(x),--b===0&&this._pagesCapability.resolve()},x=>{console.error(`Unable to get page ${_} to initialize viewer`,x),--b===0&&this._pagesCapability.resolve()});_%x6.PAUSE_EAGER_PAGE_INIT===0&&(yield L)}})),r.dispatch("pagesinit",{source:this}),e.getMetadata().then(({info:b})=>{e===this.pdfDocument&&b.Language&&(a.lang=b.Language)}),this.defaultRenderingQueue&&this.update()}).catch(d=>{console.error("Unable to initialize viewer",d),this._pagesCapability.reject(d)})}setPageLabels(e){if(this.pdfDocument){e?Array.isArray(e)&&this.pdfDocument.numPages===e.length?this._pageLabels=e:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let t=0,i=this._pages.length;t<i;t++)this._pages[t].setPageLabel(this._pageLabels?.[t]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=T5,this._currentScaleValue=null,this._pageLabels=null,this.#e=new dl(ng),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=Promise.withResolvers(),this._onePageRenderedCapability=Promise.withResolvers(),this._pagesCapability=Promise.withResolvers(),this._scrollMode=u1.VERTICAL,this._previousScrollMode=u1.UNKNOWN,this._spreadMode=ue.NONE,this.#y={previousPageNumber:1,scrollDown:!0,pages:[]},this.#d?.abort(),this.#d=null,this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.#g?.remove(),this.#g=null,this.#H()}#x(){if(this._scrollMode!==u1.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");let e=this._currentPageNumber,t=this.#y,i=this.viewer;if(i.textContent="",t.pages.length=0,this._spreadMode===ue.NONE&&!this.isInPresentationMode){let s=this._pages[e-1];i.append(s.div),t.pages.push(s)}else{let s=new Set,o=this._spreadMode-1;o===-1?s.add(e-1):e%2!==o?(s.add(e-1),s.add(e)):(s.add(e-2),s.add(e-1));let r=document.createElement("div");if(r.className="spread",this.isInPresentationMode){let c=document.createElement("div");c.className="dummyPage",r.append(c)}for(let c of s){let a=this._pages[c];a&&(r.append(a.div),t.pages.push(a))}i.append(r)}t.scrollDown=e>=t.previousPageNumber,t.previousPageNumber=e}_scrollUpdate(){this.pagesCount!==0&&this.update()}#N(e,t=null){let{div:i,id:s}=e;if(this._currentPageNumber!==s&&this._setCurrentPageNumber(s),this._scrollMode===u1.PAGE&&(this.#x(),this.update()),!t&&!this.isInPresentationMode){let o=i.offsetLeft+i.clientLeft,r=o+i.clientWidth,{scrollLeft:c,clientWidth:a}=this.container;(this._scrollMode===u1.HORIZONTAL||o<c||r>c+a)&&(t={left:0,top:0})}og(i,t),!this._currentScaleValue&&this._location&&(this._location=null)}#I(e){return e===this._currentScale||Math.abs(e-this._currentScale)<1e-15}#z(e,t,{noScroll:i=!1,preset:s=!1,drawingDelay:o=-1,origin:r=null}){if(this._currentScaleValue=t.toString(),this.#I(e)){s&&this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:t});return}this.viewer.style.setProperty("--scale-factor",e*Z2.PDF_TO_CSS_UNITS);let c=o>=0&&o<1e3;this.refresh(!0,{scale:e,drawingDelay:c?o:-1}),c&&(this.#_=setTimeout(()=>{this.#_=null,this.refresh()},o));let a=this._currentScale;if(this._currentScale=e,!i){let l=this._currentPageNumber,u;if(this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(l=this._location.pageNumber,u=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:l,destArray:u,allowNegativeOffset:!0}),Array.isArray(r)){let f=e/a-1,[d,h]=this.containerTopLeft;this.container.scrollLeft+=(r[0]-h)*f,this.container.scrollTop+=(r[1]-d)*f}}this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:s?t:void 0}),this.defaultRenderingQueue&&this.update()}get#b(){return this._spreadMode!==ue.NONE&&this._scrollMode!==u1.HORIZONTAL?2:1}#E(e,t){let i=parseFloat(e);if(i>0)t.preset=!1,this.#z(i,e,t);else{let s=this._pages[this._currentPageNumber-1];if(!s)return;let o=xm,r=Sm;this.isInPresentationMode?(o=r=4,this._spreadMode!==ue.NONE&&(o*=2)):this.removePageBorders?o=r=0:this._scrollMode===u1.HORIZONTAL&&([o,r]=[r,o]);let c=(this.container.clientWidth-o)/s.width*s.scale/this.#b,a=(this.container.clientHeight-r)/s.height*s.scale;switch(e){case"page-actual":i=1;break;case"page-width":i=c;break;case"page-height":i=a;break;case"page-fit":i=Math.min(c,a);break;case"auto":let l=Dm(s)?c:Math.min(a,c);i=Math.min(OA,l);break;default:console.error(`#setScale: "${e}" is an unknown zoom value.`);return}t.preset=!0,this.#z(i,e,t)}}#T(){let e=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this.#E(this._currentScaleValue,{noScroll:!0}),this.#N(e)}pageLabelToPageNumber(e){if(!this._pageLabels)return null;let t=this._pageLabels.indexOf(e);return t<0?null:t+1}scrollPageIntoView({pageNumber:e,destArray:t=null,allowNegativeOffset:i=!1,ignoreDestinationZoom:s=!1}){if(!this.pdfDocument)return;let o=Number.isInteger(e)&&this._pages[e-1];if(!o){console.error(`scrollPageIntoView: "${e}" is not a valid pageNumber parameter.`);return}if(this.isInPresentationMode||!t){this._setCurrentPageNumber(e,!0);return}let r=0,c=0,a=0,l=0,u,f,d=o.rotation%180!==0,h=(d?o.height:o.width)/o.scale/Z2.PDF_TO_CSS_UNITS,p=(d?o.width:o.height)/o.scale/Z2.PDF_TO_CSS_UNITS,m=0;switch(t[1].name){case"XYZ":r=t[2],c=t[3],m=t[4],r=r!==null?r:0,c=c!==null?c:p;break;case"Fit":case"FitB":m="page-fit";break;case"FitH":case"FitBH":c=t[2],m="page-width",c===null&&this._location?(r=this._location.left,c=this._location.top):(typeof c!="number"||c<0)&&(c=p);break;case"FitV":case"FitBV":r=t[2],a=h,l=p,m="page-height";break;case"FitR":r=t[2],c=t[3],a=t[4]-r,l=t[5]-c;let M=xm,b=Sm;this.removePageBorders&&(M=b=0),u=(this.container.clientWidth-M)/a/Z2.PDF_TO_CSS_UNITS,f=(this.container.clientHeight-b)/l/Z2.PDF_TO_CSS_UNITS,m=Math.min(Math.abs(u),Math.abs(f));break;default:console.error(`scrollPageIntoView: "${t[1].name}" is not a valid destination type.`);return}if(s||(m&&m!==this._currentScale?this.currentScaleValue=m:this._currentScale===T5&&(this.currentScaleValue=TA)),m==="page-fit"&&!t[4]){this.#N(o);return}let v=[o.viewport.convertToViewportPoint(r,c),o.viewport.convertToViewportPoint(r+a,c+l)],g=Math.min(v[0][0],v[1][0]),C=Math.min(v[0][1],v[1][1]);i||(g=Math.max(g,0),C=Math.max(C,0)),this.#N(o,{left:g,top:C})}_updateLocation(e){let t=this._currentScale,i=this._currentScaleValue,s=parseFloat(i)===t?Math.round(t*1e4)/100:i,o=e.id,r=this._pages[o-1],c=this.container,a=r.getPagePoint(c.scrollLeft-e.x,c.scrollTop-e.y),l=Math.round(a[0]),u=Math.round(a[1]),f=`#page=${o}`;this.isInPresentationMode||(f+=`&zoom=${s},${l},${u}`),this._location={pageNumber:o,scale:s,top:u,left:l,rotation:this._pagesRotation,pdfOpenParams:f}}update(){let e=this._getVisiblePages(),t=e.views,i=t.length;if(i===0)return;let s=Math.max(ng,2*i+1);this.#e.resize(s,e.ids),this.renderingQueue.renderHighestPriority(e);let o=this._spreadMode===ue.NONE&&(this._scrollMode===u1.PAGE||this._scrollMode===u1.VERTICAL),r=this._currentPageNumber,c=!1;for(let a of t){if(a.percent<100)break;if(a.id===r&&o){c=!0;break}}this._setCurrentPageNumber(c?r:t[0].id),this._updateLocation(e.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}#R(){let e=this._getVisiblePages(),t=[],{ids:i,views:s}=e;for(let o of s){let{view:r}=o;if(!r.hasEditableAnnotations()){i.delete(r.id);continue}t.push(o)}return t.length===0?null:(this.renderingQueue.renderHighestPriority({first:t[0],last:t.at(-1),views:t,ids:i}),i)}containsElement(e){return this.container.contains(e)}focus(){this.container.focus()}get _isContainerRtl(){return getComputedStyle(this.container).direction==="rtl"}get isInPresentationMode(){return this.presentationModeState===Cn.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===Cn.CHANGING}get isHorizontalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){let e=this._scrollMode===u1.PAGE?this.#y.pages:this._pages,t=this._scrollMode===u1.HORIZONTAL,i=t&&this._isContainerRtl;return FA({scrollEl:this.container,views:e,sortByVisibility:!0,horizontal:t,rtl:i})}cleanup(){for(let e of this._pages)e.renderingState!==k1.FINISHED&&e.reset()}_cancelRendering(){for(let e of this._pages)e.cancelRendering()}#B(e){return S(this,null,function*(){if(e.pdfPage)return e.pdfPage;try{let t=yield this.pdfDocument.getPage(e.id);return e.pdfPage||e.setPdfPage(t),t}catch(t){return console.error("Unable to get page for page view",t),null}})}#V(e){if(e.first?.id===1)return!0;if(e.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case u1.PAGE:return this.#y.scrollDown;case u1.HORIZONTAL:return this.scroll.right}return this.scroll.down}forceRendering(e){let t=e||this._getVisiblePages(),i=this.#V(t),s=this._spreadMode!==ue.NONE&&this._scrollMode!==u1.HORIZONTAL,o=this.renderingQueue.getHighestPriority(t,this._pages,i,s);return o?(this.#B(o).then(()=>{this.renderingQueue.renderView(o)}),!0):!1}get hasEqualPageSizes(){let e=this._pages[0];for(let t=1,i=this._pages.length;t<i;++t){let s=this._pages[t];if(s.width!==e.width||s.height!==e.height)return!1}return!0}getPagesOverview(){let e;return this._pages.map(t=>{let i=t.pdfPage.getViewport({scale:1}),s=Dm(i);if(e===void 0)e=s;else if(this.enablePrintAutoRotate&&s!==e)return{width:i.height,height:i.width,rotation:(i.rotation-90)%360};return{width:i.width,height:i.height,rotation:i.rotation}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig({intent:"display"})):Promise.resolve(null)}set optionalContentConfigPromise(e){if(!(e instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${e}`);this.pdfDocument&&this._optionalContentConfigPromise&&(this._optionalContentConfigPromise=e,this.refresh(!1,{optionalContentConfigPromise:e}),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:e}))}get scrollMode(){return this._scrollMode}set scrollMode(e){if(this._scrollMode!==e){if(!HA(e))throw new Error(`Invalid scroll mode: ${e}`);this.pagesCount>x6.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=e,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:e}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(e=null){let t=this._scrollMode,i=this.viewer;i.classList.toggle("scrollHorizontal",t===u1.HORIZONTAL),i.classList.toggle("scrollWrapped",t===u1.WRAPPED),!(!this.pdfDocument||!e)&&(t===u1.PAGE?this.#x():this._previousScrollMode===u1.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this.#E(this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(e,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(e){if(this._spreadMode!==e){if(!VA(e))throw new Error(`Invalid spread mode: ${e}`);this._spreadMode=e,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:e}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(e=null){if(!this.pdfDocument)return;let t=this.viewer,i=this._pages;if(this._scrollMode===u1.PAGE)this.#x();else if(t.textContent="",this._spreadMode===ue.NONE)for(let s of this._pages)t.append(s.div);else{let s=this._spreadMode-1,o=null;for(let r=0,c=i.length;r<c;++r)o===null?(o=document.createElement("div"),o.className="spread",t.append(o)):r%2===s&&(o=o.cloneNode(!1),t.append(o)),o.append(i[r].div)}e&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this.#E(this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(e,!0),this.update())}_getPageAdvance(e,t=!1){switch(this._scrollMode){case u1.WRAPPED:{let{views:i}=this._getVisiblePages(),s=new Map;for(let{id:o,y:r,percent:c,widthPercent:a}of i){if(c===0||a<100)continue;let l=s.get(r);l||s.set(r,l||=[]),l.push(o)}for(let o of s.values()){let r=o.indexOf(e);if(r===-1)continue;let c=o.length;if(c===1)break;if(t)for(let a=r-1,l=0;a>=l;a--){let u=o[a],f=o[a+1]-1;if(u<f)return e-f}else for(let a=r+1,l=c;a<l;a++){let u=o[a],f=o[a-1]+1;if(u>f)return f-e}if(t){let a=o[0];if(a<e)return e-a+1}else{let a=o[c-1];if(a>e)return a-e+1}break}break}case u1.HORIZONTAL:break;case u1.PAGE:case u1.VERTICAL:{if(this._spreadMode===ue.NONE)break;let i=this._spreadMode-1;if(t&&e%2!==i)break;if(!t&&e%2===i)break;let{views:s}=this._getVisiblePages(),o=t?e-1:e+1;for(let{id:r,percent:c,widthPercent:a}of s)if(r===o){if(c>0&&a===100)return 2;break}break}}return 1}nextPage(){let e=this._currentPageNumber,t=this.pagesCount;if(e>=t)return!1;let i=this._getPageAdvance(e,!1)||1;return this.currentPageNumber=Math.min(e+i,t),!0}previousPage(){let e=this._currentPageNumber;if(e<=1)return!1;let t=this._getPageAdvance(e,!0)||1;return this.currentPageNumber=Math.max(e-t,1),!0}updateScale({drawingDelay:e,scaleFactor:t=null,steps:i=null,origin:s}){if(i===null&&t===null)throw new Error("Invalid updateScale options: either `steps` or `scaleFactor` must be provided.");if(!this.pdfDocument)return;let o=this._currentScale;if(t>0&&t!==1)o=Math.round(o*t*100)/100;else if(i){let r=i>0?zm:1/zm,c=i>0?Math.ceil:Math.floor;i=Math.abs(i);do o=c((o*r).toFixed(2)*10)/10;while(--i>0)}o=Math.max(IA,Math.min(kA,o)),this.#E(o,{noScroll:!1,drawingDelay:e,origin:s})}increaseScale(e={}){this.updateScale(t1(N({},e),{steps:e.steps??1}))}decreaseScale(e={}){this.updateScale(t1(N({},e),{steps:-(e.steps??1)}))}#P(e=this.container.clientHeight){e!==this.#M&&(this.#M=e,BA.setProperty("--viewer-container-height",`${e}px`))}#F(e){for(let t of e)if(t.target===this.container){this.#P(Math.floor(t.borderBoxSize[0].blockSize)),this.#a=null;break}}get containerTopLeft(){return this.#a||=[this.container.offsetTop,this.container.offsetLeft]}#H(){this.#h?.abort(),this.#h=null,this.#m!==null&&(clearTimeout(this.#m),this.#m=null)}get annotationEditorMode(){return this.#s?this.#i:De.DISABLE}set annotationEditorMode({mode:e,editId:t=null,isFromKeyboard:i=!1}){if(!this.#s)throw new Error("The AnnotationEditor is not enabled.");if(this.#i===e)return;if(!ig(e))throw new Error(`Invalid AnnotationEditor mode: ${e}`);if(!this.pdfDocument)return;e===De.STAMP&&this.#p?.loadModel("altText");let{eventBus:s}=this,o=()=>{this.#H(),this.#i=e,this.#s.updateMode(e,t,i),s.dispatch("annotationeditormodechanged",{source:this,mode:e})};if(e===De.NONE||this.#i===De.NONE){let r=e!==De.NONE;r||this.pdfDocument.annotationStorage.resetModifiedIds();for(let a of this._pages)a.toggleEditingMode(r);let c=this.#R();if(r&&c){this.#H(),this.#h=new AbortController;let a=AbortSignal.any([this.#d.signal,this.#h.signal]);s._on("pagerendered",({pageNumber:l})=>{c.delete(l),c.size===0&&(this.#m=setTimeout(o,0))},{signal:a});return}}o()}refresh(e=!1,t=Object.create(null)){if(this.pdfDocument){for(let i of this._pages)i.update(t);this.#_!==null&&(clearTimeout(this.#_),this.#_=null),e||this.update()}}},hl=class extends F6{_resetView(){super._resetView(),this._scrollMode=u1.PAGE,this._spreadMode=ue.NONE}set scrollMode(e){}_updateScrollMode(){}set spreadMode(e){}_updateSpreadMode(){}};var CD=D1.AnnotationLayerBuilder,bD=D1.DownloadManager,MD=D1.EventBus,yD=D1.FindState,pl=D1.GenericL10n,l3=D1.LinkTarget,ml=D1.PDFFindController,_D=D1.PDFHistory,gl=D1.PDFLinkService,LD=D1.PDFPageView,wD=D1.PDFScriptingManager,vl=D1.PDFSinglePageViewer,Cl=D1.PDFViewer,zD=D1.ProgressBar,xD=D1.RenderingStates,SD=D1.ScrollMode,AD=D1.SimpleLinkService,ED=D1.SpreadMode,DD=D1.StructTreeLayerBuilder,ND=D1.TextLayerBuilder,TD=D1.XfaLayerBuilder,ID=D1.parseQueryString;var kD=["pdfViewerContainer"];function OD(n,e){let t=new n.EventBus;return PD(t,e),t}function PD(n,e){d1(n,"documentload").pipe(K(e)).subscribe(()=>{let t=document.createEvent("CustomEvent");t.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(t)}),d1(n,"pagerendered").pipe(K(e)).subscribe(({pageNumber:t,cssTransform:i,source:s})=>{let o=document.createEvent("CustomEvent");o.initCustomEvent("pagerendered",!0,!0,{pageNumber:t,cssTransform:i}),s.div.dispatchEvent(o)}),d1(n,"textlayerrendered").pipe(K(e)).subscribe(({pageNumber:t,source:i})=>{let s=document.createEvent("CustomEvent");s.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:t}),i.textLayerDiv?.dispatchEvent(s)}),d1(n,"pagechanging").pipe(K(e)).subscribe(({pageNumber:t,source:i})=>{let s=document.createEvent("UIEvents");s.initEvent("pagechanging",!0,!0),s.pageNumber=t,i.container.dispatchEvent(s)}),d1(n,"pagesinit").pipe(K(e)).subscribe(({source:t})=>{let i=document.createEvent("CustomEvent");i.initCustomEvent("pagesinit",!0,!0,null),t.container.dispatchEvent(i)}),d1(n,"pagesloaded").pipe(K(e)).subscribe(({pagesCount:t,source:i})=>{let s=document.createEvent("CustomEvent");s.initCustomEvent("pagesloaded",!0,!0,{pagesCount:t}),i.container.dispatchEvent(s)}),d1(n,"scalechange").pipe(K(e)).subscribe(({scale:t,presetValue:i,source:s})=>{let o=document.createEvent("UIEvents");o.initEvent("scalechange",!0,!0),o.scale=t,o.presetValue=i,s.container.dispatchEvent(o)}),d1(n,"updateviewarea").pipe(K(e)).subscribe(({location:t,source:i})=>{let s=document.createEvent("UIEvents");s.initEvent("updateviewarea",!0,!0),s.location=t,i.container.dispatchEvent(s)}),d1(n,"find").pipe(K(e)).subscribe(({source:t,type:i,query:s,phraseSearch:o,caseSensitive:r,highlightAll:c,findPrevious:a})=>{if(t===window)return;let l=document.createEvent("CustomEvent");l.initCustomEvent("find"+i,!0,!0,{query:s,phraseSearch:o,caseSensitive:r,highlightAll:c,findPrevious:a}),window.dispatchEvent(l)}),d1(n,"attachmentsloaded").pipe(K(e)).subscribe(({attachmentsCount:t,source:i})=>{let s=document.createEvent("CustomEvent");s.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:t}),i.container.dispatchEvent(s)}),d1(n,"sidebarviewchanged").pipe(K(e)).subscribe(({view:t,source:i})=>{let s=document.createEvent("CustomEvent");s.initCustomEvent("sidebarviewchanged",!0,!0,{view:t}),i.outerContainer.dispatchEvent(s)}),d1(n,"pagemode").pipe(K(e)).subscribe(({mode:t,source:i})=>{let s=document.createEvent("CustomEvent");s.initCustomEvent("pagemode",!0,!0,{mode:t}),i.pdfViewer.container.dispatchEvent(s)}),d1(n,"namedaction").pipe(K(e)).subscribe(({action:t,source:i})=>{let s=document.createEvent("CustomEvent");s.initCustomEvent("namedaction",!0,!0,{action:t}),i.pdfViewer.container.dispatchEvent(s)}),d1(n,"presentationmodechanged").pipe(K(e)).subscribe(({active:t,switchInProgress:i})=>{let s=document.createEvent("CustomEvent");s.initCustomEvent("presentationmodechanged",!0,!0,{active:t,switchInProgress:i}),window.dispatchEvent(s)}),d1(n,"outlineloaded").pipe(K(e)).subscribe(({outlineCount:t,source:i})=>{let s=document.createEvent("CustomEvent");s.initCustomEvent("outlineloaded",!0,!0,{outlineCount:t}),i.container.dispatchEvent(s)})}function Ml(n,e,t){n[e]=t}function q4(){return typeof window>"u"}q4()||Ml(vn,"verbosity",D5.INFOS);typeof Promise.withResolvers>"u"&&window&&(window.Promise.withResolvers=()=>{let n,e;return{promise:new Promise((i,s)=>{n=i,e=s}),resolve:n,reject:e}});var yl=function(n){return n[n.DISABLED=0]="DISABLED",n[n.ENABLED=1]="ENABLED",n[n.ENHANCED=2]="ENHANCED",n}(yl||{}),ug=(()=>{class n{element;ngZone;static CSS_UNITS=96/72;static BORDER_WIDTH=9;pdfViewerContainer;eventBus;pdfLinkService;pdfFindController;pdfViewer;isVisible=!1;_cMapsUrl=typeof vn<"u"?`https://unpkg.com/pdfjs-dist@${V4}/cmaps/`:null;_imageResourcesPath=typeof vn<"u"?`https://unpkg.com/pdfjs-dist@${V4}/web/images/`:void 0;_renderText=!0;_renderTextMode=yl.ENABLED;_stickToPage=!1;_originalSize=!0;_pdf;_page=1;_zoom=1;_zoomScale="page-width";_rotation=0;_showAll=!0;_canAutoResize=!0;_fitToPage=!1;_externalLinkTarget="blank";_showBorders=!1;lastLoaded;_latestScrolledPage;pageScrollTimeout=null;isInitialized=!1;loadingTask;destroy$=new g1;afterLoadComplete=new L1;pageRendered=new L1;pageInitialized=new L1;textLayerRendered=new L1;onError=new L1;onProgress=new L1;pageChange=new L1(!0);src;set cMapsUrl(t){this._cMapsUrl=t}set page(t){t=parseInt(t,10)||1;let i=t;this._pdf&&(t=this.getValidPageNumber(t)),this._page=t,i!==t&&this.pageChange.emit(t)}set renderText(t){this._renderText=t}set renderTextMode(t){this._renderTextMode=t}set originalSize(t){this._originalSize=t}set showAll(t){this._showAll=t}set stickToPage(t){this._stickToPage=t}set zoom(t){t<=0||(this._zoom=t)}get zoom(){return this._zoom}set zoomScale(t){this._zoomScale=t}get zoomScale(){return this._zoomScale}set rotation(t){if(!(typeof t=="number"&&t%90===0)){console.warn("Invalid pages rotation angle.");return}this._rotation=t}set externalLinkTarget(t){this._externalLinkTarget=t}set autoresize(t){this._canAutoResize=!!t}set fitToPage(t){this._fitToPage=!!t}set showBorders(t){this._showBorders=!!t}static getLinkTarget(t){switch(t){case"blank":return l3.BLANK;case"none":return l3.NONE;case"self":return l3.SELF;case"parent":return l3.PARENT;case"top":return l3.TOP}return null}constructor(t,i){if(this.element=t,this.ngZone=i,q4())return;let s,o=V4,r=window[`pdfWorkerSrc${o}`];r?s=r:window.hasOwnProperty("pdfWorkerSrc")&&typeof window.pdfWorkerSrc=="string"&&window.pdfWorkerSrc?s=window.pdfWorkerSrc:s=`https://cdn.jsdelivr.net/npm/pdfjs-dist@${o}/legacy/build/pdf.worker.min.mjs`,Ml(E5,"workerSrc",s)}ngAfterViewChecked(){if(this.isInitialized)return;let t=this.pdfViewerContainer.nativeElement.offsetParent;if(this.isVisible===!0&&t==null){this.isVisible=!1;return}this.isVisible===!1&&t!=null&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})}))}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}ngOnChanges(t){if(!(q4()||!this.isVisible)){if("src"in t)this.loadPDF();else if(this._pdf){if(("renderText"in t||"showAll"in t)&&(this.setupViewer(),this.resetPdfDocument()),"page"in t){let{page:i}=t;if(i.currentValue===this._latestScrolledPage)return;this.pdfViewer.scrollPageIntoView({pageNumber:this._page})}this.update()}}}updateSize(){_1(this._pdf.getPage(this.pdfViewer.currentPageNumber)).pipe(K(this.destroy$)).subscribe({next:t=>{let i=this._rotation+t.rotate,s=t.getViewport({scale:this._zoom,rotation:i}).width*n.CSS_UNITS,o=this._zoom,r=!0;if(!this._originalSize||this._fitToPage&&s>this.pdfViewerContainer.nativeElement.clientWidth){let c=t.getViewport({scale:1,rotation:i});o=this.getScale(c.width,c.height),r=!this._stickToPage}this.pdfViewer.currentScale=o,r&&this.pdfViewer.scrollPageIntoView({pageNumber:t.pageNumber,ignoreDestinationZoom:!0})}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._latestScrolledPage=0,this._pdf.destroy(),this._pdf=void 0),this.pdfViewer&&this.pdfViewer.setDocument(null),this.pdfLinkService&&this.pdfLinkService.setDocument(null,null),this.pdfFindController&&this.pdfFindController.setDocument(null)}getPDFLinkServiceConfig(){let t=n.getLinkTarget(this._externalLinkTarget);return t?{externalLinkTarget:t}:{}}initEventBus(){this.eventBus=OD(bl,this.destroy$),d1(this.eventBus,"pagerendered").pipe(K(this.destroy$)).subscribe(t=>{this.pageRendered.emit(t)}),d1(this.eventBus,"pagesinit").pipe(K(this.destroy$)).subscribe(t=>{this.pageInitialized.emit(t)}),d1(this.eventBus,"pagechanging").pipe(K(this.destroy$)).subscribe(({pageNumber:t})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=t,this.pageChange.emit(t)},100)}),d1(this.eventBus,"textlayerrendered").pipe(K(this.destroy$)).subscribe(t=>{this.textLayerRendered.emit(t)})}initPDFServices(){this.pdfLinkService=new gl(N({eventBus:this.eventBus},this.getPDFLinkServiceConfig())),this.pdfFindController=new ml({eventBus:this.eventBus,linkService:this.pdfLinkService})}getPDFOptions(){return{eventBus:this.eventBus,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfLinkService,textLayerMode:this._renderText?this._renderTextMode:yl.DISABLED,findController:this.pdfFindController,l10n:new pl("en"),imageResourcesPath:this._imageResourcesPath,annotationEditorMode:A5.DISABLE}}setupViewer(){this.pdfViewer&&this.pdfViewer.setDocument(null),Ml(vn,"disableTextLayer",!this._renderText),this.initPDFServices(),this._showAll?this.pdfViewer=new Cl(this.getPDFOptions()):this.pdfViewer=new vl(this.getPDFOptions()),this.pdfLinkService.setViewer(this.pdfViewer),this.pdfViewer._currentPageNumber=this._page}getValidPageNumber(t){return t<1?1:t>this._pdf.numPages?this._pdf.numPages:t}getDocumentParams(){let t=typeof this.src;if(!this._cMapsUrl)return this.src;let i={cMapUrl:this._cMapsUrl,cMapPacked:!0,enableXfa:!0};return i.isEvalSupported=!1,t==="string"?i.url=this.src:t==="object"&&(this.src.byteLength!==void 0?i.data=this.src:Object.assign(i,this.src)),i}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src){this.update();return}this.clear(),this.setupViewer(),this.loadingTask=N5(this.getDocumentParams()),this.loadingTask.onProgress=i=>{this.onProgress.emit(i)};let t=this.src;_1(this.loadingTask.promise).pipe(K(this.destroy$)).subscribe({next:i=>{this._pdf=i,this.lastLoaded=t,this.afterLoadComplete.emit(i),this.resetPdfDocument(),this.update()},error:i=>{this.lastLoaded=null,this.onError.emit(i)}})}update(){this.page=this._page,this.render()}render(){if(this._page=this.getValidPageNumber(this._page),(this._rotation!==0||this.pdfViewer.pagesRotation!==this._rotation)&&this.pdfViewer.firstPagePromise?.then(()=>this.pdfViewer.pagesRotation=this._rotation),this._stickToPage&&setTimeout(()=>{this.pdfViewer.currentPageNumber=this._page}),this.pdfViewer._pages?.length)this.updateSize();else{let t=this.pageInitialized.subscribe(()=>{this.updateSize(),t.unsubscribe()})}}getScale(t,i){let s=this._showBorders?2*n.BORDER_WIDTH:0,o=this.pdfViewerContainer.nativeElement.clientWidth-s,r=this.pdfViewerContainer.nativeElement.clientHeight-s;if(r===0||i===0||o===0||t===0)return 1;let c=1;switch(this._zoomScale){case"page-fit":c=Math.min(r/i,o/t);break;case"page-height":c=r/i;break;case"page-width":default:c=o/t;break}return this._zoom*c/n.CSS_UNITS}resetPdfDocument(){this.pdfLinkService.setDocument(this._pdf,null),this.pdfFindController.setDocument(this._pdf),this.pdfViewer.setDocument(this._pdf)}initialize(){q4()||!this.isVisible||(this.isInitialized=!0,this.initEventBus(),this.setupViewer())}setupResizeListener(){q4()||this.ngZone.runOutsideAngular(()=>{d1(window,"resize").pipe(No(100),j1(()=>this._canAutoResize&&!!this._pdf),K(this.destroy$)).subscribe(()=>{this.updateSize()})})}static \u0275fac=function(i){return new(i||n)(r1(K1),r1(m1))};static \u0275cmp=re({type:n,selectors:[["pdf-viewer"]],viewQuery:function(i,s){if(i&1&&is(kD,5),i&2){let o;sn(o=on())&&(s.pdfViewerContainer=o.first)}},inputs:{src:"src",cMapsUrl:[0,"c-maps-url","cMapsUrl"],page:"page",renderText:[0,"render-text","renderText"],renderTextMode:[0,"render-text-mode","renderTextMode"],originalSize:[0,"original-size","originalSize"],showAll:[0,"show-all","showAll"],stickToPage:[0,"stick-to-page","stickToPage"],zoom:"zoom",zoomScale:[0,"zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:[0,"external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:[0,"fit-to-page","fitToPage"],showBorders:[0,"show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},standalone:!1,features:[He],decls:3,vars:0,consts:[["pdfViewerContainer",""],[1,"ng2-pdf-viewer-container"],[1,"pdfViewer"]],template:function(i,s){i&1&&(A1(0,"div",1,0),Q1(2,"div",2),I1())},styles:[`.ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--viewer-container-height: 0;--annotation-unfocused-field-background: url("data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>");--xfa-unfocused-field-background: var( --annotation-unfocused-field-background );--page-border-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=) 9 9 repeat;--scale-factor: 1;--focus-outline: solid 2px blue;--hover-outline: dashed 2px blue;--freetext-line-height: 1.35;--freetext-padding: 2px;--editorInk-editing-cursor: pointer}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 8px auto -1px;--page-border: 1px solid CanvasText;--page-border-image: none;--spreadHorizontalWrapped-margin-LR: 3.5px}}@media (forced-colors: active){[_nghost-%COMP%]    {--focus-outline: solid 3px ButtonText;--hover-outline: dashed 3px ButtonText}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;inset:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none;transform-origin:0 0}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:rgb(0,0,255)}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;inset:100% 0 0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}@media (forced-colors: active){[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:required, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:required, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:required{outline:1.5px solid selectedItem}}[_nghost-%COMP%]     .annotationLayer{position:absolute;top:0;left:0;pointer-events:none;transform-origin:0 0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial;pointer-events:auto;box-sizing:border-box;transform-origin:0 0}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:rgb(255,255,0);box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font:calc(9px * var(--scale-factor)) sans-serif;height:100%;margin:0;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:required, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:required, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:required{outline:1.5px solid red}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid rgb(0,0,0)}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:CanvasText;content:"";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;appearance:none}[_nghost-%COMP%]     .annotationLayer .popupTriggerArea{height:100%;width:100%}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;font-size:calc(9px * var(--scale-factor));width:100%;min-width:calc(180px * var(--scale-factor));pointer-events:none}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;max-width:calc(180px * var(--scale-factor));background-color:#ff9;box-shadow:0 calc(2px * var(--scale-factor)) calc(5px * var(--scale-factor)) #888;border-radius:calc(2px * var(--scale-factor));padding:calc(6px * var(--scale-factor));margin-left:calc(5px * var(--scale-factor));cursor:pointer;font:message-box;white-space:normal;word-wrap:break-word;pointer-events:auto}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:calc(9px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:calc(5px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid rgb(51,51,51);margin-top:calc(2px * var(--scale-factor));padding-top:calc(2px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap;font-size:calc(9px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .annotationLayer section svg{position:absolute;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .annotationTextContent{position:absolute;width:100%;height:100%;opacity:0;color:transparent;-webkit-user-select:none;user-select:none;pointer-events:none}[_nghost-%COMP%]     .annotationLayer .annotationTextContent span{width:100%;display:inline-block}@media (forced-colors: active){[_nghost-%COMP%]     .xfaLayer *:required{outline:1.5px solid selectedItem}}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:rgb(0,0,255)}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer *:required{outline:1.5px solid red}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;appearance:none;text-indent:1px;text-overflow:""}}[_nghost-%COMP%]     [data-editor-rotation="90"]{transform:rotate(90deg)}[_nghost-%COMP%]     [data-editor-rotation="180"]{transform:rotate(180deg)}[_nghost-%COMP%]     [data-editor-rotation="270"]{transform:rotate(270deg)}[_nghost-%COMP%]     .annotationEditorLayer{background:transparent;position:absolute;top:0;left:0;font-size:calc(100px * var(--scale-factor));transform-origin:0 0}[_nghost-%COMP%]     .annotationEditorLayer .selectedEditor{outline:var(--focus-outline);resize:none}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor{position:absolute;background:transparent;border-radius:3px;padding:calc(var(--freetext-padding) * var(--scale-factor));resize:none;width:auto;height:auto;z-index:1;transform-origin:0 0;touch-action:none}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal{background:transparent;border:none;top:0;left:0;overflow:visible;white-space:nowrap;resize:none;font:10px sans-serif;line-height:var(--freetext-line-height)}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .overlay{position:absolute;display:none;background:transparent;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .overlay.enabled{display:block}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal:empty:before{content:attr(default-content);color:gray}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal:focus{outline:none}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.disabled{resize:none}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.disabled.selectedEditor{resize:horizontal}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor:hover:not(.selectedEditor), [_nghost-%COMP%]     .annotationEditorLayer .inkEditor:hover:not(.selectedEditor){outline:var(--hover-outline)}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor{position:absolute;background:transparent;border-radius:3px;overflow:auto;width:100%;height:100%;z-index:1;transform-origin:0 0;cursor:auto}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.editing{resize:none;cursor:var(--editorInk-editing-cursor),pointer}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor .inkEditorCanvas{position:absolute;top:0;left:0;width:100%;height:100%;touch-action:none}[_nghost-%COMP%]     [data-main-rotation="90"]{transform:rotate(90deg) translateY(-100%)}[_nghost-%COMP%]     [data-main-rotation="180"]{transform:rotate(180deg) translate(-100%,-100%)}[_nghost-%COMP%]     [data-main-rotation="270"]{transform:rotate(270deg) translate(-100%)}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .canvasWrapper canvas{width:100%}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);border-image:var(--page-border-image);background-clip:content-box;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;inset:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}`]})}return n})(),fg=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=p1({type:n});static \u0275inj=h1({})}return n})();var FD=()=>["fas","file-pdf"],HD=()=>["fas","download"],VD=()=>["fas","window-close"];function BD(n,e){if(n&1){let t=m2();A1(0,"div",3)(1,"h4",4),e2(2," Curr\xEDculo - Joshua Maia Rodrigues - "),A1(3,"a",5),be("click",function(){Ye(t);let s=Xe();return Je(s.downloadPDF())}),Q1(4,"fa-icon",2),I1(),A1(5,"a",6),be("click",function(){Ye(t);let s=Xe();return Je(s.close())}),Q1(6,"fa-icon",2),I1()()(),A1(7,"div",7),Q1(8,"pdf-viewer",8),I1()}if(n&2){let t=Xe();oe(4),xe("icon",Ct(5,HD)),oe(2),xe("icon",Ct(6,VD)),oe(2),xe("src",t.pdfSrc)("render-text",!0)("original-size",!1)}}var Tj=(()=>{class n{constructor(t){this.modalService=t,this.pdfSrc="../../assets/Joshua_MaiaRodrigues_Resume.pdf"}ngOnInit(){}open(t){this.modalService.open(t,{size:"lg",backdrop:"static"})}close(){this.modalService.dismissAll()}downloadPDF(){let t=document.createElement("a");t.href=this.pdfSrc,t.download="Joshua_MaiaRodrigues_Resume.pdf",t.click()}static{this.\u0275fac=function(i){return new(i||n)(r1(e3))}}static{this.\u0275cmp=re({type:n,selectors:[["app-exibir-download-curriculo"]],standalone:!1,decls:4,vars:2,consts:[["curriculo",""],[1,"textotopo",2,"cursor","pointer",3,"click"],[3,"icon"],[1,"modal-header","header-modal"],[1,"modal-title","pull-left"],[1,"m-2","textopdf",2,"cursor","pointer",3,"click"],[1,"textopdf",2,"cursor","pointer",3,"click"],[1,"modal-body","modalcss"],[2,"width","100%","height","600px",3,"src","render-text","original-size"]],template:function(i,s){if(i&1){let o=m2();A1(0,"a",1),be("click",function(){Ye(o);let c=qt(3);return Je(s.open(c))}),Q1(1,"fa-icon",2),I1(),gt(2,BD,9,7,"ng-template",null,0,Zt)}i&2&&(oe(),xe("icon",Ct(1,FD)))},dependencies:[fn,ug],styles:[".theme-day[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff!important}.theme-day[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#007bff!important}"]})}}return n})();var Gj=(()=>{class n{constructor(t){this.fontAwesomeLibrary=t,this.configureFontAwesome()}configureFontAwesome(){this.fontAwesomeLibrary.addIcons(...nm)}static{this.\u0275fac=function(i){return new(i||n)(H(Ga))}}static{this.\u0275mod=p1({type:n})}static{this.\u0275inj=h1({imports:[us,Wa,Bp,fg,Wa]})}}return n})();var Z="primary",c0=Symbol("RouteTitle"),xl=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Sn(n){return new xl(n)}function jD(n,e,t){let i=t.path.split("/");if(i.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||i.length<n.length))return null;let s={};for(let o=0;o<i.length;o++){let r=i[o],c=n[o];if(r[0]===":")s[r.substring(1)]=c;else if(r!==c.path)return null}return{consumed:n.slice(0,i.length),posParams:s}}function UD(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!L2(n[t],e[t]))return!1;return!0}function L2(n,e){let t=n?Sl(n):void 0,i=e?Sl(e):void 0;if(!t||!i||t.length!=i.length)return!1;let s;for(let o=0;o<t.length;o++)if(s=t[o],!Lg(n[s],e[s]))return!1;return!0}function Sl(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Lg(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),i=[...e].sort();return t.every((s,o)=>i[o]===s)}else return n===e}function wg(n){return n.length>0?n[n.length-1]:null}function Et(n){return Ao(n)?n:c4(n)?_1(Promise.resolve(n)):F(n)}var $D={exact:xg,subset:Sg},zg={exact:GD,subset:WD,ignored:()=>!0};function dg(n,e,t){return $D[t.paths](n.root,e.root,t.matrixParams)&&zg[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function GD(n,e){return L2(n,e)}function xg(n,e,t){if(!f3(n.segments,e.segments)||!j6(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!n.children[i]||!xg(n.children[i],e.children[i],t))return!1;return!0}function WD(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Lg(n[t],e[t]))}function Sg(n,e,t){return Ag(n,e,e.segments,t)}function Ag(n,e,t,i){if(n.segments.length>t.length){let s=n.segments.slice(0,t.length);return!(!f3(s,t)||e.hasChildren()||!j6(s,t,i))}else if(n.segments.length===t.length){if(!f3(n.segments,t)||!j6(n.segments,t,i))return!1;for(let s in e.children)if(!n.children[s]||!Sg(n.children[s],e.children[s],i))return!1;return!0}else{let s=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!f3(n.segments,s)||!j6(n.segments,s,i)||!n.children[Z]?!1:Ag(n.children[Z],e,o,i)}}function j6(n,e,t){return e.every((i,s)=>zg[t](n[s].parameters,i.parameters))}var K2=class{root;queryParams;fragment;_queryParamMap;constructor(e=new v1([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Sn(this.queryParams),this._queryParamMap}toString(){return YD.serialize(this)}},v1=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return U6(this)}},u3=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Sn(this.parameters),this._parameterMap}toString(){return Dg(this)}};function qD(n,e){return f3(n,e)&&n.every((t,i)=>L2(t.parameters,e[i].parameters))}function f3(n,e){return n.length!==e.length?!1:n.every((t,i)=>t.path===e[i].path)}function ZD(n,e){let t=[];return Object.entries(n.children).forEach(([i,s])=>{i===Z&&(t=t.concat(e(s,i)))}),Object.entries(n.children).forEach(([i,s])=>{i!==Z&&(t=t.concat(e(s,i)))}),t}var a0=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=I({token:n,factory:()=>new An,providedIn:"root"})}return n})(),An=class{parse(e){let t=new El(e);return new K2(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Z4(e.root,!0)}`,i=QD(e.queryParams),s=typeof e.fragment=="string"?`#${JD(e.fragment)}`:"";return`${t}${i}${s}`}},YD=new An;function U6(n){return n.segments.map(e=>Dg(e)).join("/")}function Z4(n,e){if(!n.hasChildren())return U6(n);if(e){let t=n.children[Z]?Z4(n.children[Z],!1):"",i=[];return Object.entries(n.children).forEach(([s,o])=>{s!==Z&&i.push(`${s}:${Z4(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=ZD(n,(i,s)=>s===Z?[Z4(n.children[Z],!1)]:[`${s}:${Z4(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[Z]!=null?`${U6(n)}/${t[0]}`:`${U6(n)}/(${t.join("//")})`}}function Eg(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function V6(n){return Eg(n).replace(/%3B/gi,";")}function JD(n){return encodeURI(n)}function Al(n){return Eg(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $6(n){return decodeURIComponent(n)}function hg(n){return $6(n.replace(/\+/g,"%20"))}function Dg(n){return`${Al(n.path)}${KD(n.parameters)}`}function KD(n){return Object.entries(n).map(([e,t])=>`;${Al(e)}=${Al(t)}`).join("")}function QD(n){let e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(s=>`${V6(t)}=${V6(s)}`).join("&"):`${V6(t)}=${V6(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var XD=/^[^\/()?;#]+/;function _l(n){let e=n.match(XD);return e?e[0]:""}var eN=/^[^\/()?;=#]+/;function tN(n){let e=n.match(eN);return e?e[0]:""}var nN=/^[^=?&#]+/;function iN(n){let e=n.match(nN);return e?e[0]:""}var sN=/^[^&#]+/;function oN(n){let e=n.match(sN);return e?e[0]:""}var El=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new v1([],{}):new v1([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Z]=new v1(e,t)),i}parseSegment(){let e=_l(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new O(4009,!1);return this.capture(e),new u3($6(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=tN(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let s=_l(this.remaining);s&&(i=s,this.capture(i))}e[$6(t)]=$6(i)}parseQueryParam(e){let t=iN(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=oN(this.remaining);r&&(i=r,this.capture(i))}let s=hg(t),o=hg(i);if(e.hasOwnProperty(s)){let r=e[s];Array.isArray(r)||(r=[r],e[s]=r),r.push(o)}else e[s]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=_l(this.remaining),s=this.remaining[i.length];if(s!=="/"&&s!==")"&&s!==";")throw new O(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Z);let r=this.parseChildren();t[o]=Object.keys(r).length===1?r[Z]:new v1([],r),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new O(4011,!1)}};function Ng(n){return n.segments.length>0?new v1([],{[Z]:n}):n}function Tg(n){let e={};for(let[i,s]of Object.entries(n.children)){let o=Tg(s);if(i===Z&&o.segments.length===0&&o.hasChildren())for(let[r,c]of Object.entries(o.children))e[r]=c;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let t=new v1(n.segments,e);return rN(t)}function rN(n){if(n.numberOfChildren===1&&n.children[Z]){let e=n.children[Z];return new v1(n.segments.concat(e.segments),e.children)}return n}function d3(n){return n instanceof K2}function cN(n,e,t=null,i=null){let s=Ig(n);return kg(s,e,t,i)}function Ig(n){let e;function t(o){let r={};for(let a of o.children){let l=t(a);r[a.outlet]=l}let c=new v1(o.url,r);return o===n&&(e=c),c}let i=t(n.root),s=Ng(i);return e??s}function kg(n,e,t,i){let s=n;for(;s.parent;)s=s.parent;if(e.length===0)return Ll(s,s,s,t,i);let o=aN(e);if(o.toRoot())return Ll(s,s,new v1([],{}),t,i);let r=lN(o,s,n),c=r.processChildren?K4(r.segmentGroup,r.index,o.commands):Pg(r.segmentGroup,r.index,o.commands);return Ll(s,r.segmentGroup,c,t,i)}function G6(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function e0(n){return typeof n=="object"&&n!=null&&n.outlets}function Ll(n,e,t,i,s){let o={};i&&Object.entries(i).forEach(([a,l])=>{o[a]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let r;n===e?r=t:r=Og(n,e,t);let c=Ng(Tg(r));return new K2(c,o,s)}function Og(n,e,t){let i={};return Object.entries(n.children).forEach(([s,o])=>{o===e?i[s]=t:i[s]=Og(o,e,t)}),new v1(n.segments,i)}var W6=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&G6(i[0]))throw new O(4003,!1);let s=i.find(e0);if(s&&s!==wg(i))throw new O(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function aN(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new W6(!0,0,n);let e=0,t=!1,i=n.reduce((s,o,r)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([a,l])=>{c[a]=typeof l=="string"?l.split("/"):l}),[...s,{outlets:c}]}if(o.segmentPath)return[...s,o.segmentPath]}return typeof o!="string"?[...s,o]:r===0?(o.split("/").forEach((c,a)=>{a==0&&c==="."||(a==0&&c===""?t=!0:c===".."?e++:c!=""&&s.push(c))}),s):[...s,o]},[]);return new W6(t,e,i)}var wn=class{segmentGroup;processChildren;index;constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}};function lN(n,e,t){if(n.isAbsolute)return new wn(e,!0,0);if(!t)return new wn(e,!1,NaN);if(t.parent===null)return new wn(t,!0,0);let i=G6(n.commands[0])?0:1,s=t.segments.length-1+i;return uN(t,s,n.numberOfDoubleDots)}function uN(n,e,t){let i=n,s=e,o=t;for(;o>s;){if(o-=s,i=i.parent,!i)throw new O(4005,!1);s=i.segments.length}return new wn(i,!1,s-o)}function fN(n){return e0(n[0])?n[0].outlets:{[Z]:n}}function Pg(n,e,t){if(n??=new v1([],{}),n.segments.length===0&&n.hasChildren())return K4(n,e,t);let i=dN(n,e,t),s=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let o=new v1(n.segments.slice(0,i.pathIndex),{});return o.children[Z]=new v1(n.segments.slice(i.pathIndex),n.children),K4(o,0,s)}else return i.match&&s.length===0?new v1(n.segments,{}):i.match&&!n.hasChildren()?Dl(n,e,t):i.match?K4(n,0,s):Dl(n,e,t)}function K4(n,e,t){if(t.length===0)return new v1(n.segments,{});{let i=fN(t),s={};if(Object.keys(i).some(o=>o!==Z)&&n.children[Z]&&n.numberOfChildren===1&&n.children[Z].segments.length===0){let o=K4(n.children[Z],e,t);return new v1(n.segments,o.children)}return Object.entries(i).forEach(([o,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(s[o]=Pg(n.children[o],e,r))}),Object.entries(n.children).forEach(([o,r])=>{i[o]===void 0&&(s[o]=r)}),new v1(n.segments,s)}}function dN(n,e,t){let i=0,s=e,o={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(i>=t.length)return o;let r=n.segments[s],c=t[i];if(e0(c))break;let a=`${c}`,l=i<t.length-1?t[i+1]:null;if(s>0&&a===void 0)break;if(a&&l&&typeof l=="object"&&l.outlets===void 0){if(!mg(a,l,r))return o;i+=2}else{if(!mg(a,{},r))return o;i++}s++}return{match:!0,pathIndex:s,commandIndex:i}}function Dl(n,e,t){let i=n.segments.slice(0,e),s=0;for(;s<t.length;){let o=t[s];if(e0(o)){let a=hN(o.outlets);return new v1(i,a)}if(s===0&&G6(t[0])){let a=n.segments[e];i.push(new u3(a.path,pg(t[0]))),s++;continue}let r=e0(o)?o.outlets[Z]:`${o}`,c=s<t.length-1?t[s+1]:null;r&&c&&G6(c)?(i.push(new u3(r,pg(c))),s+=2):(i.push(new u3(r,{})),s++)}return new v1(i,{})}function hN(n){let e={};return Object.entries(n).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[t]=Dl(new v1([],{}),0,i))}),e}function pg(n){let e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function mg(n,e,t){return n==t.path&&L2(e,t.parameters)}var Q4="imperative",Y1=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Y1||{}),$e=class{id;url;constructor(e,t){this.id=e,this.url=t}},En=class extends $e{type=Y1.NavigationStart;navigationTrigger;restoredState;constructor(e,t,i="imperative",s=null){super(e,t),this.navigationTrigger=i,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},o2=class extends $e{urlAfterRedirects;type=Y1.NavigationEnd;constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Te=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Te||{}),q6=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(q6||{}),J2=class extends $e{reason;code;type=Y1.NavigationCancel;constructor(e,t,i,s){super(e,t),this.reason=i,this.code=s}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},At=class extends $e{reason;code;type=Y1.NavigationSkipped;constructor(e,t,i,s){super(e,t),this.reason=i,this.code=s}},t0=class extends $e{error;target;type=Y1.NavigationError;constructor(e,t,i,s){super(e,t),this.error=i,this.target=s}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Z6=class extends $e{urlAfterRedirects;state;type=Y1.RoutesRecognized;constructor(e,t,i,s){super(e,t),this.urlAfterRedirects=i,this.state=s}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Nl=class extends $e{urlAfterRedirects;state;type=Y1.GuardsCheckStart;constructor(e,t,i,s){super(e,t),this.urlAfterRedirects=i,this.state=s}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Tl=class extends $e{urlAfterRedirects;state;shouldActivate;type=Y1.GuardsCheckEnd;constructor(e,t,i,s,o){super(e,t),this.urlAfterRedirects=i,this.state=s,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Il=class extends $e{urlAfterRedirects;state;type=Y1.ResolveStart;constructor(e,t,i,s){super(e,t),this.urlAfterRedirects=i,this.state=s}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},kl=class extends $e{urlAfterRedirects;state;type=Y1.ResolveEnd;constructor(e,t,i,s){super(e,t),this.urlAfterRedirects=i,this.state=s}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ol=class{route;type=Y1.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Pl=class{route;type=Y1.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Rl=class{snapshot;type=Y1.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fl=class{snapshot;type=Y1.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Hl=class{snapshot;type=Y1.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vl=class{snapshot;type=Y1.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Y6=class{routerEvent;position;anchor;type=Y1.Scroll;constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},n0=class{},Dn=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function pN(n,e){return n.providers&&!n._injector&&(n._injector=Ji(n.providers,e,`Route: ${n.path}`)),n._injector??e}function s2(n){return n.outlet||Z}function mN(n,e){let t=n.filter(i=>s2(i)===e);return t.push(...n.filter(i=>s2(i)!==e)),t}function l0(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Bl=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return l0(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new u0(this.rootInjector)}},u0=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,i){let s=this.getOrCreateContext(t);s.outlet=i,this.contexts.set(t,s)}onChildOutletDestroyed(t){let i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new Bl(this.rootInjector),this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(i){return new(i||n)(H(ne))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),J6=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=jl(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){let t=jl(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Ul(e,this._root);return t.length<2?[]:t[t.length-2].children.map(s=>s.value).filter(s=>s!==e)}pathFromRoot(e){return Ul(e,this._root).map(t=>t.value)}};function jl(n,e){if(n===e.value)return e;for(let t of e.children){let i=jl(n,t);if(i)return i}return null}function Ul(n,e){if(n===e.value)return[e];for(let t of e.children){let i=Ul(n,t);if(i.length)return i.unshift(e),i}return[]}var Ne=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Ln(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var K6=class extends J6{snapshot;constructor(e,t){super(e),this.snapshot=t,Ql(this,e)}toString(){return this.snapshot.toString()}};function Rg(n){let e=gN(n),t=new q1([new u3("",{})]),i=new q1({}),s=new q1({}),o=new q1({}),r=new q1(""),c=new h3(t,i,o,r,s,Z,n,e.root);return c.snapshot=e.root,new K6(new Ne(c,[]),e)}function gN(n){let e={},t={},i={},s="",o=new zn([],e,i,s,t,Z,n,null,{});return new X6("",new Ne(o,[]))}var h3=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,i,s,o,r,c,a){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=s,this.dataSubject=o,this.outlet=r,this.component=c,this._futureSnapshot=a,this.title=this.dataSubject?.pipe(i1(l=>l[c0]))??F(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=s,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(i1(e=>Sn(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(i1(e=>Sn(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Q6(n,e,t="emptyOnly"){let i,{routeConfig:s}=n;return e!==null&&(t==="always"||s?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:N(N({},e.params),n.params),data:N(N({},e.data),n.data),resolve:N(N(N(N({},n.data),e.data),s?.data),n._resolvedData)}:i={params:N({},n.params),data:N({},n.data),resolve:N(N({},n.data),n._resolvedData??{})},s&&Hg(s)&&(i.resolve[c0]=s.title),i}var zn=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[c0]}constructor(e,t,i,s,o,r,c,a,l){this.url=e,this.params=t,this.queryParams=i,this.fragment=s,this.data=o,this.outlet=r,this.component=c,this.routeConfig=a,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Sn(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Sn(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},X6=class extends J6{url;constructor(e,t){super(t),this.url=e,Ql(this,t)}toString(){return Fg(this._root)}};function Ql(n,e){e.value._routerState=n,e.children.forEach(t=>Ql(n,t))}function Fg(n){let e=n.children.length>0?` { ${n.children.map(Fg).join(", ")} } `:"";return`${n.value}${e}`}function wl(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,L2(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),L2(e.params,t.params)||n.paramsSubject.next(t.params),UD(e.url,t.url)||n.urlSubject.next(t.url),L2(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function $l(n,e){let t=L2(n.params,e.params)&&qD(n.url,e.url),i=!n.parent!=!e.parent;return t&&!i&&(!n.parent||$l(n.parent,e.parent))}function Hg(n){return typeof n.title=="string"||n.title===null}var vN=new B(""),CN=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Z;activateEvents=new L1;deactivateEvents=new L1;attachEvents=new L1;detachEvents=new L1;routerOutletData=ef(void 0);parentContexts=E(u0);location=E(mt);changeDetector=E(bt);inputBinder=E(so,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:i,previousValue:s}=t.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new O(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new O(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new O(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new O(4013,!1);this._activatedRoute=t;let s=this.location,r=t.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,a=new Gl(t,c,s.injector,this.routerOutletData);this.activated=s.createComponent(r,{index:s.length,injector:a,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=h2({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[He]})}return n})(),Gl=class n{route;childContexts;parent;outletData;__ngOutletInjector(e){return new n(this.route,this.childContexts,e,this.outletData)}constructor(e,t,i,s){this.route=e,this.childContexts=t,this.parent=i,this.outletData=s}get(e,t){return e===h3?this.route:e===u0?this.childContexts:e===vN?this.outletData:this.parent.get(e,t)}},so=new B(""),gg=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:i}=t,s=S3([i.queryParams,i.params,i.data]).pipe(pe(([o,r,c],a)=>(c=N(N(N({},o),r),c),a===0?F(c):Promise.resolve(c)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(t);return}let r=Rd(i.component);if(!r){this.unsubscribeFromRouteData(t);return}for(let{templateName:c}of r.inputs)t.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(t,s)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})();function bN(n,e,t){let i=i0(n,e._root,t?t._root:void 0);return new K6(i,e)}function i0(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=e.value;let s=MN(n,e,t);return new Ne(i,s)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let r=o.route;return r.value._futureSnapshot=e.value,r.children=e.children.map(c=>i0(n,c)),r}}let i=yN(e.value),s=e.children.map(o=>i0(n,o));return new Ne(i,s)}}function MN(n,e,t){return e.children.map(i=>{for(let s of t.children)if(n.shouldReuseRoute(i.value,s.value.snapshot))return i0(n,i,s);return i0(n,i)})}function yN(n){return new h3(new q1(n.url),new q1(n.params),new q1(n.queryParams),new q1(n.fragment),new q1(n.data),n.outlet,n.component,n)}var s0=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},Vg="ngNavigationCancelingError";function eo(n,e){let{redirectTo:t,navigationBehaviorOptions:i}=d3(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,s=Bg(!1,Te.Redirect);return s.url=t,s.navigationBehaviorOptions=i,s}function Bg(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[Vg]=!0,t.cancellationCode=e,t}function _N(n){return jg(n)&&d3(n.url)}function jg(n){return!!n&&n[Vg]}var LN=(n,e,t,i)=>i1(s=>(new Wl(e,s.targetRouterState,s.currentRouterState,t,i).activate(n),s)),Wl=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,i,s,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=s,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),wl(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){let s=Ln(t);e.children.forEach(o=>{let r=o.value.outlet;this.deactivateRoutes(o,s[r],i),delete s[r]}),Object.values(s).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){let s=e.value,o=t?t.value:null;if(s===o)if(s.component){let r=i.getContext(s.outlet);r&&this.deactivateChildRoutes(e,t,r.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let i=t.getContext(e.value.outlet),s=i&&e.value.component?i.children:t,o=Ln(e);for(let r of Object.values(o))this.deactivateRouteAndItsChildren(r,s);if(i&&i.outlet){let r=i.outlet.detach(),c=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:r,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){let i=t.getContext(e.value.outlet),s=i&&e.value.component?i.children:t,o=Ln(e);for(let r of Object.values(o))this.deactivateRouteAndItsChildren(r,s);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){let s=Ln(t);e.children.forEach(o=>{this.activateRoutes(o,s[o.value.outlet],i),this.forwardEvent(new Vl(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Fl(e.value.snapshot))}activateRoutes(e,t,i){let s=e.value,o=t?t.value:null;if(wl(s),s===o)if(s.component){let r=i.getOrCreateContext(s.outlet);this.activateChildRoutes(e,t,r.children)}else this.activateChildRoutes(e,t,i);else if(s.component){let r=i.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){let c=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),r.children.onOutletReAttached(c.contexts),r.attachRef=c.componentRef,r.route=c.route.value,r.outlet&&r.outlet.attach(c.componentRef,c.route.value),wl(c.route.value),this.activateChildRoutes(e,null,r.children)}else r.attachRef=null,r.route=s,r.outlet&&r.outlet.activateWith(s,r.injector),this.activateChildRoutes(e,null,r.children)}else this.activateChildRoutes(e,null,i)}},to=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},xn=class{component;route;constructor(e,t){this.component=e,this.route=t}};function wN(n,e,t){let i=n._root,s=e?e._root:null;return Y4(i,s,t,[i.value])}function zN(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Tn(n,e){let t=Symbol(),i=e.get(n,t);return i===t?typeof n=="function"&&!q9(n)?n:e.get(n):i}function Y4(n,e,t,i,s={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ln(e);return n.children.forEach(r=>{xN(r,o[r.value.outlet],t,i.concat([r.value]),s),delete o[r.value.outlet]}),Object.entries(o).forEach(([r,c])=>X4(c,t.getContext(r),s)),s}function xN(n,e,t,i,s={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,r=e?e.value:null,c=t?t.getContext(n.value.outlet):null;if(r&&o.routeConfig===r.routeConfig){let a=SN(r,o,o.routeConfig.runGuardsAndResolvers);a?s.canActivateChecks.push(new to(i)):(o.data=r.data,o._resolvedData=r._resolvedData),o.component?Y4(n,e,c?c.children:null,i,s):Y4(n,e,t,i,s),a&&c&&c.outlet&&c.outlet.isActivated&&s.canDeactivateChecks.push(new xn(c.outlet.component,r))}else r&&X4(e,c,s),s.canActivateChecks.push(new to(i)),o.component?Y4(n,null,c?c.children:null,i,s):Y4(n,null,t,i,s);return s}function SN(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!f3(n.url,e.url);case"pathParamsOrQueryParamsChange":return!f3(n.url,e.url)||!L2(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$l(n,e)||!L2(n.queryParams,e.queryParams);case"paramsChange":default:return!$l(n,e)}}function X4(n,e,t){let i=Ln(n),s=n.value;Object.entries(i).forEach(([o,r])=>{s.component?e?X4(r,e.children.getContext(o),t):X4(r,null,t):X4(r,e,t)}),s.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new xn(e.outlet.component,s)):t.canDeactivateChecks.push(new xn(null,s)):t.canDeactivateChecks.push(new xn(null,s))}function f0(n){return typeof n=="function"}function AN(n){return typeof n=="boolean"}function EN(n){return n&&f0(n.canLoad)}function DN(n){return n&&f0(n.canActivate)}function NN(n){return n&&f0(n.canActivateChild)}function TN(n){return n&&f0(n.canDeactivate)}function IN(n){return n&&f0(n.canMatch)}function Ug(n){return n instanceof z2||n?.name==="EmptyError"}var B6=Symbol("INITIAL_VALUE");function Nn(){return pe(n=>S3(n.map(e=>e.pipe(Oe(1),$0(B6)))).pipe(i1(e=>{for(let t of e)if(t!==!0){if(t===B6)return B6;if(t===!1||kN(t))return t}return!0}),j1(e=>e!==B6),Oe(1)))}function kN(n){return d3(n)||n instanceof s0}function ON(n,e){return S1(t=>{let{targetSnapshot:i,currentSnapshot:s,guards:{canActivateChecks:o,canDeactivateChecks:r}}=t;return r.length===0&&o.length===0?F(t1(N({},t),{guardsResult:!0})):PN(r,i,s,n).pipe(S1(c=>c&&AN(c)?RN(i,o,n,e):F(c)),i1(c=>t1(N({},t),{guardsResult:c})))})}function PN(n,e,t,i){return _1(n).pipe(S1(s=>jN(s.component,s.route,t,e,i)),c2(s=>s!==!0,!0))}function RN(n,e,t,i){return _1(e).pipe(Pt(s=>nt(HN(s.route.parent,i),FN(s.route,i),BN(n,s.path,t),VN(n,s.route,t))),c2(s=>s!==!0,!0))}function FN(n,e){return n!==null&&e&&e(new Hl(n)),F(!0)}function HN(n,e){return n!==null&&e&&e(new Rl(n)),F(!0)}function VN(n,e,t){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return F(!0);let s=i.map(o=>B0(()=>{let r=l0(e)??t,c=Tn(o,r),a=DN(c)?c.canActivate(e,n):Fe(r,()=>c(e,n));return Et(a).pipe(c2())}));return F(s).pipe(Nn())}function BN(n,e,t){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(r=>zN(r)).filter(r=>r!==null).map(r=>B0(()=>{let c=r.guards.map(a=>{let l=l0(r.node)??t,u=Tn(a,l),f=NN(u)?u.canActivateChild(i,n):Fe(l,()=>u(i,n));return Et(f).pipe(c2())});return F(c).pipe(Nn())}));return F(o).pipe(Nn())}function jN(n,e,t,i,s){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return F(!0);let r=o.map(c=>{let a=l0(e)??s,l=Tn(c,a),u=TN(l)?l.canDeactivate(n,e,t,i):Fe(a,()=>l(n,e,t,i));return Et(u).pipe(c2())});return F(r).pipe(Nn())}function UN(n,e,t,i){let s=e.canLoad;if(s===void 0||s.length===0)return F(!0);let o=s.map(r=>{let c=Tn(r,n),a=EN(c)?c.canLoad(e,t):Fe(n,()=>c(e,t));return Et(a)});return F(o).pipe(Nn(),$g(i))}function $g(n){return _o(U1(e=>{if(typeof e!="boolean")throw eo(n,e)}),i1(e=>e===!0))}function $N(n,e,t,i){let s=e.canMatch;if(!s||s.length===0)return F(!0);let o=s.map(r=>{let c=Tn(r,n),a=IN(c)?c.canMatch(e,t):Fe(n,()=>c(e,t));return Et(a)});return F(o).pipe(Nn(),$g(i))}var o0=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},r0=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function _n(n){return x3(new o0(n))}function GN(n){return x3(new O(4e3,!1))}function WN(n){return x3(Bg(!1,Te.GuardRejected))}var ql=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],s=t.root;for(;;){if(i=i.concat(s.segments),s.numberOfChildren===0)return F(i);if(s.numberOfChildren>1||!s.children[Z])return GN(`${e.redirectTo}`);s=s.children[Z]}}applyRedirectCommands(e,t,i,s,o){if(typeof t!="string"){let c=t,{queryParams:a,fragment:l,routeConfig:u,url:f,outlet:d,params:h,data:p,title:m}=s,v=Fe(o,()=>c({params:h,data:p,queryParams:a,fragment:l,routeConfig:u,url:f,outlet:d,title:m}));if(v instanceof K2)throw new r0(v);t=v}let r=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t[0]==="/")throw new r0(r);return r}applyRedirectCreateUrlTree(e,t,i,s){let o=this.createSegmentGroup(e,t.root,i,s);return new K2(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let i={};return Object.entries(e).forEach(([s,o])=>{if(typeof o=="string"&&o[0]===":"){let c=o.substring(1);i[s]=t[c]}else i[s]=o}),i}createSegmentGroup(e,t,i,s){let o=this.createSegments(e,t.segments,i,s),r={};return Object.entries(t.children).forEach(([c,a])=>{r[c]=this.createSegmentGroup(e,a,i,s)}),new v1(o,r)}createSegments(e,t,i,s){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,s):this.findOrReturn(o,i))}findPosParam(e,t,i){let s=i[t.path.substring(1)];if(!s)throw new O(4001,!1);return s}findOrReturn(e,t){let i=0;for(let s of t){if(s.path===e.path)return t.splice(i),s;i++}return e}},Zl={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function qN(n,e,t,i,s){let o=Gg(n,e,t);return o.matched?(i=pN(e,i),$N(i,e,t,s).pipe(i1(r=>r===!0?o:N({},Zl)))):F(o)}function Gg(n,e,t){if(e.path==="**")return ZN(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?N({},Zl):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let s=(e.matcher||jD)(t,n,e);if(!s)return N({},Zl);let o={};Object.entries(s.posParams??{}).forEach(([c,a])=>{o[c]=a.path});let r=s.consumed.length>0?N(N({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:r,positionalParamSegments:s.posParams??{}}}function ZN(n){return{matched:!0,parameters:n.length>0?wg(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function vg(n,e,t,i){return t.length>0&&KN(n,t,i)?{segmentGroup:new v1(e,JN(i,new v1(t,n.children))),slicedSegments:[]}:t.length===0&&QN(n,t,i)?{segmentGroup:new v1(n.segments,YN(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new v1(n.segments,n.children),slicedSegments:t}}function YN(n,e,t,i){let s={};for(let o of t)if(oo(n,e,o)&&!i[s2(o)]){let r=new v1([],{});s[s2(o)]=r}return N(N({},i),s)}function JN(n,e){let t={};t[Z]=e;for(let i of n)if(i.path===""&&s2(i)!==Z){let s=new v1([],{});t[s2(i)]=s}return t}function KN(n,e,t){return t.some(i=>oo(n,e,i)&&s2(i)!==Z)}function QN(n,e,t){return t.some(i=>oo(n,e,i))}function oo(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function XN(n,e,t){return e.length===0&&!n.children[t]}var Yl=class{};function eT(n,e,t,i,s,o,r="emptyOnly"){return new Jl(n,e,t,i,s,r,o).recognize()}var tT=31,Jl=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,i,s,o,r,c){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=s,this.urlTree=o,this.paramsInheritanceStrategy=r,this.urlSerializer=c,this.applyRedirects=new ql(this.urlSerializer,this.urlTree)}noMatchError(e){return new O(4002,`'${e.segmentGroup}'`)}recognize(){let e=vg(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(i1(({children:t,rootSnapshot:i})=>{let s=new Ne(i,t),o=new X6("",s),r=cN(i,[],this.urlTree.queryParams,this.urlTree.fragment);return r.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(r),{state:o,tree:r}}))}match(e){let t=new zn([],Object.freeze({}),Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Z,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Z,t).pipe(i1(i=>({children:i,rootSnapshot:t})),it(i=>{if(i instanceof r0)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof o0?this.noMatchError(i):i}))}processSegmentGroup(e,t,i,s,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,t,i,o):this.processSegment(e,t,i,i.segments,s,!0,o).pipe(i1(r=>r instanceof Ne?[r]:[]))}processChildren(e,t,i,s){let o=[];for(let r of Object.keys(i.children))r==="primary"?o.unshift(r):o.push(r);return _1(o).pipe(Pt(r=>{let c=i.children[r],a=mN(t,r);return this.processSegmentGroup(e,a,c,r,s)}),Oo((r,c)=>(r.push(...c),r)),st(null),ko(),S1(r=>{if(r===null)return _n(i);let c=Wg(r);return nT(c),F(c)}))}processSegment(e,t,i,s,o,r,c){return _1(t).pipe(Pt(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,i,s,o,r,c).pipe(it(l=>{if(l instanceof o0)return F(null);throw l}))),c2(a=>!!a),it(a=>{if(Ug(a))return XN(i,s,o)?F(new Yl):_n(i);throw a}))}processSegmentAgainstRoute(e,t,i,s,o,r,c,a){return s2(i)!==r&&(r===Z||!oo(s,o,i))?_n(s):i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,s,i,o,r,a):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,s,t,i,o,r,a):_n(s)}expandSegmentAgainstRouteUsingRedirect(e,t,i,s,o,r,c){let{matched:a,parameters:l,consumedSegments:u,positionalParamSegments:f,remainingSegments:d}=Gg(t,s,o);if(!a)return _n(t);typeof s.redirectTo=="string"&&s.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>tT&&(this.allowRedirects=!1));let h=new zn(o,l,Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,Cg(s),s2(s),s.component??s._loadedComponent??null,s,bg(s)),p=Q6(h,c,this.paramsInheritanceStrategy);h.params=Object.freeze(p.params),h.data=Object.freeze(p.data);let m=this.applyRedirects.applyRedirectCommands(u,s.redirectTo,f,h,e);return this.applyRedirects.lineralizeSegments(s,m).pipe(S1(v=>this.processSegment(e,i,t,v.concat(d),r,!1,c)))}matchSegmentAgainstRoute(e,t,i,s,o,r){let c=qN(t,i,s,e,this.urlSerializer);return i.path==="**"&&(t.children={}),c.pipe(pe(a=>a.matched?(e=i._injector??e,this.getChildConfig(e,i,s).pipe(pe(({routes:l})=>{let u=i._loadedInjector??e,{parameters:f,consumedSegments:d,remainingSegments:h}=a,p=new zn(d,f,Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,Cg(i),s2(i),i.component??i._loadedComponent??null,i,bg(i)),m=Q6(p,r,this.paramsInheritanceStrategy);p.params=Object.freeze(m.params),p.data=Object.freeze(m.data);let{segmentGroup:v,slicedSegments:g}=vg(t,d,h,l);if(g.length===0&&v.hasChildren())return this.processChildren(u,l,v,p).pipe(i1(M=>new Ne(p,M)));if(l.length===0&&g.length===0)return F(new Ne(p,[]));let C=s2(i)===o;return this.processSegment(u,l,v,g,C?Z:o,!0,p).pipe(i1(M=>new Ne(p,M instanceof Ne?[M]:[])))}))):_n(t)))}getChildConfig(e,t,i){return t.children?F({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?F({routes:t._loadedRoutes,injector:t._loadedInjector}):UN(e,t,i,this.urlSerializer).pipe(S1(s=>s?this.configLoader.loadChildren(e,t).pipe(U1(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):WN(t))):F({routes:[],injector:e})}};function nT(n){n.sort((e,t)=>e.value.outlet===Z?-1:t.value.outlet===Z?1:e.value.outlet.localeCompare(t.value.outlet))}function iT(n){let e=n.value.routeConfig;return e&&e.path===""}function Wg(n){let e=[],t=new Set;for(let i of n){if(!iT(i)){e.push(i);continue}let s=e.find(o=>i.value.routeConfig===o.value.routeConfig);s!==void 0?(s.children.push(...i.children),t.add(s)):e.push(i)}for(let i of t){let s=Wg(i.children);e.push(new Ne(i.value,s))}return e.filter(i=>!t.has(i))}function Cg(n){return n.data||{}}function bg(n){return n.resolve||{}}function sT(n,e,t,i,s,o){return S1(r=>eT(n,e,t,i,r.extractedUrl,s,o).pipe(i1(({state:c,tree:a})=>t1(N({},r),{targetSnapshot:c,urlAfterRedirects:a}))))}function oT(n,e){return S1(t=>{let{targetSnapshot:i,guards:{canActivateChecks:s}}=t;if(!s.length)return F(t);let o=new Set(s.map(a=>a.route)),r=new Set;for(let a of o)if(!r.has(a))for(let l of qg(a))r.add(l);let c=0;return _1(r).pipe(Pt(a=>o.has(a)?rT(a,i,n,e):(a.data=Q6(a,a.parent,n).resolve,F(void 0))),U1(()=>c++),E3(1),S1(a=>c===r.size?F(t):J1))})}function qg(n){let e=n.children.map(t=>qg(t)).flat();return[n,...e]}function rT(n,e,t,i){let s=n.routeConfig,o=n._resolve;return s?.title!==void 0&&!Hg(s)&&(o[c0]=s.title),cT(o,n,e,i).pipe(i1(r=>(n._resolvedData=r,n.data=Q6(n,n.parent,t).resolve,null)))}function cT(n,e,t,i){let s=Sl(n);if(s.length===0)return F({});let o={};return _1(s).pipe(S1(r=>aT(n[r],e,t,i).pipe(c2(),U1(c=>{if(c instanceof s0)throw eo(new An,c);o[r]=c}))),E3(1),To(o),it(r=>Ug(r)?J1:x3(r)))}function aT(n,e,t,i){let s=l0(e)??i,o=Tn(n,s),r=o.resolve?o.resolve(e,t):Fe(s,()=>o(e,t));return Et(r)}function zl(n){return pe(e=>{let t=n(e);return t?_1(t).pipe(i1(()=>e)):F(e)})}var Zg=(()=>{class n{buildTitle(t){let i,s=t.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===Z);return i}getResolvedTitleForRoute(t){return t.data[c0]}static \u0275fac=function(i){return new(i||n)};static \u0275prov=I({token:n,factory:()=>E(lT),providedIn:"root"})}return n})(),lT=(()=>{class n extends Zg{title;constructor(t){super(),this.title=t}updateTitle(t){let i=this.buildTitle(t);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||n)(H(rh))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),d0=new B("",{providedIn:"root",factory:()=>({})}),uT=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=re({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(i,s){i&1&&Q1(0,"router-outlet")},dependencies:[CN],encapsulation:2})}return n})();function Xl(n){let e=n.children&&n.children.map(Xl),t=e?t1(N({},n),{children:e}):N({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Z&&(t.component=uT),t}var no=new B(""),e7=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=E(os);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return F(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let i=Et(t.loadComponent()).pipe(i1(Yg),U1(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),A3(()=>{this.componentLoaders.delete(t)})),s=new _3(i,()=>new g1).pipe(y3());return this.componentLoaders.set(t,s),s}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return F({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=fT(i,this.compiler,t,this.onLoadEndListener).pipe(A3(()=>{this.childrenLoaders.delete(i)})),r=new _3(o,()=>new g1).pipe(y3());return this.childrenLoaders.set(i,r),r}static \u0275fac=function(i){return new(i||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function fT(n,e,t,i){return Et(n.loadChildren()).pipe(i1(Yg),S1(s=>s instanceof qn||Array.isArray(s)?F(s):_1(e.compileModuleAsync(s))),i1(s=>{i&&i(n);let o,r,c=!1;return Array.isArray(s)?(r=s,c=!0):(o=s.create(t).injector,r=o.get(no,[],{optional:!0,self:!0}).flat()),{routes:r.map(Xl),injector:o}}))}function dT(n){return n&&typeof n=="object"&&"default"in n}function Yg(n){return dT(n)?n.default:n}var t7=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=I({token:n,factory:()=>E(hT),providedIn:"root"})}return n})(),hT=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static \u0275fac=function(i){return new(i||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Jg=new B(""),Kg=new B("");function pT(n,e,t){let i=n.get(Kg),s=n.get(P1);return n.get(m1).runOutsideAngular(()=>{if(!s.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,r=new Promise(l=>{o=l}),c=s.startViewTransition(()=>(o(),mT(n))),{onViewTransitionCreated:a}=i;return a&&Fe(n,()=>a({transition:c,from:e,to:t})),r})}function mT(n){return new Promise(e=>{en({read:()=>setTimeout(e)},{injector:n})})}var Qg=new B(""),n7=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new g1;transitionAbortSubject=new g1;configLoader=E(e7);environmentInjector=E(ne);urlSerializer=E(a0);rootContexts=E(u0);location=E(rn);inputBindingEnabled=E(so,{optional:!0})!==null;titleStrategy=E(Zg);options=E(d0,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=E(t7);createViewTransition=E(Jg,{optional:!0});navigationErrorHandler=E(Qg,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>F(void 0);rootComponentType=null;constructor(){let t=s=>this.events.next(new Ol(s)),i=s=>this.events.next(new Pl(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let i=++this.navigationId;this.transitions?.next(t1(N(N({},this.transitions.value),t),{id:i}))}setupNavigations(t,i,s){return this.transitions=new q1({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Q4,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(j1(o=>o.id!==0),i1(o=>t1(N({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),pe(o=>{let r=!1,c=!1;return F(o).pipe(pe(a=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Te.SupersededByNewNavigation),J1;this.currentTransition=o,this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,targetBrowserUrl:typeof a.extras.browserUrl=="string"?this.urlSerializer.parse(a.extras.browserUrl):a.extras.browserUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?t1(N({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=a.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&u!=="reload"){let f="";return this.events.next(new At(a.id,this.urlSerializer.serialize(a.rawUrl),f,q6.IgnoredSameUrlNavigation)),a.resolve(!1),J1}if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return F(a).pipe(pe(f=>{let d=this.transitions?.getValue();return this.events.next(new En(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),d!==this.transitions?.getValue()?J1:Promise.resolve(f)}),sT(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),U1(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=t1(N({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let d=new Z6(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(d)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){let{id:f,extractedUrl:d,source:h,restoredState:p,extras:m}=a,v=new En(f,this.urlSerializer.serialize(d),h,p);this.events.next(v);let g=Rg(this.rootComponentType).snapshot;return this.currentTransition=o=t1(N({},a),{targetSnapshot:g,urlAfterRedirects:d,extras:t1(N({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=d,F(o)}else{let f="";return this.events.next(new At(a.id,this.urlSerializer.serialize(a.extractedUrl),f,q6.IgnoredByUrlHandlingStrategy)),a.resolve(!1),J1}}),U1(a=>{let l=new Nl(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),i1(a=>(this.currentTransition=o=t1(N({},a),{guards:wN(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),o)),ON(this.environmentInjector,a=>this.events.next(a)),U1(a=>{if(o.guardsResult=a.guardsResult,a.guardsResult&&typeof a.guardsResult!="boolean")throw eo(this.urlSerializer,a.guardsResult);let l=new Tl(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(l)}),j1(a=>a.guardsResult?!0:(this.cancelNavigationTransition(a,"",Te.GuardRejected),!1)),zl(a=>{if(a.guards.canActivateChecks.length)return F(a).pipe(U1(l=>{let u=new Il(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),pe(l=>{let u=!1;return F(l).pipe(oT(this.paramsInheritanceStrategy,this.environmentInjector),U1({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",Te.NoDataFromResolver)}}))}),U1(l=>{let u=new kl(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),zl(a=>{let l=u=>{let f=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(u.routeConfig).pipe(U1(d=>{u.component=d}),i1(()=>{})));for(let d of u.children)f.push(...l(d));return f};return S3(l(a.targetSnapshot.root)).pipe(st(null),Oe(1))}),zl(()=>this.afterPreactivation()),pe(()=>{let{currentSnapshot:a,targetSnapshot:l}=o,u=this.createViewTransition?.(this.environmentInjector,a.root,l.root);return u?_1(u).pipe(i1(()=>o)):F(o)}),i1(a=>{let l=bN(t.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return this.currentTransition=o=t1(N({},a),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),U1(()=>{this.events.next(new n0)}),LN(this.rootContexts,t.routeReuseStrategy,a=>this.events.next(a),this.inputBindingEnabled),Oe(1),U1({next:a=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new o2(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),this.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{r=!0}}),K(this.transitionAbortSubject.pipe(U1(a=>{throw a}))),A3(()=>{!r&&!c&&this.cancelNavigationTransition(o,"",Te.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),it(a=>{if(c=!0,jg(a))this.events.next(new J2(o.id,this.urlSerializer.serialize(o.extractedUrl),a.message,a.cancellationCode)),_N(a)?this.events.next(new Dn(a.url,a.navigationBehaviorOptions)):o.resolve(!1);else{let l=new t0(o.id,this.urlSerializer.serialize(o.extractedUrl),a,o.targetSnapshot??void 0);try{let u=Fe(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(u instanceof s0){let{message:f,cancellationCode:d}=eo(this.urlSerializer,u);this.events.next(new J2(o.id,this.urlSerializer.serialize(o.extractedUrl),f,d)),this.events.next(new Dn(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(l),a}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return J1}))}))}cancelNavigationTransition(t,i,s){let o=new J2(t.id,this.urlSerializer.serialize(t.extractedUrl),i,s);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function gT(n){return n!==Q4}var vT=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=I({token:n,factory:()=>E(CT),providedIn:"root"})}return n})(),Kl=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},CT=(()=>{class n extends Kl{static \u0275fac=(()=>{let t;return function(s){return(t||(t=e4(n)))(s||n)}})();static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Xg=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=I({token:n,factory:()=>E(bT),providedIn:"root"})}return n})(),bT=(()=>{class n extends Xg{location=E(rn);urlSerializer=E(a0);options=E(d0,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=E(t7);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new K2;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=Rg(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{i.type==="popstate"&&t(i.url,i.state)})}handleRouterEvent(t,i){if(t instanceof En)this.stateMemento=this.createStateMemento();else if(t instanceof At)this.rawUrlTree=i.initialUrl;else if(t instanceof Z6){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??s,i)}}else t instanceof n0?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):t instanceof J2&&(t.code===Te.GuardRejected||t.code===Te.NoDataFromResolver)?this.restoreHistory(i):t instanceof t0?this.restoreHistory(i,!0):t instanceof o2&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,i){let s=t instanceof K2?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,r=N(N({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",r)}else{let o=N(N({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(t,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(s){return(t||(t=e4(n)))(s||n)}})();static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),J4=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(J4||{});function ev(n,e){n.events.pipe(j1(t=>t instanceof o2||t instanceof J2||t instanceof t0||t instanceof At),i1(t=>t instanceof o2||t instanceof At?J4.COMPLETE:(t instanceof J2?t.code===Te.Redirect||t.code===Te.SupersededByNewNavigation:!1)?J4.REDIRECTING:J4.FAILED),j1(t=>t!==J4.REDIRECTING),Oe(1)).subscribe(()=>{e()})}var MT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},yT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Q2=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=E(Ki);stateManager=E(Xg);options=E(d0,{optional:!0})||{};pendingTasks=E(K3);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=E(n7);urlSerializer=E(a0);location=E(rn);urlHandlingStrategy=E(t7);_events=new g1;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=E(vT);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=E(no,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!E(so,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new T1;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof J2&&i.code!==Te.Redirect&&i.code!==Te.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof o2)this.navigated=!0;else if(i instanceof Dn){let r=i.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),a=N({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||gT(s.source)},r);this.scheduleNavigation(c,Q4,null,a,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}LT(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Q4,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",i)},0)})}navigateToSyncWithBrowser(t,i,s){let o={replaceUrl:!0},r=s?.navigationId?s:null;if(s){let a=N({},s);delete a.navigationId,delete a.\u0275routerPageId,Object.keys(a).length!==0&&(o.state=a)}let c=this.parseUrl(t);this.scheduleNavigation(c,i,r,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Xl),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){let{relativeTo:s,queryParams:o,fragment:r,queryParamsHandling:c,preserveFragment:a}=i,l=a?this.currentUrlTree.fragment:r,u=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":u=N(N({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let f;try{let d=s?s.snapshot:this.routerState.snapshot.root;f=Ig(d)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),f=this.currentUrlTree.root}return kg(f,t,u,l??null)}navigateByUrl(t,i={skipLocationChange:!1}){let s=d3(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Q4,null,i)}navigate(t,i={skipLocationChange:!1}){return _T(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let s;if(i===!0?s=N({},MT):i===!1?s=N({},yT):s=i,d3(t))return dg(this.currentUrlTree,t,s);let o=this.parseUrl(t);return dg(this.currentUrlTree,o,s)}removeEmptyProps(t){return Object.entries(t).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(t,i,s,o,r){if(this.disposed)return Promise.resolve(!1);let c,a,l;r?(c=r.resolve,a=r.reject,l=r.promise):l=new Promise((f,d)=>{c=f,a=d});let u=this.pendingTasks.add();return ev(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:c,reject:a,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(f=>Promise.reject(f))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _T(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new O(4008,!1)}function LT(n){return!(n instanceof n0)&&!(n instanceof Dn)}var Mg=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new g1;constructor(t,i,s,o,r,c){this.router=t,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=r,this.locationStrategy=c;let a=r.nativeElement.tagName?.toLowerCase();this.isAnchorElement=a==="a"||a==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof o2&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(d3(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,i,s,o,r){let c=this.urlTree;if(c===null||this.isAnchorElement&&(t!==0||i||s||o||r||typeof this.target=="string"&&this.target!="_self"))return!0;let a={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,a),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let i=this.href===null?null:wf(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(t,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,t,i):s.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:d3(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(i){return new(i||n)(r1(Q2),r1(h3),Bi("tabindex"),r1(pt),r1(K1),r1(R2))};static \u0275dir=h2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&be("click",function(r){return s.onClick(r.button,r.ctrlKey,r.shiftKey,r.altKey,r.metaKey)}),i&2&&Wt("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",l4],skipLocationChange:[2,"skipLocationChange","skipLocationChange",l4],replaceUrl:[2,"replaceUrl","replaceUrl",l4],routerLink:"routerLink"},features:[jc,He]})}return n})(),uU=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new L1;constructor(t,i,s,o,r){this.router=t,this.element=i,this.renderer=s,this.cdr=o,this.link=r,this.routerEventsSubscription=t.events.subscribe(c=>{c instanceof o2&&this.update()})}ngAfterContentInit(){F(this.links.changes,F(null)).pipe(tt()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=_1(t).pipe(tt()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){let i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(s=>!!s)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let i=wT(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>{let o=s.urlTree;return o?t.isActive(o,i):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(i){return new(i||n)(r1(Q2),r1(K1),r1(pt),r1(bt),r1(Mg,8))};static \u0275dir=h2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(i,s,o){if(i&1&&Uc(o,Mg,5),i&2){let r;sn(r=on())&&(s.links=r)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[He]})}return n})();function wT(n){return!!n.paths}var io=class{};var zT=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,i,s,o,r){this.router=t,this.injector=s,this.preloadingStrategy=o,this.loader=r}setUpPreloading(){this.subscription=this.router.events.pipe(j1(t=>t instanceof o2),Pt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){let s=[];for(let o of i){o.providers&&!o._injector&&(o._injector=Ji(o.providers,t,`Route: ${o.path}`));let r=o._injector??t,c=o._loadedInjector??r;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(r,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(c,o.children??o._loadedRoutes))}return _1(s).pipe(tt())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(t,i):s=F(null);let o=s.pipe(S1(r=>r===null?F(void 0):(i._loadedRoutes=r.routes,i._loadedInjector=r.injector,this.processRoutes(r.injector??t,r.routes))));if(i.loadComponent&&!i._loadedComponent){let r=this.loader.loadComponent(i);return _1([o,r]).pipe(tt())}else return o})}static \u0275fac=function(i){return new(i||n)(H(Q2),H(os),H(ne),H(io),H(e7))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),tv=new B(""),xT=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,i,s,o,r={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=r,r.scrollPositionRestoration||="disabled",r.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof En?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof o2?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof At&&t.code===q6.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Y6&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Y6(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(i){Vf()};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})();function ST(n){return n.routerState.root}function h0(n,e){return{\u0275kind:n,\u0275providers:e}}function AT(){let n=E(Z1);return e=>{let t=n.get(p2);if(e!==t.components[0])return;let i=n.get(Q2),s=n.get(nv);n.get(i7)===1&&i.initialNavigation(),n.get(iv,null,Q.Optional)?.setUpPreloading(),n.get(tv,null,Q.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}var nv=new B("",{factory:()=>new g1}),i7=new B("",{providedIn:"root",factory:()=>1});function ET(){return h0(2,[{provide:i7,useValue:0},{provide:es,multi:!0,deps:[Z1],useFactory:e=>{let t=e.get(Gd,Promise.resolve());return()=>t.then(()=>new Promise(i=>{let s=e.get(Q2),o=e.get(nv);ev(s,()=>{i(!0)}),e.get(n7).afterPreactivation=()=>(i(!0),o.closed?F(void 0):o),s.initialNavigation()}))}}])}function DT(){return h0(3,[{provide:es,multi:!0,useFactory:()=>{let e=E(Q2);return()=>{e.setUpLocationChangeListener()}}},{provide:i7,useValue:2}])}var iv=new B("");function NT(n){return h0(0,[{provide:iv,useExisting:zT},{provide:io,useExisting:n}])}function TT(){return h0(8,[gg,{provide:so,useExisting:gg}])}function IT(n){let e=[{provide:Jg,useValue:pT},{provide:Kg,useValue:N({skipNextTransition:!!n?.skipInitialTransition},n)}];return h0(9,e)}var yg=new B("ROUTER_FORROOT_GUARD"),kT=[rn,{provide:a0,useClass:An},Q2,u0,{provide:h3,useFactory:ST,deps:[Q2]},e7,[]],fU=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[kT,[],{provide:no,multi:!0,useValue:t},{provide:yg,useFactory:FT,deps:[[Q2,new ki,new ic]]},i?.errorHandler?{provide:Qg,useValue:i.errorHandler}:[],{provide:d0,useValue:i||{}},i?.useHash?PT():RT(),OT(),i?.preloadingStrategy?NT(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?HT(i):[],i?.bindToComponentInputs?TT().\u0275providers:[],i?.enableViewTransitions?IT().\u0275providers:[],VT()]}}static forChild(t){return{ngModule:n,providers:[{provide:no,multi:!0,useValue:t}]}}static \u0275fac=function(i){return new(i||n)(H(yg,8))};static \u0275mod=p1({type:n});static \u0275inj=h1({})}return n})();function OT(){return{provide:tv,useFactory:()=>{let n=E(Jd),e=E(m1),t=E(d0),i=E(n7),s=E(a0);return t.scrollOffset&&n.setOffset(t.scrollOffset),new xT(s,i,n,e,t)}}}function PT(){return{provide:R2,useClass:qd}}function RT(){return{provide:R2,useClass:Qc}}function FT(n){return"guarded"}function HT(n){return[n.initialNavigation==="disabled"?DT().\u0275providers:[],n.initialNavigation==="enabledBlocking"?ET().\u0275providers:[]]}var _g=new B("");function VT(){return[{provide:_g,useFactory:AT},{provide:Vc,multi:!0,useExisting:_g}]}export{I as a,h1 as b,H as c,oe as d,r1 as e,W3 as f,re as g,p1 as h,kH as i,gt as j,xe as k,X_ as l,eL as m,tL as n,A1 as o,I1 as p,Q1 as q,be as r,Xe as s,tn as t,nn as u,e2 as v,ss as w,vt as x,Ct as y,pL as z,aV as A,lV as B,us as C,wV as D,zV as E,CN as F,Mg as G,uU as H,fU as I,fn as J,WB as K,ZB as L,Tj as M,Gj as N};
