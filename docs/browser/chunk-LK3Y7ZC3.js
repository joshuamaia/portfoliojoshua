var t7=Object.defineProperty,nv=Object.defineProperties;var iv=Object.getOwnPropertyDescriptors;var Xl=Object.getOwnPropertySymbols,sv=Object.getPrototypeOf,ov=Object.prototype.hasOwnProperty,rv=Object.prototype.propertyIsEnumerable,cv=Reflect.get;var to=(n,e)=>(e=Symbol[n])?e:Symbol.for("Symbol."+n);var e7=(n,e,t)=>e in n?t7(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,D=(n,e)=>{for(var t in e||={})ov.call(e,t)&&e7(n,t,e[t]);if(Xl)for(var t of Xl(e))rv.call(e,t)&&e7(n,t,e[t]);return n},X=(n,e)=>nv(n,iv(e));var n7=(n,e)=>{for(var t in e)t7(n,t,{get:e[t],enumerable:!0})};var i7=(n,e,t)=>cv(sv(n),t,e);var N=(n,e,t)=>new Promise((i,s)=>{var o=a=>{try{c(t.next(a))}catch(l){s(l)}},r=a=>{try{c(t.throw(a))}catch(l){s(l)}},c=a=>a.done?i(a.value):Promise.resolve(a.value).then(o,r);c((t=t.apply(n,e)).next())}),u0=function(n,e){this[0]=n,this[1]=e},no=(n,e,t)=>{var i=(r,c,a,l)=>{try{var u=t[r](c),f=(c=u.value)instanceof u0,d=u.done;Promise.resolve(f?c[0]:c).then(h=>f?i(r==="return"?r:"next",c[1]?{done:h.done,value:h.value}:h,a,l):a({value:h,done:d})).catch(h=>i("throw",h,a,l))}catch(h){l(h)}},s=r=>o[r]=c=>new Promise((a,l)=>i(r,c,a,l)),o={};return t=t.apply(n,e),o[to("asyncIterator")]=()=>o,s("next"),s("throw"),s("return"),o};var s7=(n,e,t)=>(e=n[to("asyncIterator")])?e.call(n):(n=n[to("iterator")](),e={},t=(i,s)=>(s=n[i])&&(e[i]=o=>new Promise((r,c,a)=>(o=s.call(n,o),a=o.done,Promise.resolve(o.value).then(l=>r({value:l,done:a}),c)))),t("next"),t("return"),e);function o7(n,e){return Object.is(n,e)}var H1=null,f0=!1,so=1,s2=Symbol("SIGNAL");function o1(n){let e=H1;return H1=n,e}function r7(){return H1}var d0={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function oo(n){if(f0)throw new Error("");if(H1===null)return;H1.consumerOnSignalRead(n);let e=H1.nextProducerIndex++;if(p0(H1),e<H1.producerNode.length&&H1.producerNode[e]!==n&&En(H1)){let t=H1.producerNode[e];h0(t,H1.producerIndexOfThis[e])}H1.producerNode[e]!==n&&(H1.producerNode[e]=n,H1.producerIndexOfThis[e]=En(H1)?f7(n,H1,e):0),H1.producerLastReadVersion[e]=n.version}function av(){so++}function c7(n){if(!(En(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===so)){if(!n.producerMustRecompute(n)&&!co(n)){io(n);return}n.producerRecomputeValue(n),io(n)}}function a7(n){if(n.liveConsumerNode===void 0)return;let e=f0;f0=!0;try{for(let t of n.liveConsumerNode)t.dirty||lv(t)}finally{f0=e}}function l7(){return H1?.consumerAllowSignalWrites!==!1}function lv(n){n.dirty=!0,a7(n),n.consumerMarkedDirty?.(n)}function io(n){n.dirty=!1,n.lastCleanEpoch=so}function ro(n){return n&&(n.nextProducerIndex=0),o1(n)}function u7(n,e){if(o1(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(En(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)h0(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function co(n){p0(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(c7(t),i!==t.version))return!0}return!1}function ao(n){if(p0(n),En(n))for(let e=0;e<n.producerNode.length;e++)h0(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function f7(n,e,t){if(d7(n),n.liveConsumerNode.length===0&&h7(n))for(let i=0;i<n.producerNode.length;i++)n.producerIndexOfThis[i]=f7(n.producerNode[i],n,i);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function h0(n,e){if(d7(n),n.liveConsumerNode.length===1&&h7(n))for(let i=0;i<n.producerNode.length;i++)h0(n.producerNode[i],n.producerIndexOfThis[i]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let i=n.liveConsumerIndexOfThis[e],s=n.liveConsumerNode[e];p0(s),s.producerIndexOfThis[i]=e}}function En(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function p0(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function d7(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function h7(n){return n.producerNode!==void 0}function uv(){throw new Error}var p7=uv;function m7(){p7()}function g7(n){p7=n}var fv=null;function v7(n){let e=Object.create(lo);e.value=n;let t=()=>(oo(e),e.value);return t[s2]=e,t}function m0(n,e){l7()||m7(),n.equal(n.value,e)||(n.value=e,dv(n))}function C7(n,e){l7()||m7(),m0(n,e(n.value))}var lo=X(D({},d0),{equal:o7,value:void 0});function dv(n){n.version++,av(),a7(n),fv?.()}function H(n){return typeof n=="function"}function p3(n){let t=n(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var g0=p3(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,s)=>`${s+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Nt(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var E1=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(H(i))try{i()}catch(o){e=o instanceof g0?o.errors:[o]}let{_finalizers:s}=this;if(s){this._finalizers=null;for(let o of s)try{b7(o)}catch(r){e=e??[],r instanceof g0?e=[...e,...r.errors]:e.push(r)}}if(e)throw new g0(e)}}add(e){var t;if(e&&e!==this)if(this.closed)b7(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Nt(t,e)}remove(e){let{_finalizers:t}=this;t&&Nt(t,e),e instanceof n&&e._removeParent(this)}};E1.EMPTY=(()=>{let n=new E1;return n.closed=!0,n})();var uo=E1.EMPTY;function v0(n){return n instanceof E1||n&&"closed"in n&&H(n.remove)&&H(n.add)&&H(n.unsubscribe)}function b7(n){H(n)?n():n.unsubscribe()}var Ue={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var m3={setTimeout(n,e,...t){let{delegate:i}=m3;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=m3;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function C0(n){m3.setTimeout(()=>{let{onUnhandledError:e}=Ue;if(e)e(n);else throw n})}function Tt(){}var M7=fo("C",void 0,void 0);function y7(n){return fo("E",void 0,n)}function _7(n){return fo("N",n,void 0)}function fo(n,e,t){return{kind:n,value:e,error:t}}var It=null;function g3(n){if(Ue.useDeprecatedSynchronousErrorHandling){let e=!It;if(e&&(It={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:i}=It;if(It=null,t)throw i}}else n()}function L7(n){Ue.useDeprecatedSynchronousErrorHandling&&It&&(It.errorThrown=!0,It.error=n)}var kt=class extends E1{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,v0(e)&&e.add(this)):this.destination=mv}static create(e,t,i){return new v3(e,t,i)}next(e){this.isStopped?po(_7(e),this):this._next(e)}error(e){this.isStopped?po(y7(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?po(M7,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},hv=Function.prototype.bind;function ho(n,e){return hv.call(n,e)}var mo=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){b0(i)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){b0(i)}else b0(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){b0(t)}}},v3=class extends kt{constructor(e,t,i){super();let s;if(H(e)||!e)s={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&Ue.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),s={next:e.next&&ho(e.next,o),error:e.error&&ho(e.error,o),complete:e.complete&&ho(e.complete,o)}):s=e}this.destination=new mo(s)}};function b0(n){Ue.useDeprecatedSynchronousErrorHandling?L7(n):C0(n)}function pv(n){throw n}function po(n,e){let{onStoppedNotification:t}=Ue;t&&m3.setTimeout(()=>t(n,e))}var mv={closed:!0,next:Tt,error:pv,complete:Tt};var C3=typeof Symbol=="function"&&Symbol.observable||"@@observable";function fe(n){return n}function go(...n){return vo(n)}function vo(n){return n.length===0?fe:n.length===1?n[0]:function(t){return n.reduce((i,s)=>s(i),t)}}var Y=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,s){let o=vv(t)?t:new v3(t,i,s);return g3(()=>{let{operator:r,source:c}=this;o.add(r?r.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=w7(i),new i((s,o)=>{let r=new v3({next:c=>{try{t(c)}catch(a){o(a),r.unsubscribe()}},error:o,complete:s});this.subscribe(r)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[C3](){return this}pipe(...t){return vo(t)(this)}toPromise(t){return t=w7(t),new t((i,s)=>{let o;this.subscribe(r=>o=r,r=>s(r),()=>i(o))})}}return n.create=e=>new n(e),n})();function w7(n){var e;return(e=n??Ue.Promise)!==null&&e!==void 0?e:Promise}function gv(n){return n&&H(n.next)&&H(n.error)&&H(n.complete)}function vv(n){return n&&n instanceof kt||gv(n)&&v0(n)}function Co(n){return H(n?.lift)}function e1(n){return e=>{if(Co(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function G(n,e,t,i,s){return new bo(n,e,t,i,s)}var bo=class extends kt{constructor(e,t,i,s,o,r){super(e),this.onFinalize=o,this.shouldUnsubscribe=r,this._next=t?function(c){try{t(c)}catch(a){e.error(a)}}:super._next,this._error=s?function(c){try{s(c)}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function b3(){return e1((n,e)=>{let t=null;n._refCount++;let i=G(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let s=n._connection,o=t;t=null,s&&(!o||s===o)&&s.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}var M3=class extends Y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Co(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new E1;let t=this.getSubject();e.add(this.source.subscribe(G(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=E1.EMPTY)}return e}refCount(){return b3()(this)}};var z7=p3(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var p1=(()=>{class n extends Y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new M0(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new z7}next(t){g3(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){g3(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){g3(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:s,observers:o}=this;return i||s?uo:(this.currentObservers=null,o.push(t),new E1(()=>{this.currentObservers=null,Nt(o,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:s,isStopped:o}=this;i?t.error(s):o&&t.complete()}asObservable(){let t=new Y;return t.source=this,t}}return n.create=(e,t)=>new M0(e,t),n})(),M0=class extends p1{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,e)}error(e){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&i!==void 0?i:uo}};var $1=class extends p1{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var Mo={now(){return(Mo.delegate||Date).now()},delegate:void 0};var y0=class extends E1{constructor(e,t){super()}schedule(e,t=0){return this}};var Dn={setInterval(n,e,...t){let{delegate:i}=Dn;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Dn;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var _0=class extends y0{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;let s=this.id,o=this.scheduler;return s!=null&&(this.id=this.recycleAsyncId(o,s,t)),this.pending=!0,this.delay=t,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return Dn.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return t;t!=null&&Dn.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,t);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i=!1,s;try{this.work(e)}catch(o){i=!0,s=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),s}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Nt(i,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var y3=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}};y3.now=Mo.now;var L0=class extends y3{constructor(e,t=y3.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}};var yo=new L0(_0),x7=yo;var Z1=new Y(n=>n.complete());function w0(n){return n&&H(n.schedule)}function S7(n){return n[n.length-1]}function _3(n){return H(S7(n))?n.pop():void 0}function X2(n){return w0(S7(n))?n.pop():void 0}function E7(n,e,t,i){function s(o){return o instanceof t?o:new t(function(r){r(o)})}return new(t||(t=Promise))(function(o,r){function c(u){try{l(i.next(u))}catch(f){r(f)}}function a(u){try{l(i.throw(u))}catch(f){r(f)}}function l(u){u.done?o(u.value):s(u.value).then(c,a)}l((i=i.apply(n,e||[])).next())})}function A7(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pt(n){return this instanceof Pt?(this.v=n,this):new Pt(n)}function D7(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),s,o=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",r),s[Symbol.asyncIterator]=function(){return this},s;function r(h){return function(p){return Promise.resolve(p).then(h,f)}}function c(h,p){i[h]&&(s[h]=function(m){return new Promise(function(v,g){o.push([h,m,v,g])>1||a(h,m)})},p&&(s[h]=p(s[h])))}function a(h,p){try{l(i[h](p))}catch(m){d(o[0][3],m)}}function l(h){h.value instanceof Pt?Promise.resolve(h.value.v).then(u,f):d(o[0][2],h)}function u(h){a("next",h)}function f(h){a("throw",h)}function d(h,p){h(p),o.shift(),o.length&&a(o[0][0],o[0][1])}}function N7(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof A7=="function"?A7(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(r){return new Promise(function(c,a){r=n[o](r),s(c,a,r.done,r.value)})}}function s(o,r,c,a){Promise.resolve(a).then(function(l){o({value:l,done:c})},r)}}var L3=n=>n&&typeof n.length=="number"&&typeof n!="function";function z0(n){return H(n?.then)}function x0(n){return H(n[C3])}function S0(n){return Symbol.asyncIterator&&H(n?.[Symbol.asyncIterator])}function A0(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Cv(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var E0=Cv();function D0(n){return H(n?.[E0])}function N0(n){return D7(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:i,done:s}=yield Pt(t.read());if(s)return yield Pt(void 0);yield yield Pt(i)}}finally{t.releaseLock()}})}function T0(n){return H(n?.getReader)}function b1(n){if(n instanceof Y)return n;if(n!=null){if(x0(n))return bv(n);if(L3(n))return Mv(n);if(z0(n))return yv(n);if(S0(n))return T7(n);if(D0(n))return _v(n);if(T0(n))return Lv(n)}throw A0(n)}function bv(n){return new Y(e=>{let t=n[C3]();if(H(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Mv(n){return new Y(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function yv(n){return new Y(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,C0)})}function _v(n){return new Y(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function T7(n){return new Y(e=>{wv(n,e).catch(t=>e.error(t))})}function Lv(n){return T7(N0(n))}function wv(n,e){var t,i,s,o;return E7(this,void 0,void 0,function*(){try{for(t=N7(n);i=yield t.next(),!i.done;){let r=i.value;if(e.next(r),e.closed)return}}catch(r){s={error:r}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(s)throw s.error}}e.complete()})}function he(n,e,t,i=0,s=!1){let o=e.schedule(function(){t(),s?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!s)return o}function I0(n,e=0){return e1((t,i)=>{t.subscribe(G(i,s=>he(i,n,()=>i.next(s),e),()=>he(i,n,()=>i.complete(),e),s=>he(i,n,()=>i.error(s),e)))})}function k0(n,e=0){return e1((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function I7(n,e){return b1(n).pipe(k0(e),I0(e))}function k7(n,e){return b1(n).pipe(k0(e),I0(e))}function P7(n,e){return new Y(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}function R7(n,e){return new Y(t=>{let i;return he(t,e,()=>{i=n[E0](),he(t,e,()=>{let s,o;try{({value:s,done:o}=i.next())}catch(r){t.error(r);return}o?t.complete():t.next(s)},0,!0)}),()=>H(i?.return)&&i.return()})}function P0(n,e){if(!n)throw new Error("Iterable cannot be null");return new Y(t=>{he(t,e,()=>{let i=n[Symbol.asyncIterator]();he(t,e,()=>{i.next().then(s=>{s.done?t.complete():t.next(s.value)})},0,!0)})})}function O7(n,e){return P0(N0(n),e)}function F7(n,e){if(n!=null){if(x0(n))return I7(n,e);if(L3(n))return P7(n,e);if(z0(n))return k7(n,e);if(S0(n))return P0(n,e);if(D0(n))return R7(n,e);if(T0(n))return O7(n,e)}throw A0(n)}function y1(n,e){return e?F7(n,e):b1(n)}function O(...n){let e=X2(n);return y1(n,e)}function w3(n,e){let t=H(n)?n:()=>n,i=s=>s.error(t());return new Y(e?s=>e.schedule(i,0,s):i)}function _o(n){return!!n&&(n instanceof Y||H(n.lift)&&H(n.subscribe))}var L2=p3(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function H7(n){return n instanceof Date&&!isNaN(n)}function t1(n,e){return e1((t,i)=>{let s=0;t.subscribe(G(i,o=>{i.next(n.call(e,o,s++))}))})}var{isArray:zv}=Array;function xv(n,e){return zv(e)?n(...e):n(e)}function R0(n){return t1(e=>xv(n,e))}var{isArray:Sv}=Array,{getPrototypeOf:Av,prototype:Ev,keys:Dv}=Object;function V7(n){if(n.length===1){let e=n[0];if(Sv(e))return{args:e,keys:null};if(Nv(e)){let t=Dv(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}function Nv(n){return n&&typeof n=="object"&&Av(n)===Ev}function B7(n,e){return n.reduce((t,i,s)=>(t[i]=e[s],t),{})}function z3(...n){let e=X2(n),t=_3(n),{args:i,keys:s}=V7(n);if(i.length===0)return y1([],e);let o=new Y(Tv(i,e,s?r=>B7(s,r):fe));return t?o.pipe(R0(t)):o}function Tv(n,e,t=fe){return i=>{j7(e,()=>{let{length:s}=n,o=new Array(s),r=s,c=s;for(let a=0;a<s;a++)j7(e,()=>{let l=y1(n[a],e),u=!1;l.subscribe(G(i,f=>{o[a]=f,u||(u=!0,c--),c||i.next(t(o.slice()))},()=>{--r||i.complete()}))},i)},i)}}function j7(n,e,t){n?he(t,n,e):e()}function U7(n,e,t,i,s,o,r,c){let a=[],l=0,u=0,f=!1,d=()=>{f&&!a.length&&!l&&e.complete()},h=m=>l<i?p(m):a.push(m),p=m=>{o&&e.next(m),l++;let v=!1;b1(t(m,u++)).subscribe(G(e,g=>{s?.(g),o?h(g):e.next(g)},()=>{v=!0},void 0,()=>{if(v)try{for(l--;a.length&&l<i;){let g=a.shift();r?he(e,r,()=>p(g)):p(g)}d()}catch(g){e.error(g)}}))};return n.subscribe(G(e,h,()=>{f=!0,d()})),()=>{c?.()}}function w1(n,e,t=1/0){return H(e)?w1((i,s)=>t1((o,r)=>e(i,o,s,r))(b1(n(i,s))),t):(typeof e=="number"&&(t=e),e1((i,s)=>U7(i,s,n,t)))}function et(n=1/0){return w1(fe,n)}function $7(){return et(1)}function tt(...n){return $7()(y1(n,X2(n)))}function O0(n){return new Y(e=>{b1(n()).subscribe(e)})}var Iv=["addListener","removeListener"],kv=["addEventListener","removeEventListener"],Pv=["on","off"];function l1(n,e,t,i){if(H(t)&&(i=t,t=void 0),i)return l1(n,e,t).pipe(R0(i));let[s,o]=Fv(n)?kv.map(r=>c=>n[r](e,c,t)):Rv(n)?Iv.map(G7(n,e)):Ov(n)?Pv.map(G7(n,e)):[];if(!s&&L3(n))return w1(r=>l1(r,e,t))(b1(n));if(!s)throw new TypeError("Invalid event target");return new Y(r=>{let c=(...a)=>r.next(1<a.length?a:a[0]);return s(c),()=>o(c)})}function G7(n,e){return t=>i=>n[t](e,i)}function Rv(n){return H(n.addListener)&&H(n.removeListener)}function Ov(n){return H(n.on)&&H(n.off)}function Fv(n){return H(n.addEventListener)&&H(n.removeEventListener)}function Lo(n=0,e,t=x7){let i=-1;return e!=null&&(w0(e)?t=e:i=e),new Y(s=>{let o=H7(n)?+n-t.now():n;o<0&&(o=0);let r=0;return t.schedule(function(){s.closed||(s.next(r++),0<=i?this.schedule(void 0,i):s.complete())},o)})}var{isArray:Hv}=Array;function F0(n){return n.length===1&&Hv(n[0])?n[0]:n}function V1(n,e){return e1((t,i)=>{let s=0;t.subscribe(G(i,o=>n.call(e,o,s++)&&i.next(o)))})}function wo(...n){return n=F0(n),n.length===1?b1(n[0]):new Y(Vv(n))}function Vv(n){return e=>{let t=[];for(let i=0;t&&!e.closed&&i<n.length;i++)t.push(b1(n[i]).subscribe(G(e,s=>{if(t){for(let o=0;o<t.length;o++)o!==i&&t[o].unsubscribe();t=null}e.next(s)})))}}function Nn(...n){let e=_3(n),t=F0(n);return t.length?new Y(i=>{let s=t.map(()=>[]),o=t.map(()=>!1);i.add(()=>{s=o=null});for(let r=0;!i.closed&&r<t.length;r++)b1(t[r]).subscribe(G(i,c=>{if(s[r].push(c),s.every(a=>a.length)){let a=s.map(l=>l.shift());i.next(e?e(...a):a),s.some((l,u)=>!l.length&&o[u])&&i.complete()}},()=>{o[r]=!0,!s[r].length&&i.complete()}));return()=>{s=o=null}}):Z1}function nt(n){return e1((e,t)=>{let i=null,s=!1,o;i=e.subscribe(G(t,void 0,void 0,r=>{o=b1(n(r,nt(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):s=!0})),s&&(i.unsubscribe(),i=null,o.subscribe(t))})}function W7(n,e,t,i,s){return(o,r)=>{let c=t,a=e,l=0;o.subscribe(G(r,u=>{let f=l++;a=c?n(a,u,f):(c=!0,u),i&&r.next(a)},s&&(()=>{c&&r.next(a),r.complete()})))}}function Rt(n,e){return H(e)?w1(n,e,1):w1(n,1)}function zo(n,e=yo){return e1((t,i)=>{let s=null,o=null,r=null,c=()=>{if(s){s.unsubscribe(),s=null;let l=o;o=null,i.next(l)}};function a(){let l=r+n,u=e.now();if(u<l){s=this.schedule(void 0,l-u),i.add(s);return}c()}t.subscribe(G(i,l=>{o=l,r=e.now(),s||(s=e.schedule(a,n),i.add(s))},()=>{c(),i.complete()},void 0,()=>{o=s=null}))})}function it(n){return e1((e,t)=>{let i=!1;e.subscribe(G(t,s=>{i=!0,t.next(s)},()=>{i||t.next(n),t.complete()}))})}function Ie(n){return n<=0?()=>Z1:e1((e,t)=>{let i=0;e.subscribe(G(t,s=>{++i<=n&&(t.next(s),n<=i&&t.complete())}))})}function xo(n){return t1(()=>n)}function H0(n=Bv){return e1((e,t)=>{let i=!1;e.subscribe(G(t,s=>{i=!0,t.next(s)},()=>i?t.complete():t.error(n())))})}function Bv(){return new L2}function So(...n){return e=>tt(e,O(...n))}function x3(n){return e1((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function o2(n,e){let t=arguments.length>=2;return i=>i.pipe(n?V1((s,o)=>n(s,o,i)):fe,Ie(1),t?it(e):H0(()=>new L2))}function S3(n){return n<=0?()=>Z1:e1((e,t)=>{let i=[];e.subscribe(G(t,s=>{i.push(s),n<i.length&&i.shift()},()=>{for(let s of i)t.next(s);t.complete()},void 0,()=>{i=null}))})}function Ao(n,e){let t=arguments.length>=2;return i=>i.pipe(n?V1((s,o)=>n(s,o,i)):fe,S3(1),t?it(e):H0(()=>new L2))}function Eo(n,e){return e1(W7(n,e,arguments.length>=2,!0))}function V0(...n){let e=X2(n);return e1((t,i)=>{(e?tt(n,t,e):tt(n,t)).subscribe(i)})}function pe(n,e){return e1((t,i)=>{let s=null,o=0,r=!1,c=()=>r&&!s&&i.complete();t.subscribe(G(i,a=>{s?.unsubscribe();let l=0,u=o++;b1(n(a,u)).subscribe(s=G(i,f=>i.next(e?e(a,f,u,l++):f),()=>{s=null,c()}))},()=>{r=!0,c()}))})}function J(n){return e1((e,t)=>{b1(n).subscribe(G(t,()=>t.complete(),Tt)),!t.closed&&e.subscribe(t)})}function B1(n,e,t){let i=H(n)||e||t?{next:n,error:e,complete:t}:n;return i?e1((s,o)=>{var r;(r=i.subscribe)===null||r===void 0||r.call(i);let c=!0;s.subscribe(G(o,a=>{var l;(l=i.next)===null||l===void 0||l.call(i,a),o.next(a)},()=>{var a;c=!1,(a=i.complete)===null||a===void 0||a.call(i),o.complete()},a=>{var l;c=!1,(l=i.error)===null||l===void 0||l.call(i,a),o.error(a)},()=>{var a,l;c&&((a=i.unsubscribe)===null||a===void 0||a.call(i)),(l=i.finalize)===null||l===void 0||l.call(i)}))}):fe}function B0(...n){let e=_3(n);return e1((t,i)=>{let s=n.length,o=new Array(s),r=n.map(()=>!1),c=!1;for(let a=0;a<s;a++)b1(n[a]).subscribe(G(i,l=>{o[a]=l,!c&&!r[a]&&(r[a]=!0,(c=r.every(fe))&&(r=null))},Tt));t.subscribe(G(i,a=>{if(c){let l=[a,...o];i.next(e?e(...l):l)}}))})}var F9="https://g.co/ng/security#xss",P=class extends Error{code;constructor(e,t){super(Zr(e,t)),this.code=e}};function Zr(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}var H9=Symbol("InputSignalNode#UNSET"),jv=X(D({},lo),{transformFn:void 0,applyValueToInputSignal(n,e){m0(n,e)}});function V9(n,e){let t=Object.create(jv);t.value=n,t.transformFn=e?.transform;function i(){if(oo(t),t.value===H9)throw new P(-950,!1);return t.value}return i[s2]=t,i}function $n(n){return{toString:n}.toString()}var j0="__parameters__";function Uv(n){return function(...t){if(n){let i=n(...t);for(let s in i)this[s]=i[s]}}}function B9(n,e,t){return $n(()=>{let i=Uv(e);function s(...o){if(this instanceof s)return i.apply(this,o),this;let r=new s(...o);return c.annotation=r,c;function c(a,l,u){let f=a.hasOwnProperty(j0)?a[j0]:Object.defineProperty(a,j0,{value:[]})[j0];for(;f.length<=u;)f.push(null);return(f[u]=f[u]||[]).push(r),a}}return t&&(s.prototype=Object.create(t.prototype)),s.prototype.ngMetadataName=n,s.annotationCls=s,s})}var we=globalThis;function M1(n){for(let e in n)if(n[e]===M1)return e;throw Error("Could not find renamed property on target object.")}function me(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(me).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function Bo(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var $v=M1({__forward_ref__:M1});function Yr(n){return n.__forward_ref__=Yr,n.toString=function(){return me(this())},n}function Pe(n){return j9(n)?n():n}function j9(n){return typeof n=="function"&&n.hasOwnProperty($v)&&n.__forward_ref__===Yr}function I(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function u1(n){return{providers:n.providers||[],imports:n.imports||[]}}function Ai(n){return q7(n,$9)||q7(n,G9)}function U9(n){return Ai(n)!==null}function q7(n,e){return n.hasOwnProperty(e)?n[e]:null}function Gv(n){let e=n&&(n[$9]||n[G9]);return e||null}function Z7(n){return n&&(n.hasOwnProperty(Y7)||n.hasOwnProperty(Wv))?n[Y7]:null}var $9=M1({\u0275prov:M1}),Y7=M1({\u0275inj:M1}),G9=M1({ngInjectableDef:M1}),Wv=M1({ngInjectorDef:M1}),V=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=I({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function W9(n){return n&&!!n.\u0275providers}var qv=M1({\u0275cmp:M1}),Zv=M1({\u0275dir:M1}),Yv=M1({\u0275pipe:M1}),Jv=M1({\u0275mod:M1}),ei=M1({\u0275fac:M1}),kn=M1({__NG_ELEMENT_ID__:M1}),J7=M1({__NG_ENV_ID__:M1});function Gn(n){return typeof n=="string"?n:n==null?"":String(n)}function Kv(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Gn(n)}function Qv(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new P(-200,n)}function Jr(n,e){throw new P(-201,!1)}var K=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(K||{}),jo;function q9(){return jo}function ke(n){let e=jo;return jo=n,e}function Z9(n,e,t){let i=Ai(n);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&K.Optional)return null;if(e!==void 0)return e;Jr(n,"Injector")}var Xv={},Rn=Xv,Uo="__NG_DI_FLAG__",ti="ngTempTokenPath",eC="ngTokenPath",tC=/\n/gm,nC="\u0275",K7="__source",N3;function iC(){return N3}function st(n){let e=N3;return N3=n,e}function sC(n,e=K.Default){if(N3===void 0)throw new P(-203,!1);return N3===null?Z9(n,void 0,e):N3.get(n,e&K.Optional?null:void 0,e)}function F(n,e=K.Default){return(q9()||sC)(Pe(n),e)}function x(n,e=K.Default){return F(n,Ei(e))}function Ei(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function $o(n){let e=[];for(let t=0;t<n.length;t++){let i=Pe(n[t]);if(Array.isArray(i)){if(i.length===0)throw new P(900,!1);let s,o=K.Default;for(let r=0;r<i.length;r++){let c=i[r],a=oC(c);typeof a=="number"?a===-1?s=c.token:o|=a:s=c}e.push(F(s,o))}else e.push(F(i))}return e}function Y9(n,e){return n[Uo]=e,n.prototype[Uo]=e,n}function oC(n){return n[Uo]}function rC(n,e,t,i){let s=n[ti];throw e[K7]&&s.unshift(e[K7]),n.message=cC(`
`+n.message,s,t,i),n[eC]=s,n[ti]=null,n}function cC(n,e,t,i=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==nC?n.slice(2):n;let s=me(e);if(Array.isArray(e))s=e.map(me).join(" -> ");else if(typeof e=="object"){let o=[];for(let r in e)if(e.hasOwnProperty(r)){let c=e[r];o.push(r+":"+(typeof c=="string"?JSON.stringify(c):me(c)))}s=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${s}]: ${n.replace(tC,`
  `)}`}var Di=Y9(B9("Optional"),8);var Kr=Y9(B9("SkipSelf"),4);function I3(n,e){let t=n.hasOwnProperty(ei);return t?n[ei]:null}function aC(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let s=n[i],o=e[i];if(t&&(s=t(s),o=t(o)),o!==s)return!1}return!0}function lC(n){return n.flat(Number.POSITIVE_INFINITY)}function Qr(n,e){n.forEach(t=>Array.isArray(t)?Qr(t,e):e(t))}function J9(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function ni(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function uC(n,e){let t=[];for(let i=0;i<n;i++)t.push(e);return t}function fC(n,e,t,i){let s=n.length;if(s==e)n.push(t,i);else if(s===1)n.push(i,n[0]),n[0]=t;else{for(s--,n.push(n[s-1],n[s]);s>e;){let o=s-2;n[s]=n[o],s--}n[e]=t,n[e+1]=i}}function Xr(n,e,t){let i=Wn(n,e);return i>=0?n[i|1]=t:(i=~i,fC(n,i,e,t)),i}function Do(n,e){let t=Wn(n,e);if(t>=0)return n[t|1]}function Wn(n,e){return dC(n,e,1)}function dC(n,e,t){let i=0,s=n.length>>t;for(;s!==i;){let o=i+(s-i>>1),r=n[o<<t];if(e===r)return o<<t;r>e?s=o:i=o+1}return~(s<<t)}var On={},_e=[],k3=new V(""),K9=new V("",-1),Q9=new V(""),ii=class{get(e,t=Rn){if(t===Rn){let i=new Error(`NullInjectorError: No provider for ${me(e)}!`);throw i.name="NullInjectorError",i}return t}};function X9(n,e){let t=n[Jv]||null;if(!t&&e===!0)throw new Error(`Type ${me(n)} does not have '\u0275mod' property.`);return t}function z2(n){return n[qv]||null}function eu(n){return n[Zv]||null}function tu(n){return n[Yv]||null}function nu(n){let e=z2(n)||eu(n)||tu(n);return e!==null?e.standalone:!1}function hC(...n){return{\u0275providers:iu(!0,n),\u0275fromNgModule:!0}}function iu(n,...e){let t=[],i=new Set,s,o=r=>{t.push(r)};return Qr(e,r=>{let c=r;Go(c,o,[],i)&&(s||=[],s.push(c))}),s!==void 0&&su(s,o),t}function su(n,e){for(let t=0;t<n.length;t++){let{ngModule:i,providers:s}=n[t];ec(s,o=>{e(o,i)})}}function Go(n,e,t,i){if(n=Pe(n),!n)return!1;let s=null,o=Z7(n),r=!o&&z2(n);if(!o&&!r){let a=n.ngModule;if(o=Z7(a),o)s=a;else return!1}else{if(r&&!r.standalone)return!1;s=n}let c=i.has(s);if(r){if(c)return!1;if(i.add(s),r.dependencies){let a=typeof r.dependencies=="function"?r.dependencies():r.dependencies;for(let l of a)Go(l,e,t,i)}}else if(o){if(o.imports!=null&&!c){i.add(s);let l;try{Qr(o.imports,u=>{Go(u,e,t,i)&&(l||=[],l.push(u))})}finally{}l!==void 0&&su(l,e)}if(!c){let l=I3(s)||(()=>new s);e({provide:s,useFactory:l,deps:_e},s),e({provide:Q9,useValue:s,multi:!0},s),e({provide:k3,useValue:()=>F(s),multi:!0},s)}let a=o.providers;if(a!=null&&!c){let l=n;ec(a,u=>{e(u,l)})}}else return!1;return s!==n&&n.providers!==void 0}function ec(n,e){for(let t of n)W9(t)&&(t=t.\u0275providers),Array.isArray(t)?ec(t,e):e(t)}var pC=M1({provide:String,useValue:M1});function ou(n){return n!==null&&typeof n=="object"&&pC in n}function mC(n){return!!(n&&n.useExisting)}function gC(n){return!!(n&&n.useFactory)}function Wo(n){return typeof n=="function"}var Ni=new V(""),Y0={},vC={},No;function Ti(){return No===void 0&&(No=new ii),No}var ee=class{},Fn=class extends ee{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,i,s){super(),this.parent=t,this.source=i,this.scopes=s,Zo(e,r=>this.processProvider(r)),this.records.set(K9,A3(void 0,this)),s.has("environment")&&this.records.set(ee,A3(void 0,this));let o=this.records.get(Ni);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Q9,_e,K.Self))}destroy(){Tn(this),this._destroyed=!0;let e=o1(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),o1(e)}}onDestroy(e){return Tn(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Tn(this);let t=st(this),i=ke(void 0),s;try{return e()}finally{st(t),ke(i)}}get(e,t=Rn,i=K.Default){if(Tn(this),e.hasOwnProperty(J7))return e[J7](this);i=Ei(i);let s,o=st(this),r=ke(void 0);try{if(!(i&K.SkipSelf)){let a=this.records.get(e);if(a===void 0){let l=LC(e)&&Ai(e);l&&this.injectableDefInScope(l)?a=A3(qo(e),Y0):a=null,this.records.set(e,a)}if(a!=null)return this.hydrate(e,a)}let c=i&K.Self?Ti():this.parent;return t=i&K.Optional&&t===Rn?null:t,c.get(e,t)}catch(c){if(c.name==="NullInjectorError"){if((c[ti]=c[ti]||[]).unshift(me(e)),o)throw c;return rC(c,e,"R3InjectorError",this.source)}else throw c}finally{ke(r),st(o)}}resolveInjectorInitializers(){let e=o1(null),t=st(this),i=ke(void 0),s;try{let o=this.get(k3,_e,K.Self);for(let r of o)r()}finally{st(t),ke(i),o1(e)}}toString(){let e=[],t=this.records;for(let i of t.keys())e.push(me(i));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Pe(e);let t=Wo(e)?e:Pe(e&&e.provide),i=bC(e);if(!Wo(e)&&e.multi===!0){let s=this.records.get(t);s||(s=A3(void 0,Y0,!0),s.factory=()=>$o(s.multi),this.records.set(t,s)),t=e,s.multi.push(e)}this.records.set(t,i)}hydrate(e,t){let i=o1(null);try{return t.value===Y0&&(t.value=vC,t.value=t.factory()),typeof t.value=="object"&&t.value&&_C(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{o1(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Pe(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function qo(n){let e=Ai(n),t=e!==null?e.factory:I3(n);if(t!==null)return t;if(n instanceof V)throw new P(204,!1);if(n instanceof Function)return CC(n);throw new P(204,!1)}function CC(n){if(n.length>0)throw new P(204,!1);let t=Gv(n);return t!==null?()=>t.factory(n):()=>new n}function bC(n){if(ou(n))return A3(void 0,n.useValue);{let e=MC(n);return A3(e,Y0)}}function MC(n,e,t){let i;if(Wo(n)){let s=Pe(n);return I3(s)||qo(s)}else if(ou(n))i=()=>Pe(n.useValue);else if(gC(n))i=()=>n.useFactory(...$o(n.deps||[]));else if(mC(n))i=()=>F(Pe(n.useExisting));else{let s=Pe(n&&(n.useClass||n.provide));if(yC(n))i=()=>new s(...$o(n.deps));else return I3(s)||qo(s)}return i}function Tn(n){if(n.destroyed)throw new P(205,!1)}function A3(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function yC(n){return!!n.deps}function _C(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function LC(n){return typeof n=="function"||typeof n=="object"&&n instanceof V}function Zo(n,e){for(let t of n)Array.isArray(t)?Zo(t,e):t&&W9(t)?Zo(t.\u0275providers,e):e(t)}function Re(n,e){n instanceof Fn&&Tn(n);let t,i=st(n),s=ke(void 0);try{return e()}finally{st(i),ke(s)}}function ru(){return q9()!==void 0||iC()!=null}function wC(n){if(!ru())throw new P(-203,!1)}function zC(n){let e=we.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function xC(n){return typeof n=="function"}var N2=0,W=1,B=2,te=3,We=4,ve=5,P3=6,si=7,Q1=8,R3=9,x2=10,P1=11,Hn=12,Q7=13,W3=14,ze=15,Ft=16,E3=17,S2=18,Ii=19,cu=20,ot=21,To=22,oi=23,Le=24,ge=25,au=1;var Ht=7,ri=8,O3=9,X1=10,ci=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(ci||{});function rt(n){return Array.isArray(n)&&typeof n[au]=="object"}function T2(n){return Array.isArray(n)&&n[au]===!0}function lu(n){return(n.flags&4)!==0}function ki(n){return n.componentOffset>-1}function tc(n){return(n.flags&1)===1}function qn(n){return!!n.template}function Yo(n){return(n[B]&512)!==0}var Jo=class{previousValue;currentValue;firstChange;constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function uu(n,e,t,i){e!==null?e.applyValueToInputSignal(e,i):n[t]=i}var Oe=(()=>{let n=()=>fu;return n.ngInherit=!0,n})();function fu(n){return n.type.prototype.ngOnChanges&&(n.setInput=AC),SC}function SC(){let n=hu(this),e=n?.current;if(e){let t=n.previous;if(t===On)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function AC(n,e,t,i,s){let o=this.declaredInputs[i],r=hu(n)||EC(n,{previous:On,current:null}),c=r.current||(r.current={}),a=r.previous,l=a[o];c[o]=new Jo(l&&l.currentValue,t,a===On),uu(n,e,s,t)}var du="__ngSimpleChanges__";function hu(n){return n[du]||null}function EC(n,e){return n[du]=e}var X7=null;var r2=function(n,e,t){X7?.(n,e,t)},DC="svg",NC="math";function a2(n){for(;Array.isArray(n);)n=n[N2];return n}function pu(n,e){return a2(e[n])}function Fe(n,e){return a2(e[n.index])}function nc(n,e){return n.data[e]}function TC(n,e){return n[e]}function ut(n,e){let t=e[n];return rt(t)?t:t[N2]}function IC(n){return(n[B]&4)===4}function ic(n){return(n[B]&128)===128}function kC(n){return T2(n[te])}function F3(n,e){return e==null?null:n[e]}function mu(n){n[E3]=0}function sc(n){n[B]&1024||(n[B]|=1024,ic(n)&&Ri(n))}function PC(n,e){for(;n>0;)e=e[W3],n--;return e}function Pi(n){return!!(n[B]&9216||n[Le]?.dirty)}function Ko(n){n[x2].changeDetectionScheduler?.notify(9),n[B]&64&&(n[B]|=1024),Pi(n)&&Ri(n)}function Ri(n){n[x2].changeDetectionScheduler?.notify(0);let e=Vt(n);for(;e!==null&&!(e[B]&8192||(e[B]|=8192,!ic(e)));)e=Vt(e)}function gu(n,e){if((n[B]&256)===256)throw new P(911,!1);n[ot]===null&&(n[ot]=[]),n[ot].push(e)}function RC(n,e){if(n[ot]===null)return;let t=n[ot].indexOf(e);t!==-1&&n[ot].splice(t,1)}function Vt(n){let e=n[te];return T2(e)?e[te]:e}var Q={lFrame:Au(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Qo=!1;function OC(){return Q.lFrame.elementDepthCount}function FC(){Q.lFrame.elementDepthCount++}function HC(){Q.lFrame.elementDepthCount--}function vu(){return Q.bindingsEnabled}function Cu(){return Q.skipHydrationRootTNode!==null}function VC(n){return Q.skipHydrationRootTNode===n}function BC(){Q.skipHydrationRootTNode=null}function i1(){return Q.lFrame.lView}function ne(){return Q.lFrame.tView}function qe(n){return Q.lFrame.contextLView=n,n[Q1]}function Ze(n){return Q.lFrame.contextLView=null,n}function Ce(){let n=bu();for(;n!==null&&n.type===64;)n=n.parent;return n}function bu(){return Q.lFrame.currentTNode}function jC(){let n=Q.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Zn(n,e){let t=Q.lFrame;t.currentTNode=n,t.isParent=e}function Mu(){return Q.lFrame.isParent}function yu(){Q.lFrame.isParent=!1}function UC(){return Q.lFrame.contextLView}function _u(){return Qo}function e9(n){let e=Qo;return Qo=n,e}function Lu(){let n=Q.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function $C(n){return Q.lFrame.bindingIndex=n}function q3(){return Q.lFrame.bindingIndex++}function wu(n){let e=Q.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function GC(){return Q.lFrame.inI18n}function WC(n,e){let t=Q.lFrame;t.bindingIndex=t.bindingRootIndex=n,Xo(e)}function qC(){return Q.lFrame.currentDirectiveIndex}function Xo(n){Q.lFrame.currentDirectiveIndex=n}function ZC(n){let e=Q.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function zu(){return Q.lFrame.currentQueryIndex}function oc(n){Q.lFrame.currentQueryIndex=n}function YC(n){let e=n[W];return e.type===2?e.declTNode:e.type===1?n[ve]:null}function xu(n,e,t){if(t&K.SkipSelf){let s=e,o=n;for(;s=s.parent,s===null&&!(t&K.Host);)if(s=YC(o),s===null||(o=o[W3],s.type&10))break;if(s===null)return!1;e=s,n=o}let i=Q.lFrame=Su();return i.currentTNode=e,i.lView=n,!0}function rc(n){let e=Su(),t=n[W];Q.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Su(){let n=Q.lFrame,e=n===null?null:n.child;return e===null?Au(n):e}function Au(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function Eu(){let n=Q.lFrame;return Q.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var Du=Eu;function cc(){let n=Eu();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function JC(n){return(Q.lFrame.contextLView=PC(n,Q.lFrame.contextLView))[Q1]}function ft(){return Q.lFrame.selectedIndex}function Bt(n){Q.lFrame.selectedIndex=n}function ac(){let n=Q.lFrame;return nc(n.tView,n.selectedIndex)}function KC(){return Q.lFrame.currentNamespace}var Nu=!0;function lc(){return Nu}function uc(n){Nu=n}function QC(n,e,t){let{ngOnChanges:i,ngOnInit:s,ngDoCheck:o}=e.type.prototype;if(i){let r=fu(e);(t.preOrderHooks??=[]).push(n,r),(t.preOrderCheckHooks??=[]).push(n,r)}s&&(t.preOrderHooks??=[]).push(0-n,s),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function fc(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:c,ngAfterViewInit:a,ngAfterViewChecked:l,ngOnDestroy:u}=o;r&&(n.contentHooks??=[]).push(-t,r),c&&((n.contentHooks??=[]).push(t,c),(n.contentCheckHooks??=[]).push(t,c)),a&&(n.viewHooks??=[]).push(-t,a),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),u!=null&&(n.destroyHooks??=[]).push(t,u)}}function J0(n,e,t){Tu(n,e,3,t)}function K0(n,e,t,i){(n[B]&3)===t&&Tu(n,e,t,i)}function Io(n,e){let t=n[B];(t&3)===e&&(t&=16383,t+=1,n[B]=t)}function Tu(n,e,t,i){let s=i!==void 0?n[E3]&65535:0,o=i??-1,r=e.length-1,c=0;for(let a=s;a<r;a++)if(typeof e[a+1]=="number"){if(c=e[a],i!=null&&c>=i)break}else e[a]<0&&(n[E3]+=65536),(c<o||o==-1)&&(XC(n,t,e,a),n[E3]=(n[E3]&4294901760)+a+2),a++}function t9(n,e){r2(4,n,e);let t=o1(null);try{e.call(n)}finally{o1(t),r2(5,n,e)}}function XC(n,e,t,i){let s=t[i]<0,o=t[i+1],r=s?-t[i]:t[i],c=n[r];s?n[B]>>14<n[E3]>>16&&(n[B]&3)===e&&(n[B]+=16384,t9(c,o)):t9(c,o)}var T3=-1,Vn=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,i){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=i}};function eb(n){return n instanceof Vn}function tb(n){return(n.flags&8)!==0}function nb(n){return(n.flags&16)!==0}function er(n,e,t){let i=0;for(;i<t.length;){let s=t[i];if(typeof s=="number"){if(s!==0)break;i++;let o=t[i++],r=t[i++],c=t[i++];n.setAttribute(e,r,c,o)}else{let o=s,r=t[++i];ib(o)?n.setProperty(e,o,r):n.setAttribute(e,o,r),i++}}return i}function Iu(n){return n===3||n===4||n===6}function ib(n){return n.charCodeAt(0)===64}function dc(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){let s=e[i];typeof s=="number"?t=s:t===0||(t===-1||t===2?n9(n,t,s,null,e[++i]):n9(n,t,s,null,null))}}return n}function n9(n,e,t,i,s){let o=0,r=n.length;if(e===-1)r=-1;else for(;o<n.length;){let c=n[o++];if(typeof c=="number"){if(c===e){r=-1;break}else if(c>e){r=o-1;break}}}for(;o<n.length;){let c=n[o];if(typeof c=="number")break;if(c===t){if(i===null){s!==null&&(n[o+1]=s);return}else if(i===n[o+1]){n[o+2]=s;return}}o++,i!==null&&o++,s!==null&&o++}r!==-1&&(n.splice(r,0,e),o=r+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i),s!==null&&n.splice(o++,0,s)}var ko={},tr=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=Ei(i);let s=this.injector.get(e,ko,i);return s!==ko||t===ko?s:this.parentInjector.get(e,t,i)}};function ku(n){return n!==T3}function ai(n){return n&32767}function sb(n){return n>>16}function li(n,e){let t=sb(n),i=e;for(;t>0;)i=i[W3],t--;return i}var nr=!0;function i9(n){let e=nr;return nr=n,e}var ob=256,Pu=ob-1,Ru=5,rb=0,c2={};function cb(n,e,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(kn)&&(i=t[kn]),i==null&&(i=t[kn]=rb++);let s=i&Pu,o=1<<s;e.data[n+(s>>Ru)]|=o}function Ou(n,e){let t=Fu(n,e);if(t!==-1)return t;let i=e[W];i.firstCreatePass&&(n.injectorIndex=e.length,Po(i.data,n),Po(e,null),Po(i.blueprint,null));let s=hc(n,e),o=n.injectorIndex;if(ku(s)){let r=ai(s),c=li(s,e),a=c[W].data;for(let l=0;l<8;l++)e[o+l]=c[r+l]|a[r+l]}return e[o+8]=s,o}function Po(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Fu(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function hc(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,i=null,s=e;for(;s!==null;){if(i=Uu(s),i===null)return T3;if(t++,s=s[W3],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return T3}function ab(n,e,t){cb(n,e,t)}function lb(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let i=t.length,s=0;for(;s<i;){let o=t[s];if(Iu(o))break;if(o===0)s=s+2;else if(typeof o=="number")for(s++;s<i&&typeof t[s]=="string";)s++;else{if(o===e)return t[s+1];s=s+2}}}return null}function Hu(n,e,t){if(t&K.Optional||n!==void 0)return n;Jr(e,"NodeInjector")}function Vu(n,e,t,i){if(t&K.Optional&&i===void 0&&(i=null),!(t&(K.Self|K.Host))){let s=n[R3],o=ke(void 0);try{return s?s.get(e,i,t&K.Optional):Z9(e,i,t&K.Optional)}finally{ke(o)}}return Hu(i,e,t)}function Bu(n,e,t,i=K.Default,s){if(n!==null){if(e[B]&2048&&!(i&K.Self)){let r=hb(n,e,t,i,c2);if(r!==c2)return r}let o=ju(n,e,t,i,c2);if(o!==c2)return o}return Vu(e,t,i,s)}function ju(n,e,t,i,s){let o=fb(t);if(typeof o=="function"){if(!xu(e,n,i))return i&K.Host?Hu(s,t,i):Vu(e,t,i,s);try{let r;if(r=o(i),r==null&&!(i&K.Optional))Jr(t);else return r}finally{Du()}}else if(typeof o=="number"){let r=null,c=Fu(n,e),a=T3,l=i&K.Host?e[ze][ve]:null;for((c===-1||i&K.SkipSelf)&&(a=c===-1?hc(n,e):e[c+8],a===T3||!o9(i,!1)?c=-1:(r=e[W],c=ai(a),e=li(a,e)));c!==-1;){let u=e[W];if(s9(o,c,u.data)){let f=ub(c,e,t,r,i,l);if(f!==c2)return f}a=e[c+8],a!==T3&&o9(i,e[W].data[c+8]===l)&&s9(o,c,e)?(r=u,c=ai(a),e=li(a,e)):c=-1}}return s}function ub(n,e,t,i,s,o){let r=e[W],c=r.data[n+8],a=i==null?ki(c)&&nr:i!=r&&(c.type&3)!==0,l=s&K.Host&&o===c,u=Q0(c,r,t,a,l);return u!==null?H3(e,r,u,c):c2}function Q0(n,e,t,i,s){let o=n.providerIndexes,r=e.data,c=o&1048575,a=n.directiveStart,l=n.directiveEnd,u=o>>20,f=i?c:c+u,d=s?c+u:l;for(let h=f;h<d;h++){let p=r[h];if(h<a&&t===p||h>=a&&p.type===t)return h}if(s){let h=r[a];if(h&&qn(h)&&h.type===t)return a}return null}function H3(n,e,t,i){let s=n[t],o=e.data;if(eb(s)){let r=s;r.resolving&&Qv(Kv(o[t]));let c=i9(r.canSeeViewProviders);r.resolving=!0;let a,l=r.injectImpl?ke(r.injectImpl):null,u=xu(n,i,K.Default);try{s=n[t]=r.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&QC(t,o[t],e)}finally{l!==null&&ke(l),i9(c),r.resolving=!1,Du()}}return s}function fb(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(kn)?n[kn]:void 0;return typeof e=="number"?e>=0?e&Pu:db:e}function s9(n,e,t){let i=1<<n;return!!(t[e+(n>>Ru)]&i)}function o9(n,e){return!(n&K.Self)&&!(n&K.Host&&e)}var Ot=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return Bu(this._tNode,this._lView,e,Ei(i),t)}};function db(){return new Ot(Ce(),i1())}function Yn(n){return $n(()=>{let e=n.prototype.constructor,t=e[ei]||ir(e),i=Object.prototype,s=Object.getPrototypeOf(n.prototype).constructor;for(;s&&s!==i;){let o=s[ei]||ir(s);if(o&&o!==t)return o;s=Object.getPrototypeOf(s)}return o=>new o})}function ir(n){return j9(n)?()=>{let e=ir(Pe(n));return e&&e()}:I3(n)}function hb(n,e,t,i,s){let o=n,r=e;for(;o!==null&&r!==null&&r[B]&2048&&!(r[B]&512);){let c=ju(o,r,t,i|K.Self,c2);if(c!==c2)return c;let a=o.parent;if(!a){let l=r[cu];if(l){let u=l.get(t,c2,i);if(u!==c2)return u}a=Uu(r),r=r[W3]}o=a}return s}function Uu(n){let e=n[W],t=e.type;return t===2?e.declTNode:t===1?n[ve]:null}function Oi(n){return lb(Ce(),n)}function r9(n,e=null,t=null,i){let s=$u(n,e,t,i);return s.resolveInjectorInitializers(),s}function $u(n,e=null,t=null,i,s=new Set){let o=[t||_e,hC(n)];return i=i||(typeof n=="object"?void 0:me(n)),new Fn(o,e||Ti(),i||null,s)}var G1=class n{static THROW_IF_NOT_FOUND=Rn;static NULL=new ii;static create(e,t){if(Array.isArray(e))return r9({name:""},t,e,"");{let i=e.name??"";return r9({name:i},e.parent,e.providers,i)}}static \u0275prov=I({token:n,providedIn:"any",factory:()=>F(K9)});static __NG_ELEMENT_ID__=-1};var pb=new V("");pb.__NG_ELEMENT_ID__=n=>{let e=Ce();if(e===null)throw new P(204,!1);if(e.type&2)return e.value;if(n&K.Optional)return null;throw new P(204,!1)};var Gu=!1,Fi=(()=>{class n{static __NG_ELEMENT_ID__=mb;static __NG_ENV_ID__=t=>t}return n})(),sr=class extends Fi{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return gu(this._lView,e),()=>RC(this._lView,e)}};function mb(){return new sr(i1())}var V3=class{},pc=new V("",{providedIn:"root",factory:()=>!1});var Wu=new V(""),qu=new V(""),Z3=(()=>{class n{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new $1(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=I({token:n,providedIn:"root",factory:()=>new n})}return n})();var or=class extends p1{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,ru()&&(this.destroyRef=x(Fi,{optional:!0})??void 0,this.pendingTasks=x(Z3,{optional:!0})??void 0)}emit(e){let t=o1(null);try{super.next(e)}finally{o1(t)}}subscribe(e,t,i){let s=e,o=t||(()=>null),r=i;if(e&&typeof e=="object"){let a=e;s=a.next?.bind(a),o=a.error?.bind(a),r=a.complete?.bind(a)}this.__isAsync&&(o=this.wrapInTimeout(o),s&&(s=this.wrapInTimeout(s)),r&&(r=this.wrapInTimeout(r)));let c=super.subscribe({next:s,error:o,complete:r});return e instanceof E1&&e.add(c),c}wrapInTimeout(e){return t=>{let i=this.pendingTasks?.add();setTimeout(()=>{e(t),i!==void 0&&this.pendingTasks?.remove(i)})}}},_1=or;function ui(...n){}function Zu(n){let e,t;function i(){n=ui;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),i()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),i()})),()=>i()}function c9(n){return queueMicrotask(()=>n()),()=>{n=ui}}var mc="isAngularZone",fi=mc+"_ID",gb=0,d1=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new _1(!1);onMicrotaskEmpty=new _1(!1);onStable=new _1(!1);onError=new _1(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:s=!1,scheduleInRootZone:o=Gu}=e;if(typeof Zone>"u")throw new P(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!s&&i,r.shouldCoalesceRunChangeDetection=s,r.callbackScheduled=!1,r.scheduleInRootZone=o,bb(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(mc)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new P(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new P(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,s){let o=this._inner,r=o.scheduleEventTask("NgZoneEvent: "+s,e,vb,ui,ui);try{return o.runTask(r,t,i)}finally{o.cancelTask(r)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}},vb={};function gc(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Cb(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){Zu(()=>{n.callbackScheduled=!1,rr(n),n.isCheckStableRunning=!0,gc(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),rr(n)}function bb(n){let e=()=>{Cb(n)},t=gb++;n._inner=n._inner.fork({name:"angular",properties:{[mc]:!0,[fi]:t,[fi+t]:!0},onInvokeTask:(i,s,o,r,c,a)=>{if(Mb(a))return i.invokeTask(o,r,c,a);try{return a9(n),i.invokeTask(o,r,c,a)}finally{(n.shouldCoalesceEventChangeDetection&&r.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),l9(n)}},onInvoke:(i,s,o,r,c,a,l)=>{try{return a9(n),i.invoke(o,r,c,a,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!yb(a)&&e(),l9(n)}},onHasTask:(i,s,o,r)=>{i.hasTask(o,r),s===o&&(r.change=="microTask"?(n._hasPendingMicrotasks=r.microTask,rr(n),gc(n)):r.change=="macroTask"&&(n.hasPendingMacrotasks=r.macroTask))},onHandleError:(i,s,o,r)=>(i.handleError(o,r),n.runOutsideAngular(()=>n.onError.emit(r)),!1)})}function rr(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function a9(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function l9(n){n._nesting--,gc(n)}var di=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new _1;onMicrotaskEmpty=new _1;onStable=new _1;onError=new _1;run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,s){return e.apply(t,i)}};function Mb(n){return Yu(n,"__ignore_ng_zone__")}function yb(n){return Yu(n,"__scheduler_tick__")}function Yu(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}function _b(n="zone.js",e){return n==="noop"?new di:n==="zone.js"?new d1(e):n}var A2=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Lb=new V("",{providedIn:"root",factory:()=>{let n=x(d1),e=x(A2);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function u9(n,e){return V9(n,e)}function wb(n){return V9(H9,n)}var Ju=(u9.required=wb,u9);function zb(){return Y3(Ce(),i1())}function Y3(n,e){return new Y1(Fe(n,e))}var Y1=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=zb}return n})();function xb(n){return n instanceof Y1?n.nativeElement:n}function Sb(){return this._results[Symbol.iterator]()}var cr=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new p1}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let i=lC(e);(this._changesDetected=!aC(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Sb};function Ku(n){return(n.flags&128)===128}var Qu=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Qu||{}),Xu=new Map,Ab=0;function Eb(){return Ab++}function Db(n){Xu.set(n[Ii],n)}function ar(n){Xu.delete(n[Ii])}var f9="__ngContext__";function jt(n,e){rt(e)?(n[f9]=e[Ii],Db(e)):n[f9]=e}function ef(n){return nf(n[Hn])}function tf(n){return nf(n[We])}function nf(n){for(;n!==null&&!T2(n);)n=n[We];return n}var lr;function sf(n){lr=n}function of(){if(lr!==void 0)return lr;if(typeof document<"u")return document;throw new P(210,!1)}var vc=new V("",{providedIn:"root",factory:()=>Nb}),Nb="ng",Cc=new V(""),dt=new V("",{providedIn:"platform",factory:()=>"unknown"});var bc=new V("",{providedIn:"root",factory:()=>of().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Tb="h",Ib="b";var rf=!1,kb=new V("",{providedIn:"root",factory:()=>rf});var d9=new Set;function J3(n){d9.has(n)||(d9.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var w2=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(w2||{}),cf=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=I({token:n,providedIn:"root",factory:()=>new n})}return n})(),Pb=[w2.EarlyRead,w2.Write,w2.MixedReadWrite,w2.Read],Rb=(()=>{class n{ngZone=x(d1);scheduler=x(V3);errorHandler=x(A2,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;execute(){this.executing=!0;for(let t of Pb)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[t]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>i.hooks[t](i.pipelinedValue))}catch(s){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(s)}this.executing=!1;for(let t of this.sequences)t.afterRun(),t.once&&(this.sequences.delete(t),t.destroy());for(let t of this.deferredRegistrations)this.sequences.add(t);this.deferredRegistrations.size>0&&this.scheduler.notify(8),this.deferredRegistrations.clear()}register(t){this.executing?this.deferredRegistrations.add(t):(this.sequences.add(t),this.scheduler.notify(7))}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}static \u0275prov=I({token:n,providedIn:"root",factory:()=>new n})}return n})(),ur=class{impl;hooks;once;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,i,s){this.impl=e,this.hooks=t,this.once=i,this.unregisterOnDestroy=s?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function K3(n,e){!e?.injector&&wC(K3);let t=e?.injector??x(G1);return J3("NgAfterNextRender"),Fb(n,t,e,!0)}function Ob(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function Fb(n,e,t,i){let s=e.get(cf);s.impl??=e.get(Rb);let o=t?.phase??w2.MixedReadWrite,r=t?.manualCleanup!==!0?e.get(Fi):null,c=new ur(s.impl,Ob(n,o),i,r);return s.impl.register(c),c}var Hb=()=>null;function Mc(n,e,t=!1){return Hb(n,e,t)}var l2=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(l2||{}),U0;function Vb(){if(U0===void 0&&(U0=null,we.trustedTypes))try{U0=we.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return U0}function Hi(n){return Vb()?.createHTML(n)||n}var $0;function af(){if($0===void 0&&($0=null,we.trustedTypes))try{$0=we.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return $0}function h9(n){return af()?.createHTML(n)||n}function p9(n){return af()?.createScriptURL(n)||n}var E2=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${F9})`}},fr=class extends E2{getTypeName(){return"HTML"}},dr=class extends E2{getTypeName(){return"Style"}},hr=class extends E2{getTypeName(){return"Script"}},pr=class extends E2{getTypeName(){return"URL"}},mr=class extends E2{getTypeName(){return"ResourceURL"}};function He(n){return n instanceof E2?n.changingThisBreaksApplicationSecurity:n}function I2(n,e){let t=Bb(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${F9})`)}return t===e}function Bb(n){return n instanceof E2&&n.getTypeName()||null}function lf(n){return new fr(n)}function uf(n){return new dr(n)}function ff(n){return new hr(n)}function df(n){return new pr(n)}function hf(n){return new mr(n)}function jb(n){let e=new vr(n);return Ub()?new gr(e):e}var gr=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(Hi(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},vr=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=Hi(e),t}};function Ub(){try{return!!new window.DOMParser().parseFromString(Hi(""),"text/html")}catch{return!1}}var $b=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Vi(n){return n=String(n),n.match($b)?n:"unsafe:"+n}function k2(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function Jn(...n){let e={};for(let t of n)for(let i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}var pf=k2("area,br,col,hr,img,wbr"),mf=k2("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),gf=k2("rp,rt"),Gb=Jn(gf,mf),Wb=Jn(mf,k2("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),qb=Jn(gf,k2("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),m9=Jn(pf,Wb,qb,Gb),vf=k2("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Zb=k2("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Yb=k2("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Jb=Jn(vf,Zb,Yb),Kb=k2("script,style,template"),Cr=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let t=e.firstChild,i=!0,s=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild){s.push(t),t=eM(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=Xb(t);if(o){t=o;break}t=s.pop()}}return this.buf.join("")}startElement(e){let t=g9(e).toLowerCase();if(!m9.hasOwnProperty(t))return this.sanitizedSomething=!0,!Kb.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let i=e.attributes;for(let s=0;s<i.length;s++){let o=i.item(s),r=o.name,c=r.toLowerCase();if(!Jb.hasOwnProperty(c)){this.sanitizedSomething=!0;continue}let a=o.value;vf[c]&&(a=Vi(a)),this.buf.push(" ",r,'="',v9(a),'"')}return this.buf.push(">"),!0}endElement(e){let t=g9(e).toLowerCase();m9.hasOwnProperty(t)&&!pf.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(v9(e))}};function Qb(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function Xb(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw Cf(e);return e}function eM(n){let e=n.firstChild;if(e&&Qb(n,e))throw Cf(e);return e}function g9(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function Cf(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var tM=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,nM=/([^\#-~ |!])/g;function v9(n){return n.replace(/&/g,"&amp;").replace(tM,function(e){let t=e.charCodeAt(0),i=e.charCodeAt(1);return"&#"+((t-55296)*1024+(i-56320)+65536)+";"}).replace(nM,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var G0;function yc(n,e){let t=null;try{G0=G0||jb(n);let i=e?String(e):"";t=G0.getInertBodyElement(i);let s=5,o=i;do{if(s===0)throw new Error("Failed to sanitize html because the input is unstable");s--,i=o,o=t.innerHTML,t=G0.getInertBodyElement(i)}while(i!==o);let c=new Cr().sanitizeChildren(C9(t)||t);return Hi(c)}finally{if(t){let i=C9(t)||t;for(;i.firstChild;)i.firstChild.remove()}}}function C9(n){return"content"in n&&iM(n)?n.content:null}function iM(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var Ye=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Ye||{});function bf(n){let e=_c();return e?h9(e.sanitize(Ye.HTML,n)||""):I2(n,"HTML")?h9(He(n)):yc(of(),Gn(n))}function Kn(n){let e=_c();return e?e.sanitize(Ye.URL,n)||"":I2(n,"URL")?He(n):Vi(Gn(n))}function sM(n){let e=_c();if(e)return p9(e.sanitize(Ye.RESOURCE_URL,n)||"");if(I2(n,"ResourceURL"))return p9(He(n));throw new P(904,!1)}function oM(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?sM:Kn}function Mf(n,e,t){return oM(e,t)(n)}function _c(){let n=i1();return n&&n[x2].sanitizer}function yf(n){return n instanceof Function?n():n}var ct=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(ct||{}),D2=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(D2||{}),rM;function Lc(n,e){return rM(n,e)}function D3(n,e,t,i,s){if(i!=null){let o,r=!1;T2(i)?o=i:rt(i)&&(r=!0,i=i[N2]);let c=a2(i);n===0&&t!==null?s==null?xf(e,t,c):hi(e,t,c,s||null,!0):n===1&&t!==null?hi(e,t,c,s||null,!0):n===2?bM(e,c,r):n===3&&e.destroyNode(c),o!=null&&yM(e,n,o,t,s)}}function cM(n,e){return n.createText(e)}function aM(n,e,t){n.setValue(e,t)}function _f(n,e,t){return n.createElement(e,t)}function lM(n,e){Lf(n,e),e[N2]=null,e[ve]=null}function uM(n,e,t,i,s,o){i[N2]=s,i[ve]=e,ji(n,i,t,1,s,o)}function Lf(n,e){e[x2].changeDetectionScheduler?.notify(10),ji(n,e,e[P1],2,null,null)}function fM(n){let e=n[Hn];if(!e)return Ro(n[W],n);for(;e;){let t=null;if(rt(e))t=e[Hn];else{let i=e[X1];i&&(t=i)}if(!t){for(;e&&!e[We]&&e!==n;)rt(e)&&Ro(e[W],e),e=e[te];e===null&&(e=n),rt(e)&&Ro(e[W],e),t=e&&e[We]}e=t}}function dM(n,e,t,i){let s=X1+i,o=t.length;i>0&&(t[s-1][We]=e),i<o-X1?(e[We]=t[s],J9(t,X1+i,e)):(t.push(e),e[We]=null),e[te]=t;let r=e[Ft];r!==null&&t!==r&&wf(r,e);let c=e[S2];c!==null&&c.insertView(n),Ko(e),e[B]|=128}function wf(n,e){let t=n[O3],i=e[te];if(rt(i))n[B]|=ci.HasTransplantedViews;else{let s=i[te][ze];e[ze]!==s&&(n[B]|=ci.HasTransplantedViews)}t===null?n[O3]=[e]:t.push(e)}function wc(n,e){let t=n[O3],i=t.indexOf(e);t.splice(i,1)}function Bn(n,e){if(n.length<=X1)return;let t=X1+e,i=n[t];if(i){let s=i[Ft];s!==null&&s!==n&&wc(s,i),e>0&&(n[t-1][We]=i[We]);let o=ni(n,X1+e);lM(i[W],i);let r=o[S2];r!==null&&r.detachView(o[W]),i[te]=null,i[We]=null,i[B]&=-129}return i}function Bi(n,e){if(!(e[B]&256)){let t=e[P1];t.destroyNode&&ji(n,e,t,3,null,null),fM(e)}}function Ro(n,e){if(e[B]&256)return;let t=o1(null);try{e[B]&=-129,e[B]|=256,e[Le]&&ao(e[Le]),pM(n,e),hM(n,e),e[W].type===1&&e[P1].destroy();let i=e[Ft];if(i!==null&&T2(e[te])){i!==e[te]&&wc(i,e);let s=e[S2];s!==null&&s.detachView(n)}ar(e)}finally{o1(t)}}function hM(n,e){let t=n.cleanup,i=e[si];if(t!==null)for(let r=0;r<t.length-1;r+=2)if(typeof t[r]=="string"){let c=t[r+3];c>=0?i[c]():i[-c].unsubscribe(),r+=2}else{let c=i[t[r+1]];t[r].call(c)}i!==null&&(e[si]=null);let s=e[ot];if(s!==null){e[ot]=null;for(let r=0;r<s.length;r++){let c=s[r];c()}}let o=e[oi];if(o!==null){e[oi]=null;for(let r of o)r.destroy()}}function pM(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let s=e[t[i]];if(!(s instanceof Vn)){let o=t[i+1];if(Array.isArray(o))for(let r=0;r<o.length;r+=2){let c=s[o[r]],a=o[r+1];r2(4,c,a);try{a.call(c)}finally{r2(5,c,a)}}else{r2(4,s,o);try{o.call(s)}finally{r2(5,s,o)}}}}}function zf(n,e,t){return mM(n,e.parent,t)}function mM(n,e,t){let i=e;for(;i!==null&&i.type&168;)e=i,i=e.parent;if(i===null)return t[N2];{let{componentOffset:s}=i;if(s>-1){let{encapsulation:o}=n.data[i.directiveStart+s];if(o===l2.None||o===l2.Emulated)return null}return Fe(i,t)}}function hi(n,e,t,i,s){n.insertBefore(e,t,i,s)}function xf(n,e,t){n.appendChild(e,t)}function b9(n,e,t,i,s){i!==null?hi(n,e,t,i,s):xf(n,e,t)}function Sf(n,e){return n.parentNode(e)}function gM(n,e){return n.nextSibling(e)}function Af(n,e,t){return CM(n,e,t)}function vM(n,e,t){return n.type&40?Fe(n,t):null}var CM=vM,M9;function zc(n,e,t,i){let s=zf(n,i,e),o=e[P1],r=i.parent||e[ve],c=Af(r,i,e);if(s!=null)if(Array.isArray(t))for(let a=0;a<t.length;a++)b9(o,s,t[a],c,!1);else b9(o,s,t,c,!1);M9!==void 0&&M9(o,i,e,t,s)}function In(n,e){if(e!==null){let t=e.type;if(t&3)return Fe(e,n);if(t&4)return br(-1,n[e.index]);if(t&8){let i=e.child;if(i!==null)return In(n,i);{let s=n[e.index];return T2(s)?br(-1,s):a2(s)}}else{if(t&128)return In(n,e.next);if(t&32)return Lc(e,n)()||a2(n[e.index]);{let i=Ef(n,e);if(i!==null){if(Array.isArray(i))return i[0];let s=Vt(n[ze]);return In(s,i)}else return In(n,e.next)}}}return null}function Ef(n,e){if(e!==null){let i=n[ze][ve],s=e.projection;return i.projection[s]}return null}function br(n,e){let t=X1+n+1;if(t<e.length){let i=e[t],s=i[W].firstChild;if(s!==null)return In(i,s)}return e[Ht]}function bM(n,e,t){n.removeChild(null,e,t)}function xc(n,e,t,i,s,o,r){for(;t!=null;){if(t.type===128){t=t.next;continue}let c=i[t.index],a=t.type;if(r&&e===0&&(c&&jt(a2(c),i),t.flags|=2),(t.flags&32)!==32)if(a&8)xc(n,e,t.child,i,s,o,!1),D3(e,n,s,c,o);else if(a&32){let l=Lc(t,i),u;for(;u=l();)D3(e,n,s,u,o);D3(e,n,s,c,o)}else a&16?Df(n,e,i,t,s,o):D3(e,n,s,c,o);t=r?t.projectionNext:t.next}}function ji(n,e,t,i,s,o){xc(t,i,n.firstChild,e,s,o,!1)}function MM(n,e,t){let i=e[P1],s=zf(n,t,e),o=t.parent||e[ve],r=Af(o,t,e);Df(i,0,e,t,s,r)}function Df(n,e,t,i,s,o){let r=t[ze],a=r[ve].projection[i.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++){let u=a[l];D3(e,n,s,u,o)}else{let l=a,u=r[te];Ku(i)&&(l.flags|=128),xc(n,e,l,u,s,o,!0)}}function yM(n,e,t,i,s){let o=t[Ht],r=a2(t);o!==r&&D3(e,n,i,o,s);for(let c=X1;c<t.length;c++){let a=t[c];ji(a[W],a,n,e,i,o)}}function _M(n,e,t,i,s){if(e)s?n.addClass(t,i):n.removeClass(t,i);else{let o=i.indexOf("-")===-1?void 0:D2.DashCase;s==null?n.removeStyle(t,i,o):(typeof s=="string"&&s.endsWith("!important")&&(s=s.slice(0,-10),o|=D2.Important),n.setStyle(t,i,s,o))}}function LM(n,e,t){n.setAttribute(e,"style",t)}function Nf(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Tf(n,e,t){let{mergedAttrs:i,classes:s,styles:o}=t;i!==null&&er(n,e,i),s!==null&&Nf(n,e,s),o!==null&&LM(n,e,o)}function wM(n,e,t){let i=n.length;for(;;){let s=n.indexOf(e,t);if(s===-1)return s;if(s===0||n.charCodeAt(s-1)<=32){let o=e.length;if(s+o===i||n.charCodeAt(s+o)<=32)return s}t=s+1}}var If="ng-template";function zM(n,e,t,i){let s=0;if(i){for(;s<e.length&&typeof e[s]=="string";s+=2)if(e[s]==="class"&&wM(e[s+1].toLowerCase(),t,0)!==-1)return!0}else if(Sc(n))return!1;if(s=e.indexOf(1,s),s>-1){let o;for(;++s<e.length&&typeof(o=e[s])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Sc(n){return n.type===4&&n.value!==If}function xM(n,e,t){let i=n.type===4&&!t?If:n.value;return e===i}function SM(n,e,t){let i=4,s=n.attrs,o=s!==null?DM(s):0,r=!1;for(let c=0;c<e.length;c++){let a=e[c];if(typeof a=="number"){if(!r&&!$e(i)&&!$e(a))return!1;if(r&&$e(a))continue;r=!1,i=a|i&1;continue}if(!r)if(i&4){if(i=2|i&1,a!==""&&!xM(n,a,t)||a===""&&e.length===1){if($e(i))return!1;r=!0}}else if(i&8){if(s===null||!zM(n,s,a,t)){if($e(i))return!1;r=!0}}else{let l=e[++c],u=AM(a,s,Sc(n),t);if(u===-1){if($e(i))return!1;r=!0;continue}if(l!==""){let f;if(u>o?f="":f=s[u+1].toLowerCase(),i&2&&l!==f){if($e(i))return!1;r=!0}}}}return $e(i)||r}function $e(n){return(n&1)===0}function AM(n,e,t,i){if(e===null)return-1;let s=0;if(i||!t){let o=!1;for(;s<e.length;){let r=e[s];if(r===n)return s;if(r===3||r===6)o=!0;else if(r===1||r===2){let c=e[++s];for(;typeof c=="string";)c=e[++s];continue}else{if(r===4)break;if(r===0){s+=4;continue}}s+=o?1:2}return-1}else return NM(e,n)}function kf(n,e,t=!1){for(let i=0;i<e.length;i++)if(SM(n,e[i],t))return!0;return!1}function EM(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if(!(t&1))return e[t+1]}return null}function DM(n){for(let e=0;e<n.length;e++){let t=n[e];if(Iu(t))return e}return n.length}function NM(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let i=n[t];if(typeof i=="number")return-1;if(i===e)return t;t++}return-1}function TM(n,e){e:for(let t=0;t<e.length;t++){let i=e[t];if(n.length===i.length){for(let s=0;s<n.length;s++)if(n[s]!==i[s])continue e;return!0}}return!1}function y9(n,e){return n?":not("+e.trim()+")":e}function IM(n){let e=n[0],t=1,i=2,s="",o=!1;for(;t<n.length;){let r=n[t];if(typeof r=="string")if(i&2){let c=n[++t];s+="["+r+(c.length>0?'="'+c+'"':"")+"]"}else i&8?s+="."+r:i&4&&(s+=" "+r);else s!==""&&!$e(r)&&(e+=y9(o,s),s=""),i=r,o=o||!$e(i);t++}return s!==""&&(e+=y9(o,s)),e}function kM(n){return n.map(IM).join(",")}function PM(n){let e=[],t=[],i=1,s=2;for(;i<n.length;){let o=n[i];if(typeof o=="string")s===2?o!==""&&e.push(o,n[++i]):s===8&&t.push(o);else{if(!$e(s))break;s=o}i++}return{attrs:e,classes:t}}var Je={};function ie(n=1){Pf(ne(),i1(),ft()+n,!1)}function Pf(n,e,t,i){if(!i)if((e[B]&3)===3){let o=n.preOrderCheckHooks;o!==null&&J0(e,o,t)}else{let o=n.preOrderHooks;o!==null&&K0(e,o,0,t)}Bt(t)}function s1(n,e=K.Default){let t=i1();if(t===null)return F(n,e);let i=Ce();return Bu(i,t,Pe(n),e)}function Rf(){let n="invalid";throw new Error(n)}function Of(n,e,t,i,s,o){let r=o1(null);try{let c=null;s&ct.SignalBased&&(c=e[i][s2]),c!==null&&c.transformFn!==void 0&&(o=c.transformFn(o)),s&ct.HasDecoratorInputTransform&&(o=n.inputTransforms[i].call(e,o)),n.setInput!==null?n.setInput(e,c,o,t,i):uu(e,c,i,o)}finally{o1(r)}}function RM(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let s=t[i];if(s<0)Bt(~s);else{let o=s,r=t[++i],c=t[++i];WC(r,o);let a=e[o];c(2,a)}}}finally{Bt(-1)}}function Ui(n,e,t,i,s,o,r,c,a,l,u){let f=e.blueprint.slice();return f[N2]=s,f[B]=i|4|128|8|64|1024,(l!==null||n&&n[B]&2048)&&(f[B]|=2048),mu(f),f[te]=f[W3]=n,f[Q1]=t,f[x2]=r||n&&n[x2],f[P1]=c||n&&n[P1],f[R3]=a||n&&n[R3]||null,f[ve]=o,f[Ii]=Eb(),f[P3]=u,f[cu]=l,f[ze]=e.type==2?n[ze]:f,f}function Qn(n,e,t,i,s){let o=n.data[e];if(o===null)o=OM(n,e,t,i,s),GC()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=i,o.attrs=s;let r=jC();o.injectorIndex=r===null?-1:r.injectorIndex}return Zn(o,!0),o}function OM(n,e,t,i,s){let o=bu(),r=Mu(),c=r?o:o&&o.parent,a=n.data[e]=UM(n,c,t,e,i,s);return n.firstChild===null&&(n.firstChild=a),o!==null&&(r?o.child==null&&a.parent!==null&&(o.child=a):o.next===null&&(o.next=a,a.prev=o)),a}function Ff(n,e,t,i){if(t===0)return-1;let s=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return s}function Hf(n,e,t,i,s){let o=ft(),r=i&2;try{Bt(-1),r&&e.length>ge&&Pf(n,e,ge,!1),r2(r?2:0,s),t(i,s)}finally{Bt(o),r2(r?3:1,s)}}function Vf(n,e,t){if(lu(e)){let i=o1(null);try{let s=e.directiveStart,o=e.directiveEnd;for(let r=s;r<o;r++){let c=n.data[r];if(c.contentQueries){let a=t[r];c.contentQueries(1,a,r)}}}finally{o1(i)}}}function Bf(n,e,t){vu()&&(YM(n,e,t,Fe(t,e)),(t.flags&64)===64&&qf(n,e,t))}function jf(n,e,t=Fe){let i=e.localNames;if(i!==null){let s=e.index+1;for(let o=0;o<i.length;o+=2){let r=i[o+1],c=r===-1?t(e,n):n[r];n[s++]=c}}}function Uf(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Ac(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Ac(n,e,t,i,s,o,r,c,a,l,u){let f=ge+i,d=f+s,h=FM(f,d),p=typeof l=="function"?l():l;return h[W]={type:n,blueprint:h,template:t,queries:null,viewQuery:c,declTNode:e,data:h.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof r=="function"?r():r,firstChild:null,schemas:a,consts:p,incompleteFirstPass:!1,ssrId:u}}function FM(n,e){let t=[];for(let i=0;i<e;i++)t.push(i<n?null:Je);return t}function HM(n,e,t,i){let o=i.get(kb,rf)||t===l2.ShadowDom,r=n.selectRootElement(e,o);return VM(r),r}function VM(n){BM(n)}var BM=()=>null;function jM(n,e,t,i){let s=Kf(e);s.push(t),n.firstCreatePass&&Qf(n).push(i,s.length-1)}function UM(n,e,t,i,s,o){let r=e?e.injectorIndex:-1,c=0;return Cu()&&(c|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:r,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:s,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function _9(n,e,t,i,s){for(let o in e){if(!e.hasOwnProperty(o))continue;let r=e[o];if(r===void 0)continue;i??={};let c,a=ct.None;Array.isArray(r)?(c=r[0],a=r[1]):c=r;let l=o;if(s!==null){if(!s.hasOwnProperty(o))continue;l=s[o]}n===0?L9(i,t,l,c,a):L9(i,t,l,c)}return i}function L9(n,e,t,i,s){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,i):o=n[t]=[e,i],s!==void 0&&o.push(s)}function $M(n,e,t){let i=e.directiveStart,s=e.directiveEnd,o=n.data,r=e.attrs,c=[],a=null,l=null;for(let u=i;u<s;u++){let f=o[u],d=t?t.get(f):null,h=d?d.inputs:null,p=d?d.outputs:null;a=_9(0,f.inputs,u,a,h),l=_9(1,f.outputs,u,l,p);let m=a!==null&&r!==null&&!Sc(e)?ry(a,u,r):null;c.push(m)}a!==null&&(a.hasOwnProperty("class")&&(e.flags|=8),a.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=a,e.outputs=l}function GM(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function $f(n,e,t,i,s,o,r,c){let a=Fe(e,t),l=e.inputs,u;!c&&l!=null&&(u=l[i])?(Ec(n,t,u,i,s),ki(e)&&WM(t,e.index)):e.type&3?(i=GM(i),s=r!=null?r(s,e.value||"",i):s,o.setProperty(a,i,s)):e.type&12}function WM(n,e){let t=ut(e,n);t[B]&16||(t[B]|=64)}function Gf(n,e,t,i){if(vu()){let s=i===null?null:{"":-1},o=KM(n,t),r,c;o===null?r=c=null:[r,c]=o,r!==null&&Wf(n,e,t,r,s,c),s&&QM(t,i,s)}t.mergedAttrs=dc(t.mergedAttrs,t.attrs)}function Wf(n,e,t,i,s,o){for(let l=0;l<i.length;l++)ab(Ou(t,e),n,i[l].type);ey(t,n.data.length,i.length);for(let l=0;l<i.length;l++){let u=i[l];u.providersResolver&&u.providersResolver(u)}let r=!1,c=!1,a=Ff(n,e,i.length,null);for(let l=0;l<i.length;l++){let u=i[l];t.mergedAttrs=dc(t.mergedAttrs,u.hostAttrs),ty(n,t,e,a,u),XM(a,u,s),u.contentQueries!==null&&(t.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(t.flags|=64);let f=u.type.prototype;!r&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),r=!0),!c&&(f.ngOnChanges||f.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),c=!0),a++}$M(n,t,o)}function qM(n,e,t,i,s){let o=s.hostBindings;if(o){let r=n.hostBindingOpCodes;r===null&&(r=n.hostBindingOpCodes=[]);let c=~e.index;ZM(r)!=c&&r.push(c),r.push(t,i,o)}}function ZM(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function YM(n,e,t,i){let s=t.directiveStart,o=t.directiveEnd;ki(t)&&ny(e,t,n.data[s+t.componentOffset]),n.firstCreatePass||Ou(t,e),jt(i,e);let r=t.initialInputs;for(let c=s;c<o;c++){let a=n.data[c],l=H3(e,n,c,t);if(jt(l,e),r!==null&&oy(e,c-s,l,a,t,r),qn(a)){let u=ut(t.index,e);u[Q1]=H3(e,n,c,t)}}}function qf(n,e,t){let i=t.directiveStart,s=t.directiveEnd,o=t.index,r=qC();try{Bt(o);for(let c=i;c<s;c++){let a=n.data[c],l=e[c];Xo(c),(a.hostBindings!==null||a.hostVars!==0||a.hostAttrs!==null)&&JM(a,l)}}finally{Bt(-1),Xo(r)}}function JM(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function KM(n,e){let t=n.directiveRegistry,i=null,s=null;if(t)for(let o=0;o<t.length;o++){let r=t[o];if(kf(e,r.selectors,!1))if(i||(i=[]),qn(r))if(r.findHostDirectiveDefs!==null){let c=[];s=s||new Map,r.findHostDirectiveDefs(r,c,s),i.unshift(...c,r);let a=c.length;Mr(n,e,a)}else i.unshift(r),Mr(n,e,0);else s=s||new Map,r.findHostDirectiveDefs?.(r,i,s),i.push(r)}return i===null?null:[i,s]}function Mr(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function QM(n,e,t){if(e){let i=n.localNames=[];for(let s=0;s<e.length;s+=2){let o=t[e[s+1]];if(o==null)throw new P(-301,!1);i.push(e[s],o)}}}function XM(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;qn(e)&&(t[""]=n)}}function ey(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function ty(n,e,t,i,s){n.data[i]=s;let o=s.factory||(s.factory=I3(s.type,!0)),r=new Vn(o,qn(s),s1);n.blueprint[i]=r,t[i]=r,qM(n,e,i,Ff(n,t,s.hostVars,Je),s)}function Zf(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function ny(n,e,t){let i=Fe(e,n),s=Uf(t),o=n[x2].rendererFactory,r=$i(n,Ui(n,s,null,Zf(t),i,e,null,o.createRenderer(i,t),null,null,null));n[e.index]=r}function iy(n,e,t,i,s,o){let r=Fe(n,e);sy(e[P1],r,o,n.value,t,i,s)}function sy(n,e,t,i,s,o,r){if(o==null)n.removeAttribute(e,s,t);else{let c=r==null?Gn(o):r(o,i||"",s);n.setAttribute(e,s,c,t)}}function oy(n,e,t,i,s,o){let r=o[e];if(r!==null)for(let c=0;c<r.length;){let a=r[c++],l=r[c++],u=r[c++],f=r[c++];Of(i,t,a,l,u,f)}}function ry(n,e,t){let i=null,s=0;for(;s<t.length;){let o=t[s];if(o===0){s+=4;continue}else if(o===5){s+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){i===null&&(i=[]);let r=n[o];for(let c=0;c<r.length;c+=3)if(r[c]===e){i.push(o,r[c+1],r[c+2],t[s+1]);break}}s+=2}return i}function Yf(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function Jf(n,e){let t=n.contentQueries;if(t!==null){let i=o1(null);try{for(let s=0;s<t.length;s+=2){let o=t[s],r=t[s+1];if(r!==-1){let c=n.data[r];oc(o),c.contentQueries(2,e[r],r)}}}finally{o1(i)}}}function $i(n,e){return n[Hn]?n[Q7][We]=e:n[Hn]=e,n[Q7]=e,e}function yr(n,e,t){oc(0);let i=o1(null);try{e(n,t)}finally{o1(i)}}function Kf(n){return n[si]??=[]}function Qf(n){return n.cleanup??=[]}function Xf(n,e){let t=n[R3],i=t?t.get(A2,null):null;i&&i.handleError(e)}function Ec(n,e,t,i,s){for(let o=0;o<t.length;){let r=t[o++],c=t[o++],a=t[o++],l=e[r],u=n.data[r];Of(u,l,i,c,a,s)}}function cy(n,e,t){let i=pu(e,n);aM(n[P1],i,t)}function ay(n,e){let t=ut(e,n),i=t[W];ly(i,t);let s=t[N2];s!==null&&t[P3]===null&&(t[P3]=Mc(s,t[R3])),Dc(i,t,t[Q1])}function ly(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Dc(n,e,t){rc(e);try{let i=n.viewQuery;i!==null&&yr(1,i,t);let s=n.template;s!==null&&Hf(n,e,s,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[S2]?.finishViewCreation(n),n.staticContentQueries&&Jf(n,e),n.staticViewQueries&&yr(2,n.viewQuery,t);let o=n.components;o!==null&&uy(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[B]&=-5,cc()}}function uy(n,e){for(let t=0;t<e.length;t++)ay(n,e[t])}function Xn(n,e,t,i){let s=o1(null);try{let o=e.tView,c=n[B]&4096?4096:16,a=Ui(n,o,t,c,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),l=n[e.index];a[Ft]=l;let u=n[S2];return u!==null&&(a[S2]=u.createEmbeddedView(o)),Dc(o,a,t),a}finally{o1(s)}}function ed(n,e){let t=X1+e;if(t<n.length)return n[t]}function B3(n,e){return!e||e.firstChild===null||Ku(n)}function e4(n,e,t,i=!0){let s=e[W];if(dM(s,e,n,t),i){let r=br(t,n),c=e[P1],a=Sf(c,n[Ht]);a!==null&&uM(s,n[ve],c,e,a,r)}let o=e[P3];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function td(n,e){let t=Bn(n,e);return t!==void 0&&Bi(t[W],t),t}function pi(n,e,t,i,s=!1){for(;t!==null;){if(t.type===128){t=s?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&i.push(a2(o)),T2(o)&&fy(o,i);let r=t.type;if(r&8)pi(n,e,t.child,i);else if(r&32){let c=Lc(t,e),a;for(;a=c();)i.push(a)}else if(r&16){let c=Ef(e,t);if(Array.isArray(c))i.push(...c);else{let a=Vt(e[ze]);pi(a[W],a,c,i,!0)}}t=s?t.projectionNext:t.next}return i}function fy(n,e){for(let t=X1;t<n.length;t++){let i=n[t],s=i[W].firstChild;s!==null&&pi(i[W],i,s,e)}n[Ht]!==n[N2]&&e.push(n[Ht])}var nd=[];function dy(n){return n[Le]??hy(n)}function hy(n){let e=nd.pop()??Object.create(my);return e.lView=n,e}function py(n){n.lView[Le]!==n&&(n.lView=null,nd.push(n))}var my=X(D({},d0),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Ri(n.lView)},consumerOnSignalRead(){this.lView[Le]=this}});function gy(n){let e=n[Le]??Object.create(vy);return e.lView=n,e}var vy=X(D({},d0),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=Vt(n.lView);for(;e&&!id(e[W]);)e=Vt(e);e&&sc(e)},consumerOnSignalRead(){this.lView[Le]=this}});function id(n){return n.type!==2}function sd(n){if(n[oi]===null)return;let e=!0;for(;e;){let t=!1;for(let i of n[oi])i.dirty&&(t=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));e=t&&!!(n[B]&8192)}}var Cy=100;function od(n,e=!0,t=0){let s=n[x2].rendererFactory,o=!1;o||s.begin?.();try{by(n,t)}catch(r){throw e&&Xf(n,r),r}finally{o||s.end?.()}}function by(n,e){let t=_u();try{e9(!0),_r(n,e);let i=0;for(;Pi(n);){if(i===Cy)throw new P(103,!1);i++,_r(n,1)}}finally{e9(t)}}function My(n,e,t,i){let s=e[B];if((s&256)===256)return;let o=!1,r=!1;rc(e);let c=!0,a=null,l=null;o||(id(n)?(l=dy(e),a=ro(l)):r7()===null?(c=!1,l=gy(e),a=ro(l)):e[Le]&&(ao(e[Le]),e[Le]=null));try{mu(e),$C(n.bindingStartIndex),t!==null&&Hf(n,e,t,2,i);let u=(s&3)===3;if(!o)if(u){let h=n.preOrderCheckHooks;h!==null&&J0(e,h,null)}else{let h=n.preOrderHooks;h!==null&&K0(e,h,0,null),Io(e,0)}if(r||yy(e),sd(e),rd(e,0),n.contentQueries!==null&&Jf(n,e),!o)if(u){let h=n.contentCheckHooks;h!==null&&J0(e,h)}else{let h=n.contentHooks;h!==null&&K0(e,h,1),Io(e,1)}RM(n,e);let f=n.components;f!==null&&ad(e,f,0);let d=n.viewQuery;if(d!==null&&yr(2,d,i),!o)if(u){let h=n.viewCheckHooks;h!==null&&J0(e,h)}else{let h=n.viewHooks;h!==null&&K0(e,h,2),Io(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[To]){for(let h of e[To])h();e[To]=null}o||(e[B]&=-73)}catch(u){throw o||Ri(e),u}finally{l!==null&&(u7(l,a),c&&py(l)),cc()}}function rd(n,e){for(let t=ef(n);t!==null;t=tf(t))for(let i=X1;i<t.length;i++){let s=t[i];cd(s,e)}}function yy(n){for(let e=ef(n);e!==null;e=tf(e)){if(!(e[B]&ci.HasTransplantedViews))continue;let t=e[O3];for(let i=0;i<t.length;i++){let s=t[i];sc(s)}}}function _y(n,e,t){let i=ut(e,n);cd(i,t)}function cd(n,e){ic(n)&&_r(n,e)}function _r(n,e){let i=n[W],s=n[B],o=n[Le],r=!!(e===0&&s&16);if(r||=!!(s&64&&e===0),r||=!!(s&1024),r||=!!(o?.dirty&&co(o)),r||=!1,o&&(o.dirty=!1),n[B]&=-9217,r)My(i,n,i.template,n[Q1]);else if(s&8192){sd(n),rd(n,1);let c=i.components;c!==null&&ad(n,c,1)}}function ad(n,e,t){for(let i=0;i<e.length;i++)_y(n,e[i],t)}function Nc(n,e){let t=_u()?64:1088;for(n[x2].changeDetectionScheduler?.notify(e);n;){n[B]|=t;let i=Vt(n);if(Yo(n)&&!i)return n;n=i}return null}var Ut=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,t=e[W];return pi(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i}get context(){return this._lView[Q1]}get dirty(){return!!(this._lView[B]&9280)||!!this._lView[Le]?.dirty}set context(e){this._lView[Q1]=e}get destroyed(){return(this._lView[B]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[te];if(T2(e)){let t=e[ri],i=t?t.indexOf(this):-1;i>-1&&(Bn(e,i),ni(t,i))}this._attachedToViewContainer=!1}Bi(this._lView[W],this._lView)}onDestroy(e){gu(this._lView,e)}markForCheck(){Nc(this._cdRefInjectingView||this._lView,4)}markForRefresh(){sc(this._cdRefInjectingView||this._lView)}detach(){this._lView[B]&=-129}reattach(){Ko(this._lView),this._lView[B]|=128}detectChanges(){this._lView[B]|=1024,od(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new P(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Yo(this._lView),t=this._lView[Ft];t!==null&&!e&&wc(t,this._lView),Lf(this._lView[W],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new P(902,!1);this._appRef=e;let t=Yo(this._lView),i=this._lView[Ft];i!==null&&!t&&wf(i,this._lView),Ko(this._lView)}},at=(()=>{class n{static __NG_ELEMENT_ID__=zy}return n})(),Ly=at,wy=class extends Ly{_declarationLView;_declarationTContainer;elementRef;constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){let s=Xn(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:i});return new Ut(s)}};function zy(){return Gi(Ce(),i1())}function Gi(n,e){return n.type&4?new wy(e,n,Y3(n,e)):null}var Lr=class{resolveComponentFactory(e){throw Error(`No component factory found for ${me(e)}.`)}},j3=class{static NULL=new Lr},lt=class{},jn=class{},wr=class{},mi=class{},U3=class{},ht=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>xy()}return n})();function xy(){let n=i1(),e=Ce(),t=ut(e.index,n);return(rt(t)?t:n)[P1]}var Sy=(()=>{class n{static \u0275prov=I({token:n,providedIn:"root",factory:()=>null})}return n})();function zr(n,e,t){let i=t?n.styles:null,s=t?n.classes:null,o=0;if(e!==null)for(let r=0;r<e.length;r++){let c=e[r];if(typeof c=="number")o=c;else if(o==1)s=Bo(s,c);else if(o==2){let a=c,l=e[++r];i=Bo(i,a+": "+l+";")}}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=s:n.classesWithoutHost=s}var gi=class extends j3{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=z2(e);return new $t(t,this.ngModule)}};function w9(n,e){let t=[];for(let i in n){if(!n.hasOwnProperty(i))continue;let s=n[i];if(s===void 0)continue;let o=Array.isArray(s),r=o?s[0]:s,c=o?s[1]:ct.None;e?t.push({propName:r,templateName:i,isSignal:(c&ct.SignalBased)!==0}):t.push({propName:r,templateName:i})}return t}function Ay(n){let e=n.toLowerCase();return e==="svg"?DC:e==="math"?NC:null}var $t=class extends mi{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){let e=this.componentDef,t=e.inputTransforms,i=w9(e.inputs,!0);if(t!==null)for(let s of i)t.hasOwnProperty(s.propName)&&(s.transform=t[s.propName]);return i}get outputs(){return w9(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=kM(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,s){let o=o1(null);try{s=s||this.ngModule;let r=s instanceof ee?s:s?.injector;r&&this.componentDef.getStandaloneInjector!==null&&(r=this.componentDef.getStandaloneInjector(r)||r);let c=r?new tr(e,r):e,a=c.get(U3,null);if(a===null)throw new P(407,!1);let l=c.get(Sy,null),u=c.get(V3,null),f={rendererFactory:a,sanitizer:l,changeDetectionScheduler:u},d=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=i?HM(d,i,this.componentDef.encapsulation,c):_f(d,h,Ay(h)),m=512;this.componentDef.signals?m|=4096:this.componentDef.onPush||(m|=16);let v=null;p!==null&&(v=Mc(p,c,!0));let g=Ac(0,null,null,1,0,null,null,null,null,null,null),C=Ui(null,g,null,m,null,null,f,d,c,null,v);rc(C);let M,b,L=null;try{let y=this.componentDef,w,A=null;y.findHostDirectiveDefs?(w=[],A=new Map,y.findHostDirectiveDefs(y,w,A),w.push(y)):w=[y];let _=Ey(C,p);L=Dy(_,p,y,w,C,f,d),b=nc(g,ge),p&&Iy(d,y,p,i),t!==void 0&&ky(b,this.ngContentSelectors,t),M=Ty(L,y,w,A,C,[Py]),Dc(g,C,null)}catch(y){throw L!==null&&ar(L),ar(C),y}finally{cc()}return new xr(this.componentType,M,Y3(b,C),C,b)}finally{o1(o)}}},xr=class extends wr{location;_rootLView;_tNode;instance;hostView;changeDetectorRef;componentType;previousInputValues=null;constructor(e,t,i,s,o){super(),this.location=i,this._rootLView=s,this._tNode=o,this.instance=t,this.hostView=this.changeDetectorRef=new Ut(s,void 0,!1),this.componentType=e}setInput(e,t){let i=this._tNode.inputs,s;if(i!==null&&(s=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;Ec(o[W],o,s,e,t),this.previousInputValues.set(e,t);let r=ut(this._tNode.index,o);Nc(r,1)}}get injector(){return new Ot(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Ey(n,e){let t=n[W],i=ge;return n[i]=e,Qn(t,i,2,"#host",null)}function Dy(n,e,t,i,s,o,r){let c=s[W];Ny(i,n,e,r);let a=null;e!==null&&(a=Mc(e,s[R3]));let l=o.rendererFactory.createRenderer(e,t),u=Ui(s,Uf(t),null,Zf(t),s[n.index],n,o,l,null,null,a);return c.firstCreatePass&&Mr(c,n,i.length-1),$i(s,u),s[n.index]=u}function Ny(n,e,t,i){for(let s of n)e.mergedAttrs=dc(e.mergedAttrs,s.hostAttrs);e.mergedAttrs!==null&&(zr(e,e.mergedAttrs,!0),t!==null&&Tf(i,t,e))}function Ty(n,e,t,i,s,o){let r=Ce(),c=s[W],a=Fe(r,s);Wf(c,s,r,t,null,i);for(let u=0;u<t.length;u++){let f=r.directiveStart+u,d=H3(s,c,f,r);jt(d,s)}qf(c,s,r),a&&jt(a,s);let l=H3(s,c,r.directiveStart+r.componentOffset,r);if(n[Q1]=s[Q1]=l,o!==null)for(let u of o)u(l,e);return Vf(c,r,s),l}function Iy(n,e,t,i){if(i)er(n,t,["ng-version","19.0.0"]);else{let{attrs:s,classes:o}=PM(e.selectors[0]);s&&er(n,t,s),o&&o.length>0&&Nf(n,t,o.join(" "))}}function ky(n,e,t){let i=n.projection=[];for(let s=0;s<e.length;s++){let o=t[s];i.push(o!=null&&o.length?Array.from(o):null)}}function Py(){let n=Ce();fc(i1()[W],n)}var vi=class extends lt{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new gi(this);constructor(e,t,i,s=!0){super(),this.ngModuleType=e,this._parent=t;let o=X9(e);this._bootstrapComponents=yf(o.bootstrap),this._r3Injector=$u(e,t,[{provide:lt,useValue:this},{provide:j3,useValue:this.componentFactoryResolver},...i],me(e),new Set(["environment"])),s&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Ci=class extends jn{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new vi(this.moduleType,e,[])}};function Ry(n,e,t){return new vi(n,e,t,!1)}var Sr=class extends lt{injector;componentFactoryResolver=new gi(this);instance=null;constructor(e){super();let t=new Fn([...e.providers,{provide:lt,useValue:this},{provide:j3,useValue:this.componentFactoryResolver}],e.parent||Ti(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Wi(n,e,t=null){return new Sr({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var Oy=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let i=iu(!1,t.type),s=i.length>0?Wi([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,s)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=I({token:n,providedIn:"environment",factory:()=>new n(F(ee))})}return n})();function se(n){return $n(()=>{let e=ld(n),t=X(D({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Qu.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?s=>s.get(Oy).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||l2.Emulated,styles:n.styles||_e,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&J3("NgStandalone"),ud(t);let i=n.dependencies;return t.directiveDefs=x9(i,!1),t.pipeDefs=x9(i,!0),t.id=Vy(t),t})}function Fy(n){return z2(n)||eu(n)}function Hy(n){return n!==null}function f1(n){return $n(()=>({type:n.type,bootstrap:n.bootstrap||_e,declarations:n.declarations||_e,imports:n.imports||_e,exports:n.exports||_e,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function z9(n,e){if(n==null)return On;let t={};for(let i in n)if(n.hasOwnProperty(i)){let s=n[i],o,r,c=ct.None;Array.isArray(s)?(c=s[0],o=s[1],r=s[2]??o):(o=s,r=s),e?(t[o]=c!==ct.None?[i,c]:i,e[o]=r):t[o]=i}return t}function f2(n){return $n(()=>{let e=ld(n);return ud(e),e})}function ld(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||On,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||_e,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:z9(n.inputs,e),outputs:z9(n.outputs),debugInfo:null}}function ud(n){n.features?.forEach(e=>e(n))}function x9(n,e){if(!n)return null;let t=e?tu:Fy;return()=>(typeof n=="function"?n():n).map(i=>t(i)).filter(Hy)}function Vy(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let s of t)e=Math.imul(31,e)+s.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var qi=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var Tc=new V(""),t4=new V(""),Zi=(()=>{class n{_ngZone;registry;_isZoneStable=!0;_callbacks=[];taskTrackingZone=null;constructor(t,i,s){this._ngZone=t,this.registry=i,Ic||(By(s),s.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{d1.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb()}});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(t)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(r=>r.timeoutId!==o),t()},i)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:s})}whenStable(t,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,s),this._runCallbacksIfReady()}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,s){return[]}static \u0275fac=function(i){return new(i||n)(F(d1),F(Yi),F(t4))};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})(),Yi=(()=>{class n{_applications=new Map;registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return Ic?.findTestabilityInTree(this,t,i)??null}static \u0275fac=function(i){return new(i||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function By(n){Ic=n}var Ic;function n4(n){return!!n&&typeof n.then=="function"}function fd(n){return!!n&&typeof n.subscribe=="function"}var Ji=new V("");var dd=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i});appInits=x(Ji,{optional:!0})??[];injector=x(G1);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let s of this.appInits){let o=Re(this.injector,s);if(n4(o))t.push(o);else if(fd(o)){let r=new Promise((c,a)=>{o.subscribe({complete:c,error:a})});t.push(r)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(s=>{this.reject(s)}),t.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jy=(()=>{class n{static \u0275prov=I({token:n,providedIn:"root",factory:()=>new Ar})}return n})(),Ar=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let i=this.queues.get(t);i.has(e)||(this.queuedEffectCount++,i.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,t]of this.queues)e===null?this.flushQueue(t):e.run(()=>this.flushQueue(t))}flushQueue(e){for(let t of e)e.delete(t),this.queuedEffectCount--,t.run()}},kc=new V("");function Uy(){g7(()=>{throw new P(600,!1)})}function $y(n){return n.isBoundToModule}var Gy=10;function Wy(n,e,t){try{let i=t();return n4(i)?i.catch(s=>{throw e.runOutsideAngular(()=>n.handleError(s)),s}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}function hd(n,e){return Array.isArray(e)?e.reduce(hd,n):D(D({},n),e)}var d2=(()=>{class n{_bootstrapListeners=[];_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=x(Lb);afterRenderManager=x(cf);zonelessEnabled=x(pc);rootEffectScheduler=x(jy);dirtyFlags=0;deferredDirtyFlags=0;externalTestViews=new Set;afterTick=new p1;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=x(Z3).hasPendingTasks.pipe(t1(t=>!t));whenStable(){let t;return new Promise(i=>{t=this.isStable.subscribe({next:s=>{s&&i()}})}).finally(()=>{t.unsubscribe()})}_injector=x(ee);get injector(){return this._injector}bootstrap(t,i){let s=t instanceof mi;if(!this._injector.get(dd).done){let d=!s&&nu(t),h=!1;throw new P(405,h)}let r;s?r=t:r=this._injector.get(j3).resolveComponentFactory(t),this.componentTypes.push(r.componentType);let c=$y(r)?void 0:this._injector.get(lt),a=i||r.selector,l=r.create(G1.NULL,[],a,c),u=l.location.nativeElement,f=l.injector.get(Tc,null);return f?.registerApplication(u),l.onDestroy(()=>{this.detachView(l.hostView),X0(this.components,l),f?.unregisterApplication(u)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new P(101,!1);let t=o1(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,o1(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(U3,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<Gy;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:s,notifyErrorHandler:o}of this.allViews)qy(s,o,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Pi(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){let i=t;X0(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let i=this._injector.get(kc,[]);[...this._bootstrapListeners,...i].forEach(s=>s(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>X0(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new P(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static \u0275fac=function(i){return new(i||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function X0(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function qy(n,e,t,i){if(!t&&!Pi(n))return;od(n,e,t&&!i?0:1)}var SH=new RegExp(`^(\\d+)*(${Ib}|${Tb})*(.*)`);var Zy=()=>null;function $3(n,e){return Zy(n,e)}var pt=(()=>{class n{static __NG_ELEMENT_ID__=Yy}return n})();function Yy(){let n=Ce();return md(n,i1())}var Jy=pt,pd=class extends Jy{_lContainer;_hostTNode;_hostLView;constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return Y3(this._hostTNode,this._hostLView)}get injector(){return new Ot(this._hostTNode,this._hostLView)}get parentInjector(){let e=hc(this._hostTNode,this._hostLView);if(ku(e)){let t=li(e,this._hostLView),i=ai(e),s=t[W].data[i+8];return new Ot(s,t)}else return new Ot(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=S9(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-X1}createEmbeddedView(e,t,i){let s,o;typeof i=="number"?s=i:i!=null&&(s=i.index,o=i.injector);let r=$3(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(t||{},o,r);return this.insertImpl(c,s,B3(this._hostTNode,r)),c}createComponent(e,t,i,s,o){let r=e&&!xC(e),c;if(r)c=t;else{let p=t||{};c=p.index,i=p.injector,s=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}let a=r?e:new $t(z2(e)),l=i||this.parentInjector;if(!o&&a.ngModule==null){let m=(r?l:this.parentInjector).get(ee,null);m&&(o=m)}let u=z2(a.componentType??{}),f=$3(this._lContainer,u?.id??null),d=f?.firstChild??null,h=a.create(l,s,d,o);return this.insertImpl(h.hostView,c,B3(this._hostTNode,f)),h}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){let s=e._lView;if(kC(s)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let a=s[te],l=new pd(a,a[ve],a[te]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),r=this._lContainer;return e4(r,s,o,i),e.attachToViewContainerRef(),J9(Oo(r),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=S9(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),i=Bn(this._lContainer,t);i&&(ni(Oo(this._lContainer),t),Bi(i[W],i))}detach(e){let t=this._adjustIndex(e,-1),i=Bn(this._lContainer,t);return i&&ni(Oo(this._lContainer),t)!=null?new Ut(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function S9(n){return n[ri]}function Oo(n){return n[ri]||(n[ri]=[])}function md(n,e){let t,i=e[n.index];return T2(i)?t=i:(t=Yf(i,e,null,n),e[n.index]=t,$i(e,t)),Qy(t,e,n,i),new pd(t,n,e)}function Ky(n,e){let t=n[P1],i=t.createComment(""),s=Fe(e,n),o=Sf(t,s);return hi(t,o,i,gM(t,s),!1),i}var Qy=t_,Xy=()=>!1;function e_(n,e,t){return Xy(n,e,t)}function t_(n,e,t,i){if(n[Ht])return;let s;t.type&8?s=a2(i):s=Ky(e,t),n[Ht]=s}var Er=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Dr=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let i=e.contentQueries!==null?e.contentQueries[0]:t.length,s=[];for(let o=0;o<i;o++){let r=t.getByIndex(o),c=this.queries[r.indexInDeclarationView];s.push(c.clone())}return new n(s)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Pc(e,t).matches!==null&&this.queries[t].setDirty()}},bi=class{flags;read;predicate;constructor(e,t,i=null){this.flags=t,this.read=i,typeof e=="string"?this.predicate=l_(e):this.predicate=e}},Nr=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){let s=t!==null?t.length:0,o=this.getByIndex(i).embeddedTView(e,s);o&&(o.indexInDeclarationView=i,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Tr=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==t;)i=i.parent;return t===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let i=this.metadata.predicate;if(Array.isArray(i))for(let s=0;s<i.length;s++){let o=i[s];this.matchTNodeWithReadOption(e,t,n_(t,o)),this.matchTNodeWithReadOption(e,t,Q0(t,e,o,!1,!1))}else i===at?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Q0(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(i!==null){let s=this.metadata.read;if(s!==null)if(s===Y1||s===pt||s===at&&t.type&4)this.addMatch(t.index,-2);else{let o=Q0(t,e,s,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function n_(n,e){let t=n.localNames;if(t!==null){for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1]}return null}function i_(n,e){return n.type&11?Y3(n,e):n.type&4?Gi(n,e):null}function s_(n,e,t,i){return t===-1?i_(e,n):t===-2?o_(n,e,i):H3(n,n[W],t,e)}function o_(n,e,t){if(t===Y1)return Y3(e,n);if(t===at)return Gi(e,n);if(t===pt)return md(e,n)}function gd(n,e,t,i){let s=e[S2].queries[i];if(s.matches===null){let o=n.data,r=t.matches,c=[];for(let a=0;r!==null&&a<r.length;a+=2){let l=r[a];if(l<0)c.push(null);else{let u=o[l];c.push(s_(e,u,r[a+1],t.metadata.read))}}s.matches=c}return s.matches}function Ir(n,e,t,i){let s=n.queries.getByIndex(t),o=s.matches;if(o!==null){let r=gd(n,e,s,t);for(let c=0;c<o.length;c+=2){let a=o[c];if(a>0)i.push(r[c/2]);else{let l=o[c+1],u=e[-a];for(let f=X1;f<u.length;f++){let d=u[f];d[Ft]===d[te]&&Ir(d[W],d,l,i)}if(u[O3]!==null){let f=u[O3];for(let d=0;d<f.length;d++){let h=f[d];Ir(h[W],h,l,i)}}}}}return i}function r_(n,e){return n[S2].queries[e].queryList}function vd(n,e,t){let i=new cr((t&4)===4);return jM(n,e,i,i.destroy),(e[S2]??=new Dr).queries.push(new Er(i))-1}function c_(n,e,t){let i=ne();return i.firstCreatePass&&(Cd(i,new bi(n,e,t),-1),(e&2)===2&&(i.staticViewQueries=!0)),vd(i,i1(),e)}function a_(n,e,t,i){let s=ne();if(s.firstCreatePass){let o=Ce();Cd(s,new bi(e,t,i),o.index),u_(s,n),(t&2)===2&&(s.staticContentQueries=!0)}return vd(s,i1(),t)}function l_(n){return n.split(",").map(e=>e.trim())}function Cd(n,e,t){n.queries===null&&(n.queries=new Nr),n.queries.track(new Tr(e,t))}function u_(n,e){let t=n.contentQueries||(n.contentQueries=[]),i=t.length?t[t.length-1]:-1;e!==i&&t.push(n.queries.length-1,e)}function Pc(n,e){return n.queries.getByIndex(e)}function f_(n,e){let t=n[W],i=Pc(t,e);return i.crossesNgTemplate?Ir(t,n,e,[]):gd(t,n,i,e)}function EH(n,e){J3("NgSignals");let t=v7(n),i=t[s2];return e?.equal&&(i.equal=e.equal),t.set=s=>m0(i,s),t.update=s=>C7(i,s),t.asReadonly=d_.bind(t),t}function d_(){let n=this[s2];if(n.readonlyFn===void 0){let e=()=>this();e[s2]=n,n.readonlyFn=e}return n.readonlyFn}function h_(n){let e=[],t=new Map;function i(s){let o=t.get(s);if(!o){let r=n(s);t.set(s,o=r.then(v_))}return o}return Mi.forEach((s,o)=>{let r=[];s.templateUrl&&r.push(i(s.templateUrl).then(l=>{s.template=l}));let c=typeof s.styles=="string"?[s.styles]:s.styles||[];if(s.styles=c,s.styleUrl&&s.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(s.styleUrls?.length){let l=s.styles.length,u=s.styleUrls;s.styleUrls.forEach((f,d)=>{c.push(""),r.push(i(f).then(h=>{c[l+d]=h,u.splice(u.indexOf(f),1),u.length==0&&(s.styleUrls=void 0)}))})}else s.styleUrl&&r.push(i(s.styleUrl).then(l=>{c.push(l),s.styleUrl=void 0}));let a=Promise.all(r).then(()=>C_(o));e.push(a)}),m_(),Promise.all(e).then(()=>{})}var Mi=new Map,p_=new Set;function m_(){let n=Mi;return Mi=new Map,n}function g_(){return Mi.size===0}function v_(n){return typeof n=="string"?n:n.text()}function C_(n){p_.delete(n)}function Rc(n){let e=n.inputConfig,t={};for(let i in e)if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)&&s[3]&&(t[i]=s[3])}n.inputTransforms=t}function bd(n){return M_(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function b_(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),i;for(;!(i=t.next()).done;)e(i.value)}}function M_(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Md(n,e,t){return n[e]=t}function y_(n,e){return n[e]}function u2(n,e,t){let i=n[e];return Object.is(i,t)?!1:(n[e]=t,!0)}function __(n,e,t,i){let s=u2(n,e,t);return u2(n,e+1,i)||s}function L_(n){return(n.flags&32)===32}function w_(n,e,t,i,s,o,r,c,a){let l=e.consts,u=Qn(e,n,4,r||null,c||null);Gf(e,t,u,F3(l,a)),fc(e,u);let f=u.tView=Ac(2,u,i,s,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),f.queries=e.queries.embeddedTView(u)),u}function yi(n,e,t,i,s,o,r,c,a,l){let u=t+ge,f=e.firstCreatePass?w_(u,e,n,i,s,o,r,c,a):e.data[u];Zn(f,!1);let d=z_(e,n,f,t);lc()&&zc(e,n,d,f),jt(d,n);let h=Yf(d,n,d,f);return n[u]=h,$i(n,h),e_(h,f,n),tc(f)&&Bf(e,n,f),a!=null&&jf(n,f,l),f}function mt(n,e,t,i,s,o,r,c){let a=i1(),l=ne(),u=F3(l.consts,o);return yi(a,l,n,e,t,i,s,u,r,c),mt}var z_=x_;function x_(n,e,t,i){return uc(!0),e[P1].createComment("")}function Wt(n,e,t,i){let s=i1(),o=q3();if(u2(s,o,e)){let r=ne(),c=ac();iy(c,s,n,e,t,i)}return Wt}function S_(n,e,t,i){return u2(n,q3(),t)?e+Gn(t)+i:Je}function W0(n,e){return n<<17|e<<2}function Gt(n){return n>>17&32767}function A_(n){return(n&2)==2}function E_(n,e){return n&131071|e<<17}function kr(n){return n|2}function G3(n){return(n&131068)>>2}function Fo(n,e){return n&-131069|e<<2}function D_(n){return(n&1)===1}function Pr(n){return n|1}function N_(n,e,t,i,s,o){let r=o?e.classBindings:e.styleBindings,c=Gt(r),a=G3(r);n[i]=t;let l=!1,u;if(Array.isArray(t)){let f=t;u=f[1],(u===null||Wn(f,u)>0)&&(l=!0)}else u=t;if(s)if(a!==0){let d=Gt(n[c+1]);n[i+1]=W0(d,c),d!==0&&(n[d+1]=Fo(n[d+1],i)),n[c+1]=E_(n[c+1],i)}else n[i+1]=W0(c,0),c!==0&&(n[c+1]=Fo(n[c+1],i)),c=i;else n[i+1]=W0(a,0),c===0?c=i:n[a+1]=Fo(n[a+1],i),a=i;l&&(n[i+1]=kr(n[i+1])),A9(n,u,i,!0),A9(n,u,i,!1),T_(e,u,n,i,o),r=W0(c,a),o?e.classBindings=r:e.styleBindings=r}function T_(n,e,t,i,s){let o=s?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Wn(o,e)>=0&&(t[i+1]=Pr(t[i+1]))}function A9(n,e,t,i){let s=n[t+1],o=e===null,r=i?Gt(s):G3(s),c=!1;for(;r!==0&&(c===!1||o);){let a=n[r],l=n[r+1];I_(a,e)&&(c=!0,n[r+1]=i?Pr(l):kr(l)),r=i?Gt(l):G3(l)}c&&(n[t+1]=i?kr(s):Pr(s))}function I_(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Wn(n,e)>=0:!1}var Ge={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function k_(n){return n.substring(Ge.key,Ge.keyEnd)}function P_(n){return R_(n),yd(n,_d(n,0,Ge.textEnd))}function yd(n,e){let t=Ge.textEnd;return t===e?-1:(e=Ge.keyEnd=O_(n,Ge.key=e,t),_d(n,e,t))}function R_(n){Ge.key=0,Ge.keyEnd=0,Ge.value=0,Ge.valueEnd=0,Ge.textEnd=n.length}function _d(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function O_(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function xe(n,e,t){let i=i1(),s=q3();if(u2(i,s,e)){let o=ne(),r=ac();$f(o,r,i,n,e,i[P1],t,!1)}return xe}function Rr(n,e,t,i,s){let o=e.inputs,r=s?"class":"style";Ec(n,t,o[r],r,i)}function i4(n,e){return H_(n,e,null,!0),i4}function Ki(n){V_(W_,F_,n,!0)}function F_(n,e){for(let t=P_(e);t>=0;t=yd(e,t))Xr(n,k_(e),!0)}function H_(n,e,t,i){let s=i1(),o=ne(),r=wu(2);if(o.firstUpdatePass&&wd(o,n,r,i),e!==Je&&u2(s,r,e)){let c=o.data[ft()];zd(o,c,s,s[P1],n,s[r+1]=Z_(e,t),i,r)}}function V_(n,e,t,i){let s=ne(),o=wu(2);s.firstUpdatePass&&wd(s,null,o,i);let r=i1();if(t!==Je&&u2(r,o,t)){let c=s.data[ft()];if(xd(c,i)&&!Ld(s,o)){let a=i?c.classesWithoutHost:c.stylesWithoutHost;a!==null&&(t=Bo(a,t||"")),Rr(s,c,r,t,i)}else q_(s,c,r,r[P1],r[o+1],r[o+1]=G_(n,e,t),i,o)}}function Ld(n,e){return e>=n.expandoStartIndex}function wd(n,e,t,i){let s=n.data;if(s[t+1]===null){let o=s[ft()],r=Ld(n,t);xd(o,i)&&e===null&&!r&&(e=!1),e=B_(s,o,e,i),N_(s,o,e,t,r,i)}}function B_(n,e,t,i){let s=ZC(n),o=i?e.residualClasses:e.residualStyles;if(s===null)(i?e.classBindings:e.styleBindings)===0&&(t=Ho(null,n,e,t,i),t=Un(t,e.attrs,i),o=null);else{let r=e.directiveStylingLast;if(r===-1||n[r]!==s)if(t=Ho(s,n,e,t,i),o===null){let a=j_(n,e,i);a!==void 0&&Array.isArray(a)&&(a=Ho(null,n,e,a[1],i),a=Un(a,e.attrs,i),U_(n,e,i,a))}else o=$_(n,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),t}function j_(n,e,t){let i=t?e.classBindings:e.styleBindings;if(G3(i)!==0)return n[Gt(i)]}function U_(n,e,t,i){let s=t?e.classBindings:e.styleBindings;n[Gt(s)]=i}function $_(n,e,t){let i,s=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<s;o++){let r=n[o].hostAttrs;i=Un(i,r,t)}return Un(i,e.attrs,t)}function Ho(n,e,t,i,s){let o=null,r=t.directiveEnd,c=t.directiveStylingLast;for(c===-1?c=t.directiveStart:c++;c<r&&(o=e[c],i=Un(i,o.hostAttrs,s),o!==n);)c++;return n!==null&&(t.directiveStylingLast=c),i}function Un(n,e,t){let i=t?1:2,s=-1;if(e!==null)for(let o=0;o<e.length;o++){let r=e[o];typeof r=="number"?s=r:s===i&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),Xr(n,r,t?!0:e[++o]))}return n===void 0?null:n}function G_(n,e,t){if(t==null||t==="")return _e;let i=[],s=He(t);if(Array.isArray(s))for(let o=0;o<s.length;o++)n(i,s[o],!0);else if(typeof s=="object")for(let o in s)s.hasOwnProperty(o)&&n(i,o,s[o]);else typeof s=="string"&&e(i,s);return i}function W_(n,e,t){let i=String(e);i!==""&&!i.includes(" ")&&Xr(n,i,t)}function q_(n,e,t,i,s,o,r,c){s===Je&&(s=_e);let a=0,l=0,u=0<s.length?s[0]:null,f=0<o.length?o[0]:null;for(;u!==null||f!==null;){let d=a<s.length?s[a+1]:void 0,h=l<o.length?o[l+1]:void 0,p=null,m;u===f?(a+=2,l+=2,d!==h&&(p=f,m=h)):f===null||u!==null&&u<f?(a+=2,p=u):(l+=2,p=f,m=h),p!==null&&zd(n,e,t,i,p,m,r,c),u=a<s.length?s[a]:null,f=l<o.length?o[l]:null}}function zd(n,e,t,i,s,o,r,c){if(!(e.type&3))return;let a=n.data,l=a[c+1],u=D_(l)?E9(a,e,t,s,G3(l),r):void 0;if(!_i(u)){_i(o)||A_(l)&&(o=E9(a,null,t,s,c,r));let f=pu(ft(),t);_M(i,r,f,s,o)}}function E9(n,e,t,i,s,o){let r=e===null,c;for(;s>0;){let a=n[s],l=Array.isArray(a),u=l?a[1]:a,f=u===null,d=t[s+1];d===Je&&(d=f?_e:void 0);let h=f?Do(d,i):u===i?d:void 0;if(l&&!_i(h)&&(h=Do(a,i)),_i(h)&&(c=h,r))return c;let p=n[s+1];s=r?Gt(p):G3(p)}if(e!==null){let a=o?e.residualClasses:e.residualStyles;a!=null&&(c=Do(a,i))}return c}function _i(n){return n!==void 0}function Z_(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=me(He(n)))),n}function xd(n,e){return(n.flags&(e?8:16))!==0}var Or=class{destroy(e){}updateValue(e,t){}swap(e,t){let i=Math.min(e,t),s=Math.max(e,t),o=this.detach(s);if(s-i>1){let r=this.detach(i);this.attach(i,o),this.attach(s,r)}else this.attach(i,o)}move(e,t){this.attach(t,this.detach(e))}};function Vo(n,e,t,i,s){return n===t&&Object.is(e,i)?1:Object.is(s(n,e),s(t,i))?-1:0}function Y_(n,e,t){let i,s,o=0,r=n.length-1,c=void 0;if(Array.isArray(e)){let a=e.length-1;for(;o<=r&&o<=a;){let l=n.at(o),u=e[o],f=Vo(o,l,o,u,t);if(f!==0){f<0&&n.updateValue(o,u),o++;continue}let d=n.at(r),h=e[a],p=Vo(r,d,a,h,t);if(p!==0){p<0&&n.updateValue(r,h),r--,a--;continue}let m=t(o,l),v=t(r,d),g=t(o,u);if(Object.is(g,v)){let C=t(a,h);Object.is(C,m)?(n.swap(o,r),n.updateValue(r,h),a--,r--):n.move(r,o),n.updateValue(o,u),o++;continue}if(i??=new Li,s??=N9(n,o,r,t),Fr(n,i,o,g))n.updateValue(o,u),o++,r++;else if(s.has(g))i.set(m,n.detach(o)),r--;else{let C=n.create(o,e[o]);n.attach(o,C),o++,r++}}for(;o<=a;)D9(n,i,t,o,e[o]),o++}else if(e!=null){let a=e[Symbol.iterator](),l=a.next();for(;!l.done&&o<=r;){let u=n.at(o),f=l.value,d=Vo(o,u,o,f,t);if(d!==0)d<0&&n.updateValue(o,f),o++,l=a.next();else{i??=new Li,s??=N9(n,o,r,t);let h=t(o,f);if(Fr(n,i,o,h))n.updateValue(o,f),o++,r++,l=a.next();else if(!s.has(h))n.attach(o,n.create(o,f)),o++,r++,l=a.next();else{let p=t(o,u);i.set(p,n.detach(o)),r--}}}for(;!l.done;)D9(n,i,t,n.length,l.value),l=a.next()}for(;o<=r;)n.destroy(n.detach(r--));i?.forEach(a=>{n.destroy(a)})}function Fr(n,e,t,i){return e!==void 0&&e.has(i)?(n.attach(t,e.get(i)),e.delete(i),!0):!1}function D9(n,e,t,i,s){if(Fr(n,e,i,t(i,s)))n.updateValue(i,s);else{let o=n.create(i,s);n.attach(i,o)}}function N9(n,e,t,i){let s=new Set;for(let o=e;o<=t;o++)s.add(i(o,n.at(o)));return s}var Li=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let i=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let s=this._vMap;for(;s.has(i);)i=s.get(i);s.set(i,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,i]of this.kvMap)if(e(i,t),this._vMap!==void 0){let s=this._vMap;for(;s.has(i);)i=s.get(i),e(i,t)}}};function J_(n,e){J3("NgControlFlow");let t=i1(),i=q3(),s=t[i]!==Je?t[i]:-1,o=s!==-1?wi(t,ge+s):void 0,r=0;if(u2(t,i,n)){let c=o1(null);try{if(o!==void 0&&td(o,r),n!==-1){let a=ge+n,l=wi(t,a),u=jr(t[W],a),f=$3(l,u.tView.ssrId),d=Xn(t,u,e,{dehydratedView:f});e4(l,d,r,B3(u,f))}}finally{o1(c)}}else if(o!==void 0){let c=ed(o,r);c!==void 0&&(c[Q1]=e)}}var Hr=class{lContainer;$implicit;$index;constructor(e,t,i){this.lContainer=e,this.$implicit=t,this.$index=i}get $count(){return this.lContainer.length-X1}};var Vr=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,i){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=i}};function K_(n,e,t,i,s,o,r,c,a,l,u,f,d){J3("NgControlFlow");let h=i1(),p=ne(),m=a!==void 0,v=i1(),g=c?r.bind(v[ze][Q1]):r,C=new Vr(m,g);v[ge+n]=C,yi(h,p,n+1,e,t,i,s,F3(p.consts,o)),m&&yi(h,p,n+2,a,l,u,f,F3(p.consts,d))}var Br=class extends Or{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,i){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=i}get length(){return this.lContainer.length-X1}at(e){return this.getLView(e)[Q1].$implicit}attach(e,t){let i=t[P3];this.needsIndexUpdate||=e!==this.length,e4(this.lContainer,t,e,B3(this.templateTNode,i))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,X_(this.lContainer,e)}create(e,t){let i=$3(this.lContainer,this.templateTNode.tView.ssrId),s=Xn(this.hostLView,this.templateTNode,new Hr(this.lContainer,t,e),{dehydratedView:i});return this.operationsCounter?.recordCreate(),s}destroy(e){Bi(e[W],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[Q1].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Q1].$index=e}getLView(e){return eL(this.lContainer,e)}};function Q_(n){let e=o1(null),t=ft();try{let i=i1(),s=i[W],o=i[t],r=t+1,c=wi(i,r);if(o.liveCollection===void 0){let l=jr(s,r);o.liveCollection=new Br(c,i,l)}else o.liveCollection.reset();let a=o.liveCollection;if(Y_(a,n,o.trackByFn),a.updateIndexes(),o.hasEmptyBlock){let l=q3(),u=a.length===0;if(u2(i,l,u)){let f=t+2,d=wi(i,f);if(u){let h=jr(s,f),p=$3(d,h.tView.ssrId),m=Xn(i,h,void 0,{dehydratedView:p});e4(d,m,0,B3(h,p))}else td(d,0)}}}finally{o1(e)}}function wi(n,e){return n[e]}function X_(n,e){return Bn(n,e)}function eL(n,e){return ed(n,e)}function jr(n,e){return nc(n,e)}function tL(n,e,t,i,s,o){let r=e.consts,c=F3(r,s),a=Qn(e,n,2,i,c);return Gf(e,t,a,F3(r,o)),a.attrs!==null&&zr(a,a.attrs,!1),a.mergedAttrs!==null&&zr(a,a.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,a),a}function z1(n,e,t,i){let s=i1(),o=ne(),r=ge+n,c=s[P1],a=o.firstCreatePass?tL(r,o,s,e,t,i):o.data[r],l=nL(o,s,a,c,e,n);s[r]=l;let u=tc(a);return Zn(a,!0),Tf(c,l,a),!L_(a)&&lc()&&zc(o,s,l,a),OC()===0&&jt(l,s),FC(),u&&(Bf(o,s,a),Vf(o,a,s)),i!==null&&jf(s,a),z1}function D1(){let n=Ce();Mu()?yu():(n=n.parent,Zn(n,!1));let e=n;VC(e)&&BC(),HC();let t=ne();return t.firstCreatePass&&(fc(t,n),lu(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&tb(e)&&Rr(t,e,i1(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&nb(e)&&Rr(t,e,i1(),e.stylesWithoutHost,!1),D1}function J1(n,e,t,i){return z1(n,e,t,i),D1(),J1}var nL=(n,e,t,i,s,o)=>(uc(!0),_f(i,s,KC()));function h2(){return i1()}function Qi(n,e,t){let i=i1(),s=q3();if(u2(i,s,e)){let o=ne(),r=ac();$f(o,r,i,n,e,i[P1],t,!0)}return Qi}var zi="en-US";var iL=zi;function sL(n){typeof n=="string"&&(iL=n.toLowerCase().replace(/_/g,"-"))}var oL=(n,e,t)=>{};function be(n,e,t,i){let s=i1(),o=ne(),r=Ce();return cL(o,s,s[P1],r,n,e,i),be}function rL(n,e,t,i){let s=n.cleanup;if(s!=null)for(let o=0;o<s.length-1;o+=2){let r=s[o];if(r===t&&s[o+1]===i){let c=e[si],a=s[o+2];return c.length>a?c[a]:null}typeof r=="string"&&(o+=2)}return null}function cL(n,e,t,i,s,o,r){let c=tc(i),l=n.firstCreatePass&&Qf(n),u=e[Q1],f=Kf(e),d=!0;if(i.type&3||r){let m=Fe(i,e),v=r?r(m):m,g=f.length,C=r?b=>r(a2(b[i.index])):i.index,M=null;if(!r&&c&&(M=rL(n,e,s,i.index)),M!==null){let b=M.__ngLastListenerFn__||M;b.__ngNextListenerFn__=o,M.__ngLastListenerFn__=o,d=!1}else{o=I9(i,e,u,o),oL(m,s,o);let b=t.listen(v,s,o);f.push(o,b),l&&l.push(s,C,g,g+1)}}else o=I9(i,e,u,o);let h=i.outputs,p;if(d&&h!==null&&(p=h[s])){let m=p.length;if(m)for(let v=0;v<m;v+=2){let g=p[v],C=p[v+1],L=e[g][C].subscribe(o),y=f.length;f.push(o,L),l&&l.push(s,i.index,y,-(y+1))}}}function T9(n,e,t,i){let s=o1(null);try{return r2(6,e,t),t(i)!==!1}catch(o){return Xf(n,o),!1}finally{r2(7,e,t),o1(s)}}function I9(n,e,t,i){return function s(o){if(o===Function)return i;let r=n.componentOffset>-1?ut(n.index,e):e;Nc(r,5);let c=T9(e,t,i,o),a=s.__ngNextListenerFn__;for(;a;)c=T9(e,t,a,o)&&c,a=a.__ngNextListenerFn__;return c}}function Ke(n=1){return JC(n)}function aL(n,e){let t=null,i=EM(n);for(let s=0;s<e.length;s++){let o=e[s];if(o==="*"){t=s;continue}if(i===null?kf(n,o,!0):TM(i,o))return s}return t}function Q3(n){let e=i1()[ze][ve];if(!e.projection){let t=n?n.length:1,i=e.projection=uC(t,null),s=i.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let r=n?aL(o,n):0;r!==null&&(s[r]?s[r].projectionNext=o:i[r]=o,s[r]=o)}o=o.next}}}function X3(n,e=0,t,i,s,o){let r=i1(),c=ne(),a=i?n+1:null;a!==null&&yi(r,c,a,i,s,o,null,t);let l=Qn(c,ge+n,16,null,t||null);l.projection===null&&(l.projection=e),yu();let f=!r[P3]||Cu();r[ze][ve].projection[l.projection]===null&&a!==null?lL(r,c,a):f&&(l.flags&32)!==32&&MM(c,r,l)}function lL(n,e,t){let i=ge+t,s=e.data[i],o=n[i],r=$3(o,s.tView.ssrId),c=Xn(n,s,void 0,{dehydratedView:r});e4(o,c,0,B3(s,r))}function Oc(n,e,t,i){a_(n,e,t,i)}function Xi(n,e,t){c_(n,e,t)}function en(n){let e=i1(),t=ne(),i=zu();oc(i+1);let s=Pc(t,i);if(n.dirty&&IC(e)===((s.metadata.flags&2)===2)){if(s.matches===null)n.reset([]);else{let o=f_(e,i);n.reset(o,xb),n.notifyOnChanges()}return!0}return!1}function tn(){return r_(i1(),zu())}function qt(n){let e=UC();return TC(e,ge+n)}function Qe(n,e=""){let t=i1(),i=ne(),s=n+ge,o=i.firstCreatePass?Qn(i,s,1,e,null):i.data[s],r=uL(i,t,o,e,n);t[s]=r,lc()&&zc(i,t,r,o),Zn(o,!1)}var uL=(n,e,t,i,s)=>(uc(!0),cM(e[P1],i));function es(n){return gt("",n,""),es}function gt(n,e,t){let i=i1(),s=S_(i,n,e,t);return s!==Je&&cy(i,ft(),s),gt}function vt(n,e,t){let i=Lu()+n,s=i1();return s[i]===Je?Md(s,i,t?e.call(t):e()):y_(s,i)}function fL(n,e,t,i,s){return hL(i1(),Lu(),n,e,t,i,s)}function dL(n,e){let t=n[e];return t===Je?void 0:t}function hL(n,e,t,i,s,o,r){let c=e+t;return __(n,c,s,o)?Md(n,c+2,r?i.call(r,s,o):i(s,o)):dL(n,c+2)}function Zt(n,e){return Gi(n,e)}var q0=null;function pL(n){q0!==null&&(n.defaultEncapsulation!==q0.defaultEncapsulation||n.preserveWhitespaces!==q0.preserveWhitespaces)||(q0=n)}var Ur=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},ts=(()=>{class n{compileModuleSync(t){return new Ci(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let i=this.compileModuleSync(t),s=X9(t),o=yf(s.declarations).reduce((r,c)=>{let a=z2(c);return a&&r.push(new $t(a)),r},[]);return new Ur(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(i){return new(i||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mL=new V("");function gL(n,e,t){let i=new Ci(t);return Promise.resolve(i)}function k9(n){for(let e=n.length-1;e>=0;e--)if(n[e]!==void 0)return n[e]}var vL=(()=>{class n{zone=x(d1);changeDetectionScheduler=x(V3);applicationRef=x(d2);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function CL({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new d1(X(D({},Sd()),{scheduleInRootZone:t})),[{provide:d1,useFactory:n},{provide:k3,multi:!0,useFactory:()=>{let i=x(vL,{optional:!0});return()=>i.initialize()}},{provide:k3,multi:!0,useFactory:()=>{let i=x(bL);return()=>{i.initialize()}}},e===!0?{provide:Wu,useValue:!0}:[],{provide:qu,useValue:t??Gu}]}function Sd(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var bL=(()=>{class n{subscription=new E1;initialized=!1;zone=x(d1);pendingTasks=x(Z3);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{d1.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{d1.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ML=(()=>{class n{appRef=x(d2);taskService=x(Z3);ngZone=x(d1);zonelessEnabled=x(pc);disableScheduling=x(Wu,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new E1;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(fi):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(x(qu,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof di||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let i=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 8:{this.appRef.deferredDirtyFlags|=8;break}case 6:{this.appRef.dirtyFlags|=2,i=!0;break}case 13:{this.appRef.dirtyFlags|=16,i=!0;break}case 14:{this.appRef.dirtyFlags|=2,i=!0;break}case 12:{i=!0;break}case 10:case 9:case 7:case 11:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick(i))return;let s=this.useMicrotaskScheduler?c9:Zu;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>s(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>s(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(fi+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(t),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,c9(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(i){return new(i||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function yL(){return typeof $localize<"u"&&$localize.locale||zi}var ns=new V("",{providedIn:"root",factory:()=>x(ns,K.Optional|K.SkipSelf)||yL()});var xi=new V("");function Z0(n){return!n.moduleRef}function _L(n){let e=Z0(n)?n.r3Injector:n.moduleRef.injector,t=e.get(d1);return t.run(()=>{Z0(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let i=e.get(A2,null),s;if(t.runOutsideAngular(()=>{s=t.onError.subscribe({next:o=>{i.handleError(o)}})}),Z0(n)){let o=()=>e.destroy(),r=n.platformInjector.get(xi);r.add(o),e.onDestroy(()=>{s.unsubscribe(),r.delete(o)})}else{let o=()=>n.moduleRef.destroy(),r=n.platformInjector.get(xi);r.add(o),n.moduleRef.onDestroy(()=>{X0(n.allPlatformModules,n.moduleRef),s.unsubscribe(),r.delete(o)})}return Wy(i,t,()=>{let o=e.get(dd);return o.runInitializers(),o.donePromise.then(()=>{let r=e.get(ns,zi);if(sL(r||zi),Z0(n)){let c=e.get(d2);return n.rootComponent!==void 0&&c.bootstrap(n.rootComponent),c}else return LL(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function LL(n,e){let t=n.injector.get(d2);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>t.bootstrap(i));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new P(-403,!1);e.push(n)}var Ad=(()=>{class n{_injector;_modules=[];_destroyListeners=[];_destroyed=!1;constructor(t){this._injector=t}bootstrapModuleFactory(t,i){let s=i?.scheduleInRootZone,o=()=>_b(i?.ngZone,X(D({},Sd({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing})),{scheduleInRootZone:s})),r=i?.ignoreChangesOutsideZone,c=[CL({ngZoneFactory:o,ignoreChangesOutsideZone:r}),{provide:V3,useExisting:ML}],a=Ry(t.moduleType,this.injector,c);return _L({moduleRef:a,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(t,i=[]){let s=hd({},i);return gL(this.injector,s,t).then(o=>this.bootstrapModuleFactory(o,s))}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new P(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let t=this._injector.get(xi,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static \u0275fac=function(i){return new(i||n)(F(G1))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),Pn=null,Ed=new V("");function wL(n){if(Pn&&!Pn.get(Ed,!1))throw new P(400,!1);Uy(),Pn=n;let e=n.get(Ad);return SL(n),e}function Fc(n,e,t=[]){let i=`Platform: ${e}`,s=new V(i);return(o=[])=>{let r=Dd();if(!r||r.injector.get(Ed,!1)){let c=[...t,...o,{provide:s,useValue:!0}];n?n(c):wL(zL(c,i))}return xL(s)}}function zL(n=[],e){return G1.create({name:e,providers:[{provide:Ni,useValue:"platform"},{provide:xi,useValue:new Set([()=>Pn=null])},...n]})}function xL(n){let e=Dd();if(!e)throw new P(401,!1);return e}function Dd(){return Pn?.get(Ad)??null}function SL(n){let e=n.get(Cc,null);Re(n,()=>{e?.forEach(t=>t())})}var Ct=(()=>{class n{static __NG_ELEMENT_ID__=AL}return n})();function AL(n){return EL(Ce(),i1(),(n&16)===16)}function EL(n,e,t){if(ki(n)&&!t){let i=ut(n.index,e);return new Ut(i,i)}else if(n.type&175){let i=e[ze];return new Ut(i,e)}return null}var $r=class{constructor(){}supports(e){return bd(e)}create(e){return new Gr(e)}},DL=(n,e)=>e,Gr=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||DL}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,s=0,o=null;for(;t||i;){let r=!i||t&&t.currentIndex<P9(i,s,o)?t:i,c=P9(r,s,o),a=r.currentIndex;if(r===i)s--,i=i._nextRemoved;else if(t=t._next,r.previousIndex==null)s++;else{o||(o=[]);let l=c-s,u=a-s;if(l!=u){for(let d=0;d<l;d++){let h=d<o.length?o[d]:o[d]=0,p=h+d;u<=p&&p<l&&(o[d]=h+1)}let f=r.previousIndex;o[f]=u-l}}c!==a&&e(r,c,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!bd(e))throw new P(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,i=!1,s,o,r;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)o=e[c],r=this._trackByFn(c,o),t===null||!Object.is(t.trackById,r)?(t=this._mismatch(t,o,r,c),i=!0):(i&&(t=this._verifyReinsertion(t,o,r,c)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else s=0,b_(e,c=>{r=this._trackByFn(s,c),t===null||!Object.is(t.trackById,r)?(t=this._mismatch(t,c,r,s),i=!0):(i&&(t=this._verifyReinsertion(t,c,r,s)),Object.is(t.item,c)||this._addIdentityChange(t,c)),t=t._next,s++}),this.length=s;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,s){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,s)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,s),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,s)):e=this._addAfter(new Wr(t,i),o,s)),e}_verifyReinsertion(e,t,i,s){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?e=this._reinsertAfter(o,e._prev,s):e.currentIndex!=s&&(e.currentIndex=s,this._addToMoves(e,s)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let s=e._prevRemoved,o=e._nextRemoved;return s===null?this._removalsHead=o:s._nextRemoved=o,o===null?this._removalsTail=s:o._prevRemoved=s,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){let s=t===null?this._itHead:t._next;return e._next=s,e._prev=t,s===null?this._itTail=e:s._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new Si),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,i=e._next;return t===null?this._itHead=i:t._next=i,i===null?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Si),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Wr=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},qr=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;i!==null;i=i._nextDup)if((t===null||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let t=e._prevDup,i=e._nextDup;return t===null?this._head=i:t._nextDup=i,i===null?this._tail=t:i._prevDup=t,this._head===null}},Si=class{map=new Map;put(e){let t=e.trackById,i=this.map.get(t);i||(i=new qr,this.map.set(t,i)),i.add(e)}get(e,t){let i=e,s=this.map.get(i);return s?s.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function P9(n,e,t){let i=n.previousIndex;if(i===null)return i;let s=0;return t&&i<t.length&&(s=t[i]),i+e+s}function R9(){return new Hc([new $r])}var Hc=(()=>{class n{factories;static \u0275prov=I({token:n,providedIn:"root",factory:R9});constructor(t){this.factories=t}static create(t,i){if(i!=null){let s=i.factories.slice();t=t.concat(s)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||R9()),deps:[[n,new Kr,new Di]]}}find(t){let i=this.factories.find(s=>s.supports(t));if(i!=null)return i;throw new P(901,!1)}}return n})();var Nd=Fc(null,"core",[]),Td=(()=>{class n{constructor(t){}static \u0275fac=function(i){return new(i||n)(F(d2))};static \u0275mod=f1({type:n});static \u0275inj=u1({})}return n})();function s4(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}var O9=class{[s2];constructor(e){this[s2]=e}destroy(){this[s2].destroy()}};function is(n,e){let t=z2(n),i=e.elementInjector||Ti();return new $t(t).create(i,e.projectableNodes,e.hostElement,e.environmentInjector)}function Id(n){let e=z2(n);if(!e)return null;let t=new $t(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Hd=null;function Yt(){return Hd}function Vd(n){Hd??=n}var ss=class{};var I1=new V(""),$c=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=I({token:n,factory:()=>x(TL),providedIn:"platform"})}return n})(),Bd=new V(""),TL=(()=>{class n extends $c{_location;_history;_doc=x(I1);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Yt().getBaseHref(this._doc)}onPopState(t){let i=Yt().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){let i=Yt().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,s){this._history.pushState(t,i,s)}replaceState(t,i,s){this._history.replaceState(t,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||n)};static \u0275prov=I({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Gc(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function kd(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,i=t-(n[t-1]==="/"?1:0);return n.slice(0,i)+n.slice(t)}function P2(n){return n&&n[0]!=="?"?"?"+n:n}var R2=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(i){return new(i||n)};static \u0275prov=I({token:n,factory:()=>x(Wc),providedIn:"root"})}return n})(),jd=new V(""),Wc=(()=>{class n extends R2{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,i){super(),this._platformLocation=t,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??x(I1).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Gc(this._baseHref,t)}path(t=!1){let i=this._platformLocation.pathname+P2(this._platformLocation.search),s=this._platformLocation.hash;return s&&t?`${i}${s}`:i}pushState(t,i,s,o){let r=this.prepareExternalUrl(s+P2(o));this._platformLocation.pushState(t,i,r)}replaceState(t,i,s,o){let r=this.prepareExternalUrl(s+P2(o));this._platformLocation.replaceState(t,i,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(i){return new(i||n)(F($c),F(jd,8))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ud=(()=>{class n extends R2{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,i){super(),this._platformLocation=t,i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(t){let i=Gc(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,s,o){let r=this.prepareExternalUrl(s+P2(o));r.length==0&&(r=this._platformLocation.pathname),this._platformLocation.pushState(t,i,r)}replaceState(t,i,s,o){let r=this.prepareExternalUrl(s+P2(o));r.length==0&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(i){return new(i||n)(F($c),F(jd,8))};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})(),nn=(()=>{class n{_subject=new p1;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let i=this._locationStrategy.getBaseHref();this._basePath=PL(kd(Pd(i))),this._locationStrategy.onPopState(s=>{this._subject.next({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+P2(i))}normalize(t){return n.stripTrailingSlash(kL(this._basePath,Pd(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",s=null){this._locationStrategy.pushState(s,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+P2(i)),s)}replaceState(t,i="",s=null){this._locationStrategy.replaceState(s,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+P2(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(s=>s(t,i))}subscribe(t,i,s){return this._subject.subscribe({next:t,error:i??void 0,complete:s??void 0})}static normalizeQueryParams=P2;static joinWithSlash=Gc;static stripTrailingSlash=kd;static \u0275fac=function(i){return new(i||n)(F(R2))};static \u0275prov=I({token:n,factory:()=>IL(),providedIn:"root"})}return n})();function IL(){return new nn(F(R2))}function kL(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function Pd(n){return n.replace(/\/index.html$/,"")}function PL(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function $d(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let i=t.indexOf("="),[s,o]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(s.trim()===e)return decodeURIComponent(o)}return null}var Vc=/\s+/,Rd=[],iV=(()=>{class n{_ngEl;_renderer;initialClasses=Rd;rawClass;stateMap=new Map;constructor(t,i){this._ngEl=t,this._renderer=i}set klass(t){this.initialClasses=t!=null?t.trim().split(Vc):Rd}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Vc):t}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let i of t)this._updateState(i,!0);else if(t!=null)for(let i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){let s=this.stateMap.get(t);s!==void 0?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let i=t[0],s=t[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(t,i){t=t.trim(),t.length>0&&t.split(Vc).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}static \u0275fac=function(i){return new(i||n)(s1(Y1),s1(ht))};static \u0275dir=f2({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var Bc=class{$implicit;ngForOf;index;count;constructor(e,t,i,s){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=s}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},sV=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,i,s){this._viewContainer=t,this._template=i,this._differs=s}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let i=this._viewContainer;t.forEachOperation((s,o,r)=>{if(s.previousIndex==null)i.createEmbeddedView(this._template,new Bc(s.item,this._ngForOf,-1,-1),r===null?void 0:r);else if(r==null)i.remove(o===null?void 0:o);else if(o!==null){let c=i.get(o);i.move(c,r),Od(c,s)}});for(let s=0,o=i.length;s<o;s++){let c=i.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}t.forEachIdentityChange(s=>{let o=i.get(s.currentIndex);Od(o,s)})}static ngTemplateContextGuard(t,i){return!0}static \u0275fac=function(i){return new(i||n)(s1(pt),s1(at),s1(Hc))};static \u0275dir=f2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function Od(n,e){n.context.$implicit=e.item}var rs=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=f1({type:n});static \u0275inj=u1({})}return n})(),qc="browser",RL="server";function Gd(n){return n===qc}function Zc(n){return n===RL}var Wd=(()=>{class n{static \u0275prov=I({token:n,providedIn:"root",factory:()=>Gd(x(dt))?new jc(x(I1),window):new Uc})}return n})(),jc=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=OL(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,s=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],s-o[1])}};function OL(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),s=i.currentNode;for(;s;){let o=s.shadowRoot;if(o){let r=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(r)return r}s=i.nextNode()}}return null}var Uc=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},os=class{};var Jc=class extends ss{supportsDOMEvents=!0},Kc=class n extends Jc{static makeCurrent(){Vd(new n)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=VL();return t==null?null:BL(t)}resetBaseElement(){o4=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return $d(document.cookie,e)}},o4=null;function VL(){return o4=o4||document.querySelector("base"),o4?o4.getAttribute("href"):null}function BL(n){return new URL(n,document.baseURI).pathname}var Qc=class{addToWindow(e){we.getAngularTestability=(i,s=!0)=>{let o=e.findTestabilityInTree(i,s);if(o==null)throw new P(5103,!1);return o},we.getAllAngularTestabilities=()=>e.getAllTestabilities(),we.getAllAngularRootElements=()=>e.getAllRootElements();let t=i=>{let s=we.getAllAngularTestabilities(),o=s.length,r=function(){o--,o==0&&i()};s.forEach(c=>{c.whenStable(r)})};we.frameworkStabilizers||(we.frameworkStabilizers=[]),we.frameworkStabilizers.push(t)}findTestabilityInTree(e,t,i){if(t==null)return null;let s=e.getTestability(t);return s??(i?Yt().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},jL=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||n)};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})(),Xc=new V(""),Qd=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,i){this._zone=i,t.forEach(s=>{s.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,s){return this._findPluginFor(i).addEventListener(t,i,s)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new P(5101,!1);return this._eventNameToPlugin.set(t,i),i}static \u0275fac=function(i){return new(i||n)(F(Xc),F(d1))};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})(),cs=class{_doc;constructor(e){this._doc=e}manager},ea="ng-app-id";function qd(n){for(let e of n)e.remove()}function Zd(n,e){let t=e.createElement("style");return t.textContent=n,t}function UL(n,e,t){let i=n.head?.querySelectorAll(`style[${ea}="${e}"]`);if(i)for(let s of i)s.textContent&&(s.removeAttribute(ea),t.set(s.textContent,{usage:0,elements:[s]}))}function ta(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var Xd=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,i,s,o={}){this.doc=t,this.appId=i,this.nonce=s,this.isServer=Zc(o),UL(t,i,this.inline),this.hosts.add(t.head)}addStyles(t,i){for(let s of t)this.addUsage(s,this.inline,Zd);i?.forEach(s=>this.addUsage(s,this.external,ta))}removeStyles(t,i){for(let s of t)this.removeUsage(s,this.inline);i?.forEach(s=>this.removeUsage(s,this.external))}addUsage(t,i,s){let o=i.get(t);o?o.usage++:i.set(t,{usage:1,elements:[...this.hosts].map(r=>this.addElement(r,s(t,this.doc)))})}removeUsage(t,i){let s=i.get(t);s&&(s.usage--,s.usage<=0&&(qd(s.elements),i.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])qd(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[i,{elements:s}]of this.inline)s.push(this.addElement(t,Zd(i,this.doc)));for(let[i,{elements:s}]of this.external)s.push(this.addElement(t,ta(i,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,i){return this.nonce&&i.setAttribute("nonce",this.nonce),this.isServer&&i.setAttribute(ea,this.appId),t.appendChild(i)}static \u0275fac=function(i){return new(i||n)(F(I1),F(vc),F(bc,8),F(dt))};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})(),Yc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},ia=/%COMP%/g,eh="%COMP%",$L=`_nghost-${eh}`,GL=`_ngcontent-${eh}`,WL=!0,qL=new V("",{providedIn:"root",factory:()=>WL});function ZL(n){return GL.replace(ia,n)}function YL(n){return $L.replace(ia,n)}function th(n,e){return e.map(t=>t.replace(ia,n))}var Yd=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,i,s,o,r,c,a,l=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=r,this.platformId=c,this.ngZone=a,this.nonce=l,this.platformIsServer=Zc(c),this.defaultRenderer=new r4(t,r,a,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===l2.ShadowDom&&(i=X(D({},i),{encapsulation:l2.Emulated}));let s=this.getOrCreateRenderer(t,i);return s instanceof as?s.applyToHost(t):s instanceof c4&&s.applyStyles(),s}getOrCreateRenderer(t,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let r=this.doc,c=this.ngZone,a=this.eventManager,l=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case l2.Emulated:o=new as(a,l,i,this.appId,u,r,c,f);break;case l2.ShadowDom:return new na(a,l,t,i,r,c,this.nonce,f);default:o=new c4(a,l,i,u,r,c,f);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static \u0275fac=function(i){return new(i||n)(F(Qd),F(Xd),F(vc),F(qL),F(I1),F(dt),F(d1),F(bc))};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})(),r4=class{eventManager;doc;ngZone;platformIsServer;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,i,s){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=s}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Yc[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Jd(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(Jd(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){t.remove()}selectRootElement(e,t){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new P(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,s){if(s){t=s+":"+t;let o=Yc[s];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){let s=Yc[i];s?e.removeAttributeNS(s,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,s){s&(D2.DashCase|D2.Important)?e.style.setProperty(t,i,s&D2.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&D2.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e!=null&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if(typeof e=="string"&&(e=Yt().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function Jd(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var na=class extends r4{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,i,s,o,r,c,a){super(e,o,r,a),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=th(s.id,s.styles);for(let f of l){let d=document.createElement("style");c&&d.setAttribute("nonce",c),d.textContent=f,this.shadowRoot.appendChild(d)}let u=s.getExternalStyles?.();if(u)for(let f of u){let d=ta(f,o);c&&d.setAttribute("nonce",c),this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},c4=class extends r4{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,i,s,o,r,c,a){super(e,o,r,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=s,this.styles=a?th(a,i.styles):i.styles,this.styleUrls=i.getExternalStyles?.(a)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},as=class extends c4{contentAttr;hostAttr;constructor(e,t,i,s,o,r,c,a){let l=s+"-"+i.id;super(e,t,i,o,r,c,a,l),this.contentAttr=ZL(l),this.hostAttr=YL(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}},JL=(()=>{class n extends cs{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,s){return t.addEventListener(i,s,!1),()=>this.removeEventListener(t,i,s)}removeEventListener(t,i,s){return t.removeEventListener(i,s)}static \u0275fac=function(i){return new(i||n)(F(I1))};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})(),Kd=["alt","control","meta","shift"],KL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},QL={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},XL=(()=>{class n extends cs{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,i,s){let o=n.parseEventName(i),r=n.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Yt().onAndCancel(t,o.domEventName,r))}static parseEventName(t){let i=t.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=n._normalizeKey(i.pop()),r="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),r="code."),Kd.forEach(l=>{let u=i.indexOf(l);u>-1&&(i.splice(u,1),r+=l+".")}),r+=o,i.length!=0||o.length===0)return null;let a={};return a.domEventName=s,a.fullKey=r,a}static matchEventFullKeyCode(t,i){let s=KL[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(s=t.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),Kd.forEach(r=>{if(r!==s){let c=QL[r];c(t)&&(o+=r+".")}}),o+=s,o===i)}static eventCallback(t,i,s){return o=>{n.matchEventFullKeyCode(o,t)&&s.runGuarded(()=>i(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(i){return new(i||n)(F(I1))};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})();function ew(){Kc.makeCurrent()}function tw(){return new A2}function nw(){return sf(document),document}var iw=[{provide:dt,useValue:qc},{provide:Cc,useValue:ew,multi:!0},{provide:I1,useFactory:nw,deps:[]}],bV=Fc(Nd,"browser",iw),sw=new V(""),ow=[{provide:t4,useClass:Qc,deps:[]},{provide:Tc,useClass:Zi,deps:[d1,Yi,t4]},{provide:Zi,useClass:Zi,deps:[d1,Yi,t4]}],rw=[{provide:Ni,useValue:"root"},{provide:A2,useFactory:tw,deps:[]},{provide:Xc,useClass:JL,multi:!0,deps:[I1,d1,dt]},{provide:Xc,useClass:XL,multi:!0,deps:[I1]},Yd,Xd,Qd,{provide:U3,useExisting:Yd},{provide:os,useClass:jL,deps:[]},[]],MV=(()=>{class n{constructor(t){}static \u0275fac=function(i){return new(i||n)(F(sw,12))};static \u0275mod=f1({type:n});static \u0275inj=u1({providers:[...rw,...ow],imports:[rs,Td]})}return n})();var nh=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(i){return new(i||n)(F(I1))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var sa=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=I({token:n,factory:function(i){let s=null;return i?s=new(i||n):s=F(cw),s},providedIn:"root"})}return n})(),cw=(()=>{class n extends sa{_doc;constructor(t){super(),this._doc=t}sanitize(t,i){if(i==null)return null;switch(t){case Ye.NONE:return i;case Ye.HTML:return I2(i,"HTML")?He(i):yc(this._doc,String(i)).toString();case Ye.STYLE:return I2(i,"Style")?He(i):i;case Ye.SCRIPT:if(I2(i,"Script"))return He(i);throw new P(5200,!1);case Ye.URL:return I2(i,"URL")?He(i):Vi(String(i));case Ye.RESOURCE_URL:if(I2(i,"ResourceURL"))return He(i);throw new P(5201,!1);default:throw new P(5202,!1)}}bypassSecurityTrustHtml(t){return lf(t)}bypassSecurityTrustStyle(t){return uf(t)}bypassSecurityTrustScript(t){return ff(t)}bypassSecurityTrustUrl(t){return df(t)}bypassSecurityTrustResourceUrl(t){return hf(t)}static \u0275fac=function(i){return new(i||n)(F(I1))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function aw(n,e,t){return(e=uw(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function sh(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function E(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?sh(Object(t),!0).forEach(function(i){aw(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):sh(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function lw(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function uw(n){var e=lw(n,"string");return typeof e=="symbol"?e:e+""}var oh=()=>{},Sa={},Nh={},Th=null,Ih={mark:oh,measure:oh};try{typeof window<"u"&&(Sa=window),typeof document<"u"&&(Nh=document),typeof MutationObserver<"u"&&(Th=MutationObserver),typeof performance<"u"&&(Ih=performance)}catch{}var{userAgent:rh=""}=Sa.navigator||{},Mt=Sa,L1=Nh,ch=Th,ls=Ih,_V=!!Mt.document,H2=!!L1.documentElement&&!!L1.head&&typeof L1.addEventListener=="function"&&typeof L1.createElement=="function",kh=~rh.indexOf("MSIE")||~rh.indexOf("Trident/"),fw=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,dw=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,Ph={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},hw={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Rh=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],oe="classic",ms="duotone",pw="sharp",mw="sharp-duotone",Oh=[oe,ms,pw,mw],gw={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},vw={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},Cw=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),bw={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},Mw=["fak","fa-kit","fakd","fa-kit-duotone"],ah={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},yw=["kit"],_w={kit:{"fa-kit":"fak"},"kit-duotone":{"fa-kit-duotone":"fakd"}},Lw=["fak","fakd"],ww={kit:{fak:"fa-kit"},"kit-duotone":{fakd:"fa-kit-duotone"}},lh={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},us={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},zw=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],xw=["fak","fa-kit","fakd","fa-kit-duotone"],Sw={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},Aw={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},Ew={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},ua={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},Dw=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],fa=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...zw,...Dw],Nw=["solid","regular","light","thin","duotone","brands"],Fh=[1,2,3,4,5,6,7,8,9,10],Tw=Fh.concat([11,12,13,14,15,16,17,18,19,20]),Iw=[...Object.keys(Ew),...Nw,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",us.GROUP,us.SWAP_OPACITY,us.PRIMARY,us.SECONDARY].concat(Fh.map(n=>"".concat(n,"x"))).concat(Tw.map(n=>"w-".concat(n))),kw={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},O2="___FONT_AWESOME___",da=16,Hh="fa",Vh="svg-inline--fa",Kt="data-fa-i2svg",ha="data-fa-pseudo-element",Pw="data-fa-pseudo-element-pending",Aa="data-prefix",Ea="data-icon",uh="fontawesome-i2svg",Rw="async",Ow=["HTML","HEAD","STYLE","SCRIPT"],Bh=(()=>{try{return!0}catch{return!1}})();function h4(n){return new Proxy(n,{get(e,t){return t in e?e[t]:e[oe]}})}var jh=E({},Ph);jh[oe]=E(E(E(E({},{"fa-duotone":"duotone"}),Ph[oe]),ah.kit),ah["kit-duotone"]);var Fw=h4(jh),pa=E({},bw);pa[oe]=E(E(E(E({},{duotone:"fad"}),pa[oe]),lh.kit),lh["kit-duotone"]);var fh=h4(pa),ma=E({},ua);ma[oe]=E(E({},ma[oe]),ww.kit);var Da=h4(ma),ga=E({},Aw);ga[oe]=E(E({},ga[oe]),_w.kit);var LV=h4(ga),Hw=fw,Uh="fa-layers-text",Vw=dw,Bw=E({},gw),wV=h4(Bw),jw=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],oa=hw,Uw=[...yw,...Iw],l4=Mt.FontAwesomeConfig||{};function $w(n){var e=L1.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}function Gw(n){return n===""?!0:n==="false"?!1:n==="true"?!0:n}L1&&typeof L1.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[t,i]=e,s=Gw($w(t));s!=null&&(l4[i]=s)});var $h={styleDefault:"solid",familyDefault:oe,cssPrefix:Hh,replacementClass:Vh,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};l4.familyPrefix&&(l4.cssPrefix=l4.familyPrefix);var rn=E(E({},$h),l4);rn.autoReplaceSvg||(rn.observeMutations=!1);var R={};Object.keys($h).forEach(n=>{Object.defineProperty(R,n,{enumerable:!0,set:function(e){rn[n]=e,u4.forEach(t=>t(R))},get:function(){return rn[n]}})});Object.defineProperty(R,"familyPrefix",{enumerable:!0,set:function(n){rn.cssPrefix=n,u4.forEach(e=>e(R))},get:function(){return rn.cssPrefix}});Mt.FontAwesomeConfig=R;var u4=[];function Ww(n){return u4.push(n),()=>{u4.splice(u4.indexOf(n),1)}}var bt=da,m2={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function qw(n){if(!n||!H2)return;let e=L1.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n;let t=L1.head.childNodes,i=null;for(let s=t.length-1;s>-1;s--){let o=t[s],r=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(r)>-1&&(i=o)}return L1.head.insertBefore(e,i),n}var Zw="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function f4(){let n=12,e="";for(;n-- >0;)e+=Zw[Math.random()*62|0];return e}function cn(n){let e=[];for(let t=(n||[]).length>>>0;t--;)e[t]=n[t];return e}function Na(n){return n.classList?cn(n.classList):(n.getAttribute("class")||"").split(" ").filter(e=>e)}function Gh(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Yw(n){return Object.keys(n||{}).reduce((e,t)=>e+"".concat(t,'="').concat(Gh(n[t]),'" '),"").trim()}function gs(n){return Object.keys(n||{}).reduce((e,t)=>e+"".concat(t,": ").concat(n[t].trim(),";"),"")}function Ta(n){return n.size!==m2.size||n.x!==m2.x||n.y!==m2.y||n.rotate!==m2.rotate||n.flipX||n.flipY}function Jw(n){let{transform:e,containerWidth:t,iconWidth:i}=n,s={transform:"translate(".concat(t/2," 256)")},o="translate(".concat(e.x*32,", ").concat(e.y*32,") "),r="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),c="rotate(".concat(e.rotate," 0 0)"),a={transform:"".concat(o," ").concat(r," ").concat(c)},l={transform:"translate(".concat(i/2*-1," -256)")};return{outer:s,inner:a,path:l}}function Kw(n){let{transform:e,width:t=da,height:i=da,startCentered:s=!1}=n,o="";return s&&kh?o+="translate(".concat(e.x/bt-t/2,"em, ").concat(e.y/bt-i/2,"em) "):s?o+="translate(calc(-50% + ".concat(e.x/bt,"em), calc(-50% + ").concat(e.y/bt,"em)) "):o+="translate(".concat(e.x/bt,"em, ").concat(e.y/bt,"em) "),o+="scale(".concat(e.size/bt*(e.flipX?-1:1),", ").concat(e.size/bt*(e.flipY?-1:1),") "),o+="rotate(".concat(e.rotate,"deg) "),o}var Qw=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function Wh(){let n=Hh,e=Vh,t=R.cssPrefix,i=R.replacementClass,s=Qw;if(t!==n||i!==e){let o=new RegExp("\\.".concat(n,"\\-"),"g"),r=new RegExp("\\--".concat(n,"\\-"),"g"),c=new RegExp("\\.".concat(e),"g");s=s.replace(o,".".concat(t,"-")).replace(r,"--".concat(t,"-")).replace(c,".".concat(i))}return s}var dh=!1;function ra(){R.autoAddCss&&!dh&&(qw(Wh()),dh=!0)}var Xw={mixout(){return{dom:{css:Wh,insertCss:ra}}},hooks(){return{beforeDOMElementCreation(){ra()},beforeI2svg(){ra()}}}},F2=Mt||{};F2[O2]||(F2[O2]={});F2[O2].styles||(F2[O2].styles={});F2[O2].hooks||(F2[O2].hooks={});F2[O2].shims||(F2[O2].shims=[]);var g2=F2[O2],qh=[],Zh=function(){L1.removeEventListener("DOMContentLoaded",Zh),hs=1,qh.map(n=>n())},hs=!1;H2&&(hs=(L1.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(L1.readyState),hs||L1.addEventListener("DOMContentLoaded",Zh));function ez(n){H2&&(hs?setTimeout(n,0):qh.push(n))}function p4(n){let{tag:e,attributes:t={},children:i=[]}=n;return typeof n=="string"?Gh(n):"<".concat(e," ").concat(Yw(t),">").concat(i.map(p4).join(""),"</").concat(e,">")}function hh(n,e,t){if(n&&n[e]&&n[e][t])return{prefix:e,iconName:t,icon:n[e][t]}}var tz=function(e,t){return function(i,s,o,r){return e.call(t,i,s,o,r)}},ca=function(e,t,i,s){var o=Object.keys(e),r=o.length,c=s!==void 0?tz(t,s):t,a,l,u;for(i===void 0?(a=1,u=e[o[0]]):(a=0,u=i);a<r;a++)l=o[a],u=c(u,e[l],l,e);return u};function nz(n){let e=[],t=0,i=n.length;for(;t<i;){let s=n.charCodeAt(t++);if(s>=55296&&s<=56319&&t<i){let o=n.charCodeAt(t++);(o&64512)==56320?e.push(((s&1023)<<10)+(o&1023)+65536):(e.push(s),t--)}else e.push(s)}return e}function va(n){let e=nz(n);return e.length===1?e[0].toString(16):null}function iz(n,e){let t=n.length,i=n.charCodeAt(e),s;return i>=55296&&i<=56319&&t>e+1&&(s=n.charCodeAt(e+1),s>=56320&&s<=57343)?(i-55296)*1024+s-56320+65536:i}function ph(n){return Object.keys(n).reduce((e,t)=>{let i=n[t];return!!i.icon?e[i.iconName]=i.icon:e[t]=i,e},{})}function Ca(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},{skipHooks:i=!1}=t,s=ph(e);typeof g2.hooks.addPack=="function"&&!i?g2.hooks.addPack(n,ph(e)):g2.styles[n]=E(E({},g2.styles[n]||{}),s),n==="fas"&&Ca("fa",e)}var{styles:d4,shims:sz}=g2,Yh=Object.keys(Da),oz=Yh.reduce((n,e)=>(n[e]=Object.keys(Da[e]),n),{}),Ia=null,Jh={},Kh={},Qh={},Xh={},ep={};function rz(n){return~Uw.indexOf(n)}function cz(n,e){let t=e.split("-"),i=t[0],s=t.slice(1).join("-");return i===n&&s!==""&&!rz(s)?s:null}var tp=()=>{let n=i=>ca(d4,(s,o,r)=>(s[r]=ca(o,i,{}),s),{});Jh=n((i,s,o)=>(s[3]&&(i[s[3]]=o),s[2]&&s[2].filter(c=>typeof c=="number").forEach(c=>{i[c.toString(16)]=o}),i)),Kh=n((i,s,o)=>(i[o]=o,s[2]&&s[2].filter(c=>typeof c=="string").forEach(c=>{i[c]=o}),i)),ep=n((i,s,o)=>{let r=s[2];return i[o]=o,r.forEach(c=>{i[c]=o}),i});let e="far"in d4||R.autoFetchSvg,t=ca(sz,(i,s)=>{let o=s[0],r=s[1],c=s[2];return r==="far"&&!e&&(r="fas"),typeof o=="string"&&(i.names[o]={prefix:r,iconName:c}),typeof o=="number"&&(i.unicodes[o.toString(16)]={prefix:r,iconName:c}),i},{names:{},unicodes:{}});Qh=t.names,Xh=t.unicodes,Ia=vs(R.styleDefault,{family:R.familyDefault})};Ww(n=>{Ia=vs(n.styleDefault,{family:R.familyDefault})});tp();function ka(n,e){return(Jh[n]||{})[e]}function az(n,e){return(Kh[n]||{})[e]}function Jt(n,e){return(ep[n]||{})[e]}function np(n){return Qh[n]||{prefix:null,iconName:null}}function lz(n){let e=Xh[n],t=ka("fas",n);return e||(t?{prefix:"fas",iconName:t}:null)||{prefix:null,iconName:null}}function yt(){return Ia}var ip=()=>({prefix:null,iconName:null,rest:[]});function uz(n){let e=oe,t=Yh.reduce((i,s)=>(i[s]="".concat(R.cssPrefix,"-").concat(s),i),{});return Oh.forEach(i=>{(n.includes(t[i])||n.some(s=>oz[i].includes(s)))&&(e=i)}),e}function vs(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{family:t=oe}=e,i=Fw[t][n];if(t===ms&&!n)return"fad";let s=fh[t][n]||fh[t][i],o=n in g2.styles?n:null;return s||o||null}function fz(n){let e=[],t=null;return n.forEach(i=>{let s=cz(R.cssPrefix,i);s?t=s:i&&e.push(i)}),{iconName:t,rest:e}}function mh(n){return n.sort().filter((e,t,i)=>i.indexOf(e)===t)}function Cs(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{skipLookups:t=!1}=e,i=null,s=fa.concat(xw),o=mh(n.filter(f=>s.includes(f))),r=mh(n.filter(f=>!fa.includes(f))),c=o.filter(f=>(i=f,!Rh.includes(f))),[a=null]=c,l=uz(o),u=E(E({},fz(r)),{},{prefix:vs(a,{family:l})});return E(E(E({},u),mz({values:n,family:l,styles:d4,config:R,canonical:u,givenPrefix:i})),dz(t,i,u))}function dz(n,e,t){let{prefix:i,iconName:s}=t;if(n||!i||!s)return{prefix:i,iconName:s};let o=e==="fa"?np(s):{},r=Jt(i,s);return s=o.iconName||r||s,i=o.prefix||i,i==="far"&&!d4.far&&d4.fas&&!R.autoFetchSvg&&(i="fas"),{prefix:i,iconName:s}}var hz=Oh.filter(n=>n!==oe||n!==ms),pz=Object.keys(ua).filter(n=>n!==oe).map(n=>Object.keys(ua[n])).flat();function mz(n){let{values:e,family:t,canonical:i,givenPrefix:s="",styles:o={},config:r={}}=n,c=t===ms,a=e.includes("fa-duotone")||e.includes("fad"),l=r.familyDefault==="duotone",u=i.prefix==="fad"||i.prefix==="fa-duotone";if(!c&&(a||l||u)&&(i.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(i.prefix="fab"),!i.prefix&&hz.includes(t)&&(Object.keys(o).find(d=>pz.includes(d))||r.autoFetchSvg)){let d=Cw.get(t).defaultShortPrefixId;i.prefix=d,i.iconName=Jt(i.prefix,i.iconName)||i.iconName}return(i.prefix==="fa"||s==="fa")&&(i.prefix=yt()||"fas"),i}var ba=class{constructor(){this.definitions={}}add(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];let s=t.reduce(this._pullDefinitions,{});Object.keys(s).forEach(o=>{this.definitions[o]=E(E({},this.definitions[o]||{}),s[o]),Ca(o,s[o]);let r=Da[oe][o];r&&Ca(r,s[o]),tp()})}reset(){this.definitions={}}_pullDefinitions(e,t){let i=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(i).map(s=>{let{prefix:o,iconName:r,icon:c}=i[s],a=c[2];e[o]||(e[o]={}),a.length>0&&a.forEach(l=>{typeof l=="string"&&(e[o][l]=c)}),e[o][r]=c}),e}},gh=[],sn={},on={},gz=Object.keys(on);function vz(n,e){let{mixoutsTo:t}=e;return gh=n,sn={},Object.keys(on).forEach(i=>{gz.indexOf(i)===-1&&delete on[i]}),gh.forEach(i=>{let s=i.mixout?i.mixout():{};if(Object.keys(s).forEach(o=>{typeof s[o]=="function"&&(t[o]=s[o]),typeof s[o]=="object"&&Object.keys(s[o]).forEach(r=>{t[o]||(t[o]={}),t[o][r]=s[o][r]})}),i.hooks){let o=i.hooks();Object.keys(o).forEach(r=>{sn[r]||(sn[r]=[]),sn[r].push(o[r])})}i.provides&&i.provides(on)}),t}function Ma(n,e){for(var t=arguments.length,i=new Array(t>2?t-2:0),s=2;s<t;s++)i[s-2]=arguments[s];return(sn[n]||[]).forEach(r=>{e=r.apply(null,[e,...i])}),e}function Qt(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];(sn[n]||[]).forEach(o=>{o.apply(null,t)})}function _t(){let n=arguments[0],e=Array.prototype.slice.call(arguments,1);return on[n]?on[n].apply(null,e):void 0}function ya(n){n.prefix==="fa"&&(n.prefix="fas");let{iconName:e}=n,t=n.prefix||yt();if(e)return e=Jt(t,e)||e,hh(sp.definitions,t,e)||hh(g2.styles,t,e)}var sp=new ba,Cz=()=>{R.autoReplaceSvg=!1,R.observeMutations=!1,Qt("noAuto")},bz={i2svg:function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return H2?(Qt("beforeI2svg",n),_t("pseudoElements2svg",n),_t("i2svg",n)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{autoReplaceSvgRoot:e}=n;R.autoReplaceSvg===!1&&(R.autoReplaceSvg=!0),R.observeMutations=!0,ez(()=>{yz({autoReplaceSvgRoot:e}),Qt("watch",n)})}},Mz={icon:n=>{if(n===null)return null;if(typeof n=="object"&&n.prefix&&n.iconName)return{prefix:n.prefix,iconName:Jt(n.prefix,n.iconName)||n.iconName};if(Array.isArray(n)&&n.length===2){let e=n[1].indexOf("fa-")===0?n[1].slice(3):n[1],t=vs(n[0]);return{prefix:t,iconName:Jt(t,e)||e}}if(typeof n=="string"&&(n.indexOf("".concat(R.cssPrefix,"-"))>-1||n.match(Hw))){let e=Cs(n.split(" "),{skipLookups:!0});return{prefix:e.prefix||yt(),iconName:Jt(e.prefix,e.iconName)||e.iconName}}if(typeof n=="string"){let e=yt();return{prefix:e,iconName:Jt(e,n)||n}}}},Se={noAuto:Cz,config:R,dom:bz,parse:Mz,library:sp,findIconDefinition:ya,toHtml:p4},yz=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{autoReplaceSvgRoot:e=L1}=n;(Object.keys(g2.styles).length>0||R.autoFetchSvg)&&H2&&R.autoReplaceSvg&&Se.dom.i2svg({node:e})};function bs(n,e){return Object.defineProperty(n,"abstract",{get:e}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(t=>p4(t))}}),Object.defineProperty(n,"node",{get:function(){if(!H2)return;let t=L1.createElement("div");return t.innerHTML=n.html,t.children}}),n}function _z(n){let{children:e,main:t,mask:i,attributes:s,styles:o,transform:r}=n;if(Ta(r)&&t.found&&!i.found){let{width:c,height:a}=t,l={x:c/a/2,y:.5};s.style=gs(E(E({},o),{},{"transform-origin":"".concat(l.x+r.x/16,"em ").concat(l.y+r.y/16,"em")}))}return[{tag:"svg",attributes:s,children:e}]}function Lz(n){let{prefix:e,iconName:t,children:i,attributes:s,symbol:o}=n,r=o===!0?"".concat(e,"-").concat(R.cssPrefix,"-").concat(t):o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:E(E({},s),{},{id:r}),children:i}]}]}function Pa(n){let{icons:{main:e,mask:t},prefix:i,iconName:s,transform:o,symbol:r,title:c,maskId:a,titleId:l,extra:u,watchable:f=!1}=n,{width:d,height:h}=t.found?t:e,p=Lw.includes(i),m=[R.replacementClass,s?"".concat(R.cssPrefix,"-").concat(s):""].filter(L=>u.classes.indexOf(L)===-1).filter(L=>L!==""||!!L).concat(u.classes).join(" "),v={children:[],attributes:E(E({},u.attributes),{},{"data-prefix":i,"data-icon":s,class:m,role:u.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(d," ").concat(h)})},g=p&&!~u.classes.indexOf("fa-fw")?{width:"".concat(d/h*16*.0625,"em")}:{};f&&(v.attributes[Kt]=""),c&&(v.children.push({tag:"title",attributes:{id:v.attributes["aria-labelledby"]||"title-".concat(l||f4())},children:[c]}),delete v.attributes.title);let C=E(E({},v),{},{prefix:i,iconName:s,main:e,mask:t,maskId:a,transform:o,symbol:r,styles:E(E({},g),u.styles)}),{children:M,attributes:b}=t.found&&e.found?_t("generateAbstractMask",C)||{children:[],attributes:{}}:_t("generateAbstractIcon",C)||{children:[],attributes:{}};return C.children=M,C.attributes=b,r?Lz(C):_z(C)}function vh(n){let{content:e,width:t,height:i,transform:s,title:o,extra:r,watchable:c=!1}=n,a=E(E(E({},r.attributes),o?{title:o}:{}),{},{class:r.classes.join(" ")});c&&(a[Kt]="");let l=E({},r.styles);Ta(s)&&(l.transform=Kw({transform:s,startCentered:!0,width:t,height:i}),l["-webkit-transform"]=l.transform);let u=gs(l);u.length>0&&(a.style=u);let f=[];return f.push({tag:"span",attributes:a,children:[e]}),o&&f.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),f}function wz(n){let{content:e,title:t,extra:i}=n,s=E(E(E({},i.attributes),t?{title:t}:{}),{},{class:i.classes.join(" ")}),o=gs(i.styles);o.length>0&&(s.style=o);let r=[];return r.push({tag:"span",attributes:s,children:[e]}),t&&r.push({tag:"span",attributes:{class:"sr-only"},children:[t]}),r}var{styles:aa}=g2;function _a(n){let e=n[0],t=n[1],[i]=n.slice(4),s=null;return Array.isArray(i)?s={tag:"g",attributes:{class:"".concat(R.cssPrefix,"-").concat(oa.GROUP)},children:[{tag:"path",attributes:{class:"".concat(R.cssPrefix,"-").concat(oa.SECONDARY),fill:"currentColor",d:i[0]}},{tag:"path",attributes:{class:"".concat(R.cssPrefix,"-").concat(oa.PRIMARY),fill:"currentColor",d:i[1]}}]}:s={tag:"path",attributes:{fill:"currentColor",d:i}},{found:!0,width:e,height:t,icon:s}}var zz={found:!1,width:512,height:512};function xz(n,e){!Bh&&!R.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(e,'" is missing.'))}function La(n,e){let t=e;return e==="fa"&&R.styleDefault!==null&&(e=yt()),new Promise((i,s)=>{if(t==="fa"){let o=np(n)||{};n=o.iconName||n,e=o.prefix||e}if(n&&e&&aa[e]&&aa[e][n]){let o=aa[e][n];return i(_a(o))}xz(n,e),i(E(E({},zz),{},{icon:R.showMissingIcons&&n?_t("missingIconAbstract")||{}:{}}))})}var Ch=()=>{},wa=R.measurePerformance&&ls&&ls.mark&&ls.measure?ls:{mark:Ch,measure:Ch},a4='FA "6.7.0"',Sz=n=>(wa.mark("".concat(a4," ").concat(n," begins")),()=>op(n)),op=n=>{wa.mark("".concat(a4," ").concat(n," ends")),wa.measure("".concat(a4," ").concat(n),"".concat(a4," ").concat(n," begins"),"".concat(a4," ").concat(n," ends"))},Ra={begin:Sz,end:op},fs=()=>{};function bh(n){return typeof(n.getAttribute?n.getAttribute(Kt):null)=="string"}function Az(n){let e=n.getAttribute?n.getAttribute(Aa):null,t=n.getAttribute?n.getAttribute(Ea):null;return e&&t}function Ez(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(R.replacementClass)}function Dz(){return R.autoReplaceSvg===!0?ds.replace:ds[R.autoReplaceSvg]||ds.replace}function Nz(n){return L1.createElementNS("http://www.w3.org/2000/svg",n)}function Tz(n){return L1.createElement(n)}function rp(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{ceFn:t=n.tag==="svg"?Nz:Tz}=e;if(typeof n=="string")return L1.createTextNode(n);let i=t(n.tag);return Object.keys(n.attributes||[]).forEach(function(o){i.setAttribute(o,n.attributes[o])}),(n.children||[]).forEach(function(o){i.appendChild(rp(o,{ceFn:t}))}),i}function Iz(n){let e=" ".concat(n.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}var ds={replace:function(n){let e=n[0];if(e.parentNode)if(n[1].forEach(t=>{e.parentNode.insertBefore(rp(t),e)}),e.getAttribute(Kt)===null&&R.keepOriginalSource){let t=L1.createComment(Iz(e));e.parentNode.replaceChild(t,e)}else e.remove()},nest:function(n){let e=n[0],t=n[1];if(~Na(e).indexOf(R.replacementClass))return ds.replace(n);let i=new RegExp("".concat(R.cssPrefix,"-.*"));if(delete t[0].attributes.id,t[0].attributes.class){let o=t[0].attributes.class.split(" ").reduce((r,c)=>(c===R.replacementClass||c.match(i)?r.toSvg.push(c):r.toNode.push(c),r),{toNode:[],toSvg:[]});t[0].attributes.class=o.toSvg.join(" "),o.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",o.toNode.join(" "))}let s=t.map(o=>p4(o)).join(`
`);e.setAttribute(Kt,""),e.innerHTML=s}};function Mh(n){n()}function cp(n,e){let t=typeof e=="function"?e:fs;if(n.length===0)t();else{let i=Mh;R.mutateApproach===Rw&&(i=Mt.requestAnimationFrame||Mh),i(()=>{let s=Dz(),o=Ra.begin("mutate");n.map(s),o(),t()})}}var Oa=!1;function ap(){Oa=!0}function za(){Oa=!1}var ps=null;function yh(n){if(!ch||!R.observeMutations)return;let{treeCallback:e=fs,nodeCallback:t=fs,pseudoElementsCallback:i=fs,observeMutationsRoot:s=L1}=n;ps=new ch(o=>{if(Oa)return;let r=yt();cn(o).forEach(c=>{if(c.type==="childList"&&c.addedNodes.length>0&&!bh(c.addedNodes[0])&&(R.searchPseudoElements&&i(c.target),e(c.target)),c.type==="attributes"&&c.target.parentNode&&R.searchPseudoElements&&i(c.target.parentNode),c.type==="attributes"&&bh(c.target)&&~jw.indexOf(c.attributeName))if(c.attributeName==="class"&&Az(c.target)){let{prefix:a,iconName:l}=Cs(Na(c.target));c.target.setAttribute(Aa,a||r),l&&c.target.setAttribute(Ea,l)}else Ez(c.target)&&t(c.target)})}),H2&&ps.observe(s,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function kz(){ps&&ps.disconnect()}function Pz(n){let e=n.getAttribute("style"),t=[];return e&&(t=e.split(";").reduce((i,s)=>{let o=s.split(":"),r=o[0],c=o.slice(1);return r&&c.length>0&&(i[r]=c.join(":").trim()),i},{})),t}function Rz(n){let e=n.getAttribute("data-prefix"),t=n.getAttribute("data-icon"),i=n.innerText!==void 0?n.innerText.trim():"",s=Cs(Na(n));return s.prefix||(s.prefix=yt()),e&&t&&(s.prefix=e,s.iconName=t),s.iconName&&s.prefix||(s.prefix&&i.length>0&&(s.iconName=az(s.prefix,n.innerText)||ka(s.prefix,va(n.innerText))),!s.iconName&&R.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(s.iconName=n.firstChild.data)),s}function Oz(n){let e=cn(n.attributes).reduce((s,o)=>(s.name!=="class"&&s.name!=="style"&&(s[o.name]=o.value),s),{}),t=n.getAttribute("title"),i=n.getAttribute("data-fa-title-id");return R.autoA11y&&(t?e["aria-labelledby"]="".concat(R.replacementClass,"-title-").concat(i||f4()):(e["aria-hidden"]="true",e.focusable="false")),e}function Fz(){return{iconName:null,title:null,titleId:null,prefix:null,transform:m2,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function _h(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0},{iconName:t,prefix:i,rest:s}=Rz(n),o=Oz(n),r=Ma("parseNodeAttributes",{},n),c=e.styleParser?Pz(n):[];return E({iconName:t,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:i,transform:m2,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:s,styles:c,attributes:o}},r)}var{styles:Hz}=g2;function lp(n){let e=R.autoReplaceSvg==="nest"?_h(n,{styleParser:!1}):_h(n);return~e.extra.classes.indexOf(Uh)?_t("generateLayersText",n,e):_t("generateSvgReplacementMutation",n,e)}function Vz(){return[...Mw,...fa]}function Lh(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!H2)return Promise.resolve();let t=L1.documentElement.classList,i=u=>t.add("".concat(uh,"-").concat(u)),s=u=>t.remove("".concat(uh,"-").concat(u)),o=R.autoFetchSvg?Vz():Rh.concat(Object.keys(Hz));o.includes("fa")||o.push("fa");let r=[".".concat(Uh,":not([").concat(Kt,"])")].concat(o.map(u=>".".concat(u,":not([").concat(Kt,"])"))).join(", ");if(r.length===0)return Promise.resolve();let c=[];try{c=cn(n.querySelectorAll(r))}catch{}if(c.length>0)i("pending"),s("complete");else return Promise.resolve();let a=Ra.begin("onTree"),l=c.reduce((u,f)=>{try{let d=lp(f);d&&u.push(d)}catch(d){Bh||d.name==="MissingIcon"&&console.error(d)}return u},[]);return new Promise((u,f)=>{Promise.all(l).then(d=>{cp(d,()=>{i("active"),i("complete"),s("pending"),typeof e=="function"&&e(),a(),u()})}).catch(d=>{a(),f(d)})})}function Bz(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;lp(n).then(t=>{t&&cp([t],e)})}function jz(n){return function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=(e||{}).icon?e:ya(e||{}),{mask:s}=t;return s&&(s=(s||{}).icon?s:ya(s||{})),n(i,E(E({},t),{},{mask:s}))}}var Uz=function(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{transform:t=m2,symbol:i=!1,mask:s=null,maskId:o=null,title:r=null,titleId:c=null,classes:a=[],attributes:l={},styles:u={}}=e;if(!n)return;let{prefix:f,iconName:d,icon:h}=n;return bs(E({type:"icon"},n),()=>(Qt("beforeDOMElementCreation",{iconDefinition:n,params:e}),R.autoA11y&&(r?l["aria-labelledby"]="".concat(R.replacementClass,"-title-").concat(c||f4()):(l["aria-hidden"]="true",l.focusable="false")),Pa({icons:{main:_a(h),mask:s?_a(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:f,iconName:d,transform:E(E({},m2),t),symbol:i,title:r,maskId:o,titleId:c,extra:{attributes:l,styles:u,classes:a}})))},$z={mixout(){return{icon:jz(Uz)}},hooks(){return{mutationObserverCallbacks(n){return n.treeCallback=Lh,n.nodeCallback=Bz,n}}},provides(n){n.i2svg=function(e){let{node:t=L1,callback:i=()=>{}}=e;return Lh(t,i)},n.generateSvgReplacementMutation=function(e,t){let{iconName:i,title:s,titleId:o,prefix:r,transform:c,symbol:a,mask:l,maskId:u,extra:f}=t;return new Promise((d,h)=>{Promise.all([La(i,r),l.iconName?La(l.iconName,l.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(p=>{let[m,v]=p;d([e,Pa({icons:{main:m,mask:v},prefix:r,iconName:i,transform:c,symbol:a,maskId:u,title:s,titleId:o,extra:f,watchable:!0})])}).catch(h)})},n.generateAbstractIcon=function(e){let{children:t,attributes:i,main:s,transform:o,styles:r}=e,c=gs(r);c.length>0&&(i.style=c);let a;return Ta(o)&&(a=_t("generateAbstractTransformGrouping",{main:s,transform:o,containerWidth:s.width,iconWidth:s.width})),t.push(a||s.icon),{children:t,attributes:i}}}},Gz={mixout(){return{layer(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{classes:t=[]}=e;return bs({type:"layer"},()=>{Qt("beforeDOMElementCreation",{assembler:n,params:e});let i=[];return n(s=>{Array.isArray(s)?s.map(o=>{i=i.concat(o.abstract)}):i=i.concat(s.abstract)}),[{tag:"span",attributes:{class:["".concat(R.cssPrefix,"-layers"),...t].join(" ")},children:i}]})}}}},Wz={mixout(){return{counter(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{title:t=null,classes:i=[],attributes:s={},styles:o={}}=e;return bs({type:"counter",content:n},()=>(Qt("beforeDOMElementCreation",{content:n,params:e}),wz({content:n.toString(),title:t,extra:{attributes:s,styles:o,classes:["".concat(R.cssPrefix,"-layers-counter"),...i]}})))}}}},qz={mixout(){return{text(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{transform:t=m2,title:i=null,classes:s=[],attributes:o={},styles:r={}}=e;return bs({type:"text",content:n},()=>(Qt("beforeDOMElementCreation",{content:n,params:e}),vh({content:n,transform:E(E({},m2),t),title:i,extra:{attributes:o,styles:r,classes:["".concat(R.cssPrefix,"-layers-text"),...s]}})))}}},provides(n){n.generateLayersText=function(e,t){let{title:i,transform:s,extra:o}=t,r=null,c=null;if(kh){let a=parseInt(getComputedStyle(e).fontSize,10),l=e.getBoundingClientRect();r=l.width/a,c=l.height/a}return R.autoA11y&&!i&&(o.attributes["aria-hidden"]="true"),Promise.resolve([e,vh({content:e.innerHTML,width:r,height:c,transform:s,title:i,extra:o,watchable:!0})])}}},Zz=new RegExp('"',"ug"),wh=[1105920,1112319],zh=E(E(E(E({},{FontAwesome:{normal:"fas",400:"fas"}}),vw),kw),Sw),xa=Object.keys(zh).reduce((n,e)=>(n[e.toLowerCase()]=zh[e],n),{}),Yz=Object.keys(xa).reduce((n,e)=>{let t=xa[e];return n[e]=t[900]||[...Object.entries(t)][0][1],n},{});function Jz(n){let e=n.replace(Zz,""),t=iz(e,0),i=t>=wh[0]&&t<=wh[1],s=e.length===2?e[0]===e[1]:!1;return{value:va(s?e[0]:e),isSecondary:i||s}}function Kz(n,e){let t=n.replace(/^['"]|['"]$/g,"").toLowerCase(),i=parseInt(e),s=isNaN(i)?"normal":i;return(xa[t]||{})[s]||Yz[t]}function xh(n,e){let t="".concat(Pw).concat(e.replace(":","-"));return new Promise((i,s)=>{if(n.getAttribute(t)!==null)return i();let r=cn(n.children).filter(d=>d.getAttribute(ha)===e)[0],c=Mt.getComputedStyle(n,e),a=c.getPropertyValue("font-family"),l=a.match(Vw),u=c.getPropertyValue("font-weight"),f=c.getPropertyValue("content");if(r&&!l)return n.removeChild(r),i();if(l&&f!=="none"&&f!==""){let d=c.getPropertyValue("content"),h=Kz(a,u),{value:p,isSecondary:m}=Jz(d),v=l[0].startsWith("FontAwesome"),g=ka(h,p),C=g;if(v){let M=lz(p);M.iconName&&M.prefix&&(g=M.iconName,h=M.prefix)}if(g&&!m&&(!r||r.getAttribute(Aa)!==h||r.getAttribute(Ea)!==C)){n.setAttribute(t,C),r&&n.removeChild(r);let M=Fz(),{extra:b}=M;b.attributes[ha]=e,La(g,h).then(L=>{let y=Pa(E(E({},M),{},{icons:{main:L,mask:ip()},prefix:h,iconName:C,extra:b,watchable:!0})),w=L1.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?n.insertBefore(w,n.firstChild):n.appendChild(w),w.outerHTML=y.map(A=>p4(A)).join(`
`),n.removeAttribute(t),i()}).catch(s)}else i()}else i()})}function Qz(n){return Promise.all([xh(n,"::before"),xh(n,"::after")])}function Xz(n){return n.parentNode!==document.head&&!~Ow.indexOf(n.tagName.toUpperCase())&&!n.getAttribute(ha)&&(!n.parentNode||n.parentNode.tagName!=="svg")}function Sh(n){if(H2)return new Promise((e,t)=>{let i=cn(n.querySelectorAll("*")).filter(Xz).map(Qz),s=Ra.begin("searchPseudoElements");ap(),Promise.all(i).then(()=>{s(),za(),e()}).catch(()=>{s(),za(),t()})})}var ex={hooks(){return{mutationObserverCallbacks(n){return n.pseudoElementsCallback=Sh,n}}},provides(n){n.pseudoElements2svg=function(e){let{node:t=L1}=e;R.searchPseudoElements&&Sh(t)}}},Ah=!1,tx={mixout(){return{dom:{unwatch(){ap(),Ah=!0}}}},hooks(){return{bootstrap(){yh(Ma("mutationObserverCallbacks",{}))},noAuto(){kz()},watch(n){let{observeMutationsRoot:e}=n;Ah?za():yh(Ma("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}},Eh=n=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return n.toLowerCase().split(" ").reduce((t,i)=>{let s=i.toLowerCase().split("-"),o=s[0],r=s.slice(1).join("-");if(o&&r==="h")return t.flipX=!0,t;if(o&&r==="v")return t.flipY=!0,t;if(r=parseFloat(r),isNaN(r))return t;switch(o){case"grow":t.size=t.size+r;break;case"shrink":t.size=t.size-r;break;case"left":t.x=t.x-r;break;case"right":t.x=t.x+r;break;case"up":t.y=t.y-r;break;case"down":t.y=t.y+r;break;case"rotate":t.rotate=t.rotate+r;break}return t},e)},nx={mixout(){return{parse:{transform:n=>Eh(n)}}},hooks(){return{parseNodeAttributes(n,e){let t=e.getAttribute("data-fa-transform");return t&&(n.transform=Eh(t)),n}}},provides(n){n.generateAbstractTransformGrouping=function(e){let{main:t,transform:i,containerWidth:s,iconWidth:o}=e,r={transform:"translate(".concat(s/2," 256)")},c="translate(".concat(i.x*32,", ").concat(i.y*32,") "),a="scale(".concat(i.size/16*(i.flipX?-1:1),", ").concat(i.size/16*(i.flipY?-1:1),") "),l="rotate(".concat(i.rotate," 0 0)"),u={transform:"".concat(c," ").concat(a," ").concat(l)},f={transform:"translate(".concat(o/2*-1," -256)")},d={outer:r,inner:u,path:f};return{tag:"g",attributes:E({},d.outer),children:[{tag:"g",attributes:E({},d.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:E(E({},t.icon.attributes),d.path)}]}]}}}},la={x:0,y:0,width:"100%",height:"100%"};function Dh(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.attributes&&(n.attributes.fill||e)&&(n.attributes.fill="black"),n}function ix(n){return n.tag==="g"?n.children:[n]}var sx={hooks(){return{parseNodeAttributes(n,e){let t=e.getAttribute("data-fa-mask"),i=t?Cs(t.split(" ").map(s=>s.trim())):ip();return i.prefix||(i.prefix=yt()),n.mask=i,n.maskId=e.getAttribute("data-fa-mask-id"),n}}},provides(n){n.generateAbstractMask=function(e){let{children:t,attributes:i,main:s,mask:o,maskId:r,transform:c}=e,{width:a,icon:l}=s,{width:u,icon:f}=o,d=Jw({transform:c,containerWidth:u,iconWidth:a}),h={tag:"rect",attributes:E(E({},la),{},{fill:"white"})},p=l.children?{children:l.children.map(Dh)}:{},m={tag:"g",attributes:E({},d.inner),children:[Dh(E({tag:l.tag,attributes:E(E({},l.attributes),d.path)},p))]},v={tag:"g",attributes:E({},d.outer),children:[m]},g="mask-".concat(r||f4()),C="clip-".concat(r||f4()),M={tag:"mask",attributes:E(E({},la),{},{id:g,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[h,v]},b={tag:"defs",children:[{tag:"clipPath",attributes:{id:C},children:ix(f)},M]};return t.push(b,{tag:"rect",attributes:E({fill:"currentColor","clip-path":"url(#".concat(C,")"),mask:"url(#".concat(g,")")},la)}),{children:t,attributes:i}}}},ox={provides(n){let e=!1;Mt.matchMedia&&(e=Mt.matchMedia("(prefers-reduced-motion: reduce)").matches),n.missingIconAbstract=function(){let t=[],i={fill:"currentColor"},s={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};t.push({tag:"path",attributes:E(E({},i),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});let o=E(E({},s),{},{attributeName:"opacity"}),r={tag:"circle",attributes:E(E({},i),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||r.children.push({tag:"animate",attributes:E(E({},s),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:E(E({},o),{},{values:"1;0;1;1;0;1;"})}),t.push(r),t.push({tag:"path",attributes:E(E({},i),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:E(E({},o),{},{values:"1;0;0;0;0;1;"})}]}),e||t.push({tag:"path",attributes:E(E({},i),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:E(E({},o),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:t}}}},rx={hooks(){return{parseNodeAttributes(n,e){let t=e.getAttribute("data-fa-symbol"),i=t===null?!1:t===""?!0:t;return n.symbol=i,n}}}},cx=[Xw,$z,Gz,Wz,qz,ex,tx,nx,sx,ox,rx];vz(cx,{mixoutsTo:Se});var zV=Se.noAuto,up=Se.config,xV=Se.library,fp=Se.dom,dp=Se.parse,SV=Se.findIconDefinition,AV=Se.toHtml,hp=Se.icon,EV=Se.layer,ax=Se.text,lx=Se.counter;var fx=["*"],dx=n=>{throw new Error(`Could not find icon with iconName=${n.iconName} and prefix=${n.prefix} in the icon library.`)},hx=()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")},px=n=>{let e={[`fa-${n.animation}`]:n.animation!=null&&!n.animation.startsWith("spin"),"fa-spin":n.animation==="spin"||n.animation==="spin-reverse","fa-spin-pulse":n.animation==="spin-pulse"||n.animation==="spin-pulse-reverse","fa-spin-reverse":n.animation==="spin-reverse"||n.animation==="spin-pulse-reverse","fa-pulse":n.animation==="spin-pulse"||n.animation==="spin-pulse-reverse","fa-fw":n.fixedWidth,"fa-border":n.border,"fa-inverse":n.inverse,"fa-layers-counter":n.counter,"fa-flip-horizontal":n.flip==="horizontal"||n.flip==="both","fa-flip-vertical":n.flip==="vertical"||n.flip==="both",[`fa-${n.size}`]:n.size!==null,[`fa-rotate-${n.rotate}`]:n.rotate!==null,[`fa-pull-${n.pull}`]:n.pull!==null,[`fa-stack-${n.stackItemSize}`]:n.stackItemSize!=null};return Object.keys(e).map(t=>e[t]?t:null).filter(t=>t)},Fa=new WeakSet,pp="fa-auto-css";function mx(n,e){if(!e.autoAddCss||Fa.has(n))return;if(n.getElementById(pp)!=null){e.autoAddCss=!1,Fa.add(n);return}let t=n.createElement("style");t.setAttribute("type","text/css"),t.setAttribute("id",pp),t.innerHTML=fp.css();let i=n.head.childNodes,s=null;for(let o=i.length-1;o>-1;o--){let r=i[o],c=r.nodeName.toUpperCase();["STYLE","LINK"].indexOf(c)>-1&&(s=r)}n.head.insertBefore(t,s),e.autoAddCss=!1,Fa.add(n)}var gx=n=>n.prefix!==void 0&&n.iconName!==void 0,vx=(n,e)=>gx(n)?n:Array.isArray(n)&&n.length===2?{prefix:n[0],iconName:n[1]}:{prefix:e,iconName:n},Cx=(()=>{class n{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null,this._autoAddCss=!0}set autoAddCss(t){up.autoAddCss=t,this._autoAddCss=t}get autoAddCss(){return this._autoAddCss}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ha=(()=>{class n{constructor(){this.definitions={}}addIcons(...t){for(let i of t){i.prefix in this.definitions||(this.definitions[i.prefix]={}),this.definitions[i.prefix][i.iconName]=i;for(let s of i.icon[2])typeof s=="string"&&(this.definitions[i.prefix][s]=i)}}addIconPacks(...t){for(let i of t){let s=Object.keys(i).map(o=>i[o]);this.addIcons(...s)}}getIconDefinition(t,i){return t in this.definitions&&i in this.definitions[t]?this.definitions[t][i]:null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),bx=(()=>{class n{constructor(){this.stackItemSize="1x"}ngOnChanges(t){if("size"in t)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=f2({type:n,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[Oe]})}}return n})(),Mx=(()=>{class n{constructor(t,i){this.renderer=t,this.elementRef=i}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(t){"size"in t&&(t.size.currentValue!=null&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${t.size.currentValue}`),t.size.previousValue!=null&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${t.size.previousValue}`))}static{this.\u0275fac=function(i){return new(i||n)(s1(ht),s1(Y1))}}static{this.\u0275cmp=se({type:n,selectors:[["fa-stack"]],inputs:{size:"size"},features:[Oe],ngContentSelectors:fx,decls:1,vars:0,template:function(i,s){i&1&&(Q3(),X3(0))},encapsulation:2})}}return n})(),an=(()=>{class n{constructor(t,i,s,o,r){this.sanitizer=t,this.config=i,this.iconLibrary=s,this.stackItem=o,this.document=x(I1),r!=null&&o==null&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(t){if(this.icon==null&&this.config.fallbackIcon==null){hx();return}if(t){let i=this.findIconDefinition(this.icon??this.config.fallbackIcon);if(i!=null){let s=this.buildParams();mx(this.document,this.config);let o=hp(i,s);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(o.html.join(`
`))}}}render(){this.ngOnChanges({})}findIconDefinition(t){let i=vx(t,this.config.defaultPrefix);if("icon"in i)return i;let s=this.iconLibrary.getIconDefinition(i.prefix,i.iconName);return s??(dx(i),null)}buildParams(){let t={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:typeof this.fixedWidth=="boolean"?this.fixedWidth:this.config.fixedWidth,stackItemSize:this.stackItem!=null?this.stackItem.stackItemSize:null},i=typeof this.transform=="string"?dp.transform(this.transform):this.transform;return{title:this.title,transform:i,classes:px(t),mask:this.mask!=null?this.findIconDefinition(this.mask):null,symbol:this.symbol,attributes:{role:this.a11yRole}}}static{this.\u0275fac=function(i){return new(i||n)(s1(sa),s1(Cx),s1(Ha),s1(bx,8),s1(Mx,8))}}static{this.\u0275cmp=se({type:n,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(i,s){i&2&&(Qi("innerHTML",s.renderedIconHTML,bf),Wt("title",s.title))},inputs:{icon:"icon",title:"title",animation:"animation",mask:"mask",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",transform:"transform",a11yRole:"a11yRole"},features:[Oe],decls:0,vars:0,template:function(i,s){},encapsulation:2})}}return n})();var Va=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=f1({type:n})}static{this.\u0275inj=u1({})}}return n})();var yx=["*"];var _x=["dialog"];var mp={animation:!0,transitionTimerDelayMs:5},Lx=(()=>{class n{constructor(){this.animation=mp.animation}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function wx(n){let{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n),i=parseFloat(e),s=parseFloat(t);return(i+s)*1e3}function gp(n){return typeof n=="string"}function Ba(n){return n!=null}function zx(n){return n&&n.then}function vp(n){return(n||document.body).getBoundingClientRect()}function xx(n){return e=>new Y(t=>{let i=r=>n.run(()=>t.next(r)),s=r=>n.run(()=>t.error(r)),o=()=>n.run(()=>t.complete());return e.subscribe({next:i,error:s,complete:o})})}var Sx=()=>{},{transitionTimerDelayMs:Ax}=mp,ys=new Map,Xt=(n,e,t,i)=>{let s=i.context||{},o=ys.get(e);if(o)switch(i.runningTransition){case"continue":return Z1;case"stop":n.run(()=>o.transition$.complete()),s=Object.assign(o.context,s),ys.delete(e)}let r=t(e,i.animation,s)||Sx;if(!i.animation||window.getComputedStyle(e).transitionProperty==="none")return n.run(()=>r()),O(void 0).pipe(xx(n));let c=new p1,a=new p1,l=c.pipe(So(!0));ys.set(e,{transition$:c,complete:()=>{a.next(),a.complete()},context:s});let u=wx(e);return n.runOutsideAngular(()=>{let f=l1(e,"transitionend").pipe(J(l),V1(({target:h})=>h===e)),d=Lo(u+Ax).pipe(J(l));wo(d,f,a).pipe(J(l)).subscribe(()=>{ys.delete(e),n.run(()=>{r(),c.next(),c.complete()})})}),c.asObservable()};var Cp=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=f1({type:n})}static{this.\u0275inj=u1({})}}return n})();var bp=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=f1({type:n})}static{this.\u0275inj=u1({})}}return n})();var Mp=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=f1({type:n})}static{this.\u0275inj=u1({})}}return n})(),yp=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=f1({type:n})}static{this.\u0275inj=u1({})}}return n})();var SB=(()=>{let n=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,e=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(n()||e()):!1})();var Ex=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function _p(n){let e=Array.from(n.querySelectorAll(Ex)).filter(t=>t.tabIndex!==-1);return[e[0],e[e.length-1]]}var Dx=(n,e,t,i=!1)=>{n.runOutsideAngular(()=>{let s=l1(e,"focusin").pipe(J(t),t1(o=>o.target));l1(e,"keydown").pipe(J(t),V1(o=>o.key==="Tab"),B0(s)).subscribe(([o,r])=>{let[c,a]=_p(e);(r===c||r===e)&&o.shiftKey&&(a.focus(),o.preventDefault()),r===a&&!o.shiftKey&&(c.focus(),o.preventDefault())}),i&&l1(e,"click").pipe(J(t),B0(s),t1(o=>o[1])).subscribe(o=>o.focus())})};var AB=new Date(1882,10,12),EB=new Date(2174,10,25);var DB=1e3*60*60*24;var $a=1080,Nx=24*$a,Tx=12*$a+793,NB=29*Nx+Tx,TB=11*$a+204;var Lp=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=f1({type:n})}static{this.\u0275inj=u1({})}}return n})();var wp=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=f1({type:n})}static{this.\u0275inj=u1({})}}return n})(),Ix=(()=>{class n{constructor(){this._ngbConfig=x(Lx),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ln=class{constructor(e,t,i){this.nodes=e,this.viewRef=t,this.componentRef=i}};var kx=(()=>{class n{constructor(){this._document=x(I1)}hide(){let t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,s=i.style,{overflow:o,paddingRight:r}=s;if(t>0){let c=parseFloat(window.getComputedStyle(i).paddingRight);s.paddingRight=`${c+t}px`}return s.overflow="hidden",()=>{t>0&&(s.paddingRight=r),s.overflow=o}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Px=(()=>{class n{constructor(){this._nativeElement=x(Y1).nativeElement,this._zone=x(d1),this._injector=x(G1)}ngOnInit(){K3(()=>Xt(this._zone,this._nativeElement,(t,i)=>{i&&vp(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"}),{injector:this._injector,phase:w2.MixedReadWrite})}hide(){return Xt(this._zone,this._nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=se({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,s){i&2&&(Ki("modal-backdrop"+(s.backdropClass?" "+s.backdropClass:"")),i4("show",!s.animation)("fade",s.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(i,s){},encapsulation:2})}}return n})(),_s=class{update(e){}close(e){}dismiss(e){}},Rx=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],Ox=["animation","backdropClass"],ja=class{_applyWindowOptions(e,t){Rx.forEach(i=>{Ba(t[i])&&(e[i]=t[i])})}_applyBackdropOptions(e,t){Ox.forEach(i=>{Ba(t[i])&&(e[i]=t[i])})}update(e){this._applyWindowOptions(this._windowCmptRef.instance,e),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,e)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(J(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(J(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(e,t,i,s){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=i,this._beforeDismiss=s,this._closed=new p1,this._dismissed=new p1,this._hidden=new p1,e.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,r)=>{this._resolve=o,this._reject=r}),this.result.then(null,()=>{})}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(e);else{let t=this._beforeDismiss();zx(t)?t.then(i=>{i!==!1&&this._dismiss(e)},()=>{}):t!==!1&&this._dismiss(e)}}_removeModalElements(){let e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():O(void 0);e.subscribe(()=>{let{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef?.viewRef?.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Nn(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},Ua=function(n){return n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",n}(Ua||{}),Fx=(()=>{class n{constructor(){this._document=x(I1),this._elRef=x(Y1),this._zone=x(d1),this._injector=x(G1),this._closed$=new p1,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new _1,this.shown=new p1,this.hidden=new p1}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":gp(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,K3(()=>this._show(),{injector:this._injector,phase:w2.MixedReadWrite})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:t}=this._elRef,i={animation:this.animation,runningTransition:"stop"},s=Xt(this._zone,t,()=>t.classList.remove("show"),i),o=Xt(this._zone,this._dialogEl.nativeElement,()=>{},i),r=Nn(s,o);return r.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),r}_show(){let t={animation:this.animation,runningTransition:"continue"},i=Xt(this._zone,this._elRef.nativeElement,(o,r)=>{r&&vp(o),o.classList.add("show")},t),s=Xt(this._zone,this._dialogEl.nativeElement,()=>{},t);Nn(i,s).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{l1(t,"keydown").pipe(J(this._closed$),V1(s=>s.key==="Escape")).subscribe(s=>{this.keyboard?requestAnimationFrame(()=>{s.defaultPrevented||this._zone.run(()=>this.dismiss(Ua.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let i=!1;l1(this._dialogEl.nativeElement,"mousedown").pipe(J(this._closed$),B1(()=>i=!1),pe(()=>l1(t,"mouseup").pipe(J(this._closed$),Ie(1))),V1(({target:s})=>t===s)).subscribe(()=>{i=!0}),l1(t,"click").pipe(J(this._closed$)).subscribe(({target:s})=>{t===s&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!i&&this._zone.run(()=>this.dismiss(Ua.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){let i=t.querySelector("[ngbAutofocus]"),s=_p(t)[0];(i||s||t).focus()}}_restoreFocus(){let t=this._document.body,i=this._elWithFocus,s;i&&i.focus&&t.contains(i)?s=i:s=t,this._zone.runOutsideAngular(()=>{setTimeout(()=>s.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&Xt(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=se({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(i,s){if(i&1&&Xi(_x,7),i&2){let o;en(o=tn())&&(s._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,s){i&2&&(Wt("aria-modal",!0)("aria-labelledby",s.ariaLabelledBy)("aria-describedby",s.ariaDescribedBy),Ki("modal d-block"+(s.windowClass?" "+s.windowClass:"")),i4("fade",s.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:yx,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(i,s){i&1&&(Q3(),z1(0,"div",1,0)(2,"div",2),X3(3),D1()()),i&2&&Ki("modal-dialog"+(s.size?" modal-"+s.size:"")+(s.centered?" modal-dialog-centered":"")+s.fullscreenClass+(s.scrollable?" modal-dialog-scrollable":"")+(s.modalDialogClass?" "+s.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2})}}return n})(),Hx=(()=>{class n{constructor(){this._applicationRef=x(d2),this._injector=x(G1),this._environmentInjector=x(ee),this._document=x(I1),this._scrollBar=x(kx),this._activeWindowCmptHasChanged=new p1,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new _1;let t=x(d1);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let i=this._windowCmpts[this._windowCmpts.length-1];Dx(t,i.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(i.location.nativeElement)}})}_restoreScrollBar(){let t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,i,s){let o=s.container instanceof HTMLElement?s.container:Ba(s.container)?this._document.querySelector(s.container):this._document.body;if(!o)throw new Error(`The specified modal container "${s.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let r=new _s;t=s.injector||t;let c=t.get(ee,null)||this._environmentInjector,a=this._getContentRef(t,c,i,r,s),l=s.backdrop!==!1?this._attachBackdrop(o):void 0,u=this._attachWindowComponent(o,a.nodes),f=new ja(u,a,l,s.beforeDismiss);return this._registerModalRef(f),this._registerWindowCmpt(u),f.hidden.pipe(Ie(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),r.close=d=>{f.close(d)},r.dismiss=d=>{f.dismiss(d)},r.update=d=>{f.update(d)},f.update(s),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),l&&l.instance&&l.changeDetectorRef.detectChanges(),u.changeDetectorRef.detectChanges(),f}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(i=>i.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let i=is(Px,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_attachWindowComponent(t,i){let s=is(Fx,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(s.hostView),t.appendChild(s.location.nativeElement),s}_getContentRef(t,i,s,o,r){return s?s instanceof at?this._createFromTemplateRef(s,o):gp(s)?this._createFromString(s):this._createFromComponent(t,i,s,o,r):new ln([])}_createFromTemplateRef(t,i){let s={$implicit:i,close(r){i.close(r)},dismiss(r){i.dismiss(r)}},o=t.createEmbeddedView(s);return this._applicationRef.attachView(o),new ln([o.rootNodes],o)}_createFromString(t){let i=this._document.createTextNode(`${t}`);return new ln([[i]])}_createFromComponent(t,i,s,o,r){let c=G1.create({providers:[{provide:_s,useValue:o}],parent:t}),a=is(s,{environmentInjector:i,elementInjector:c}),l=a.location.nativeElement;return r.scrollable&&l.classList.add("component-host-scrollable"),this._applicationRef.attachView(a.hostView),new ln([[l]],a.hostView,a)}_setAriaHidden(t){let i=t.parentElement;i&&t!==this._document.body&&(Array.from(i.children).forEach(s=>{s!==t&&s.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,i)=>{t?i.setAttribute("aria-hidden",t):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){let i=()=>{let s=this._modalRefs.indexOf(t);s>-1&&(this._modalRefs.splice(s,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(i,i)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{let i=this._windowCmpts.indexOf(t);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),e3=(()=>{class n{constructor(){this._injector=x(G1),this._modalStack=x(Hx),this._config=x(Ix)}open(t,i={}){let s=D(X(D({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._injector,t,s)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),zp=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=f1({type:n})}static{this.\u0275inj=u1({providers:[e3]})}}return n})();var xp=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=f1({type:n})}static{this.\u0275inj=u1({})}}return n})();var Sp=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=f1({type:n})}static{this.\u0275inj=u1({})}}return n})();var Ap=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=f1({type:n})}static{this.\u0275inj=u1({})}}return n})();var Ep=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=f1({type:n})}static{this.\u0275inj=u1({})}}return n})();var Dp=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=f1({type:n})}static{this.\u0275inj=u1({})}}return n})();var Np=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=f1({type:n})}static{this.\u0275inj=u1({})}}return n})();var Tp=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=f1({type:n})}static{this.\u0275inj=u1({})}}return n})();var Ip=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=f1({type:n})}static{this.\u0275inj=u1({})}}return n})();var kp=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=f1({type:n})}static{this.\u0275inj=u1({})}}return n})();var IB=new V("live announcer delay",{providedIn:"root",factory:()=>100});var Pp=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=f1({type:n})}static{this.\u0275inj=u1({})}}return n})();var Rp=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=f1({type:n})}static{this.\u0275inj=u1({})}}return n})(),Vx=[Cp,bp,Mp,yp,Lp,wp,zp,xp,Rp,Sp,Ap,Ep,Dp,Np,Tp,Ip,kp,Pp],Op=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=f1({type:n})}static{this.\u0275inj=u1({imports:[Vx,Cp,bp,Mp,yp,Lp,wp,zp,xp,Rp,Sp,Ap,Ep,Dp,Np,Tp,Ip,kp,Pp]})}}return n})();var Fp={prefix:"fab",iconName:"linkedin",icon:[448,512,[],"f08c","M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"]};var Hp={prefix:"fab",iconName:"github",icon:[496,512,[],"f09b","M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"]};var Vp={prefix:"fas",iconName:"school",icon:[640,512,[127979],"f549","M337.8 5.4C327-1.8 313-1.8 302.2 5.4L166.3 96 48 96C21.5 96 0 117.5 0 144L0 464c0 26.5 21.5 48 48 48l208 0 0-96c0-35.3 28.7-64 64-64s64 28.7 64 64l0 96 208 0c26.5 0 48-21.5 48-48l0-320c0-26.5-21.5-48-48-48L473.7 96 337.8 5.4zM96 192l32 0c8.8 0 16 7.2 16 16l0 64c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-64c0-8.8 7.2-16 16-16zm400 16c0-8.8 7.2-16 16-16l32 0c8.8 0 16 7.2 16 16l0 64c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-64zM96 320l32 0c8.8 0 16 7.2 16 16l0 64c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-64c0-8.8 7.2-16 16-16zm400 16c0-8.8 7.2-16 16-16l32 0c8.8 0 16 7.2 16 16l0 64c0 8.8-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16l0-64zM232 176a88 88 0 1 1 176 0 88 88 0 1 1 -176 0zm88-48c-8.8 0-16 7.2-16 16l0 32c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-16 0 0-16c0-8.8-7.2-16-16-16z"]};var Bp={prefix:"fas",iconName:"certificate",icon:[512,512,[],"f0a3","M211 7.3C205 1 196-1.4 187.6 .8s-14.9 8.9-17.1 17.3L154.7 80.6l-62-17.5c-8.4-2.4-17.4 0-23.5 6.1s-8.5 15.1-6.1 23.5l17.5 62L18.1 170.6c-8.4 2.1-15 8.7-17.3 17.1S1 205 7.3 211l46.2 45L7.3 301C1 307-1.4 316 .8 324.4s8.9 14.9 17.3 17.1l62.5 15.8-17.5 62c-2.4 8.4 0 17.4 6.1 23.5s15.1 8.5 23.5 6.1l62-17.5 15.8 62.5c2.1 8.4 8.7 15 17.1 17.3s17.3-.2 23.4-6.4l45-46.2 45 46.2c6.1 6.2 15 8.7 23.4 6.4s14.9-8.9 17.1-17.3l15.8-62.5 62 17.5c8.4 2.4 17.4 0 23.5-6.1s8.5-15.1 6.1-23.5l-17.5-62 62.5-15.8c8.4-2.1 15-8.7 17.3-17.1s-.2-17.4-6.4-23.4l-46.2-45 46.2-45c6.2-6.1 8.7-15 6.4-23.4s-8.9-14.9-17.3-17.1l-62.5-15.8 17.5-62c2.4-8.4 0-17.4-6.1-23.5s-15.1-8.5-23.5-6.1l-62 17.5L341.4 18.1c-2.1-8.4-8.7-15-17.1-17.3S307 1 301 7.3L256 53.5 211 7.3z"]};var jp={prefix:"fas",iconName:"book-atlas",icon:[448,512,["atlas"],"f558","M0 96C0 43 43 0 96 0L384 0l32 0c17.7 0 32 14.3 32 32l0 320c0 17.7-14.3 32-32 32l0 64c17.7 0 32 14.3 32 32s-14.3 32-32 32l-32 0L96 512c-53 0-96-43-96-96L0 96zM64 416c0 17.7 14.3 32 32 32l256 0 0-64L96 384c-17.7 0-32 14.3-32 32zM247.4 283.8c-3.7 3.7-6.2 4.2-7.4 4.2s-3.7-.5-7.4-4.2c-3.8-3.7-8-10-11.8-18.9c-6.2-14.5-10.8-34.3-12.2-56.9l63 0c-1.5 22.6-6 42.4-12.2 56.9c-3.8 8.9-8 15.2-11.8 18.9zm42.7-9.9c7.3-18.3 12-41.1 13.4-65.9l31.1 0c-4.7 27.9-21.4 51.7-44.5 65.9zm0-163.8c23.2 14.2 39.9 38 44.5 65.9l-31.1 0c-1.4-24.7-6.1-47.5-13.4-65.9zM368 192a128 128 0 1 0 -256 0 128 128 0 1 0 256 0zM145.3 208l31.1 0c1.4 24.7 6.1 47.5 13.4 65.9c-23.2-14.2-39.9-38-44.5-65.9zm31.1-32l-31.1 0c4.7-27.9 21.4-51.7 44.5-65.9c-7.3 18.3-12 41.1-13.4 65.9zm56.1-75.8c3.7-3.7 6.2-4.2 7.4-4.2s3.7 .5 7.4 4.2c3.8 3.7 8 10 11.8 18.9c6.2 14.5 10.8 34.3 12.2 56.9l-63 0c1.5-22.6 6-42.4 12.2-56.9c3.8-8.9 8-15.2 11.8-18.9z"]};var Up={prefix:"fas",iconName:"book-bookmark",icon:[448,512,[],"e0bb","M0 96C0 43 43 0 96 0l96 0 0 190.7c0 13.4 15.5 20.9 26 12.5L272 160l54 43.2c10.5 8.4 26 .9 26-12.5L352 0l32 0 32 0c17.7 0 32 14.3 32 32l0 320c0 17.7-14.3 32-32 32l0 64c17.7 0 32 14.3 32 32s-14.3 32-32 32l-32 0L96 512c-53 0-96-43-96-96L0 96zM64 416c0 17.7 14.3 32 32 32l256 0 0-64L96 384c-17.7 0-32 14.3-32 32z"]};var $p={prefix:"fas",iconName:"file-pdf",icon:[512,512,[],"f1c1","M0 64C0 28.7 28.7 0 64 0L224 0l0 128c0 17.7 14.3 32 32 32l128 0 0 144-208 0c-35.3 0-64 28.7-64 64l0 144-48 0c-35.3 0-64-28.7-64-64L0 64zm384 64l-128 0L256 0 384 128zM176 352l32 0c30.9 0 56 25.1 56 56s-25.1 56-56 56l-16 0 0 32c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-48 0-80c0-8.8 7.2-16 16-16zm32 80c13.3 0 24-10.7 24-24s-10.7-24-24-24l-16 0 0 48 16 0zm96-80l32 0c26.5 0 48 21.5 48 48l0 64c0 26.5-21.5 48-48 48l-32 0c-8.8 0-16-7.2-16-16l0-128c0-8.8 7.2-16 16-16zm32 128c8.8 0 16-7.2 16-16l0-64c0-8.8-7.2-16-16-16l-16 0 0 96 16 0zm80-112c0-8.8 7.2-16 16-16l48 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-32 0 0 32 32 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-32 0 0 48c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-64 0-64z"]};var Gp={prefix:"fas",iconName:"download",icon:[512,512,[],"f019","M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 242.7-73.4-73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l128-128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L288 274.7 288 32zM64 352c-35.3 0-64 28.7-64 64l0 32c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-32c0-35.3-28.7-64-64-64l-101.5 0-45.3 45.3c-25 25-65.5 25-90.5 0L165.5 352 64 352zm368 56a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"]};var Wp={prefix:"fas",iconName:"house",icon:[576,512,[127968,63498,63500,"home","home-alt","home-lg-alt"],"f015","M575.8 255.5c0 18-15 32.1-32 32.1l-32 0 .7 160.2c0 2.7-.2 5.4-.5 8.1l0 16.2c0 22.1-17.9 40-40 40l-16 0c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1L416 512l-24 0c-22.1 0-40-17.9-40-40l0-24 0-64c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32 14.3-32 32l0 64 0 24c0 22.1-17.9 40-40 40l-24 0-31.9 0c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2l-16 0c-22.1 0-40-17.9-40-40l0-112c0-.9 0-1.9 .1-2.8l0-69.7-32 0c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"]};var Bx={prefix:"fas",iconName:"list-check",icon:[512,512,["tasks"],"f0ae","M152.1 38.2c9.9 8.9 10.7 24 1.8 33.9l-72 80c-4.4 4.9-10.6 7.8-17.2 7.9s-12.9-2.4-17.6-7L7 113C-2.3 103.6-2.3 88.4 7 79s24.6-9.4 33.9 0l22.1 22.1 55.1-61.2c8.9-9.9 24-10.7 33.9-1.8zm0 160c9.9 8.9 10.7 24 1.8 33.9l-72 80c-4.4 4.9-10.6 7.8-17.2 7.9s-12.9-2.4-17.6-7L7 273c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l22.1 22.1 55.1-61.2c8.9-9.9 24-10.7 33.9-1.8zM224 96c0-17.7 14.3-32 32-32l224 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-224 0c-17.7 0-32-14.3-32-32zm0 160c0-17.7 14.3-32 32-32l224 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-224 0c-17.7 0-32-14.3-32-32zM160 416c0-17.7 14.3-32 32-32l288 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-288 0c-17.7 0-32-14.3-32-32zM48 368a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"]},qp=Bx;var Zp={prefix:"fas",iconName:"school-flag",icon:[576,512,[],"e56e","M288 0L400 0c8.8 0 16 7.2 16 16l0 64c0 8.8-7.2 16-16 16l-79.3 0 89.6 64L512 160c35.3 0 64 28.7 64 64l0 224c0 35.3-28.7 64-64 64l-176 0 0-112c0-26.5-21.5-48-48-48s-48 21.5-48 48l0 112L64 512c-35.3 0-64-28.7-64-64L0 224c0-35.3 28.7-64 64-64l101.7 0L256 95.5 256 32c0-17.7 14.3-32 32-32zm48 240a48 48 0 1 0 -96 0 48 48 0 1 0 96 0zM80 224c-8.8 0-16 7.2-16 16l0 64c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-64c0-8.8-7.2-16-16-16l-32 0zm368 16l0 64c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-64c0-8.8-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zM80 352c-8.8 0-16 7.2-16 16l0 64c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-64c0-8.8-7.2-16-16-16l-32 0zm384 0c-8.8 0-16 7.2-16 16l0 64c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l0-64c0-8.8-7.2-16-16-16l-32 0z"]};var Yp={prefix:"fas",iconName:"briefcase",icon:[512,512,[128188],"f0b1","M184 48l144 0c4.4 0 8 3.6 8 8l0 40L176 96l0-40c0-4.4 3.6-8 8-8zm-56 8l0 40L64 96C28.7 96 0 124.7 0 160l0 96 192 0 128 0 192 0 0-96c0-35.3-28.7-64-64-64l-64 0 0-40c0-30.9-25.1-56-56-56L184 0c-30.9 0-56 25.1-56 56zM512 288l-192 0 0 32c0 17.7-14.3 32-32 32l-64 0c-17.7 0-32-14.3-32-32l0-32L0 288 0 416c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-128z"]};var jx={prefix:"fas",iconName:"rectangle-xmark",icon:[512,512,[62164,"rectangle-times","times-rectangle","window-close"],"f410","M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zM175 175c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"]};var Jp=jx;var Kp={prefix:"fas",iconName:"book-open",icon:[576,512,[128214,128366],"f518","M249.6 471.5c10.8 3.8 22.4-4.1 22.4-15.5l0-377.4c0-4.2-1.6-8.4-5-11C247.4 52 202.4 32 144 32C93.5 32 46.3 45.3 18.1 56.1C6.8 60.5 0 71.7 0 83.8L0 454.1c0 11.9 12.8 20.2 24.1 16.5C55.6 460.1 105.5 448 144 448c33.9 0 79 14 105.6 23.5zm76.8 0C353 462 398.1 448 432 448c38.5 0 88.4 12.1 119.9 22.6c11.3 3.8 24.1-4.6 24.1-16.5l0-370.3c0-12.1-6.8-23.3-18.1-27.6C529.7 45.3 482.5 32 432 32c-58.4 0-103.4 20-123 35.6c-3.3 2.6-5 6.8-5 11L304 456c0 11.4 11.7 19.3 22.4 15.5z"]};var Qp=[Fp,Hp,qp,Wp,jp,Up,Kp,Bp,$p,Jp,Gp,Yp,Vp,Zp];var Ux=()=>["fas","window-close"];function $x(n,e){if(n&1){let t=h2();z1(0,"div",2)(1,"h4",3),Qe(2),z1(3,"a",4),be("click",function(){qe(t);let s=Ke();return Ze(s.close())}),J1(4,"fa-icon",5),D1()()(),z1(5,"div",6),J1(6,"img",7),D1()}if(n&2){let t=Ke();ie(2),gt(" ",t.titulo," "),ie(2),xe("icon",vt(3,Ux)),ie(2),xe("src",t.srcImage,Kn)}}var VB=(()=>{class n{constructor(t){this.modalService=t}open(t){this.modalService.open(t)}close(){this.modalService.dismissAll()}static{this.\u0275fac=function(i){return new(i||n)(s1(e3))}}static{this.\u0275cmp=se({type:n,selectors:[["app-certificado-template"]],inputs:{titulo:"titulo",srcImage:"srcImage"},standalone:!1,decls:5,vars:1,consts:[["certificado",""],[1,"btn","btn-info",3,"click"],[1,"modal-header","header-modal"],[1,"modal-title","pull-left"],[1,"m-2",2,"cursor","pointer",3,"click"],[3,"icon"],[1,"modal-body","modalcss"],[1,"imagens",3,"src"]],template:function(i,s){if(i&1){let o=h2();z1(0,"button",1),be("click",function(){qe(o);let c=qt(4);return Ze(s.open(c))}),Qe(1,"Certificado"),D1(),Qe(2),mt(3,$x,7,4,"ng-template",null,0,Zt)}i&2&&(ie(2),gt(`
`,s.titulo," "))},dependencies:[an],styles:[".imagens[_ngcontent-%COMP%]{margin:5px;width:100%;height:auto}"]})}}return n})();var Gx=["*"],Wx=()=>["fas","window-close"];function qx(n,e){if(n&1){let t=h2();z1(0,"div",8)(1,"h4",9),Qe(2),z1(3,"a",10),be("click",function(){qe(t);let s=Ke();return Ze(s.close())}),J1(4,"fa-icon",11),D1()()(),z1(5,"div",12),J1(6,"img",13),D1()}if(n&2){let t=Ke();ie(2),gt(" ",t.titulo," "),ie(2),xe("icon",vt(3,Wx)),ie(2),xe("src",t.srcImage,Kn)}}var jB=(()=>{class n{constructor(t){this.modalService=t}open(t){this.modalService.open(t)}close(){this.modalService.dismissAll()}static{this.\u0275fac=function(i){return new(i||n)(s1(e3))}}static{this.\u0275cmp=se({type:n,selectors:[["app-certificado-escolaridade-extra"]],inputs:{titulo:"titulo",srcImage:"srcImage"},standalone:!1,ngContentSelectors:Gx,decls:13,vars:1,consts:[["certificado",""],[1,"container-fluid"],[1,"row","justify-content-center"],[1,"col-12"],[1,"card","mt-3"],[1,"card-header"],[1,"card-content"],[1,"btn","btn-info",3,"click"],[1,"modal-header","header-modal"],[1,"modal-title","pull-left"],[1,"m-2",2,"cursor","pointer",3,"click"],[3,"icon"],[1,"modal-body","modalcss"],[1,"imagens",2,"width","100%","height","auto",3,"src"]],template:function(i,s){if(i&1){let o=h2();Q3(),z1(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"div",5)(5,"h2"),Qe(6),D1()(),z1(7,"div",6)(8,"button",7),be("click",function(){qe(o);let c=qt(12);return Ze(s.open(c))}),Qe(9," Certificado "),D1(),X3(10),D1(),mt(11,qx,7,4,"ng-template",null,0,Zt),D1()()()()}i&2&&(ie(6),es(s.titulo))},dependencies:[an],encapsulation:2})}}return n})();var hn={};n7(hn,{AbortException:()=>$S,AnnotationEditorLayer:()=>GS,AnnotationEditorParamsType:()=>WS,AnnotationEditorType:()=>y5,AnnotationEditorUIManager:()=>qS,AnnotationLayer:()=>ZS,AnnotationMode:()=>YS,CMapCompressionType:()=>JS,ColorPicker:()=>KS,DOMSVGFactory:()=>QS,DrawLayer:()=>XS,FeatureTest:()=>eA,GlobalWorkerOptions:()=>_5,ImageKind:()=>tA,InvalidPDFException:()=>nA,MissingPDFException:()=>iA,OPS:()=>sA,PDFDataRangeTransport:()=>oA,PDFDateString:()=>rA,PDFWorker:()=>cA,PasswordResponses:()=>aA,PermissionFlag:()=>lA,PixelsPerInch:()=>uA,RenderingCancelledException:()=>fA,TextLayer:()=>dA,UnexpectedResponseException:()=>hA,Util:()=>pA,VerbosityLevel:()=>L5,XfaLayer:()=>mA,build:()=>gA,createValidAbsoluteUrl:()=>vA,fetchData:()=>CA,getDocument:()=>w5,getFilenameFromUrl:()=>bA,getPdfFilenameFromUrl:()=>MA,getXfaPageViewport:()=>yA,isDataScheme:()=>_A,isPdfFile:()=>LA,noContextMenu:()=>wA,normalizeUnicode:()=>zA,setLayerDimensions:()=>xA,shadow:()=>SA,version:()=>I4});var b4={};b4.d=(n,e)=>{for(var t in e)b4.o(e,t)&&!b4.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})};b4.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var $=globalThis.pdfjsLib={};b4.d($,{AbortException:()=>G2,AnnotationEditorLayer:()=>US,AnnotationEditorParamsType:()=>j,AnnotationEditorType:()=>r1,AnnotationEditorUIManager:()=>z4,AnnotationLayer:()=>u5,AnnotationMode:()=>wt,CMapCompressionType:()=>Qa,ColorPicker:()=>c6,DOMSVGFactory:()=>_4,DrawLayer:()=>m5,FeatureTest:()=>ae,GlobalWorkerOptions:()=>n3,ImageKind:()=>Es,InvalidPDFException:()=>Ts,MissingPDFException:()=>$2,OPS:()=>Xe,PDFDataRangeTransport:()=>Zs,PDFDateString:()=>Vs,PDFWorker:()=>fn,PasswordResponses:()=>Qx,PermissionFlag:()=>Kx,PixelsPerInch:()=>zt,RenderingCancelledException:()=>w4,TextLayer:()=>A4,UnexpectedResponseException:()=>dn,Util:()=>k,VerbosityLevel:()=>l6,XfaLayer:()=>Ks,build:()=>BS,createValidAbsoluteUrl:()=>nS,fetchData:()=>h6,getDocument:()=>OS,getFilenameFromUrl:()=>lS,getPdfFilenameFromUrl:()=>uS,getXfaPageViewport:()=>fS,isDataScheme:()=>p6,isPdfFile:()=>v5,noContextMenu:()=>Be,normalizeUnicode:()=>cS,setLayerDimensions:()=>i3,shadow:()=>c1,version:()=>VS});var ce=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),pm=[1,0,0,1,0,0],Ka=[.001,0,0,.001,0,0],Zx=1e7,As=1.35,Yx=.35,$B=Yx/As,Ee={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},wt={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Jx="pdfjs_internal_editor_",r1={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},j={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},Kx={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},re={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Es={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},j1={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};var m4={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};var l6={ERRORS:0,WARNINGS:1,INFOS:5},Qa={NONE:0,BINARY:1},Xe={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},Qx={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},u6=l6.WARNINGS;function Xx(n){Number.isInteger(n)&&(u6=n)}function eS(){return u6}function f6(n){u6>=l6.INFOS&&console.log(`Info: ${n}`)}function n1(n){u6>=l6.WARNINGS&&console.log(`Warning: ${n}`)}function O1(n){throw new Error(n)}function U1(n,e){n||O1(e)}function tS(n){switch(n?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function nS(n,e=null,t=null){if(!n)return null;try{if(t&&typeof n=="string"&&(t.addDefaultProtocol&&n.startsWith("www.")&&n.match(/\./g)?.length>=2&&(n=`http://${n}`),t.tryConvertEncoding))try{n=rS(n)}catch{}let i=e?new URL(n,e):new URL(n);if(tS(i))return i}catch{}return null}function c1(n,e,t,i=!1){return Object.defineProperty(n,e,{value:t,enumerable:!i,configurable:!0,writable:!1}),t}var xt=function(){function e(t,i){this.message=t,this.name=i}return e.prototype=new Error,e.constructor=e,e}(),M4=class extends xt{constructor(e,t){super(e,"PasswordException"),this.code=t}},y4=class extends xt{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}},Ts=class extends xt{constructor(e){super(e,"InvalidPDFException")}},$2=class extends xt{constructor(e){super(e,"MissingPDFException")}},dn=class extends xt{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}},Xa=class extends xt{constructor(e){super(e,"FormatError")}},G2=class extends xt{constructor(e){super(e,"AbortException")}};function mm(n){(typeof n!="object"||n?.length===void 0)&&O1("Invalid argument for bytesToString");let e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);let i=[];for(let s=0;s<e;s+=t){let o=Math.min(s+t,e),r=n.subarray(s,o);i.push(String.fromCharCode.apply(null,r))}return i.join("")}function d6(n){typeof n!="string"&&O1("Invalid argument for stringToBytes");let e=n.length,t=new Uint8Array(e);for(let i=0;i<e;++i)t[i]=n.charCodeAt(i)&255;return t}function iS(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function g5(n){let e=Object.create(null);for(let[t,i]of n)e[t]=i;return e}function sS(){let n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function oS(){try{return new Function(""),!0}catch{return!1}}var ae=class{static get isLittleEndian(){return c1(this,"isLittleEndian",sS())}static get isEvalSupported(){return c1(this,"isEvalSupported",oS())}static get isOffscreenCanvasSupported(){return c1(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof navigator?.platform=="string"?c1(this,"platform",{isMac:navigator.platform.includes("Mac")}):c1(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){return c1(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}},Wa=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0")),k=class{static makeHexColor(e,t,i){return`#${Wa[e]}${Wa[t]}${Wa[i]}`}static scaleMinMax(e,t){let i;e[0]?(e[0]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[3],t[3]*=e[3]):(i=t[0],t[0]=t[1],t[1]=i,i=t[2],t[2]=t[3],t[3]=i,e[1]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){let i=e[0]*t[0]+e[1]*t[2]+t[4],s=e[0]*t[1]+e[1]*t[3]+t[5];return[i,s]}static applyInverseTransform(e,t){let i=t[0]*t[3]-t[1]*t[2],s=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/i,o=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/i;return[s,o]}static getAxialAlignedBoundingBox(e,t){let i=this.applyTransform(e,t),s=this.applyTransform(e.slice(2,4),t),o=this.applyTransform([e[0],e[3]],t),r=this.applyTransform([e[2],e[1]],t);return[Math.min(i[0],s[0],o[0],r[0]),Math.min(i[1],s[1],o[1],r[1]),Math.max(i[0],s[0],o[0],r[0]),Math.max(i[1],s[1],o[1],r[1])]}static inverseTransform(e){let t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){let t=[e[0],e[2],e[1],e[3]],i=e[0]*t[0]+e[1]*t[2],s=e[0]*t[1]+e[1]*t[3],o=e[2]*t[0]+e[3]*t[2],r=e[2]*t[1]+e[3]*t[3],c=(i+r)/2,a=Math.sqrt((i+r)**2-4*(i*r-o*s))/2,l=c+a||1,u=c-a||1;return[Math.sqrt(l),Math.sqrt(u)]}static normalizeRect(e){let t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){let i=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),s=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(i>s)return null;let o=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),r=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return o>r?null:[i,o,s,r]}static#e(e,t,i,s,o,r,c,a,l,u){if(l<=0||l>=1)return;let f=1-l,d=l*l,h=d*l,p=f*(f*(f*e+3*l*t)+3*d*i)+h*s,m=f*(f*(f*o+3*l*r)+3*d*c)+h*a;u[0]=Math.min(u[0],p),u[1]=Math.min(u[1],m),u[2]=Math.max(u[2],p),u[3]=Math.max(u[3],m)}static#t(e,t,i,s,o,r,c,a,l,u,f,d){if(Math.abs(l)<1e-12){Math.abs(u)>=1e-12&&this.#e(e,t,i,s,o,r,c,a,-f/u,d);return}let h=u**2-4*f*l;if(h<0)return;let p=Math.sqrt(h),m=2*l;this.#e(e,t,i,s,o,r,c,a,(-u+p)/m,d),this.#e(e,t,i,s,o,r,c,a,(-u-p)/m,d)}static bezierBoundingBox(e,t,i,s,o,r,c,a,l){return l?(l[0]=Math.min(l[0],e,c),l[1]=Math.min(l[1],t,a),l[2]=Math.max(l[2],e,c),l[3]=Math.max(l[3],t,a)):l=[Math.min(e,c),Math.min(t,a),Math.max(e,c),Math.max(t,a)],this.#t(e,i,o,c,t,s,r,a,3*(-e+3*(i-o)+c),6*(e-2*i+o),3*(i-e),l),this.#t(e,i,o,c,t,s,r,a,3*(-t+3*(s-r)+a),6*(t-2*s+r),3*(s-t),l),l}};function rS(n){return decodeURIComponent(escape(n))}var qa=null,Xp=null;function cS(n){return qa||(qa=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,Xp=new Map([["\uFB05","\u017Ft"]])),n.replaceAll(qa,(e,t,i)=>t?t.normalize("NFKC"):Xp.get(i))}function aS(){if(typeof crypto<"u"&&typeof crypto?.randomUUID=="function")return crypto.randomUUID();let n=new Uint8Array(32);if(typeof crypto<"u"&&typeof crypto?.getRandomValues=="function")crypto.getRandomValues(n);else for(let e=0;e<32;e++)n[e]=Math.floor(Math.random()*255);return mm(n)}var gm="pdfjs_internal_id_",V2={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8},Is=class{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,i,s,o){return"none"}destroy(e=!1){}},ks=class{#e=!1;constructor({enableHWA:e=!1}={}){this.#e=e}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");let i=this._createCanvas(e,t);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!this.#e})}}reset(e,t,i){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||i<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=i}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){O1("Abstract method `_createCanvas` called.")}},Ps=class{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}fetch(t){return N(this,arguments,function*({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");let i=this.baseUrl+e+(this.isCompressed?".bcmap":""),s=this.isCompressed?Qa.BINARY:Qa.NONE;return this._fetchData(i,s).catch(o=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${i}`)})})}_fetchData(e,t){O1("Abstract method `_fetchData` called.")}},Rs=class{constructor({baseUrl:e=null}){this.baseUrl=e}fetch(t){return N(this,arguments,function*({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");let i=`${this.baseUrl}${e}`;return this._fetchData(i).catch(s=>{throw new Error(`Unable to load font data at: ${i}`)})})}_fetchData(e){O1("Abstract method `_fetchData` called.")}},e8=class{create(e,t,i=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");let s=this._createSVG("svg:svg");return s.setAttribute("version","1.1"),i||(s.setAttribute("width",`${e}px`),s.setAttribute("height",`${t}px`)),s.setAttribute("preserveAspectRatio","none"),s.setAttribute("viewBox",`0 0 ${e} ${t}`),s}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){O1("Abstract method `_createSVG` called.")}},j2="http://www.w3.org/2000/svg",zt=class{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF},t8=class extends Is{#e;#t;#n;#i;#s;#o;#c=0;constructor({docId:e,ownerDocument:t=globalThis.document}={}){super(),this.#i=e,this.#s=t}get#a(){return this.#t||=new Map}get#f(){return this.#o||=new Map}get#l(){if(!this.#n){let e=this.#s.createElement("div"),{style:t}=e;t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1;let i=this.#s.createElementNS(j2,"svg");i.setAttribute("width",0),i.setAttribute("height",0),this.#n=this.#s.createElementNS(j2,"defs"),e.append(i),i.append(this.#n),this.#s.body.append(e)}return this.#n}#u(e){if(e.length===1){let a=e[0],l=new Array(256);for(let f=0;f<256;f++)l[f]=a[f]/255;let u=l.join(",");return[u,u,u]}let[t,i,s]=e,o=new Array(256),r=new Array(256),c=new Array(256);for(let a=0;a<256;a++)o[a]=t[a]/255,r[a]=i[a]/255,c[a]=s[a]/255;return[o.join(","),r.join(","),c.join(",")]}#r(e){if(this.#e===void 0){this.#e="";let t=this.#s.URL;t!==this.#s.baseURI&&(p6(t)?n1('#createUrl: ignore "data:"-URL for performance reasons.'):this.#e=t.split("#",1)[0])}return`url(${this.#e}#${e})`}addFilter(e){if(!e)return"none";let t=this.#a.get(e);if(t)return t;let[i,s,o]=this.#u(e),r=e.length===1?i:`${i}${s}${o}`;if(t=this.#a.get(r),t)return this.#a.set(e,t),t;let c=`g_${this.#i}_transfer_map_${this.#c++}`,a=this.#r(c);this.#a.set(e,a),this.#a.set(r,a);let l=this.#h(c);return this.#v(i,s,o,l),a}addHCMFilter(e,t){let i=`${e}-${t}`,s="base",o=this.#f.get(s);if(o?.key===i||(o?(o.filter?.remove(),o.key=i,o.url="none",o.filter=null):(o={key:i,url:"none",filter:null},this.#f.set(s,o)),!e||!t))return o.url;let r=this.#C(e);e=k.makeHexColor(...r);let c=this.#C(t);if(t=k.makeHexColor(...c),this.#l.style.color="",e==="#000000"&&t==="#ffffff"||e===t)return o.url;let a=new Array(256);for(let h=0;h<=255;h++){let p=h/255;a[h]=p<=.03928?p/12.92:((p+.055)/1.055)**2.4}let l=a.join(","),u=`g_${this.#i}_hcm_filter`,f=o.filter=this.#h(u);this.#v(l,l,l,f),this.#p(f);let d=(h,p)=>{let m=r[h]/255,v=c[h]/255,g=new Array(p+1);for(let C=0;C<=p;C++)g[C]=m+C/p*(v-m);return g.join(",")};return this.#v(d(0,5),d(1,5),d(2,5),f),o.url=this.#r(u),o.url}addAlphaFilter(e){let t=this.#a.get(e);if(t)return t;let[i]=this.#u([e]),s=`alpha_${i}`;if(t=this.#a.get(s),t)return this.#a.set(e,t),t;let o=`g_${this.#i}_alpha_map_${this.#c++}`,r=this.#r(o);this.#a.set(e,r),this.#a.set(s,r);let c=this.#h(o);return this.#g(i,c),r}addLuminosityFilter(e){let t=this.#a.get(e||"luminosity");if(t)return t;let i,s;if(e?([i]=this.#u([e]),s=`luminosity_${i}`):s="luminosity",t=this.#a.get(s),t)return this.#a.set(e,t),t;let o=`g_${this.#i}_luminosity_map_${this.#c++}`,r=this.#r(o);this.#a.set(e,r),this.#a.set(s,r);let c=this.#h(o);return this.#d(c),e&&this.#g(i,c),r}addHighlightHCMFilter(e,t,i,s,o){let r=`${t}-${i}-${s}-${o}`,c=this.#f.get(e);if(c?.key===r||(c?(c.filter?.remove(),c.key=r,c.url="none",c.filter=null):(c={key:r,url:"none",filter:null},this.#f.set(e,c)),!t||!i))return c.url;let[a,l]=[t,i].map(this.#C.bind(this)),u=Math.round(.2126*a[0]+.7152*a[1]+.0722*a[2]),f=Math.round(.2126*l[0]+.7152*l[1]+.0722*l[2]),[d,h]=[s,o].map(this.#C.bind(this));f<u&&([u,f,d,h]=[f,u,h,d]),this.#l.style.color="";let p=(g,C,M)=>{let b=new Array(256),L=(f-u)/M,y=g/255,w=(C-g)/(255*M),A=0;for(let _=0;_<=M;_++){let S=Math.round(u+_*L),T=y+_*w;for(let h1=A;h1<=S;h1++)b[h1]=T;A=S+1}for(let _=A;_<256;_++)b[_]=b[A-1];return b.join(",")},m=`g_${this.#i}_hcm_${e}_filter`,v=c.filter=this.#h(m);return this.#p(v),this.#v(p(d[0],h[0],5),p(d[1],h[1],5),p(d[2],h[2],5),v),c.url=this.#r(m),c.url}destroy(e=!1){e&&this.#f.size!==0||(this.#n&&(this.#n.parentNode.parentNode.remove(),this.#n=null),this.#t&&(this.#t.clear(),this.#t=null),this.#c=0)}#d(e){let t=this.#s.createElementNS(j2,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)}#p(e){let t=this.#s.createElementNS(j2,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}#h(e){let t=this.#s.createElementNS(j2,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),this.#l.append(t),t}#m(e,t,i){let s=this.#s.createElementNS(j2,t);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),e.append(s)}#v(e,t,i,s){let o=this.#s.createElementNS(j2,"feComponentTransfer");s.append(o),this.#m(o,"feFuncR",e),this.#m(o,"feFuncG",t),this.#m(o,"feFuncB",i)}#g(e,t){let i=this.#s.createElementNS(j2,"feComponentTransfer");t.append(i),this.#m(i,"feFuncA",e)}#C(e){return this.#l.style.color=e,C5(getComputedStyle(this.#l).getPropertyValue("color"))}},n8=class extends ks{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}={}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){let i=this._document.createElement("canvas");return i.width=e,i.height=t,i}};function h6(n,e="text"){return N(this,null,function*(){if(C4(n,document.baseURI)){let t=yield fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,i)=>{let s=new XMLHttpRequest;s.open("GET",n,!0),s.responseType=e,s.onreadystatechange=()=>{if(s.readyState===XMLHttpRequest.DONE){if(s.status===200||s.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(s.response);return}t(s.responseText);return}i(new Error(s.statusText))}},s.send(null)})})}var Os=class extends Ps{_fetchData(e,t){return h6(e,this.isCompressed?"arraybuffer":"text").then(i=>({cMapData:i instanceof ArrayBuffer?new Uint8Array(i):d6(i),compressionType:t}))}},Fs=class extends Rs{_fetchData(e){return h6(e,"arraybuffer").then(t=>new Uint8Array(t))}},_4=class extends e8{_createSVG(e){return document.createElementNS(j2,e)}},L4=class n{constructor({viewBox:e,scale:t,rotation:i,offsetX:s=0,offsetY:o=0,dontFlip:r=!1}){this.viewBox=e,this.scale=t,this.rotation=i,this.offsetX=s,this.offsetY=o;let c=(e[2]+e[0])/2,a=(e[3]+e[1])/2,l,u,f,d;switch(i%=360,i<0&&(i+=360),i){case 180:l=-1,u=0,f=0,d=1;break;case 90:l=0,u=1,f=1,d=0;break;case 270:l=0,u=-1,f=-1,d=0;break;case 0:l=1,u=0,f=0,d=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}r&&(f=-f,d=-d);let h,p,m,v;l===0?(h=Math.abs(a-e[1])*t+s,p=Math.abs(c-e[0])*t+o,m=(e[3]-e[1])*t,v=(e[2]-e[0])*t):(h=Math.abs(c-e[0])*t+s,p=Math.abs(a-e[1])*t+o,m=(e[2]-e[0])*t,v=(e[3]-e[1])*t),this.transform=[l*t,u*t,f*t,d*t,h-l*t*c-f*t*a,p-u*t*c-d*t*a],this.width=m,this.height=v}get rawDims(){let{viewBox:e}=this;return c1(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:i=this.offsetX,offsetY:s=this.offsetY,dontFlip:o=!1}={}){return new n({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:i,offsetY:s,dontFlip:o})}convertToViewportPoint(e,t){return k.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){let t=k.applyTransform([e[0],e[1]],this.transform),i=k.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],i[0],i[1]]}convertToPdfPoint(e,t){return k.applyInverseTransform([e,t],this.transform)}},w4=class extends xt{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}};function p6(n){let e=n.length,t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function v5(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function lS(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function uS(n,e="document.pdf"){if(typeof n!="string")return e;if(p6(n))return n1('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;let t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,i=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,s=t.exec(n),o=i.exec(s[1])||i.exec(s[2])||i.exec(s[3]);if(o&&(o=o[0],o.includes("%")))try{o=i.exec(decodeURIComponent(o))[0]}catch{}return o||e}var Hs=class{started=Object.create(null);times=[];time(e){e in this.started&&n1(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||n1(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){let e=[],t=0;for(let{name:i}of this.times)t=Math.max(i.length,t);for(let{name:i,start:s,end:o}of this.times)e.push(`${i.padEnd(t)} ${o-s}ms
`);return e.join("")}};function C4(n,e){try{let{protocol:t}=e?new URL(n,e):new URL(n);return t==="http:"||t==="https:"}catch{return!1}}function Be(n){n.preventDefault()}var em,Vs=class{static toDateObject(e){if(!e||typeof e!="string")return null;em||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");let t=em.exec(e);if(!t)return null;let i=parseInt(t[1],10),s=parseInt(t[2],10);s=s>=1&&s<=12?s-1:0;let o=parseInt(t[3],10);o=o>=1&&o<=31?o:1;let r=parseInt(t[4],10);r=r>=0&&r<=23?r:0;let c=parseInt(t[5],10);c=c>=0&&c<=59?c:0;let a=parseInt(t[6],10);a=a>=0&&a<=59?a:0;let l=t[7]||"Z",u=parseInt(t[8],10);u=u>=0&&u<=23?u:0;let f=parseInt(t[9],10)||0;return f=f>=0&&f<=59?f:0,l==="-"?(r+=u,c+=f):l==="+"&&(r-=u,c-=f),new Date(Date.UTC(i,s,o,r,c,a))}};function fS(n,{scale:e=1,rotation:t=0}){let{width:i,height:s}=n.attributes.style,o=[0,0,parseInt(i),parseInt(s)];return new L4({viewBox:o,scale:e,rotation:t})}function C5(n){if(n.startsWith("#")){let e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(n1(`Not a valid color format: "${n}"`),[0,0,0])}function dS(n){let e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(let t of n.keys()){e.style.color=t;let i=window.getComputedStyle(e).color;n.set(t,C5(i))}e.remove()}function x1(n){let{a:e,b:t,c:i,d:s,e:o,f:r}=n.getTransform();return[e,t,i,s,o,r]}function B2(n){let{a:e,b:t,c:i,d:s,e:o,f:r}=n.getTransform().invertSelf();return[e,t,i,s,o,r]}function i3(n,e,t=!1,i=!0){if(e instanceof L4){let{pageWidth:s,pageHeight:o}=e.rawDims,{style:r}=n,c=ae.isCSSRoundSupported,a=`var(--scale-factor) * ${s}px`,l=`var(--scale-factor) * ${o}px`,u=c?`round(${a}, 1px)`:`calc(${a})`,f=c?`round(${l}, 1px)`:`calc(${l})`;!t||e.rotation%180===0?(r.width=u,r.height=f):(r.width=f,r.height=u)}i&&n.setAttribute("data-main-rotation",e.rotation)}var i8=class n{#e=null;#t=null;#n;#i=null;#s=null;static#o=null;constructor(e){this.#n=e,n.#o||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"})}render(){let e=this.#e=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar");let t=this.#n._uiManager._signal;e.addEventListener("contextmenu",Be,{signal:t}),e.addEventListener("pointerdown",n.#c,{signal:t});let i=this.#i=document.createElement("div");i.className="buttons",e.append(i);let s=this.#n.toolbarPosition;if(s){let{style:o}=e,r=this.#n._uiManager.direction==="ltr"?1-s[0]:s[0];o.insetInlineEnd=`${100*r}%`,o.top=`calc(${100*s[1]}% + var(--editor-toolbar-vert-offset))`}return this.#u(),e}static#c(e){e.stopPropagation()}#a(e){this.#n._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()}#f(e){this.#n._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()}#l(e){let t=this.#n._uiManager._signal;e.addEventListener("focusin",this.#a.bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",this.#f.bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Be,{signal:t})}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden"),this.#s?.shown()}#u(){let{editorType:e,_uiManager:t}=this.#n,i=document.createElement("button");i.className="delete",i.tabIndex=0,i.setAttribute("data-l10n-id",n.#o[e]),this.#l(i),i.addEventListener("click",s=>{t.delete()},{signal:t._signal}),this.#i.append(i)}get#r(){let e=document.createElement("div");return e.className="divider",e}addAltText(e){return N(this,null,function*(){let t=yield e.render();this.#l(t),this.#i.prepend(t,this.#r),this.#s=e})}addColorPicker(e){this.#t=e;let t=e.renderButton();this.#l(t),this.#i.prepend(t,this.#r)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}},s8=class{#e=null;#t=null;#n;constructor(e){this.#n=e}#i(){let e=this.#t=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Be,{signal:this.#n._signal});let t=this.#e=document.createElement("div");return t.className="buttons",e.append(t),this.#o(),e}#s(e,t){let i=0,s=0;for(let o of e){let r=o.y+o.height;if(r<i)continue;let c=o.x+(t?o.width:0);if(r>i){s=c,i=r;continue}t?c>s&&(s=c):c<s&&(s=c)}return[t?1-s:s,i]}show(e,t,i){let[s,o]=this.#s(t,i),{style:r}=this.#t||=this.#i();e.append(this.#t),r.insetInlineEnd=`${100*s}%`,r.top=`calc(${100*o}% + var(--editor-toolbar-vert-offset))`}hide(){this.#t.remove()}#o(){let e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");let t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");let i=this.#n._signal;e.addEventListener("contextmenu",Be,{signal:i}),e.addEventListener("click",()=>{this.#n.highlightSelection("floating_button")},{signal:i}),this.#e.append(e)}};function Bs(n,e,t){for(let i of t)e.addEventListener(i,n[i].bind(n))}function hS(n){return Math.round(Math.min(255,Math.max(1,255*n))).toString(16).padStart(2,"0")}var o8=class{#e=0;get id(){return`${Jx}${this.#e++}`}},r8=class n{#e=aS();#t=0;#n=null;static get _isSVGFittingCanvas(){let e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),s=new Image;s.src=e;let o=s.decode().then(()=>(i.drawImage(s,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return c1(this,"_isSVGFittingCanvas",o)}#i(e,t){return N(this,null,function*(){this.#n||=new Map;let i=this.#n.get(e);if(i===null)return null;if(i?.bitmap)return i.refCounter+=1,i;try{i||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let s;if(typeof t=="string"?(i.url=t,s=yield h6(t,"blob")):s=i.file=t,s.type==="image/svg+xml"){let o=n._isSVGFittingCanvas,r=new FileReader,c=new Image,a=new Promise((l,u)=>{c.onload=()=>{i.bitmap=c,i.isSvg=!0,l()},r.onload=()=>N(this,null,function*(){let f=i.svgUrl=r.result;c.src=(yield o)?`${f}#svgView(preserveAspectRatio(none))`:f}),c.onerror=r.onerror=u});r.readAsDataURL(s),yield a}else i.bitmap=yield createImageBitmap(s);i.refCounter=1}catch(s){console.error(s),i=null}return this.#n.set(e,i),i&&this.#n.set(i.id,i),i})}getFromFile(e){return N(this,null,function*(){let{lastModified:t,name:i,size:s,type:o}=e;return this.#i(`${t}_${i}_${s}_${o}`,e)})}getFromUrl(e){return N(this,null,function*(){return this.#i(e,e)})}getFromId(e){return N(this,null,function*(){this.#n||=new Map;let t=this.#n.get(e);return t?t.bitmap?(t.refCounter+=1,t):t.file?this.getFromFile(t.file):this.getFromUrl(t.url):null})}getSvgUrl(e){let t=this.#n.get(e);return t?.isSvg?t.svgUrl:null}deleteId(e){this.#n||=new Map;let t=this.#n.get(e);t&&(t.refCounter-=1,t.refCounter===0&&(t.bitmap=null))}isValidId(e){return e.startsWith(`image_${this.#e}_`)}},c8=class{#e=[];#t=!1;#n;#i=-1;constructor(e=128){this.#n=e}add({cmd:e,undo:t,post:i,mustExec:s,type:o=NaN,overwriteIfSameType:r=!1,keepUndo:c=!1}){if(s&&e(),this.#t)return;let a={cmd:e,undo:t,post:i,type:o};if(this.#i===-1){this.#e.length>0&&(this.#e.length=0),this.#i=0,this.#e.push(a);return}if(r&&this.#e[this.#i].type===o){c&&(a.undo=this.#e[this.#i].undo),this.#e[this.#i]=a;return}let l=this.#i+1;l===this.#n?this.#e.splice(0,1):(this.#i=l,l<this.#e.length&&this.#e.splice(l)),this.#e.push(a)}undo(){if(this.#i===-1)return;this.#t=!0;let{undo:e,post:t}=this.#e[this.#i];e(),t?.(),this.#t=!1,this.#i-=1}redo(){if(this.#i<this.#e.length-1){this.#i+=1,this.#t=!0;let{cmd:e,post:t}=this.#e[this.#i];e(),t?.(),this.#t=!1}}hasSomethingToUndo(){return this.#i!==-1}hasSomethingToRedo(){return this.#i<this.#e.length-1}destroy(){this.#e=null}},s3=class{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;let{isMac:t}=ae.platform;for(let[i,s,o={}]of e)for(let r of i){let c=r.startsWith("mac+");t&&c?(this.callbacks.set(r.slice(4),{callback:s,options:o}),this.allKeys.add(r.split("+").at(-1))):!t&&!c&&(this.callbacks.set(r,{callback:s,options:o}),this.allKeys.add(r.split("+").at(-1)))}}#e(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);let t=this.buffer.join("+");return this.buffer.length=0,t}exec(e,t){if(!this.allKeys.has(t.key))return;let i=this.callbacks.get(this.#e(t));if(!i)return;let{callback:s,options:{bubbles:o=!1,args:r=[],checker:c=null}}=i;c&&!c(e,t)||(s.bind(e,...r,t)(),o||(t.stopPropagation(),t.preventDefault()))}},a8=class n{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){let e=new Map([["CanvasText",null],["Canvas",null]]);return dS(e),c1(this,"_colors",e)}convert(e){let t=C5(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(let[i,s]of this._colors)if(s.every((o,r)=>o===t[r]))return n._colorsMapping.get(i);return t}getHexCode(e){let t=this._colors.get(e);return t?k.makeHexColor(...t):e}},z4=(()=>{class n{#e=new AbortController;#t=null;#n=new Map;#i=new Map;#s=null;#o=null;#c=null;#a=new c8;#f=null;#l=0;#u=new Set;#r=null;#d=null;#p=new Set;#h=!1;#m=!1;#v=!1;#g=null;#C=null;#M=null;#_=null;#y=!1;#w=null;#D=new o8;#S=!1;#L=!1;#A=null;#x=null;#N=null;#k=null;#z=r1.NONE;#b=new Set;#E=null;#T=null;#R=null;#B={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#H=[0,0];#P=null;#O=null;#F=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){let t=n.prototype,i=c=>c.#O.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&c.hasSomethingToControl(),s=(c,{target:a})=>{if(a instanceof HTMLInputElement){let{type:l}=a;return l!=="text"&&l!=="number"}return!0},o=this.TRANSLATE_SMALL,r=this.TRANSLATE_BIG;return c1(this,"_keyboardManager",new s3([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:s}],[["ctrl+z","mac+meta+z"],t.undo,{checker:s}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:s}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:s}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(c,{target:a})=>!(a instanceof HTMLButtonElement)&&c.#O.contains(a)&&!c.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(c,{target:a})=>!(a instanceof HTMLButtonElement)&&c.#O.contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-o,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-r,0],checker:i}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[o,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[r,0],checker:i}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-o],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-r],checker:i}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,o],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,r],checker:i}]]))}constructor(t,i,s,o,r,c,a,l,u,f,d){let h=this._signal=this.#e.signal;this.#O=t,this.#F=i,this.#s=s,this._eventBus=o,o._on("editingaction",this.onEditingAction.bind(this),{signal:h}),o._on("pagechanging",this.onPageChanging.bind(this),{signal:h}),o._on("scalechanging",this.onScaleChanging.bind(this),{signal:h}),o._on("rotationchanging",this.onRotationChanging.bind(this),{signal:h}),o._on("setpreference",this.onSetPreference.bind(this),{signal:h}),o._on("switchannotationeditorparams",p=>this.updateParams(p.type,p.value),{signal:h}),this.#X(),this.#i1(),this.#W(),this.#o=r.annotationStorage,this.#g=r.filterFactory,this.#T=c,this.#_=a||null,this.#h=l,this.#m=u,this.#v=f,this.#k=d||null,this.viewParameters={realScale:zt.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}destroy(){this.#e?.abort(),this.#e=null,this._signal=null;for(let t of this.#i.values())t.destroy();this.#i.clear(),this.#n.clear(),this.#p.clear(),this.#t=null,this.#b.clear(),this.#a.destroy(),this.#s?.destroy(),this.#w?.hide(),this.#w=null,this.#C&&(clearTimeout(this.#C),this.#C=null),this.#P&&(clearTimeout(this.#P),this.#P=null)}combinedSignal(t){return AbortSignal.any([this._signal,t.signal])}get mlManager(){return this.#k}get useNewAltTextFlow(){return this.#m}get useNewAltTextWhenAddingImage(){return this.#v}get hcmFilter(){return c1(this,"hcmFilter",this.#T?this.#g.addHCMFilter(this.#T.foreground,this.#T.background):"none")}get direction(){return c1(this,"direction",getComputedStyle(this.#O).direction)}get highlightColors(){return c1(this,"highlightColors",this.#_?new Map(this.#_.split(",").map(t=>t.split("=").map(i=>i.trim()))):null)}get highlightColorNames(){return c1(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setMainHighlightColorPicker(t){this.#N=t}editAltText(t,i=!1){this.#s?.editAltText(this,t,i)}switchToMode(t,i){this._eventBus.on("annotationeditormodechanged",i,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:t})}setPreference(t,i){this._eventBus.dispatch("setpreference",{source:this,name:t,value:i})}onSetPreference({name:t,value:i}){switch(t){case"enableNewAltTextWhenAddingImage":this.#v=i;break}}onPageChanging({pageNumber:t}){this.#l=t-1}focusMainContainer(){this.#O.focus()}findParent(t,i){for(let s of this.#i.values()){let{x:o,y:r,width:c,height:a}=s.div.getBoundingClientRect();if(t>=o&&t<=o+c&&i>=r&&i<=r+a)return s}return null}disableUserSelect(t=!1){this.#F.classList.toggle("noUserSelect",t)}addShouldRescale(t){this.#p.add(t)}removeShouldRescale(t){this.#p.delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*zt.PDF_TO_CSS_UNITS;for(let i of this.#p)i.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}#V({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t}#G(t){let{currentLayer:i}=this;if(i.hasTextLayer(t))return i;for(let s of this.#i.values())if(s.hasTextLayer(t))return s;return null}highlightSelection(t=""){let i=document.getSelection();if(!i||i.isCollapsed)return;let{anchorNode:s,anchorOffset:o,focusNode:r,focusOffset:c}=i,a=i.toString(),u=this.#V(i).closest(".textLayer"),f=this.getSelectionBoxes(u);if(!f)return;i.empty();let d=this.#G(u),h=this.#z===r1.NONE,p=()=>{d?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:f,anchorNode:s,anchorOffset:o,focusNode:r,focusOffset:c,text:a}),h&&this.showAllEditors("highlight",!0,!0)};if(h){this.switchToMode(r1.HIGHLIGHT,p);return}p()}#K(){let t=document.getSelection();if(!t||t.isCollapsed)return;let s=this.#V(t).closest(".textLayer"),o=this.getSelectionBoxes(s);o&&(this.#w||=new s8(this),this.#w.show(s,o,this.direction==="ltr"))}addToAnnotationStorage(t){!t.isEmpty()&&this.#o&&!this.#o.has(t.id)&&this.#o.setValue(t.id,t)}#Q(){let t=document.getSelection();if(!t||t.isCollapsed){this.#E&&(this.#w?.hide(),this.#E=null,this.#I({hasSelectedText:!1}));return}let{anchorNode:i}=t;if(i===this.#E)return;let o=this.#V(t).closest(".textLayer");if(!o){this.#E&&(this.#w?.hide(),this.#E=null,this.#I({hasSelectedText:!1}));return}if(this.#w?.hide(),this.#E=i,this.#I({hasSelectedText:!0}),!(this.#z!==r1.HIGHLIGHT&&this.#z!==r1.NONE)&&(this.#z===r1.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#y=this.isShiftKeyDown,!this.isShiftKeyDown)){let r=this.#z===r1.HIGHLIGHT?this.#G(o):null;r?.toggleDrawing();let c=new AbortController,a=this.combinedSignal(c),l=u=>{u.type==="pointerup"&&u.button!==0||(c.abort(),r?.toggleDrawing(!0),u.type==="pointerup"&&this.#$("main_toolbar"))};window.addEventListener("pointerup",l,{signal:a}),window.addEventListener("blur",l,{signal:a})}}#$(t=""){this.#z===r1.HIGHLIGHT?this.highlightSelection(t):this.#h&&this.#K()}#X(){document.addEventListener("selectionchange",this.#Q.bind(this),{signal:this._signal})}#e1(){if(this.#M)return;this.#M=new AbortController;let t=this.combinedSignal(this.#M);window.addEventListener("focus",this.focus.bind(this),{signal:t}),window.addEventListener("blur",this.blur.bind(this),{signal:t})}#t1(){this.#M?.abort(),this.#M=null}blur(){if(this.isShiftKeyDown=!1,this.#y&&(this.#y=!1,this.#$("main_toolbar")),!this.hasSelection)return;let{activeElement:t}=document;for(let i of this.#b)if(i.div.contains(t)){this.#x=[i,t],i._focusEventsAllowed=!1;break}}focus(){if(!this.#x)return;let[t,i]=this.#x;this.#x=null,i.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),i.focus()}#W(){if(this.#A)return;this.#A=new AbortController;let t=this.combinedSignal(this.#A);window.addEventListener("keydown",this.keydown.bind(this),{signal:t}),window.addEventListener("keyup",this.keyup.bind(this),{signal:t})}#n1(){this.#A?.abort(),this.#A=null}#q(){if(this.#f)return;this.#f=new AbortController;let t=this.combinedSignal(this.#f);document.addEventListener("copy",this.copy.bind(this),{signal:t}),document.addEventListener("cut",this.cut.bind(this),{signal:t}),document.addEventListener("paste",this.paste.bind(this),{signal:t})}#Z(){this.#f?.abort(),this.#f=null}#i1(){let t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})}addEditListeners(){this.#W(),this.#q()}removeEditListeners(){this.#n1(),this.#Z()}dragOver(t){for(let{type:i}of t.dataTransfer.items)for(let s of this.#d)if(s.isHandlingMimeForPasting(i)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(let i of t.dataTransfer.items)for(let s of this.#d)if(s.isHandlingMimeForPasting(i.type)){s.paste(i,this.currentLayer),t.preventDefault();return}}copy(t){if(t.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;let i=[];for(let s of this.#b){let o=s.serialize(!0);o&&i.push(o)}i.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(i))}cut(t){this.copy(t),this.delete()}paste(t){t.preventDefault();let{clipboardData:i}=t;for(let r of i.items)for(let c of this.#d)if(c.isHandlingMimeForPasting(r.type)){c.paste(r,this.currentLayer);return}let s=i.getData("application/pdfjs");if(!s)return;try{s=JSON.parse(s)}catch(r){n1(`paste: "${r.message}".`);return}if(!Array.isArray(s))return;this.unselectAll();let o=this.currentLayer;try{let r=[];for(let l of s){let u=o.deserialize(l);if(!u)return;r.push(u)}let c=()=>{for(let l of r)this.#Y(l);this.#J(r)},a=()=>{for(let l of r)l.remove()};this.addCommands({cmd:c,undo:a,mustExec:!0})}catch(r){n1(`paste: "${r.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),this.#z!==r1.NONE&&!this.isEditorHandlingKeyboard&&n._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,this.#y&&(this.#y=!1,this.#$("main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}#I(t){Object.entries(t).some(([s,o])=>this.#B[s]!==o)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#B,t)}),this.#z===r1.HIGHLIGHT&&t.hasSelectedEditor===!1&&this.#j([[j.HIGHLIGHT_FREE,!0]]))}#j(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})}setEditingState(t){t?(this.#e1(),this.#q(),this.#I({isEditing:this.#z!==r1.NONE,isEmpty:this.#U(),hasSomethingToUndo:this.#a.hasSomethingToUndo(),hasSomethingToRedo:this.#a.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#t1(),this.#Z(),this.#I({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!this.#d){this.#d=t;for(let i of this.#d)this.#j(i.defaultPropertiesToUpdate)}}getId(){return this.#D.id}get currentLayer(){return this.#i.get(this.#l)}getLayer(t){return this.#i.get(t)}get currentPageIndex(){return this.#l}addLayer(t){this.#i.set(t.pageIndex,t),this.#S?t.enable():t.disable()}removeLayer(t){this.#i.delete(t.pageIndex)}updateMode(t,i=null,s=!1){if(this.#z!==t){if(this.#z=t,t===r1.NONE){this.setEditingState(!1),this.#o1();return}this.setEditingState(!0),this.#s1(),this.unselectAll();for(let o of this.#i.values())o.updateMode(t);if(!i&&s){this.addNewEditorFromKeyboard();return}if(i){for(let o of this.#n.values())if(o.annotationElementId===i){this.setSelected(o),o.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==this.#z&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,i){if(this.#d){switch(t){case j.CREATE:this.currentLayer.addNewEditor();return;case j.HIGHLIGHT_DEFAULT_COLOR:this.#N?.updateColor(i);break;case j.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#R||=new Map).set(t,i),this.showAllEditors("highlight",i);break}for(let s of this.#b)s.updateParams(t,i);for(let s of this.#d)s.updateDefaultParams(t,i)}}showAllEditors(t,i,s=!1){for(let r of this.#n.values())r.editorType===t&&r.show(i);(this.#R?.get(j.HIGHLIGHT_SHOW_ALL)??!0)!==i&&this.#j([[j.HIGHLIGHT_SHOW_ALL,i]])}enableWaiting(t=!1){if(this.#L!==t){this.#L=t;for(let i of this.#i.values())t?i.disableClick():i.enableClick(),i.div.classList.toggle("waiting",t)}}#s1(){if(!this.#S){this.#S=!0;for(let t of this.#i.values())t.enable();for(let t of this.#n.values())t.enable()}}#o1(){if(this.unselectAll(),this.#S){this.#S=!1;for(let t of this.#i.values())t.disable();for(let t of this.#n.values())t.disable()}}getEditors(t){let i=[];for(let s of this.#n.values())s.pageIndex===t&&i.push(s);return i}getEditor(t){return this.#n.get(t)}addEditor(t){this.#n.set(t.id,t)}removeEditor(t){t.div.contains(document.activeElement)&&(this.#C&&clearTimeout(this.#C),this.#C=setTimeout(()=>{this.focusMainContainer(),this.#C=null},0)),this.#n.delete(t.id),this.unselect(t),(!t.annotationElementId||!this.#u.has(t.annotationElementId))&&this.#o?.remove(t.id)}addDeletedAnnotationElement(t){this.#u.add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return this.#u.has(t)}removeDeletedAnnotationElement(t){this.#u.delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}#Y(t){let i=this.#i.get(t.pageIndex);i?i.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))}setActiveEditor(t){this.#t!==t&&(this.#t=t,t&&this.#j(t.propertiesToUpdate))}get#r1(){let t=null;for(t of this.#b);return t}updateUI(t){this.#r1===t&&this.#j(t.propertiesToUpdate)}toggleSelected(t){if(this.#b.has(t)){this.#b.delete(t),t.unselect(),this.#I({hasSelectedEditor:this.hasSelection});return}this.#b.add(t),t.select(),this.#j(t.propertiesToUpdate),this.#I({hasSelectedEditor:!0})}setSelected(t){for(let i of this.#b)i!==t&&i.unselect();this.#b.clear(),this.#b.add(t),t.select(),this.#j(t.propertiesToUpdate),this.#I({hasSelectedEditor:!0})}isSelected(t){return this.#b.has(t)}get firstSelectedEditor(){return this.#b.values().next().value}unselect(t){t.unselect(),this.#b.delete(t),this.#I({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#b.size!==0}get isEnterHandled(){return this.#b.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#a.undo(),this.#I({hasSomethingToUndo:this.#a.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#U()})}redo(){this.#a.redo(),this.#I({hasSomethingToUndo:!0,hasSomethingToRedo:this.#a.hasSomethingToRedo(),isEmpty:this.#U()})}addCommands(t){this.#a.add(t),this.#I({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#U()})}#U(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(let t of this.#n.values())return t.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;let t=[...this.#b],i=()=>{for(let o of t)o.remove()},s=()=>{for(let o of t)this.#Y(o)};this.addCommands({cmd:i,undo:s,mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#J(t){for(let i of this.#b)i.unselect();this.#b.clear();for(let i of t)i.isEmpty()||(this.#b.add(i),i.select());this.#I({hasSelectedEditor:this.hasSelection})}selectAll(){for(let t of this.#b)t.commit();this.#J(this.#n.values())}unselectAll(){if(!(this.#t&&(this.#t.commitOrRemove(),this.#z!==r1.NONE))&&this.hasSelection){for(let t of this.#b)t.unselect();this.#b.clear(),this.#I({hasSelectedEditor:!1})}}translateSelectedEditors(t,i,s=!1){if(s||this.commitOrRemove(),!this.hasSelection)return;this.#H[0]+=t,this.#H[1]+=i;let[o,r]=this.#H,c=[...this.#b],a=1e3;this.#P&&clearTimeout(this.#P),this.#P=setTimeout(()=>{this.#P=null,this.#H[0]=this.#H[1]=0,this.addCommands({cmd:()=>{for(let l of c)this.#n.has(l.id)&&l.translateInPage(o,r)},undo:()=>{for(let l of c)this.#n.has(l.id)&&l.translateInPage(-o,-r)},mustExec:!1})},a);for(let l of c)l.translateInPage(t,i)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#r=new Map;for(let t of this.#b)this.#r.set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#r)return!1;this.disableUserSelect(!1);let t=this.#r;this.#r=null;let i=!1;for(let[{x:o,y:r,pageIndex:c},a]of t)a.newX=o,a.newY=r,a.newPageIndex=c,i||=o!==a.savedX||r!==a.savedY||c!==a.savedPageIndex;if(!i)return!1;let s=(o,r,c,a)=>{if(this.#n.has(o.id)){let l=this.#i.get(a);l?o._setParentAndPosition(l,r,c):(o.pageIndex=a,o.x=r,o.y=c)}};return this.addCommands({cmd:()=>{for(let[o,{newX:r,newY:c,newPageIndex:a}]of t)s(o,r,c,a)},undo:()=>{for(let[o,{savedX:r,savedY:c,savedPageIndex:a}]of t)s(o,r,c,a)},mustExec:!0}),!0}dragSelectedEditors(t,i){if(this.#r)for(let s of this.#r.keys())s.drag(t,i)}rebuild(t){if(t.parent===null){let i=this.getLayer(t.pageIndex);i?(i.changeParent(t),i.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#b.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return this.#t===t}getActive(){return this.#t}getMode(){return this.#z}get imageManager(){return c1(this,"imageManager",new r8)}getSelectionBoxes(t){if(!t)return null;let i=document.getSelection();for(let u=0,f=i.rangeCount;u<f;u++)if(!t.contains(i.getRangeAt(u).commonAncestorContainer))return null;let{x:s,y:o,width:r,height:c}=t.getBoundingClientRect(),a;switch(t.getAttribute("data-main-rotation")){case"90":a=(u,f,d,h)=>({x:(f-o)/c,y:1-(u+d-s)/r,width:h/c,height:d/r});break;case"180":a=(u,f,d,h)=>({x:1-(u+d-s)/r,y:1-(f+h-o)/c,width:d/r,height:h/c});break;case"270":a=(u,f,d,h)=>({x:1-(f+h-o)/c,y:(u-s)/r,width:h/c,height:d/r});break;default:a=(u,f,d,h)=>({x:(u-s)/r,y:(f-o)/c,width:d/r,height:h/c});break}let l=[];for(let u=0,f=i.rangeCount;u<f;u++){let d=i.getRangeAt(u);if(!d.collapsed)for(let{x:h,y:p,width:m,height:v}of d.getClientRects())m===0||v===0||l.push(a(h,p,m,v))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:t,id:i}){(this.#c||=new Map).set(t,i)}removeChangedExistingAnnotation({annotationElementId:t}){this.#c?.delete(t)}renderAnnotationElement(t){let i=this.#c?.get(t.data.id);if(!i)return;let s=this.#o.getRawValue(i);s&&(this.#z===r1.NONE&&!s.hasBeenModified||s.renderAnnotationElement(t))}}return n})(),tm=(()=>{class n{#e=null;#t=!1;#n=null;#i=null;#s=null;#o=!1;#c=null;#a=null;#f=null;#l=null;#u=!1;static _l10nPromise=null;constructor(t){this.#a=t,this.#u=t._uiManager.useNewAltTextFlow}static initialize(t){n._l10nPromise||=t}render(){return N(this,null,function*(){let t=this.#n=document.createElement("button");t.className="altText";let i;this.#u?(t.classList.add("new"),i=yield n._l10nPromise.get("pdfjs-editor-new-alt-text-missing-button-label")):i=yield n._l10nPromise.get("pdfjs-editor-alt-text-button-label"),t.textContent=i,t.setAttribute("aria-label",i),t.tabIndex="0";let s=this.#a._uiManager._signal;t.addEventListener("contextmenu",Be,{signal:s}),t.addEventListener("pointerdown",r=>r.stopPropagation(),{signal:s});let o=r=>{r.preventDefault(),this.#a._uiManager.editAltText(this.#a),this.#u&&this.#a._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#r}})};return t.addEventListener("click",o,{capture:!0,signal:s}),t.addEventListener("keydown",r=>{r.target===t&&r.key==="Enter"&&(this.#o=!0,o(r))},{signal:s}),yield this.#d(),t})}get#r(){return this.#e&&"added"||this.#e===null&&this.guessedText&&"review"||"missing"}finish(){this.#n&&(this.#n.focus({focusVisible:this.#o}),this.#o=!1)}isEmpty(){return this.#u?this.#e===null:!this.#e&&!this.#t}hasData(){return this.#u?this.#e!==null||!!this.#f:this.isEmpty()}get guessedText(){return this.#f}setGuessedText(t){return N(this,null,function*(){this.#e===null&&(this.#f=t,this.#l=yield n._l10nPromise.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer")({generatedAltText:t}),this.#d())})}toggleAltTextBadge(t=!1){if(!this.#u||this.#e){this.#c?.remove(),this.#c=null;return}if(!this.#c){let i=this.#c=document.createElement("div");i.className="noAltTextBadge",this.#a.div.append(i)}this.#c.classList.toggle("hidden",!t)}serialize(t){let i=this.#e;return!t&&this.#f===i&&(i=this.#l),{altText:i,decorative:this.#t,guessedText:this.#f,textWithDisclaimer:this.#l}}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:t,decorative:i,guessedText:s,textWithDisclaimer:o,cancel:r=!1}){s&&(this.#f=s,this.#l=o),!(this.#e===t&&this.#t===i)&&(r||(this.#e=t,this.#t=i),this.#d())}toggle(t=!1){this.#n&&(!t&&this.#s&&(clearTimeout(this.#s),this.#s=null),this.#n.disabled=!t)}shown(){this.#a._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#r}})}destroy(){this.#n?.remove(),this.#n=null,this.#i=null,this.#c?.remove(),this.#c=null}#d(){return N(this,null,function*(){let t=this.#n;if(!t)return;if(this.#u){let o=this.#r,r=o==="review"?"to-review":o;if(t.classList.toggle("done",!!this.#e),n._l10nPromise.get(`pdfjs-editor-new-alt-text-${r}-button-label`).then(c=>{t.setAttribute("aria-label",c);for(let a of t.childNodes)if(a.nodeType===Node.TEXT_NODE){a.textContent=c;break}}),!this.#e){this.#i?.remove();return}}else{if(!this.#e&&!this.#t){t.classList.remove("done"),this.#i?.remove();return}t.classList.add("done"),n._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(o=>{t.setAttribute("aria-label",o)})}let i=this.#i;if(!i){this.#i=i=document.createElement("span"),i.className="tooltip",i.setAttribute("role","tooltip");let o=i.id=`alt-text-tooltip-${this.#a.id}`;t.setAttribute("aria-describedby",o);let r=100,c=this.#a._uiManager._signal;c.addEventListener("abort",()=>{clearTimeout(this.#s),this.#s=null},{once:!0}),t.addEventListener("mouseenter",()=>{this.#s=setTimeout(()=>{this.#s=null,this.#i.classList.add("show"),this.#a._reportTelemetry({action:"alt_text_tooltip"})},r)},{signal:c}),t.addEventListener("mouseleave",()=>{this.#s&&(clearTimeout(this.#s),this.#s=null),this.#i?.classList.remove("show")},{signal:c})}i.innerText=this.#t?yield n._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):this.#e,i.parentNode||t.append(i),this.#a.getImageForAltText()?.setAttribute("aria-describedby",i.id)})}}return n})(),m1=class n{#e=null;#t=null;#n=null;#i=!1;#s=!1;#o=null;#c=null;#a=null;#f="";#l=!1;#u=null;#r=!1;#d=!1;#p=!1;#h=null;#m=0;#v=0;#g=null;_editToolbar=null;_initialOptions=Object.create(null);_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10nPromise=null;static _l10nResizer=null;#C=!1;#M=n._zIndex++;static _borderLineWidth=-1;static _colorManager=new a8;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){let e=n.prototype._resizeWithKeyboard,t=z4.TRANSLATE_SMALL,i=z4.TRANSLATE_BIG;return c1(this,"_resizerKeyboardManager",new s3([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,i]}],[["Escape","mac+Escape"],n.prototype._stopResizingWithKeyboard]]))}constructor(e){this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;let{rotation:t,rawDims:{pageWidth:i,pageHeight:s,pageX:o,pageY:r}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,s],this.pageTranslation=[o,r];let[c,a]=this.parentDimensions;this.x=e.x/c,this.y=e.y/a,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return c1(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){let t=new l8({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t,i){if(n._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),n._l10nPromise||=new Map([...["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-new-alt-text-added-button-label","pdfjs-editor-new-alt-text-missing-button-label","pdfjs-editor-new-alt-text-to-review-button-label"].map(o=>[o,e.get(o)]),...["pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer"].map(o=>[o,e.get.bind(e,o)])]),i?.strings)for(let o of i.strings)n._l10nPromise.set(o,e.get(o));if(n._borderLineWidth!==-1)return;let s=getComputedStyle(document.documentElement);n._borderLineWidth=parseFloat(s.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){O1("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#C}set _isDraggable(e){this.#C=e,this.div?.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){let[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#M}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):this.#R(),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#l?this.#l=!1:this.parent.setSelected(this))}focusout(e){!this._focusEventsAllowed||!this.isAttachedToDOM||e.relatedTarget?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,i,s){let[o,r]=this.parentDimensions;[i,s]=this.screenToPageTranslation(i,s),this.x=(e+i)/o,this.y=(t+s)/r,this.fixAndSetPosition()}#_([e,t],i,s){[i,s]=this.screenToPageTranslation(i,s),this.x+=i/e,this.y+=s/t,this.fixAndSetPosition()}translate(e,t){this.#_(this.parentDimensions,e,t)}translateInPage(e,t){this.#u||=[this.x,this.y],this.#_(this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){this.#u||=[this.x,this.y];let[i,s]=this.parentDimensions;if(this.x+=e/i,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){let{x:l,y:u}=this.div.getBoundingClientRect();this.parent.findNewParent(this,l,u)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:r}=this,[c,a]=this.getBaseTranslation();o+=c,r+=a,this.div.style.left=`${(100*o).toFixed(2)}%`,this.div.style.top=`${(100*r).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!this.#u&&(this.#u[0]!==this.x||this.#u[1]!==this.y)}getBaseTranslation(){let[e,t]=this.parentDimensions,{_borderLineWidth:i}=n,s=i/e,o=i/t;switch(this.rotation){case 90:return[-s,o];case 180:return[s,o];case 270:return[s,-o];default:return[-s,-o]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){let[t,i]=this.pageDimensions,{x:s,y:o,width:r,height:c}=this;if(r*=t,c*=i,s*=t,o*=i,this._mustFixPosition)switch(e){case 0:s=Math.max(0,Math.min(t-r,s)),o=Math.max(0,Math.min(i-c,o));break;case 90:s=Math.max(0,Math.min(t-c,s)),o=Math.min(i,Math.max(r,o));break;case 180:s=Math.min(t,Math.max(r,s)),o=Math.min(i,Math.max(c,o));break;case 270:s=Math.min(t,Math.max(c,s)),o=Math.max(0,Math.min(i-r,o));break}this.x=s/=t,this.y=o/=i;let[a,l]=this.getBaseTranslation();s+=a,o+=l;let{style:u}=this.div;u.left=`${(100*s).toFixed(2)}%`,u.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}static#y(e,t,i){switch(i){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}screenToPageTranslation(e,t){return n.#y(e,t,this.parentRotation)}pageTranslationToScreen(e,t){return n.#y(e,t,360-this.parentRotation)}#w(e){switch(e){case 90:{let[t,i]=this.pageDimensions;return[0,-t/i,i/t,0]}case 180:return[-1,0,0,-1];case 270:{let[t,i]=this.pageDimensions;return[0,t/i,-i/t,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){let{parentScale:e,pageDimensions:[t,i]}=this,s=t*e,o=i*e;return ae.isCSSRoundSupported?[Math.round(s),Math.round(o)]:[s,o]}setDims(e,t){let[i,s]=this.parentDimensions;this.div.style.width=`${(100*e/i).toFixed(2)}%`,this.#s||(this.div.style.height=`${(100*t/s).toFixed(2)}%`)}fixDims(){let{style:e}=this.div,{height:t,width:i}=e,s=i.endsWith("%"),o=!this.#s&&t.endsWith("%");if(s&&o)return;let[r,c]=this.parentDimensions;s||(e.width=`${(100*parseFloat(i)/r).toFixed(2)}%`),!this.#s&&!o&&(e.height=`${(100*parseFloat(t)/c).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#D(){if(this.#o)return;this.#o=document.createElement("div"),this.#o.classList.add("resizers");let e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(let i of e){let s=document.createElement("div");this.#o.append(s),s.classList.add("resizer",i),s.setAttribute("data-resizer-name",i),s.addEventListener("pointerdown",this.#S.bind(this,i),{signal:t}),s.addEventListener("contextmenu",Be,{signal:t}),s.tabIndex=-1}this.div.prepend(this.#o)}#S(e,t){t.preventDefault();let{isMac:i}=ae.platform;if(t.button!==0||t.ctrlKey&&i)return;this.#n?.toggle(!1);let s=this._isDraggable;this._isDraggable=!1;let o=new AbortController,r=this._uiManager.combinedSignal(o);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#A.bind(this,e),{passive:!0,capture:!0,signal:r}),window.addEventListener("contextmenu",Be,{signal:r});let c=this.x,a=this.y,l=this.width,u=this.height,f=this.parent.div.style.cursor,d=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;let h=()=>{o.abort(),this.parent.togglePointerEvents(!0),this.#n?.toggle(!0),this._isDraggable=s,this.parent.div.style.cursor=f,this.div.style.cursor=d,this.#L(c,a,l,u)};window.addEventListener("pointerup",h,{signal:r}),window.addEventListener("blur",h,{signal:r})}#L(e,t,i,s){let o=this.x,r=this.y,c=this.width,a=this.height;o===e&&r===t&&c===i&&a===s||this.addCommands({cmd:()=>{this.width=c,this.height=a,this.x=o,this.y=r;let[l,u]=this.parentDimensions;this.setDims(l*c,u*a),this.fixAndSetPosition()},undo:()=>{this.width=i,this.height=s,this.x=e,this.y=t;let[l,u]=this.parentDimensions;this.setDims(l*i,u*s),this.fixAndSetPosition()},mustExec:!0})}#A(e,t){let[i,s]=this.parentDimensions,o=this.x,r=this.y,c=this.width,a=this.height,l=n.MIN_SIZE/i,u=n.MIN_SIZE/s,f=U=>Math.round(U*1e4)/1e4,d=this.#w(this.rotation),h=(U,Z)=>[d[0]*U+d[2]*Z,d[1]*U+d[3]*Z],p=this.#w(360-this.rotation),m=(U,Z)=>[p[0]*U+p[2]*Z,p[1]*U+p[3]*Z],v,g,C=!1,M=!1;switch(e){case"topLeft":C=!0,v=(U,Z)=>[0,0],g=(U,Z)=>[U,Z];break;case"topMiddle":v=(U,Z)=>[U/2,0],g=(U,Z)=>[U/2,Z];break;case"topRight":C=!0,v=(U,Z)=>[U,0],g=(U,Z)=>[0,Z];break;case"middleRight":M=!0,v=(U,Z)=>[U,Z/2],g=(U,Z)=>[0,Z/2];break;case"bottomRight":C=!0,v=(U,Z)=>[U,Z],g=(U,Z)=>[0,0];break;case"bottomMiddle":v=(U,Z)=>[U/2,Z],g=(U,Z)=>[U/2,0];break;case"bottomLeft":C=!0,v=(U,Z)=>[0,Z],g=(U,Z)=>[U,0];break;case"middleLeft":M=!0,v=(U,Z)=>[0,Z/2],g=(U,Z)=>[U,Z/2];break}let b=v(c,a),L=g(c,a),y=h(...L),w=f(o+y[0]),A=f(r+y[1]),_=1,S=1,[T,h1]=this.screenToPageTranslation(t.movementX,t.movementY);if([T,h1]=m(T/i,h1/s),C){let U=Math.hypot(c,a);_=S=Math.max(Math.min(Math.hypot(L[0]-b[0]-T,L[1]-b[1]-h1)/U,1/c,1/a),l/c,u/a)}else M?_=Math.max(l,Math.min(1,Math.abs(L[0]-b[0]-T)))/c:S=Math.max(u,Math.min(1,Math.abs(L[1]-b[1]-h1)))/a;let v1=f(c*_),C1=f(a*S);y=h(...g(v1,C1));let A1=w-y[0],K1=A-y[1];this.width=v1,this.height=C1,this.x=A1,this.y=K1,this.setDims(i*v1,s*C1),this.fixAndSetPosition()}altTextFinish(){this.#n?.finish()}addEditToolbar(){return N(this,null,function*(){return this._editToolbar||this.#d?this._editToolbar:(this._editToolbar=new i8(this),this.div.append(this._editToolbar.render()),this.#n&&(yield this._editToolbar.addAltText(this.#n)),this._editToolbar)})}removeEditToolbar(){this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,this.#n?.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}addAltTextButton(){return N(this,null,function*(){this.#n||(tm.initialize(n._l10nPromise),this.#n=new tm(this),this.#e&&(this.#n.data=this.#e,this.#e=null),yield this.addEditToolbar())})}get altTextData(){return this.#n?.data}set altTextData(e){this.#n&&(this.#n.data=e)}get guessedAltText(){return this.#n?.guessedText}setGuessedAltText(e){return N(this,null,function*(){yield this.#n?.setGuessedText(e)})}serializeAltText(e){return this.#n?.serialize(e)}hasAltText(){return!!this.#n&&!this.#n.isEmpty()}hasAltTextData(){return this.#n?.hasData()??!1}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=this.#i?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),this.#k();let[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);let[i,s]=this.getInitialTranslation();return this.translate(i,s),Bs(this,this.div,["pointerdown"]),this.div}pointerdown(e){let{isMac:t}=ae.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(this.#l=!0,this._isDraggable){this.#N(e);return}this.#x(e)}#x(e){let{isMac:t}=ae.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}#N(e){let t=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let i=new AbortController,s=this._uiManager.combinedSignal(i);if(t){this.div.classList.add("moving"),this.#m=e.clientX,this.#v=e.clientY;let r=c=>{let{clientX:a,clientY:l}=c,[u,f]=this.screenToPageTranslation(a-this.#m,l-this.#v);this.#m=a,this.#v=l,this._uiManager.dragSelectedEditors(u,f)};window.addEventListener("pointermove",r,{passive:!0,capture:!0,signal:s})}let o=()=>{i.abort(),t&&this.div.classList.remove("moving"),this.#l=!1,this._uiManager.endDragSession()||this.#x(e)};window.addEventListener("pointerup",o,{signal:s}),window.addEventListener("blur",o,{signal:s})}moveInDOM(){this.#h&&clearTimeout(this.#h),this.#h=setTimeout(()=>{this.#h=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(e,t,i){e.changeParent(this),this.x=t,this.y=i,this.fixAndSetPosition()}getRect(e,t,i=this.rotation){let s=this.parentScale,[o,r]=this.pageDimensions,[c,a]=this.pageTranslation,l=e/s,u=t/s,f=this.x*o,d=this.y*r,h=this.width*o,p=this.height*r;switch(i){case 0:return[f+l+c,r-d-u-p+a,f+l+h+c,r-d-u+a];case 90:return[f+u+c,r-d+l+a,f+u+p+c,r-d+l+h+a];case 180:return[f-l-h+c,r-d+u+a,f-l+c,r-d+u+p+a];case 270:return[f-u-p+c,r-d-l-h+a,f-u+c,r-d-l+a];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){let[i,s,o,r]=e,c=o-i,a=r-s;switch(this.rotation){case 0:return[i,t-r,c,a];case 90:return[i,t-s,a,c];case 180:return[o,t-s,c,a];case 270:return[o,t-r,a,c];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#d=!0}disableEditMode(){this.#d=!1}isInEditMode(){return this.#d}shouldGetKeyboardEvents(){return this.#p}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}#k(){if(this.#a||!this.div)return;this.#a=new AbortController;let e=this._uiManager.combinedSignal(this.#a);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}rebuild(){this.#k()}rotate(e){}serialize(e=!1,t=null){O1("An editor must be serializable")}static deserialize(e,t,i){let s=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:i});s.rotation=e.rotation,s.#e=e.accessibilityData;let[o,r]=s.pageDimensions,[c,a,l,u]=s.getRectInCurrentCoords(e.rect,r);return s.x=c/o,s.y=a/r,s.width=l/o,s.height=u/r,s}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#a?.abort(),this.#a=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#h&&(clearTimeout(this.#h),this.#h=null),this.#R(),this.removeEditToolbar(),this.#g){for(let e of this.#g.values())clearTimeout(e);this.#g=null}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#D(),this.#o.classList.remove("hidden"),Bs(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),this.#c={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};let t=this.#o.children;if(!this.#t){this.#t=Array.from(t);let r=this.#z.bind(this),c=this.#b.bind(this),a=this._uiManager._signal;for(let l of this.#t){let u=l.getAttribute("data-resizer-name");l.setAttribute("role","spinbutton"),l.addEventListener("keydown",r,{signal:a}),l.addEventListener("blur",c,{signal:a}),l.addEventListener("focus",this.#E.bind(this,u),{signal:a}),l.setAttribute("data-l10n-id",n._l10nResizer[u])}}let i=this.#t[0],s=0;for(let r of t){if(r===i)break;s++}let o=(360-this.rotation+this.parentRotation)%360/90*(this.#t.length/4);if(o!==s){if(o<s)for(let c=0;c<s-o;c++)this.#o.append(this.#o.firstChild);else if(o>s)for(let c=0;c<o-s;c++)this.#o.firstChild.before(this.#o.lastChild);let r=0;for(let c of t){let l=this.#t[r++].getAttribute("data-resizer-name");c.setAttribute("data-l10n-id",n._l10nResizer[l])}}this.#T(0),this.#p=!0,this.#o.firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}#z(e){n._resizerKeyboardManager.exec(this,e)}#b(e){this.#p&&e.relatedTarget?.parentNode!==this.#o&&this.#R()}#E(e){this.#f=this.#p?e:""}#T(e){if(this.#t)for(let t of this.#t)t.tabIndex=e}_resizeWithKeyboard(e,t){this.#p&&this.#A(this.#f,{movementX:e,movementY:t})}#R(){if(this.#p=!1,this.#T(-1),this.#c){let{savedX:e,savedY:t,savedWidth:i,savedHeight:s}=this.#c;this.#L(e,t,i,s),this.#c=null}}_stopResizingWithKeyboard(){this.#R(),this.div.focus()}select(){if(this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#n?.toggleAltTextBadge(!1)}unselect(){this.#o?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#n?.toggleAltTextBadge(!0)}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return this.#r}set isEditing(e){this.#r=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){this.#s=!0;let i=e/t,{style:s}=this.div;s.aspectRatio=i,s.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){this.#g||=new Map;let{action:i}=e,s=this.#g.get(i);s&&clearTimeout(s),s=setTimeout(()=>{this._reportTelemetry(e),this.#g.delete(i),this.#g.size===0&&(this.#g=null)},n._telemetryTimeout),this.#g.set(i,s);return}e.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#i=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#i=!0}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){let i=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),i.before(t)}return t}resetAnnotationElement(e){let{firstChild:t}=e.container;t.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}},l8=class extends m1{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}},nm=3285377520,Ve=4294901760,v2=65535,js=class{constructor(e){this.h1=e?e&4294967295:nm,this.h2=e?e&4294967295:nm}update(e){let t,i;if(typeof e=="string"){t=new Uint8Array(e.length*2),i=0;for(let m=0,v=e.length;m<v;m++){let g=e.charCodeAt(m);g<=255?t[i++]=g:(t[i++]=g>>>8,t[i++]=g&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),i=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");let s=i>>2,o=i-s*4,r=new Uint32Array(t.buffer,0,s),c=0,a=0,l=this.h1,u=this.h2,f=3432918353,d=461845907,h=f&v2,p=d&v2;for(let m=0;m<s;m++)m&1?(c=r[m],c=c*f&Ve|c*h&v2,c=c<<15|c>>>17,c=c*d&Ve|c*p&v2,l^=c,l=l<<13|l>>>19,l=l*5+3864292196):(a=r[m],a=a*f&Ve|a*h&v2,a=a<<15|a>>>17,a=a*d&Ve|a*p&v2,u^=a,u=u<<13|u>>>19,u=u*5+3864292196);switch(c=0,o){case 3:c^=t[s*4+2]<<16;case 2:c^=t[s*4+1]<<8;case 1:c^=t[s*4],c=c*f&Ve|c*h&v2,c=c<<15|c>>>17,c=c*d&Ve|c*p&v2,s&1?l^=c:u^=c}this.h1=l,this.h2=u}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Ve|e*36045&v2,t=t*4283543511&Ve|((t<<16|e>>>16)*2950163797&Ve)>>>16,e^=t>>>1,e=e*444984403&Ve|e*60499&v2,t=t*3301882366&Ve|((t<<16|e>>>16)*3120437893&Ve)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}},u8=Object.freeze({map:null,hash:"",transfer:void 0}),x4=class{#e=!1;#t=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){let i=this.#n.get(e);return i===void 0?t:Object.assign(t,i)}getRawValue(e){return this.#n.get(e)}remove(e){if(this.#n.delete(e),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(let t of this.#n.values())if(t instanceof m1)return;this.onAnnotationEditor(null)}}setValue(e,t){let i=this.#n.get(e),s=!1;if(i!==void 0)for(let[o,r]of Object.entries(t))i[o]!==r&&(s=!0,i[o]=r);else s=!0,this.#n.set(e,t);s&&this.#i(),t instanceof m1&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return this.#n.has(e)}getAll(){return this.#n.size>0?g5(this.#n):null}setAll(e){for(let[t,i]of Object.entries(e))this.setValue(t,i)}get size(){return this.#n.size}#i(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Us(this)}get serializable(){if(this.#n.size===0)return u8;let e=new Map,t=new js,i=[],s=Object.create(null),o=!1;for(let[r,c]of this.#n){let a=c instanceof m1?c.serialize(!1,s):c;a&&(e.set(r,a),t.update(`${r}:${JSON.stringify(a)}`),o||=!!a.bitmap)}if(o)for(let r of e.values())r.bitmap&&i.push(r.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:i}:u8}get editorStats(){let e=null,t=new Map;for(let i of this.#n.values()){if(!(i instanceof m1))continue;let s=i.telemetryFinalData;if(!s)continue;let{type:o}=s;t.has(o)||t.set(o,Object.getPrototypeOf(i).constructor),e||=Object.create(null);let r=e[o]||=new Map;for(let[c,a]of Object.entries(s)){if(c==="type")continue;let l=r.get(c);l||(l=new Map,r.set(c,l));let u=l.get(a)??0;l.set(a,u+1)}}for(let[i,s]of t)e[i]=s.computeTelemetryFinalData(e[i]);return e}resetModifiedIds(){this.#t=null}get modifiedIds(){if(this.#t)return this.#t;let e=[];for(let t of this.#n.values())!(t instanceof m1)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return this.#t={ids:new Set(e),hash:e.join(",")}}},Us=class extends x4{#e;constructor(e){super();let{map:t,hash:i,transfer:s}=e.serializable,o=structuredClone(t,s?{transfer:s}:null);this.#e={map:o,hash:i,transfer:s}}get print(){O1("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}get modifiedIds(){return c1(this,"modifiedIds",{ids:new Set,hash:""})}},f8=class{#e=new Set;constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));let t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(let e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}loadSystemFont(i){return N(this,arguments,function*({systemFontInfo:e,_inspectFont:t}){if(!(!e||this.#e.has(e.loadedName))){if(U1(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){let{loadedName:s,src:o,style:r}=e,c=new FontFace(s,o,r);this.addNativeFontFace(c);try{yield c.load(),this.#e.add(s),t?.(e)}catch{n1(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(c)}return}O1("Not implemented: loadSystemFont without the Font Loading API.")}})}bind(e){return N(this,null,function*(){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){yield this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){let i=e.createNativeFontFace();if(i){this.addNativeFontFace(i);try{yield i.loaded}catch(s){throw n1(`Failed to load font '${i.family}': '${s}'.`),e.disableFontFace=!0,s}}return}let t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;yield new Promise(i=>{let s=this._queueLoadingCallback(i);this._prepareFontLoadEvent(e,s)})}})}get isFontLoadingAPISupported(){let e=!!this._document?.fonts;return c1(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(ce||typeof navigator<"u"&&typeof navigator?.userAgent=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),c1(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(U1(!s.done,"completeRequest() cannot be called twice."),s.done=!0;i.length>0&&i[0].done;){let o=i.shift();setTimeout(o.callback,0)}}let{loadingRequests:i}=this,s={done:!1,complete:t,callback:e};return i.push(s),s}get _loadTestFont(){let e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return c1(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function i(b,L){return b.charCodeAt(L)<<24|b.charCodeAt(L+1)<<16|b.charCodeAt(L+2)<<8|b.charCodeAt(L+3)&255}function s(b,L,y,w){let A=b.substring(0,L),_=b.substring(L+y);return A+w+_}let o,r,c=this._document.createElement("canvas");c.width=1,c.height=1;let a=c.getContext("2d"),l=0;function u(b,L){if(++l>30){n1("Load test font never loaded."),L();return}if(a.font="30px "+b,a.fillText(".",0,20),a.getImageData(0,0,1,1).data[3]>0){L();return}setTimeout(u.bind(null,b,L))}let f=`lt${Date.now()}${this.loadTestFontId++}`,d=this._loadTestFont;d=s(d,976,f.length,f);let p=16,m=1482184792,v=i(d,p);for(o=0,r=f.length-3;o<r;o+=4)v=v-m+i(f,o)|0;o<f.length&&(v=v-m+i(f+"XXX",o)|0),d=s(d,p,4,iS(v));let g=`url(data:font/opentype;base64,${btoa(d)});`,C=`@font-face {font-family:"${f}";src:${g}}`;this.insertRule(C);let M=this._document.createElement("div");M.style.visibility="hidden",M.style.width=M.style.height="10px",M.style.position="absolute",M.style.top=M.style.left="0px";for(let b of[e.loadedName,f]){let L=this._document.createElement("span");L.textContent="Hi",L.style.fontFamily=b,M.append(L)}this._document.body.append(M),u(f,()=>{M.remove(),t.complete()})}},d8=class{constructor(e,{disableFontFace:t=!1,inspectFont:i=null}){this.compiledGlyphs=Object.create(null);for(let s in e)this[s]=e[s];this.disableFontFace=t===!0,this._inspectFont=i}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{let t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;let e=mm(this.data),t=`url(data:${this.mimetype};base64,${btoa(e)});`,i;if(!this.cssFontInfo)i=`@font-face {font-family:"${this.loadedName}";src:${t}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),i=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${t}}`}return this._inspectFont?.(this,t),i}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];let i;try{i=e.get(this.loadedName+"_path_"+t)}catch(o){n1(`getPathGenerator - ignoring character: "${o}".`)}if(!Array.isArray(i)||i.length===0)return this.compiledGlyphs[t]=function(o,r){};let s=[];for(let o=0,r=i.length;o<r;)switch(i[o++]){case V2.BEZIER_CURVE_TO:{let[c,a,l,u,f,d]=i.slice(o,o+6);s.push(h=>h.bezierCurveTo(c,a,l,u,f,d)),o+=6}break;case V2.MOVE_TO:{let[c,a]=i.slice(o,o+2);s.push(l=>l.moveTo(c,a)),o+=2}break;case V2.LINE_TO:{let[c,a]=i.slice(o,o+2);s.push(l=>l.lineTo(c,a)),o+=2}break;case V2.QUADRATIC_CURVE_TO:{let[c,a,l,u]=i.slice(o,o+4);s.push(f=>f.quadraticCurveTo(c,a,l,u)),o+=4}break;case V2.RESTORE:s.push(c=>c.restore());break;case V2.SAVE:s.push(c=>c.save());break;case V2.SCALE:U1(s.length===2,"Scale command is only valid at the third position.");break;case V2.TRANSFORM:{let[c,a,l,u,f,d]=i.slice(o,o+6);s.push(h=>h.transform(c,a,l,u,f,d)),o+=6}break;case V2.TRANSLATE:{let[c,a]=i.slice(o,o+2);s.push(l=>l.translate(c,a)),o+=2}break}return this.compiledGlyphs[t]=function(r,c){s[0](r),s[1](r),r.scale(c,-c);for(let a=2,l=s.length;a<l;a++)s[a](r)}}};ce&&(Ds=Promise.withResolvers(),Ns=null,N(void 0,null,function*(){let e=yield import("./chunk-L2HEV66R.js"),t=yield import("./chunk-BMBYILCS.js"),i=yield import("./chunk-ALIQTIYY.js"),s=yield import("./chunk-NYZOWURK.js"),o,r;return new Map(Object.entries({fs:e,http:t,https:i,url:s,canvas:o,path2d:r}))}).then(e=>{Ns=e,Ds.resolve()},e=>{n1(`loadPackages: ${e}`),Ns=new Map,Ds.resolve()}));var Ds,Ns,C2=class{static get promise(){return Ds.promise}static get(e){return Ns?.get(e)}},vm=function(n){return C2.get("fs").promises.readFile(n).then(t=>new Uint8Array(t))},h8=class extends Is{},p8=class extends ks{_createCanvas(e,t){return C2.get("canvas").createCanvas(e,t)}},m8=class extends Ps{_fetchData(e,t){return vm(e).then(i=>({cMapData:i,compressionType:t}))}},g8=class extends Rs{_fetchData(e){return vm(e)}},de={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function v8(n,e){if(!e)return;let t=e[2]-e[0],i=e[3]-e[1],s=new Path2D;s.rect(e[0],e[1],t,i),n.clip(s)}var S4=class{getPattern(){O1("Abstract method `getPattern` called.")}},C8=class extends S4{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(let i of this._colorStops)t.addColorStop(i[0],i[1]);return t}getPattern(e,t,i,s){let o;if(s===de.STROKE||s===de.FILL){let r=t.current.getClippedPathBoundingBox(s,x1(e))||[0,0,0,0],c=Math.ceil(r[2]-r[0])||1,a=Math.ceil(r[3]-r[1])||1,l=t.cachedCanvases.getCanvas("pattern",c,a,!0),u=l.context;u.clearRect(0,0,u.canvas.width,u.canvas.height),u.beginPath(),u.rect(0,0,u.canvas.width,u.canvas.height),u.translate(-r[0],-r[1]),i=k.transform(i,[1,0,0,1,r[0],r[1]]),u.transform(...t.baseTransform),this.matrix&&u.transform(...this.matrix),v8(u,this._bbox),u.fillStyle=this._createGradient(u),u.fill(),o=e.createPattern(l.canvas,"no-repeat");let f=new DOMMatrix(i);o.setTransform(f)}else v8(e,this._bbox),o=this._createGradient(e);return o}};function Za(n,e,t,i,s,o,r,c){let a=e.coords,l=e.colors,u=n.data,f=n.width*4,d;a[t+1]>a[i+1]&&(d=t,t=i,i=d,d=o,o=r,r=d),a[i+1]>a[s+1]&&(d=i,i=s,s=d,d=r,r=c,c=d),a[t+1]>a[i+1]&&(d=t,t=i,i=d,d=o,o=r,r=d);let h=(a[t]+e.offsetX)*e.scaleX,p=(a[t+1]+e.offsetY)*e.scaleY,m=(a[i]+e.offsetX)*e.scaleX,v=(a[i+1]+e.offsetY)*e.scaleY,g=(a[s]+e.offsetX)*e.scaleX,C=(a[s+1]+e.offsetY)*e.scaleY;if(p>=C)return;let M=l[o],b=l[o+1],L=l[o+2],y=l[r],w=l[r+1],A=l[r+2],_=l[c],S=l[c+1],T=l[c+2],h1=Math.round(p),v1=Math.round(C),C1,A1,K1,U,Z,r0,c0,a0;for(let ue=h1;ue<=v1;ue++){if(ue<v){let F1=ue<p?0:(p-ue)/(p-v);C1=h-(h-m)*F1,A1=M-(M-y)*F1,K1=b-(b-w)*F1,U=L-(L-A)*F1}else{let F1;ue>C?F1=1:v===C?F1=0:F1=(v-ue)/(v-C),C1=m-(m-g)*F1,A1=y-(y-_)*F1,K1=w-(w-S)*F1,U=A-(A-T)*F1}let q1;ue<p?q1=0:ue>C?q1=1:q1=(p-ue)/(p-C),Z=h-(h-g)*q1,r0=M-(M-_)*q1,c0=b-(b-S)*q1,a0=L-(L-T)*q1;let l0=Math.round(Math.min(C1,Z)),Dt=Math.round(Math.max(C1,Z)),Q2=f*ue+l0*4;for(let F1=l0;F1<=Dt;F1++)q1=(C1-F1)/(C1-Z),q1<0?q1=0:q1>1&&(q1=1),u[Q2++]=A1-(A1-r0)*q1|0,u[Q2++]=K1-(K1-c0)*q1|0,u[Q2++]=U-(U-a0)*q1|0,u[Q2++]=255}}function pS(n,e,t){let i=e.coords,s=e.colors,o,r;switch(e.type){case"lattice":let c=e.verticesPerRow,a=Math.floor(i.length/c)-1,l=c-1;for(o=0;o<a;o++){let u=o*c;for(let f=0;f<l;f++,u++)Za(n,t,i[u],i[u+1],i[u+c],s[u],s[u+1],s[u+c]),Za(n,t,i[u+c+1],i[u+1],i[u+c],s[u+c+1],s[u+1],s[u+c])}break;case"triangles":for(o=0,r=i.length;o<r;o+=3)Za(n,t,i[o],i[o+1],i[o+2],s[o],s[o+1],s[o+2]);break;default:throw new Error("illegal figure")}}var b8=class extends S4{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,i){let c=Math.floor(this._bounds[0]),a=Math.floor(this._bounds[1]),l=Math.ceil(this._bounds[2])-c,u=Math.ceil(this._bounds[3])-a,f=Math.min(Math.ceil(Math.abs(l*e[0]*1.1)),3e3),d=Math.min(Math.ceil(Math.abs(u*e[1]*1.1)),3e3),h=l/f,p=u/d,m={coords:this._coords,colors:this._colors,offsetX:-c,offsetY:-a,scaleX:1/h,scaleY:1/p},v=f+2*2,g=d+2*2,C=i.getCanvas("mesh",v,g,!1),M=C.context,b=M.createImageData(f,d);if(t){let y=b.data;for(let w=0,A=y.length;w<A;w+=4)y[w]=t[0],y[w+1]=t[1],y[w+2]=t[2],y[w+3]=255}for(let y of this._figures)pS(b,y,m);return M.putImageData(b,2,2),{canvas:C.canvas,offsetX:c-2*h,offsetY:a-2*p,scaleX:h,scaleY:p}}getPattern(e,t,i,s){v8(e,this._bbox);let o;if(s===de.SHADING)o=k.singularValueDecompose2dScale(x1(e));else if(o=k.singularValueDecompose2dScale(t.baseTransform),this.matrix){let c=k.singularValueDecompose2dScale(this.matrix);o=[o[0]*c[0],o[1]*c[1]]}let r=this._createMeshCanvas(o,s===de.SHADING?null:this._background,t.cachedCanvases);return s!==de.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(r.offsetX,r.offsetY),e.scale(r.scaleX,r.scaleY),e.createPattern(r.canvas,"no-repeat")}},M8=class extends S4{getPattern(){return"hotpink"}};function mS(n){switch(n[0]){case"RadialAxial":return new C8(n);case"Mesh":return new b8(n);case"Dummy":return new M8}throw new Error(`Unknown IR type: ${n[0]}`)}var im={COLORED:1,UNCOLORED:2},gS=(()=>{class n{static MAX_PATTERN_SIZE=3e3;constructor(t,i,s,o,r){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=i,this.ctx=s,this.canvasGraphicsFactory=o,this.baseTransform=r}createPatternCanvas(t){let i=this.operatorList,s=this.bbox,o=this.xstep,r=this.ystep,c=this.paintType,a=this.tilingType,l=this.color,u=this.canvasGraphicsFactory;f6("TilingType: "+a);let f=s[0],d=s[1],h=s[2],p=s[3],m=k.singularValueDecompose2dScale(this.matrix),v=k.singularValueDecompose2dScale(this.baseTransform),g=[m[0]*v[0],m[1]*v[1]],C=this.getSizeAndScale(o,this.ctx.canvas.width,g[0]),M=this.getSizeAndScale(r,this.ctx.canvas.height,g[1]),b=t.cachedCanvases.getCanvas("pattern",C.size,M.size,!0),L=b.context,y=u.createCanvasGraphics(L);y.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(y,c,l);let w=f,A=d,_=h,S=p;return f<0&&(w=0,_+=Math.abs(f)),d<0&&(A=0,S+=Math.abs(d)),L.translate(-(C.scale*w),-(M.scale*A)),y.transform(C.scale,0,0,M.scale,0,0),L.save(),this.clipBbox(y,w,A,_,S),y.baseTransform=x1(y.ctx),y.executeOperatorList(i),y.endDrawing(),{canvas:b.canvas,scaleX:C.scale,scaleY:M.scale,offsetX:w,offsetY:A}}getSizeAndScale(t,i,s){t=Math.abs(t);let o=Math.max(n.MAX_PATTERN_SIZE,i),r=Math.ceil(t*s);return r>=o?r=o:s=r/t,{scale:s,size:r}}clipBbox(t,i,s,o,r){let c=o-i,a=r-s;t.ctx.rect(i,s,c,a),t.current.updateRectMinMax(x1(t.ctx),[i,s,o,r]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,i,s){let o=t.ctx,r=t.current;switch(i){case im.COLORED:let c=this.ctx;o.fillStyle=c.fillStyle,o.strokeStyle=c.strokeStyle,r.fillColor=c.fillStyle,r.strokeColor=c.strokeStyle;break;case im.UNCOLORED:let a=k.makeHexColor(s[0],s[1],s[2]);o.fillStyle=a,o.strokeStyle=a,r.fillColor=a,r.strokeColor=a;break;default:throw new Xa(`Unsupported paint type: ${i}`)}}getPattern(t,i,s,o){let r=s;o!==de.SHADING&&(r=k.transform(r,i.baseTransform),this.matrix&&(r=k.transform(r,this.matrix)));let c=this.createPatternCanvas(i),a=new DOMMatrix(r);a=a.translate(c.offsetX,c.offsetY),a=a.scale(1/c.scaleX,1/c.scaleY);let l=t.createPattern(c.canvas,"repeat");return l.setTransform(a),l}}return n})();function vS({src:n,srcPos:e=0,dest:t,width:i,height:s,nonBlackColor:o=4294967295,inverseDecode:r=!1}){let c=ae.isLittleEndian?4278190080:255,[a,l]=r?[o,c]:[c,o],u=i>>3,f=i&7,d=n.length;t=new Uint32Array(t.buffer);let h=0;for(let p=0;p<s;p++){for(let v=e+u;e<v;e++){let g=e<d?n[e]:255;t[h++]=g&128?l:a,t[h++]=g&64?l:a,t[h++]=g&32?l:a,t[h++]=g&16?l:a,t[h++]=g&8?l:a,t[h++]=g&4?l:a,t[h++]=g&2?l:a,t[h++]=g&1?l:a}if(f===0)continue;let m=e<d?n[e++]:255;for(let v=0;v<f;v++)t[h++]=m&1<<7-v?l:a}return{srcPos:e,destPos:h}}var sm=16,om=100,CS=15,rm=10,cm=1e3,ye=16;function bS(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(i,s){e.translate(i,s),this.__originalTranslate(i,s)},n.scale=function(i,s){e.scale(i,s),this.__originalScale(i,s)},n.transform=function(i,s,o,r,c,a){e.transform(i,s,o,r,c,a),this.__originalTransform(i,s,o,r,c,a)},n.setTransform=function(i,s,o,r,c,a){e.setTransform(i,s,o,r,c,a),this.__originalSetTransform(i,s,o,r,c,a)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(i){e.rotate(i),this.__originalRotate(i)},n.clip=function(i){e.clip(i),this.__originalClip(i)},n.moveTo=function(t,i){e.moveTo(t,i),this.__originalMoveTo(t,i)},n.lineTo=function(t,i){e.lineTo(t,i),this.__originalLineTo(t,i)},n.bezierCurveTo=function(t,i,s,o,r,c){e.bezierCurveTo(t,i,s,o,r,c),this.__originalBezierCurveTo(t,i,s,o,r,c)},n.rect=function(t,i,s,o){e.rect(t,i,s,o),this.__originalRect(t,i,s,o)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}var y8=class{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,i){let s;return this.cache[e]!==void 0?(s=this.cache[e],this.canvasFactory.reset(s,t,i)):(s=this.canvasFactory.create(t,i),this.cache[e]=s),s}delete(e){delete this.cache[e]}clear(){for(let e in this.cache){let t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}};function Ls(n,e,t,i,s,o,r,c,a,l){let[u,f,d,h,p,m]=x1(n);if(f===0&&d===0){let C=r*u+p,M=Math.round(C),b=c*h+m,L=Math.round(b),y=(r+a)*u+p,w=Math.abs(Math.round(y)-M)||1,A=(c+l)*h+m,_=Math.abs(Math.round(A)-L)||1;return n.setTransform(Math.sign(u),0,0,Math.sign(h),M,L),n.drawImage(e,t,i,s,o,0,0,w,_),n.setTransform(u,f,d,h,p,m),[w,_]}if(u===0&&h===0){let C=c*d+p,M=Math.round(C),b=r*f+m,L=Math.round(b),y=(c+l)*d+p,w=Math.abs(Math.round(y)-M)||1,A=(r+a)*f+m,_=Math.abs(Math.round(A)-L)||1;return n.setTransform(0,Math.sign(f),Math.sign(d),0,M,L),n.drawImage(e,t,i,s,o,0,0,_,w),n.setTransform(u,f,d,h,p,m),[_,w]}n.drawImage(e,t,i,s,o,r,c,a,l);let v=Math.hypot(u,f),g=Math.hypot(d,h);return[v*a,g*l]}function MS(n){let{width:e,height:t}=n;if(e>cm||t>cm)return null;let i=1e3,s=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),o=e+1,r=new Uint8Array(o*(t+1)),c,a,l,u=e+7&-8,f=new Uint8Array(u*t),d=0;for(let g of n.data){let C=128;for(;C>0;)f[d++]=g&C?0:255,C>>=1}let h=0;for(d=0,f[d]!==0&&(r[0]=1,++h),a=1;a<e;a++)f[d]!==f[d+1]&&(r[a]=f[d]?2:1,++h),d++;for(f[d]!==0&&(r[a]=2,++h),c=1;c<t;c++){d=c*u,l=c*o,f[d-u]!==f[d]&&(r[l]=f[d]?1:8,++h);let g=(f[d]?4:0)+(f[d-u]?8:0);for(a=1;a<e;a++)g=(g>>2)+(f[d+1]?4:0)+(f[d-u+1]?8:0),s[g]&&(r[l+a]=s[g],++h),d++;if(f[d-u]!==f[d]&&(r[l+a]=f[d]?2:4,++h),h>i)return null}for(d=u*(t-1),l=c*o,f[d]!==0&&(r[l]=8,++h),a=1;a<e;a++)f[d]!==f[d+1]&&(r[l+a]=f[d]?4:8,++h),d++;if(f[d]!==0&&(r[l+a]=4,++h),h>i)return null;let p=new Int32Array([0,o,-1,0,-o,0,0,0,1]),m=new Path2D;for(c=0;h&&c<=t;c++){let g=c*o,C=g+e;for(;g<C&&!r[g];)g++;if(g===C)continue;m.moveTo(g%o,c);let M=g,b=r[g];do{let L=p[b];do g+=L;while(!r[g]);let y=r[g];y!==5&&y!==10?(b=y,r[g]=0):(b=y&51*b>>4,r[g]&=b>>2|b<<2),m.lineTo(g%o,g/o|0),r[g]||--h}while(M!==g);--c}return f=null,r=null,function(g){g.save(),g.scale(1/e,-1/t),g.translate(0,-t),g.fill(m),g.beginPath(),g.restore()}}var $s=class{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=pm,this.textMatrixScale=1,this.fontMatrix=Ka,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=re.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){let e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,i){[t,i]=k.applyTransform([t,i],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,i),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,i)}updateRectMinMax(e,t){let i=k.applyTransform(t,e),s=k.applyTransform(t.slice(2),e),o=k.applyTransform([t[0],t[3]],e),r=k.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,i[0],s[0],o[0],r[0]),this.minY=Math.min(this.minY,i[1],s[1],o[1],r[1]),this.maxX=Math.max(this.maxX,i[0],s[0],o[0],r[0]),this.maxY=Math.max(this.maxY,i[1],s[1],o[1],r[1])}updateScalingPathMinMax(e,t){k.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,i,s,o,r,c,a,l,u){let f=k.bezierBoundingBox(t,i,s,o,r,c,a,l,u);u||this.updateRectMinMax(e,f)}getPathBoundingBox(e=de.FILL,t=null){let i=[this.minX,this.minY,this.maxX,this.maxY];if(e===de.STROKE){t||O1("Stroke bounding box must include transform.");let s=k.singularValueDecompose2dScale(t),o=s[0]*this.lineWidth/2,r=s[1]*this.lineWidth/2;i[0]-=o,i[1]-=r,i[2]+=o,i[3]+=r}return i}updateClipFromPath(){let e=k.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=de.FILL,t=null){return k.intersect(this.clipBox,this.getPathBoundingBox(e,t))}};function am(n,e){if(typeof ImageData<"u"&&e instanceof ImageData){n.putImageData(e,0,0);return}let t=e.height,i=e.width,s=t%ye,o=(t-s)/ye,r=s===0?o:o+1,c=n.createImageData(i,ye),a=0,l,u=e.data,f=c.data,d,h,p,m;if(e.kind===Es.GRAYSCALE_1BPP){let v=u.byteLength,g=new Uint32Array(f.buffer,0,f.byteLength>>2),C=g.length,M=i+7>>3,b=4294967295,L=ae.isLittleEndian?4278190080:255;for(d=0;d<r;d++){for(p=d<o?ye:s,l=0,h=0;h<p;h++){let y=v-a,w=0,A=y>M?i:y*8-7,_=A&-8,S=0,T=0;for(;w<_;w+=8)T=u[a++],g[l++]=T&128?b:L,g[l++]=T&64?b:L,g[l++]=T&32?b:L,g[l++]=T&16?b:L,g[l++]=T&8?b:L,g[l++]=T&4?b:L,g[l++]=T&2?b:L,g[l++]=T&1?b:L;for(;w<A;w++)S===0&&(T=u[a++],S=128),g[l++]=T&S?b:L,S>>=1}for(;l<C;)g[l++]=0;n.putImageData(c,0,d*ye)}}else if(e.kind===Es.RGBA_32BPP){for(h=0,m=i*ye*4,d=0;d<o;d++)f.set(u.subarray(a,a+m)),a+=m,n.putImageData(c,0,h),h+=ye;d<r&&(m=i*s*4,f.set(u.subarray(a,a+m)),n.putImageData(c,0,h))}else if(e.kind===Es.RGB_24BPP)for(p=ye,m=i*p,d=0;d<r;d++){for(d>=o&&(p=s,m=i*p),l=0,h=m;h--;)f[l++]=u[a++],f[l++]=u[a++],f[l++]=u[a++],f[l++]=255;n.putImageData(c,0,d*ye)}else throw new Error(`bad image kind: ${e.kind}`)}function lm(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}let t=e.height,i=e.width,s=t%ye,o=(t-s)/ye,r=s===0?o:o+1,c=n.createImageData(i,ye),a=0,l=e.data,u=c.data;for(let f=0;f<r;f++){let d=f<o?ye:s;({srcPos:a}=vS({src:l,srcPos:a,dest:u,width:i,height:d,nonBlackColor:0})),n.putImageData(c,0,f*ye)}}function g4(n,e){let t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(let i of t)n[i]!==void 0&&(e[i]=n[i]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function ws(n){if(n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0),!ce){let{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}}function um(n,e){if(e)return!0;let t=k.singularValueDecompose2dScale(n);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);let i=Math.fround((globalThis.devicePixelRatio||1)*zt.PDF_TO_CSS_UNITS);return t[0]<=i&&t[1]<=i}var yS=["butt","round","square"],_S=["miter","round","bevel"],LS={},fm={},un=class n{constructor(e,t,i,s,o,{optionalContentConfig:r,markedContentStack:c=null},a,l){this.ctx=e,this.current=new $s(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=i,this.canvasFactory=s,this.filterFactory=o,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=r,this.cachedCanvases=new y8(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=a,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=l,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:i=!1,background:s=null}){let o=this.ctx.canvas.width,r=this.ctx.canvas.height,c=this.ctx.fillStyle;if(this.ctx.fillStyle=s||"#ffffff",this.ctx.fillRect(0,0,o,r),this.ctx.fillStyle=c,i){let a=this.cachedCanvases.getCanvas("transparent",o,r);this.compositeCtx=this.ctx,this.transparentCanvas=a.canvas,this.ctx=a.context,this.ctx.save(),this.ctx.transform(...x1(this.compositeCtx))}this.ctx.save(),ws(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=x1(this.ctx)}executeOperatorList(e,t,i,s){let o=e.argsArray,r=e.fnArray,c=t||0,a=o.length;if(a===c)return c;let l=a-c>rm&&typeof i=="function",u=l?Date.now()+CS:0,f=0,d=this.commonObjs,h=this.objs,p;for(;;){if(s!==void 0&&c===s.nextBreakPoint)return s.breakIt(c,i),c;if(p=r[c],p!==Xe.dependency)this[p].apply(this,o[c]);else for(let m of o[c]){let v=m.startsWith("g_")?d:h;if(!v.has(m))return v.get(m,i),c}if(c++,c===a)return c;if(l&&++f>rm){if(Date.now()>u)return i(),c;f=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(let e of this._cachedBitmapsMap.values()){for(let t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){let e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){let t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}_scaleImage(e,t){let i=e.width,s=e.height,o=Math.max(Math.hypot(t[0],t[1]),1),r=Math.max(Math.hypot(t[2],t[3]),1),c=i,a=s,l="prescale1",u,f;for(;o>2&&c>1||r>2&&a>1;){let d=c,h=a;o>2&&c>1&&(d=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c/2),o/=c/d),r>2&&a>1&&(h=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a)/2,r/=a/h),u=this.cachedCanvases.getCanvas(l,d,h),f=u.context,f.clearRect(0,0,d,h),f.drawImage(e,0,0,c,a,0,0,d,h),e=u.canvas,c=d,a=h,l=l==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:c,paintHeight:a}}_createMaskCanvas(e){let t=this.ctx,{width:i,height:s}=e,o=this.current.fillColor,r=this.current.patternFill,c=x1(t),a,l,u,f;if((e.bitmap||e.data)&&e.count>1){let A=e.bitmap||e.data.buffer;l=JSON.stringify(r?c:[c.slice(0,4),o]),a=this._cachedBitmapsMap.get(A),a||(a=new Map,this._cachedBitmapsMap.set(A,a));let _=a.get(l);if(_&&!r){let S=Math.round(Math.min(c[0],c[2])+c[4]),T=Math.round(Math.min(c[1],c[3])+c[5]);return{canvas:_,offsetX:S,offsetY:T}}u=_}u||(f=this.cachedCanvases.getCanvas("maskCanvas",i,s),lm(f.context,e));let d=k.transform(c,[1/i,0,0,-1/s,0,0]);d=k.transform(d,[1,0,0,1,0,-s]);let[h,p,m,v]=k.getAxialAlignedBoundingBox([0,0,i,s],d),g=Math.round(m-h)||1,C=Math.round(v-p)||1,M=this.cachedCanvases.getCanvas("fillCanvas",g,C),b=M.context,L=h,y=p;b.translate(-L,-y),b.transform(...d),u||(u=this._scaleImage(f.canvas,B2(b)),u=u.img,a&&r&&a.set(l,u)),b.imageSmoothingEnabled=um(x1(b),e.interpolate),Ls(b,u,0,0,u.width,u.height,0,0,i,s),b.globalCompositeOperation="source-in";let w=k.transform(B2(b),[1,0,0,1,-L,-y]);return b.fillStyle=r?o.getPattern(t,this,w,de.FILL):o,b.fillRect(0,0,i,s),a&&!r&&(this.cachedCanvases.delete("fillCanvas"),a.set(l,M.canvas)),{canvas:M.canvas,offsetX:Math.round(L),offsetY:Math.round(y)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=yS[e]}setLineJoin(e){this.ctx.lineJoin=_S[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){let i=this.ctx;i.setLineDash!==void 0&&(i.setLineDash(e),i.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(let[t,i]of e)switch(t){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i[0],i[1]);break;case"CA":this.current.strokeAlpha=i;break;case"ca":this.current.fillAlpha=i,this.ctx.globalAlpha=i;break;case"BM":this.ctx.globalCompositeOperation=i;break;case"SMask":this.current.activeSMask=i?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(i);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){let e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");let e=this.ctx.canvas.width,t=this.ctx.canvas.height,i="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(i,e,t);this.suspendedCtx=this.ctx,this.ctx=s.context;let o=this.ctx;o.setTransform(...x1(this.suspendedCtx)),g4(this.suspendedCtx,o),bS(o,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),g4(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];let t=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,i,s){let o=s[0],r=s[1],c=s[2]-o,a=s[3]-r;c===0||a===0||(this.genericComposeSMask(t.context,i,c,a,t.subtype,t.backdrop,t.transferMap,o,r,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(i.canvas,0,0),e.restore())}genericComposeSMask(e,t,i,s,o,r,c,a,l,u,f){let d=e.canvas,h=a-u,p=l-f;if(r){if(h<0||p<0||h+i>d.width||p+s>d.height){let v=this.cachedCanvases.getCanvas("maskExtension",i,s),g=v.context;g.drawImage(d,-h,-p),r.some(C=>C!==0)&&(g.globalCompositeOperation="destination-atop",g.fillStyle=k.makeHexColor(...r),g.fillRect(0,0,i,s),g.globalCompositeOperation="source-over"),d=v.canvas,h=p=0}else if(r.some(v=>v!==0)){e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);let v=new Path2D;v.rect(h,p,i,s),e.clip(v),e.globalCompositeOperation="destination-atop",e.fillStyle=k.makeHexColor(...r),e.fillRect(h,p,i,s),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),o==="Alpha"&&c?t.filter=this.filterFactory.addAlphaFilter(c):o==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(c));let m=new Path2D;m.rect(a,l,i,s),t.clip(m),t.globalCompositeOperation="destination-in",t.drawImage(d,h,p,i,s,a,l,i,s),t.restore()}save(){this.inSMaskMode?(g4(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();let e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),g4(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,i,s,o,r){this.ctx.transform(e,t,i,s,o,r),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,i){let s=this.ctx,o=this.current,r=o.x,c=o.y,a,l,u=x1(s),f=u[0]===0&&u[3]===0||u[1]===0&&u[2]===0,d=f?i.slice(0):null;for(let h=0,p=0,m=e.length;h<m;h++)switch(e[h]|0){case Xe.rectangle:r=t[p++],c=t[p++];let v=t[p++],g=t[p++],C=r+v,M=c+g;s.moveTo(r,c),v===0||g===0?s.lineTo(C,M):(s.lineTo(C,c),s.lineTo(C,M),s.lineTo(r,M)),f||o.updateRectMinMax(u,[r,c,C,M]),s.closePath();break;case Xe.moveTo:r=t[p++],c=t[p++],s.moveTo(r,c),f||o.updatePathMinMax(u,r,c);break;case Xe.lineTo:r=t[p++],c=t[p++],s.lineTo(r,c),f||o.updatePathMinMax(u,r,c);break;case Xe.curveTo:a=r,l=c,r=t[p+4],c=t[p+5],s.bezierCurveTo(t[p],t[p+1],t[p+2],t[p+3],r,c),o.updateCurvePathMinMax(u,a,l,t[p],t[p+1],t[p+2],t[p+3],r,c,d),p+=6;break;case Xe.curveTo2:a=r,l=c,s.bezierCurveTo(r,c,t[p],t[p+1],t[p+2],t[p+3]),o.updateCurvePathMinMax(u,a,l,r,c,t[p],t[p+1],t[p+2],t[p+3],d),r=t[p+2],c=t[p+3],p+=4;break;case Xe.curveTo3:a=r,l=c,r=t[p+2],c=t[p+3],s.bezierCurveTo(t[p],t[p+1],r,c,r,c),o.updateCurvePathMinMax(u,a,l,t[p],t[p+1],r,c,r,c,d),p+=4;break;case Xe.closePath:s.closePath();break}f&&o.updateScalingPathMinMax(u,d),o.setCurrentPoint(r,c)}closePath(){this.ctx.closePath()}stroke(e=!0){let t=this.ctx,i=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof i=="object"&&i?.getPattern?(t.save(),t.strokeStyle=i.getPattern(t,this,B2(t),de.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){let t=this.ctx,i=this.current.fillColor,s=this.current.patternFill,o=!1;s&&(t.save(),t.fillStyle=i.getPattern(t,this,B2(t),de.FILL),o=!0);let r=this.current.getClippedPathBoundingBox();this.contentVisible&&r!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),o&&t.restore(),e&&this.consumePath(r)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=LS}eoClip(){this.pendingClip=fm}beginText(){this.current.textMatrix=pm,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){let e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}t.save(),t.beginPath();for(let i of e)t.setTransform(...i.transform),t.translate(i.x,i.y),i.addToPath(t,i.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){let i=this.commonObjs.get(e),s=this.current;if(!i)throw new Error(`Can't find font for ${e}`);if(s.fontMatrix=i.fontMatrix||Ka,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&n1("Invalid font matrix for font "+e),t<0?(t=-t,s.fontDirection=-1):s.fontDirection=1,this.current.font=i,this.current.fontSize=t,i.isType3Font)return;let o=i.loadedName||"sans-serif",r=i.systemFontInfo?.css||`"${o}", ${i.fallbackName}`,c="normal";i.black?c="900":i.bold&&(c="bold");let a=i.italic?"italic":"normal",l=t;t<sm?l=sm:t>om&&(l=om),this.current.fontSizeScale=t/l,this.ctx.font=`${a} ${c} ${l}px ${r}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,i,s,o,r){this.current.textMatrix=[e,t,i,s,o,r],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,i,s){let o=this.ctx,r=this.current,c=r.font,a=r.textRenderingMode,l=r.fontSize/r.fontSizeScale,u=a&re.FILL_STROKE_MASK,f=!!(a&re.ADD_TO_PATH_FLAG),d=r.patternFill&&!c.missingFile,h;(c.disableFontFace||f||d)&&(h=c.getPathGenerator(this.commonObjs,e)),c.disableFontFace||d?(o.save(),o.translate(t,i),o.beginPath(),h(o,l),s&&o.setTransform(...s),(u===re.FILL||u===re.FILL_STROKE)&&o.fill(),(u===re.STROKE||u===re.FILL_STROKE)&&o.stroke(),o.restore()):((u===re.FILL||u===re.FILL_STROKE)&&o.fillText(e,t,i),(u===re.STROKE||u===re.FILL_STROKE)&&o.strokeText(e,t,i)),f&&(this.pendingTextPaths||=[]).push({transform:x1(o),x:t,y:i,fontSize:l,addToPath:h})}get isFontSubpixelAAEnabled(){let{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);let t=e.getImageData(0,0,10,10).data,i=!1;for(let s=3;s<t.length;s+=4)if(t[s]>0&&t[s]<255){i=!0;break}return c1(this,"isFontSubpixelAAEnabled",i)}showText(e){let t=this.current,i=t.font;if(i.isType3Font)return this.showType3Text(e);let s=t.fontSize;if(s===0)return;let o=this.ctx,r=t.fontSizeScale,c=t.charSpacing,a=t.wordSpacing,l=t.fontDirection,u=t.textHScale*l,f=e.length,d=i.vertical,h=d?1:-1,p=i.defaultVMetrics,m=s*t.fontMatrix[0],v=t.textRenderingMode===re.FILL&&!i.disableFontFace&&!t.patternFill;o.save(),o.transform(...t.textMatrix),o.translate(t.x,t.y+t.textRise),l>0?o.scale(u,-1):o.scale(u,1);let g;if(t.patternFill){o.save();let y=t.fillColor.getPattern(o,this,B2(o),de.FILL);g=x1(o),o.restore(),o.fillStyle=y}let C=t.lineWidth,M=t.textMatrixScale;if(M===0||C===0){let y=t.textRenderingMode&re.FILL_STROKE_MASK;(y===re.STROKE||y===re.FILL_STROKE)&&(C=this.getSinglePixelWidth())}else C/=M;if(r!==1&&(o.scale(r,r),C/=r),o.lineWidth=C,i.isInvalidPDFjsFont){let y=[],w=0;for(let A of e)y.push(A.unicode),w+=A.width;o.fillText(y.join(""),0,0),t.x+=w*m*u,o.restore(),this.compose();return}let b=0,L;for(L=0;L<f;++L){let y=e[L];if(typeof y=="number"){b+=h*y*s/1e3;continue}let w=!1,A=(y.isSpace?a:0)+c,_=y.fontChar,S=y.accent,T,h1,v1=y.width;if(d){let A1=y.vmetric||p,K1=-(y.vmetric?A1[1]:v1*.5)*m,U=A1[2]*m;v1=A1?-A1[0]:v1,T=K1/r,h1=(b+U)/r}else T=b/r,h1=0;if(i.remeasure&&v1>0){let A1=o.measureText(_).width*1e3/s*r;if(v1<A1&&this.isFontSubpixelAAEnabled){let K1=v1/A1;w=!0,o.save(),o.scale(K1,1),T/=K1}else v1!==A1&&(T+=(v1-A1)/2e3*s/r)}if(this.contentVisible&&(y.isInFont||i.missingFile)){if(v&&!S)o.fillText(_,T,h1);else if(this.paintChar(_,T,h1,g),S){let A1=T+s*S.offset.x/r,K1=h1-s*S.offset.y/r;this.paintChar(S.fontChar,A1,K1,g)}}let C1=d?v1*m-A*l:v1*m+A*l;b+=C1,w&&o.restore()}d?t.y-=b:t.x+=b*u,o.restore(),this.compose()}showType3Text(e){let t=this.ctx,i=this.current,s=i.font,o=i.fontSize,r=i.fontDirection,c=s.vertical?1:-1,a=i.charSpacing,l=i.wordSpacing,u=i.textHScale*r,f=i.fontMatrix||Ka,d=e.length,h=i.textRenderingMode===re.INVISIBLE,p,m,v,g;if(!(h||o===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...i.textMatrix),t.translate(i.x,i.y),t.scale(u,r),p=0;p<d;++p){if(m=e[p],typeof m=="number"){g=c*m*o/1e3,this.ctx.translate(g,0),i.x+=g*u;continue}let C=(m.isSpace?l:0)+a,M=s.charProcOperatorList[m.operatorListId];if(!M){n1(`Type3 character "${m.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=m,this.save(),t.scale(o,o),t.transform(...f),this.executeOperatorList(M),this.restore()),v=k.applyTransform([m.width,0],f)[0]*o+C,t.translate(v,0),i.x+=v*u}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,i,s,o,r){this.ctx.rect(i,s,o-i,r-s),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){let i=e[1],s=this.baseTransform||x1(this.ctx),o={createCanvasGraphics:r=>new n(r,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new gS(e,i,this.ctx,o,s)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,i){this.ctx.strokeStyle=this.current.strokeColor=k.makeHexColor(e,t,i)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,t,i){this.ctx.fillStyle=this.current.fillColor=k.makeHexColor(e,t,i),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let i;return this.cachedPatterns.has(e)?i=this.cachedPatterns.get(e):(i=mS(this.getObject(e)),this.cachedPatterns.set(e,i)),t&&(i.matrix=t),i}shadingFill(e){if(!this.contentVisible)return;let t=this.ctx;this.save();let i=this._getPattern(e);t.fillStyle=i.getPattern(t,this,B2(t),de.SHADING);let s=B2(t);if(s){let{width:o,height:r}=t.canvas,[c,a,l,u]=k.getAxialAlignedBoundingBox([0,0,o,r],s);this.ctx.fillRect(c,a,l-c,u-a)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){O1("Should not call beginInlineImage")}beginImageData(){O1("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=x1(this.ctx),t)){let i=t[2]-t[0],s=t[3]-t[1];this.ctx.rect(t[0],t[1],i,s),this.current.updateRectMinMax(x1(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);let t=this.ctx;e.isolated||f6("TODO: Support non-isolated groups."),e.knockout&&n1("Knockout groups not supported.");let i=x1(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let s=k.getAxialAlignedBoundingBox(e.bbox,x1(t)),o=[0,0,t.canvas.width,t.canvas.height];s=k.intersect(s,o)||[0,0,0,0];let r=Math.floor(s[0]),c=Math.floor(s[1]),a=Math.max(Math.ceil(s[2])-r,1),l=Math.max(Math.ceil(s[3])-c,1);this.current.startNewPathAndClipBox([0,0,a,l]);let u="groupAt"+this.groupLevel;e.smask&&(u+="_smask_"+this.smaskCounter++%2);let f=this.cachedCanvases.getCanvas(u,a,l),d=f.context;d.translate(-r,-c),d.transform(...i),e.smask?this.smaskStack.push({canvas:f.canvas,context:d,offsetX:r,offsetY:c,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(r,c),t.save()),g4(t,d),this.ctx=d,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;let t=this.ctx,i=this.groupStack.pop();if(this.ctx=i,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();let s=x1(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...s);let o=k.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],s);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(o)}}beginAnnotation(e,t,i,s,o){if(this.#e(),ws(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){let r=t[2]-t[0],c=t[3]-t[1];if(o&&this.annotationCanvasMap){i=i.slice(),i[4]-=t[0],i[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=r,t[3]=c;let[a,l]=k.singularValueDecompose2dScale(x1(this.ctx)),{viewportScale:u}=this,f=Math.ceil(r*this.outputScaleX*u),d=Math.ceil(c*this.outputScaleY*u);this.annotationCanvas=this.canvasFactory.create(f,d);let{canvas:h,context:p}=this.annotationCanvas;this.annotationCanvasMap.set(e,h),this.annotationCanvas.savedCtx=this.ctx,this.ctx=p,this.ctx.save(),this.ctx.setTransform(a,0,0,-l,0,c*l),ws(this.ctx)}else ws(this.ctx),this.ctx.rect(t[0],t[1],r,c),this.ctx.clip(),this.endPath()}this.current=new $s(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...i),this.transform(...s)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;let t=e.count;e=this.getObject(e.data,e),e.count=t;let i=this.ctx,s=this.processingType3;if(s&&(s.compiled===void 0&&(s.compiled=MS(e)),s.compiled)){s.compiled(i);return}let o=this._createMaskCanvas(e),r=o.canvas;i.save(),i.setTransform(1,0,0,1,0,0),i.drawImage(r,o.offsetX,o.offsetY),i.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,i=0,s=0,o,r){if(!this.contentVisible)return;e=this.getObject(e.data,e);let c=this.ctx;c.save();let a=x1(c);c.transform(t,i,s,o,0,0);let l=this._createMaskCanvas(e);c.setTransform(1,0,0,1,l.offsetX-a[4],l.offsetY-a[5]);for(let u=0,f=r.length;u<f;u+=2){let d=k.transform(a,[t,i,s,o,r[u],r[u+1]]),[h,p]=k.applyTransform([0,0],d);c.drawImage(l.canvas,h,p)}c.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;let t=this.ctx,i=this.current.fillColor,s=this.current.patternFill;for(let o of e){let{data:r,width:c,height:a,transform:l}=o,u=this.cachedCanvases.getCanvas("maskCanvas",c,a),f=u.context;f.save();let d=this.getObject(r,o);lm(f,d),f.globalCompositeOperation="source-in",f.fillStyle=s?i.getPattern(f,this,B2(t),de.FILL):i,f.fillRect(0,0,c,a),f.restore(),t.save(),t.transform(...l),t.scale(1,-1),Ls(t,u.canvas,0,0,c,a,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;let t=this.getObject(e);if(!t){n1("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,i,s){if(!this.contentVisible)return;let o=this.getObject(e);if(!o){n1("Dependent image isn't ready yet");return}let r=o.width,c=o.height,a=[];for(let l=0,u=s.length;l<u;l+=2)a.push({transform:[t,0,0,i,s[l],s[l+1]],x:0,y:0,w:r,h:c});this.paintInlineImageXObjectGroup(o,a)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;let{bitmap:t,width:i,height:s}=e,o=this.cachedCanvases.getCanvas("inlineImage",i,s),r=o.context;return r.filter=this.current.transferMaps,r.drawImage(t,0,0),r.filter="none",o.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;let t=e.width,i=e.height,s=this.ctx;if(this.save(),!ce){let{filter:c}=s;c!=="none"&&c!==""&&(s.filter="none")}s.scale(1/t,-1/i);let o;if(e.bitmap)o=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)o=e;else{let a=this.cachedCanvases.getCanvas("inlineImage",t,i).context;am(a,e),o=this.applyTransferMapsToCanvas(a)}let r=this._scaleImage(o,B2(s));s.imageSmoothingEnabled=um(x1(s),e.interpolate),Ls(s,r.img,0,0,r.paintWidth,r.paintHeight,0,-i,t,i),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;let i=this.ctx,s;if(e.bitmap)s=e.bitmap;else{let o=e.width,r=e.height,a=this.cachedCanvases.getCanvas("inlineImage",o,r).context;am(a,e),s=this.applyTransferMapsToCanvas(a)}for(let o of t)i.save(),i.transform(...o.transform),i.scale(1,-1),Ls(i,s,o.x,o.y,o.w,o.h,0,-1,1,1),i.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){let t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);let i=this.ctx;this.pendingClip&&(t||(this.pendingClip===fm?i.clip("evenodd"):i.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),i.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){let e=x1(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{let t=Math.abs(e[0]*e[3]-e[2]*e[1]),i=Math.hypot(e[0],e[2]),s=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(i,s)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){let{lineWidth:e}=this.current,{a:t,b:i,c:s,d:o}=this.ctx.getTransform(),r,c;if(i===0&&s===0){let a=Math.abs(t),l=Math.abs(o);if(a===l)if(e===0)r=c=1/a;else{let u=a*e;r=c=u<1?1/u:1}else if(e===0)r=1/a,c=1/l;else{let u=a*e,f=l*e;r=u<1?1/u:1,c=f<1?1/f:1}}else{let a=Math.abs(t*o-i*s),l=Math.hypot(t,i),u=Math.hypot(s,o);if(e===0)r=u/a,c=l/a;else{let f=e*a;r=u>f?u/f:1,c=l>f?l/f:1}}this._cachedScaleForStroking[0]=r,this._cachedScaleForStroking[1]=c}return this._cachedScaleForStroking}rescaleAndStroke(e){let{ctx:t}=this,{lineWidth:i}=this.current,[s,o]=this.getScaleForStroking();if(t.lineWidth=i||1,s===1&&o===1){t.stroke();return}let r=t.getLineDash();if(e&&t.save(),t.scale(s,o),r.length>0){let c=Math.max(s,o);t.setLineDash(r.map(a=>a/c)),t.lineDashOffset/=c}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};for(let n in Xe)un.prototype[n]!==void 0&&(un.prototype[Xe[n]]=un.prototype[n]);var n3=class{static#e=null;static#t="";static get workerPort(){return this.#e}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");this.#e=e}static get workerSrc(){return this.#t}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");this.#t=e}},zs={UNKNOWN:0,DATA:1,ERROR:2},R1={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Ae(n){switch(n instanceof Error||typeof n=="object"&&n!==null||O1('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new G2(n.message);case"MissingPDFException":return new $2(n.message);case"PasswordException":return new M4(n.message,n.code);case"UnexpectedResponseException":return new dn(n.message,n.status);case"UnknownErrorException":return new y4(n.message,n.details);default:return new y4(n.message,n.toString())}}var t3=class{constructor(e,t,i){this.sourceName=e,this.targetName=t,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=s=>{let o=s.data;if(o.targetName!==this.sourceName)return;if(o.stream){this.#t(o);return}if(o.callback){let c=o.callbackId,a=this.callbackCapabilities[c];if(!a)throw new Error(`Cannot resolve callback ${c}`);if(delete this.callbackCapabilities[c],o.callback===zs.DATA)a.resolve(o.data);else if(o.callback===zs.ERROR)a.reject(Ae(o.reason));else throw new Error("Unexpected callback case");return}let r=this.actionHandler[o.action];if(!r)throw new Error(`Unknown action from worker: ${o.action}`);if(o.callbackId){let c=this.sourceName,a=o.sourceName;new Promise(function(l){l(r(o.data))}).then(function(l){i.postMessage({sourceName:c,targetName:a,callback:zs.DATA,callbackId:o.callbackId,data:l})},function(l){i.postMessage({sourceName:c,targetName:a,callback:zs.ERROR,callbackId:o.callbackId,reason:Ae(l)})});return}if(o.streamId){this.#e(o);return}r(o.data)},i.addEventListener("message",this._onComObjOnMessage)}on(e,t){let i=this.actionHandler;if(i[e])throw new Error(`There is already an actionName called "${e}"`);i[e]=t}send(e,t,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},i)}sendWithPromise(e,t,i){let s=this.callbackId++,o=Promise.withResolvers();this.callbackCapabilities[s]=o;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:s,data:t},i)}catch(r){o.reject(r)}return o.promise}sendWithStream(e,t,i,s){let o=this.streamId++,r=this.sourceName,c=this.targetName,a=this.comObj;return new ReadableStream({start:l=>{let u=Promise.withResolvers();return this.streamControllers[o]={controller:l,startCall:u,pullCall:null,cancelCall:null,isClosed:!1},a.postMessage({sourceName:r,targetName:c,action:e,streamId:o,data:t,desiredSize:l.desiredSize},s),u.promise},pull:l=>{let u=Promise.withResolvers();return this.streamControllers[o].pullCall=u,a.postMessage({sourceName:r,targetName:c,stream:R1.PULL,streamId:o,desiredSize:l.desiredSize}),u.promise},cancel:l=>{U1(l instanceof Error,"cancel must have a valid reason");let u=Promise.withResolvers();return this.streamControllers[o].cancelCall=u,this.streamControllers[o].isClosed=!0,a.postMessage({sourceName:r,targetName:c,stream:R1.CANCEL,streamId:o,reason:Ae(l)}),u.promise}},i)}#e(e){let t=e.streamId,i=this.sourceName,s=e.sourceName,o=this.comObj,r=this,c=this.actionHandler[e.action],a={enqueue(l,u=1,f){if(this.isCancelled)return;let d=this.desiredSize;this.desiredSize-=u,d>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),o.postMessage({sourceName:i,targetName:s,stream:R1.ENQUEUE,streamId:t,chunk:l},f)},close(){this.isCancelled||(this.isCancelled=!0,o.postMessage({sourceName:i,targetName:s,stream:R1.CLOSE,streamId:t}),delete r.streamSinks[t])},error(l){U1(l instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,o.postMessage({sourceName:i,targetName:s,stream:R1.ERROR,streamId:t,reason:Ae(l)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};a.sinkCapability.resolve(),a.ready=a.sinkCapability.promise,this.streamSinks[t]=a,new Promise(function(l){l(c(e.data,a))}).then(function(){o.postMessage({sourceName:i,targetName:s,stream:R1.START_COMPLETE,streamId:t,success:!0})},function(l){o.postMessage({sourceName:i,targetName:s,stream:R1.START_COMPLETE,streamId:t,reason:Ae(l)})})}#t(e){let t=e.streamId,i=this.sourceName,s=e.sourceName,o=this.comObj,r=this.streamControllers[t],c=this.streamSinks[t];switch(e.stream){case R1.START_COMPLETE:e.success?r.startCall.resolve():r.startCall.reject(Ae(e.reason));break;case R1.PULL_COMPLETE:e.success?r.pullCall.resolve():r.pullCall.reject(Ae(e.reason));break;case R1.PULL:if(!c){o.postMessage({sourceName:i,targetName:s,stream:R1.PULL_COMPLETE,streamId:t,success:!0});break}c.desiredSize<=0&&e.desiredSize>0&&c.sinkCapability.resolve(),c.desiredSize=e.desiredSize,new Promise(function(a){a(c.onPull?.())}).then(function(){o.postMessage({sourceName:i,targetName:s,stream:R1.PULL_COMPLETE,streamId:t,success:!0})},function(a){o.postMessage({sourceName:i,targetName:s,stream:R1.PULL_COMPLETE,streamId:t,reason:Ae(a)})});break;case R1.ENQUEUE:if(U1(r,"enqueue should have stream controller"),r.isClosed)break;r.controller.enqueue(e.chunk);break;case R1.CLOSE:if(U1(r,"close should have stream controller"),r.isClosed)break;r.isClosed=!0,r.controller.close(),this.#n(r,t);break;case R1.ERROR:U1(r,"error should have stream controller"),r.controller.error(Ae(e.reason)),this.#n(r,t);break;case R1.CANCEL_COMPLETE:e.success?r.cancelCall.resolve():r.cancelCall.reject(Ae(e.reason)),this.#n(r,t);break;case R1.CANCEL:if(!c)break;new Promise(function(a){a(c.onCancel?.(Ae(e.reason)))}).then(function(){o.postMessage({sourceName:i,targetName:s,stream:R1.CANCEL_COMPLETE,streamId:t,success:!0})},function(a){o.postMessage({sourceName:i,targetName:s,stream:R1.CANCEL_COMPLETE,streamId:t,reason:Ae(a)})}),c.sinkCapability.reject(Ae(e.reason)),c.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}#n(e,t){return N(this,null,function*(){yield Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[t]})}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}},_8=class{#e;#t;constructor({parsedData:e,rawData:t}){this.#e=e,this.#t=t}getRaw(){return this.#t}get(e){return this.#e.get(e)??null}getAll(){return g5(this.#e)}has(e){return this.#e.has(e)}},Lt=Symbol("INTERNAL"),L8=class{#e=!1;#t=!1;#n=!1;#i=!0;constructor(e,{name:t,intent:i,usage:s}){this.#e=!!(e&Ee.DISPLAY),this.#t=!!(e&Ee.PRINT),this.name=t,this.intent=i,this.usage=s}get visible(){if(this.#n)return this.#i;if(!this.#i)return!1;let{print:e,view:t}=this.usage;return this.#e?t?.viewState!=="OFF":this.#t?e?.printState!=="OFF":!0}_setVisible(e,t,i=!1){e!==Lt&&O1("Internal method `_setVisible` called."),this.#n=i,this.#i=t}},w8=class{#e=null;#t=new Map;#n=null;#i=null;constructor(e,t=Ee.DISPLAY){if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,this.#i=e.order;for(let i of e.groups)this.#t.set(i.id,new L8(t,i));if(e.baseState==="OFF")for(let i of this.#t.values())i._setVisible(Lt,!1);for(let i of e.on)this.#t.get(i)._setVisible(Lt,!0);for(let i of e.off)this.#t.get(i)._setVisible(Lt,!1);this.#n=this.getHash()}}#s(e){let t=e.length;if(t<2)return!0;let i=e[0];for(let s=1;s<t;s++){let o=e[s],r;if(Array.isArray(o))r=this.#s(o);else if(this.#t.has(o))r=this.#t.get(o).visible;else return n1(`Optional content group not found: ${o}`),!0;switch(i){case"And":if(!r)return!1;break;case"Or":if(r)return!0;break;case"Not":return!r;default:return!0}}return i==="And"}isVisible(e){if(this.#t.size===0)return!0;if(!e)return f6("Optional content group not defined."),!0;if(e.type==="OCG")return this.#t.has(e.id)?this.#t.get(e.id).visible:(n1(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return this.#s(e.expression);if(!e.policy||e.policy==="AnyOn"){for(let t of e.ids){if(!this.#t.has(t))return n1(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(let t of e.ids){if(!this.#t.has(t))return n1(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(let t of e.ids){if(!this.#t.has(t))return n1(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(let t of e.ids){if(!this.#t.has(t))return n1(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!1}return!0}return n1(`Unknown optional content policy ${e.policy}.`),!0}return n1(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0){let i=this.#t.get(e);if(!i){n1(`Optional content group not found: ${e}`);return}i._setVisible(Lt,!!t,!0),this.#e=null}setOCGState({state:e,preserveRB:t}){let i;for(let s of e){switch(s){case"ON":case"OFF":case"Toggle":i=s;continue}let o=this.#t.get(s);if(o)switch(i){case"ON":o._setVisible(Lt,!0);break;case"OFF":o._setVisible(Lt,!1);break;case"Toggle":o._setVisible(Lt,!o.visible);break}}this.#e=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#t.size?this.#i?this.#i.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?g5(this.#t):null}getGroup(e){return this.#t.get(e)||null}getHash(){if(this.#e!==null)return this.#e;let e=new js;for(let[t,i]of this.#t)e.update(`${t}:${i.visible}`);return this.#e=e.hexdigest()}},z8=class{constructor(e,{disableRange:t=!1,disableStream:i=!1}){U1(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');let{length:s,initialData:o,progressiveDone:r,contentDispositionFilename:c}=e;if(this._queuedChunks=[],this._progressiveDone=r,this._contentDispositionFilename=c,o?.length>0){let a=o instanceof Uint8Array&&o.byteLength===o.buffer.byteLength?o.buffer:new Uint8Array(o).buffer;this._queuedChunks.push(a)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!i,this._isRangeSupported=!t,this._contentLength=s,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((a,l)=>{this._onReceiveData({begin:a,chunk:l})}),e.addProgressListener((a,l)=>{this._onProgress({loaded:a,total:l})}),e.addProgressiveReadListener(a=>{this._onReceiveData({chunk:a})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){let i=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{let s=this._rangeReaders.some(function(o){return o._begin!==e?!1:(o._enqueue(i),!0)});U1(s,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){e.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){let t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){U1(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");let e=this._queuedChunks;return this._queuedChunks=null,new x8(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;let i=new S8(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(i),i}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(let t of this._rangeReaders.slice(0))t.cancel(e);this._pdfDataRangeTransport.abort()}},x8=class{constructor(e,t,i=!1,s=null){this._stream=e,this._done=i||!1,this._filename=v5(s)?s:null,this._queuedChunks=t||[],this._loaded=0;for(let o of this._queuedChunks)this._loaded+=o.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){return N(this,null,function*(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};let e=Promise.withResolvers();return this._requests.push(e),e.promise})}cancel(e){this._done=!0;for(let t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}},S8=class{constructor(e,t,i){this._stream=e,this._begin=t,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(let i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){return N(this,null,function*(){if(this._queuedChunk){let t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};let e=Promise.withResolvers();return this._requests.push(e),e.promise})}cancel(e){this._done=!0;for(let t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}};function wS(n){let e=!0,t=i("filename\\*","i").exec(n);if(t){t=t[1];let u=c(t);return u=unescape(u),u=a(u),u=l(u),o(u)}if(t=r(n),t){let u=l(t);return o(u)}if(t=i("filename","i").exec(n),t){t=t[1];let u=c(t);return u=l(u),o(u)}function i(u,f){return new RegExp("(?:^|;)\\s*"+u+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',f)}function s(u,f){if(u){if(!/^[\x00-\xFF]+$/.test(f))return f;try{let d=new TextDecoder(u,{fatal:!0}),h=d6(f);f=d.decode(h),e=!1}catch{}}return f}function o(u){return e&&/[\x80-\xff]/.test(u)&&(u=s("utf-8",u),e&&(u=s("iso-8859-1",u))),u}function r(u){let f=[],d,h=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(d=h.exec(u))!==null;){let[,m,v,g]=d;if(m=parseInt(m,10),m in f){if(m===0)break;continue}f[m]=[v,g]}let p=[];for(let m=0;m<f.length&&m in f;++m){let[v,g]=f[m];g=c(g),v&&(g=unescape(g),m===0&&(g=a(g))),p.push(g)}return p.join("")}function c(u){if(u.startsWith('"')){let f=u.slice(1).split('\\"');for(let d=0;d<f.length;++d){let h=f[d].indexOf('"');h!==-1&&(f[d]=f[d].slice(0,h),f.length=d+1),f[d]=f[d].replaceAll(/\\(.)/g,"$1")}u=f.join('"')}return u}function a(u){let f=u.indexOf("'");if(f===-1)return u;let d=u.slice(0,f),p=u.slice(f+1).replace(/^[^']*'/,"");return s(d,p)}function l(u){return!u.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(u)?u:u.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(f,d,h,p){if(h==="q"||h==="Q")return p=p.replaceAll("_"," "),p=p.replaceAll(/=([0-9a-fA-F]{2})/g,function(m,v){return String.fromCharCode(parseInt(v,16))}),s(d,p);try{p=atob(p)}catch{}return s(d,p)})}return""}function b5({getResponseHeader:n,isHttp:e,rangeChunkSize:t,disableRange:i}){let s={allowRangeRequests:!1,suggestedLength:void 0},o=parseInt(n("Content-Length"),10);return!Number.isInteger(o)||(s.suggestedLength=o,o<=2*t)||i||!e||n("Accept-Ranges")!=="bytes"||(n("Content-Encoding")||"identity")!=="identity"||(s.allowRangeRequests=!0),s}function M5(n){let e=n("Content-Disposition");if(e){let t=wS(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(v5(t))return t}return null}function m6(n,e){return n===404||n===0&&e.startsWith("file:")?new $2('Missing PDF "'+e+'".'):new dn(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n)}function Cm(n){return n===200||n===206}function bm(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function Mm(n){let e=new Headers;for(let t in n){let i=n[t];i!==void 0&&e.append(t,i)}return e}function ym(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(n1(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}var Gs=class{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return U1(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new A8(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;let i=new E8(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(let t of this._rangeRequestReaders.slice(0))t.cancel(e)}},A8=class{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;let t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._headers=Mm(this._stream.httpHeaders);let i=t.url;fetch(i,bm(this._headers,this._withCredentials,this._abortController)).then(s=>{if(!Cm(s.status))throw m6(s.status,i);this._reader=s.body.getReader(),this._headersCapability.resolve();let o=a=>s.headers.get(a),{allowRangeRequests:r,suggestedLength:c}=b5({getResponseHeader:o,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=r,this._contentLength=c||this._contentLength,this._filename=M5(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new G2("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){return N(this,null,function*(){yield this._headersCapability.promise;let{value:e,done:t}=yield this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:ym(e),done:!1})})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}},E8=class{constructor(e,t,i){this._stream=e,this._reader=null,this._loaded=0;let s=e.source;this._withCredentials=s.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!s.disableStream,this._abortController=new AbortController,this._headers=Mm(this._stream.httpHeaders),this._headers.append("Range",`bytes=${t}-${i-1}`);let o=s.url;fetch(o,bm(this._headers,this._withCredentials,this._abortController)).then(r=>{if(!Cm(r.status))throw m6(r.status,o);this._readCapability.resolve(),this._reader=r.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){return N(this,null,function*(){yield this._readCapability.promise;let{value:e,done:t}=yield this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:ym(e),done:!1})})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}},Ya=200,Ja=206;function zS(n){let e=n.response;return typeof e!="string"?e:d6(e).buffer}var D8=class{constructor(e,t={}){this.url=e,this.isHttp=/^https?:/i.test(e),this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null),this.withCredentials=t.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,i){let s={begin:e,end:t};for(let o in i)s[o]=i[o];return this.request(s)}requestFull(e){return this.request(e)}request(e){let t=new XMLHttpRequest,i=this.currXhrId++,s=this.pendingRequests[i]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(let o in this.httpHeaders){let r=this.httpHeaders[o];r!==void 0&&t.setRequestHeader(o,r)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),s.expectedStatus=Ja):s.expectedStatus=Ya,t.responseType="arraybuffer",e.onError&&(t.onerror=function(o){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,i),t.onprogress=this.onProgress.bind(this,i),s.onHeadersReceived=e.onHeadersReceived,s.onDone=e.onDone,s.onError=e.onError,s.onProgress=e.onProgress,t.send(null),i}onProgress(e,t){let i=this.pendingRequests[e];i&&i.onProgress?.(t)}onStateChange(e,t){let i=this.pendingRequests[e];if(!i)return;let s=i.xhr;if(s.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),s.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],s.status===0&&this.isHttp){i.onError?.(s.status);return}let o=s.status||Ya;if(!(o===Ya&&i.expectedStatus===Ja)&&o!==i.expectedStatus){i.onError?.(s.status);return}let c=zS(s);if(o===Ja){let a=s.getResponseHeader("Content-Range"),l=/bytes (\d+)-(\d+)\/(\d+)/.exec(a);i.onDone({begin:parseInt(l[1],10),chunk:c})}else c?i.onDone({begin:0,chunk:c}):i.onError?.(s.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){let t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}},N8=class{constructor(e){this._source=e,this._manager=new D8(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials}),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){let t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return U1(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new T8(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){let i=new I8(this._manager,e,t);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(let t of this._rangeRequestReaders.slice(0))t.cancel(e)}},T8=class{constructor(e,t){this._manager=e;let i={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(i),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){let e=this._fullRequestId,t=this._manager.getRequestXhr(e),i=r=>t.getResponseHeader(r),{allowRangeRequests:s,suggestedLength:o}=b5({getResponseHeader:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=M5(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(let t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=m6(e,this._url),this._headersReceivedCapability.reject(this._storedError);for(let t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){return N(this,null,function*(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};let e=Promise.withResolvers();return this._requests.push(e),e.promise})}cancel(e){this._done=!0,this._headersReceivedCapability.reject(e);for(let t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}},I8=class{constructor(e,t,i){this._manager=e;let s={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,i,s),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(e){let t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(let i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=m6(e,this._url);for(let t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}read(){return N(this,null,function*(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){let t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};let e=Promise.withResolvers();return this._requests.push(e),e.promise})}cancel(e){this._done=!0;for(let t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}},xS=/^[a-z][a-z0-9\-+.]+:/i;function SS(n){if(xS.test(n))return new URL(n);let e=C2.get("url");return new URL(e.pathToFileURL(n))}function _m(n,e,t){return n.protocol==="http:"?C2.get("http").request(n,{headers:e},t):C2.get("https").request(n,{headers:e},t)}var k8=class{constructor(e){this.source=e,this.url=SS(e.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return U1(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new O8(this):new P8(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;let i=this.isFsUrl?new F8(this,e,t):new R8(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(let t of this._rangeRequestReaders.slice(0))t.cancel(e)}},Ws=class{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;let t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){return N(this,null,function*(){if(yield this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new G2("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}},qs=class{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();let t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){return N(this,null,function*(){if(yield this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}},P8=class extends Ws{constructor(e){super(e);let t=i=>{if(i.statusCode===404){let c=new $2(`Missing PDF "${this._url}".`);this._storedError=c,this._headersCapability.reject(c);return}this._headersCapability.resolve(),this._setReadableStream(i);let s=c=>this._readableStream.headers[c.toLowerCase()],{allowRangeRequests:o,suggestedLength:r}=b5({getResponseHeader:s,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=r||this._contentLength,this._filename=M5(s)};this._request=_m(this._url,e.httpHeaders,t),this._request.on("error",i=>{this._storedError=i,this._headersCapability.reject(i)}),this._request.end()}},R8=class extends qs{constructor(e,t,i){super(e),this._httpHeaders={};for(let o in e.httpHeaders){let r=e.httpHeaders[o];r!==void 0&&(this._httpHeaders[o]=r)}this._httpHeaders.Range=`bytes=${t}-${i-1}`;let s=o=>{if(o.statusCode===404){let r=new $2(`Missing PDF "${this._url}".`);this._storedError=r;return}this._setReadableStream(o)};this._request=_m(this._url,this._httpHeaders,s),this._request.on("error",o=>{this._storedError=o}),this._request.end()}},O8=class extends Ws{constructor(e){super(e);let t=C2.get("fs");t.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(t.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=new $2(`Missing PDF "${this._url}".`)),this._storedError=i,this._headersCapability.reject(i)})}},F8=class extends qs{constructor(e,t,i){super(e);let s=C2.get("fs");this._setReadableStream(s.createReadStream(this._url,{start:t,end:i-1}))}},AS=1e5,Me=30,ES=.8,A4=class n{#e=Promise.withResolvers();#t=null;#n=!1;#i=!!globalThis.FontInspector?.enabled;#s=null;#o=null;#c=0;#a=0;#f=null;#l=null;#u=0;#r=0;#d=Object.create(null);#p=[];#h=null;#m=[];#v=new WeakMap;#g=null;static#C=new Map;static#M=new Map;static#_=null;static#y=new Set;constructor({textContentSource:e,container:t,viewport:i}){if(e instanceof ReadableStream)this.#h=e;else if(typeof e=="object")this.#h=new ReadableStream({start(a){a.enqueue(e),a.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#t=this.#l=t,this.#r=i.scale*(globalThis.devicePixelRatio||1),this.#u=i.rotation,this.#o={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null};let{pageWidth:s,pageHeight:o,pageX:r,pageY:c}=i.rawDims;this.#g=[1,0,0,-1,-r,c+o],this.#a=s,this.#c=o,n.#A(),i3(t,i),this.#e.promise.catch(()=>{}).then(()=>{n.#y.delete(this),this.#o=null,this.#d=null})}render(){let e=()=>{this.#f.read().then(({value:t,done:i})=>{if(i){this.#e.resolve();return}this.#s??=t.lang,Object.assign(this.#d,t.styles),this.#w(t.items),e()},this.#e.reject)};return this.#f=this.#h.getReader(),n.#y.add(this),e(),this.#e.promise}update({viewport:e,onBefore:t=null}){let i=e.scale*(globalThis.devicePixelRatio||1),s=e.rotation;if(s!==this.#u&&(t?.(),this.#u=s,i3(this.#l,{rotation:s})),i!==this.#r){t?.(),this.#r=i;let o={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:n.#L(this.#s)};for(let r of this.#m)o.properties=this.#v.get(r),o.div=r,this.#S(o)}}cancel(){let e=new G2("TextLayer task cancelled.");this.#f?.cancel(e).catch(()=>{}),this.#f=null,this.#e.reject(e)}get textDivs(){return this.#m}get textContentItemsStr(){return this.#p}#w(e){if(this.#n)return;this.#o.ctx??=n.#L(this.#s);let t=this.#m,i=this.#p;for(let s of e){if(t.length>AS){n1("Ignoring additional textDivs for performance reasons."),this.#n=!0;return}if(s.str===void 0){if(s.type==="beginMarkedContentProps"||s.type==="beginMarkedContent"){let o=this.#t;this.#t=document.createElement("span"),this.#t.classList.add("markedContent"),s.id!==null&&this.#t.setAttribute("id",`${s.id}`),o.append(this.#t)}else s.type==="endMarkedContent"&&(this.#t=this.#t.parentNode);continue}i.push(s.str),this.#D(s)}}#D(e){let t=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};this.#m.push(t);let s=k.transform(this.#g,e.transform),o=Math.atan2(s[1],s[0]),r=this.#d[e.fontName];r.vertical&&(o+=Math.PI/2);let c=this.#i&&r.fontSubstitution||r.fontFamily,a=Math.hypot(s[2],s[3]),l=a*n.#x(c,this.#s),u,f;o===0?(u=s[4],f=s[5]-l):(u=s[4]+l*Math.sin(o),f=s[5]-l*Math.cos(o));let d="calc(var(--scale-factor)*",h=t.style;this.#t===this.#l?(h.left=`${(100*u/this.#a).toFixed(2)}%`,h.top=`${(100*f/this.#c).toFixed(2)}%`):(h.left=`${d}${u.toFixed(2)}px)`,h.top=`${d}${f.toFixed(2)}px)`),h.fontSize=`${d}${(n.#_*a).toFixed(2)}px)`,h.fontFamily=c,i.fontSize=a,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,this.#i&&(t.dataset.fontName=r.fontSubstitutionLoadedName||e.fontName),o!==0&&(i.angle=o*(180/Math.PI));let p=!1;if(e.str.length>1)p=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){let m=Math.abs(e.transform[0]),v=Math.abs(e.transform[3]);m!==v&&Math.max(m,v)/Math.min(m,v)>1.5&&(p=!0)}if(p&&(i.canvasWidth=r.vertical?e.height:e.width),this.#v.set(t,i),this.#o.div=t,this.#o.properties=i,this.#S(this.#o),i.hasText&&this.#t.append(t),i.hasEOL){let m=document.createElement("br");m.setAttribute("role","presentation"),this.#t.append(m)}}#S(e){let{div:t,properties:i,ctx:s,prevFontSize:o,prevFontFamily:r}=e,{style:c}=t,a="";if(n.#_>1&&(a=`scale(${1/n.#_})`),i.canvasWidth!==0&&i.hasText){let{fontFamily:l}=c,{canvasWidth:u,fontSize:f}=i;(o!==f||r!==l)&&(s.font=`${f*this.#r}px ${l}`,e.prevFontSize=f,e.prevFontFamily=l);let{width:d}=s.measureText(t.textContent);d>0&&(a=`scaleX(${u*this.#r/d}) ${a}`)}i.angle!==0&&(a=`rotate(${i.angle}deg) ${a}`),a.length>0&&(c.transform=a)}static cleanup(){if(!(this.#y.size>0)){this.#C.clear();for(let{canvas:e}of this.#M.values())e.remove();this.#M.clear()}}static#L(e=null){let t=this.#M.get(e||="");if(!t){let i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=e,document.body.append(i),t=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#M.set(e,t)}return t}static#A(){if(this.#_!==null)return;let e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),this.#_=e.getBoundingClientRect().height,e.remove()}static#x(e,t){let i=this.#C.get(e);if(i)return i;let s=this.#L(t),o=s.font;s.canvas.width=s.canvas.height=Me,s.font=`${Me}px ${e}`;let r=s.measureText(""),c=r.fontBoundingBoxAscent,a=Math.abs(r.fontBoundingBoxDescent);if(c){let f=c/(c+a);return this.#C.set(e,f),s.canvas.width=s.canvas.height=0,s.font=o,f}s.strokeStyle="red",s.clearRect(0,0,Me,Me),s.strokeText("g",0,0);let l=s.getImageData(0,0,Me,Me).data;a=0;for(let f=l.length-1-3;f>=0;f-=4)if(l[f]>0){a=Math.ceil(f/4/Me);break}s.clearRect(0,0,Me,Me),s.strokeText("A",0,Me),l=s.getImageData(0,0,Me,Me).data,c=0;for(let f=0,d=l.length;f<d;f+=4)if(l[f]>0){c=Me-Math.floor(f/4/Me);break}s.canvas.width=s.canvas.height=0,s.font=o;let u=c?c/(c+a):ES;return this.#C.set(e,u),u}},E4=class n{static textContent(e){let t=[],i={items:t,styles:Object.create(null)};function s(o){if(!o)return;let r=null,c=o.name;if(c==="#text")r=o.value;else if(n.shouldBuildText(c))o?.attributes?.textContent?r=o.attributes.textContent:o.value&&(r=o.value);else return;if(r!==null&&t.push({str:r}),!!o.children)for(let a of o.children)s(a)}return s(e),i}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}},DS=65536,NS=100,TS=5e3,IS=ce?p8:n8,kS=ce?m8:Os,PS=ce?h8:t8,RS=ce?g8:Fs;function OS(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});let e=new H8,{docId:t}=e,i=n.url?FS(n.url):null,s=n.data?HS(n.data):null,o=n.httpHeaders||null,r=n.withCredentials===!0,c=n.password??null,a=n.range instanceof Zs?n.range:null,l=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:DS,u=n.worker instanceof fn?n.worker:null,f=n.verbosity,d=typeof n.docBaseUrl=="string"&&!p6(n.docBaseUrl)?n.docBaseUrl:null,h=typeof n.cMapUrl=="string"?n.cMapUrl:null,p=n.cMapPacked!==!1,m=n.CMapReaderFactory||kS,v=typeof n.standardFontDataUrl=="string"?n.standardFontDataUrl:null,g=n.StandardFontDataFactory||RS,C=n.stopAtErrors!==!0,M=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,b=n.isEvalSupported!==!1,L=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!ce,y=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,w=typeof n.disableFontFace=="boolean"?n.disableFontFace:ce,A=n.fontExtraProperties===!0,_=n.enableXfa===!0,S=n.ownerDocument||globalThis.document,T=n.disableRange===!0,h1=n.disableStream===!0,v1=n.disableAutoFetch===!0,C1=n.pdfBug===!0,A1=n.enableHWA===!0,K1=a?a.length:n.length??NaN,U=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!ce&&!w,Z=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:m===Os&&g===Fs&&h&&v&&C4(h,document.baseURI)&&C4(v,document.baseURI),r0=n.canvasFactory||new IS({ownerDocument:S,enableHWA:A1}),c0=n.filterFactory||new PS({docId:t,ownerDocument:S}),a0=null;Xx(f);let ue={canvasFactory:r0,filterFactory:c0};if(Z||(ue.cMapReaderFactory=new m({baseUrl:h,isCompressed:p}),ue.standardFontDataFactory=new g({baseUrl:v})),!u){let Dt={verbosity:f,port:n3.workerPort};u=Dt.port?fn.fromPort(Dt):new fn(Dt),e._worker=u}let q1={docId:t,apiVersion:"4.6.82",data:s,password:c,disableAutoFetch:v1,rangeChunkSize:l,length:K1,docBaseUrl:d,enableXfa:_,evaluatorOptions:{maxImageSize:M,disableFontFace:w,ignoreErrors:C,isEvalSupported:b,isOffscreenCanvasSupported:L,canvasMaxAreaInBytes:y,fontExtraProperties:A,useSystemFonts:U,cMapUrl:Z?h:null,standardFontDataUrl:Z?v:null}},l0={disableFontFace:w,fontExtraProperties:A,ownerDocument:S,pdfBug:C1,styleElement:a0,loadingParams:{disableAutoFetch:v1,enableXfa:_}};return u.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");let Dt=u.messageHandler.sendWithPromise("GetDocRequest",q1,s?[s.buffer]:null),Q2;if(a)Q2=new z8(a,{disableRange:T,disableStream:h1});else if(!s){if(!i)throw new Error("getDocument - no `url` parameter provided.");Q2=(_2=>ce?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&C4(_2.url)?new Gs(_2):new k8(_2):C4(_2.url)?new Gs(_2):new N8(_2))({url:i,length:K1,httpHeaders:o,withCredentials:r,rangeChunkSize:l,disableRange:T,disableStream:h1})}return Dt.then(F1=>{if(e.destroyed)throw new Error("Loading aborted");if(u.destroyed)throw new Error("Worker was destroyed");let _2=new t3(t,F1,u.port),Ql=new U8(_2,e,Q2,l0,ue);e._transport=Ql,_2.send("Ready",null)})}).catch(e._capability.reject),e}function FS(n){if(n instanceof URL)return n.href;try{return new URL(n,window.location).href}catch{if(ce&&typeof n=="string")return n}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function HS(n){if(ce&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return d6(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n?.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function dm(n){return typeof n=="object"&&Number.isInteger(n?.num)&&n.num>=0&&Number.isInteger(n?.gen)&&n.gen>=0}var H8=class n{static#e=0;constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${n.#e++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}destroy(){return N(this,null,function*(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),yield this._transport?.destroy()}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)})}},Zs=class{constructor(e,t,i=!1,s=null){this.length=e,this.initialData=t,this.progressiveDone=i,this.contentDispositionFilename=s,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(let i of this._rangeListeners)i(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(let i of this._progressListeners)i(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(let t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(let e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){O1("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},V8=class{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return c1(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){let{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}},B8=class{#e=null;#t=!1;constructor(e,t,i,s=!1){this._pageIndex=e,this._pageInfo=t,this._transport=i,this._stats=s?new Hs:null,this._pdfBug=s,this.commonObjs=i.commonObjs,this.objs=new Ys,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:i=0,offsetY:s=0,dontFlip:o=!1}={}){return new L4({viewBox:this.view,scale:e,rotation:t,offsetX:i,offsetY:s,dontFlip:o})}getAnnotations({intent:e="display"}={}){let{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return c1(this,"isPureXfa",!!this._transport._htmlForXfa)}getXfa(){return N(this,null,function*(){return this._transport._htmlForXfa?.children[this._pageIndex]||null})}render({canvasContext:e,viewport:t,intent:i="display",annotationMode:s=wt.ENABLE,transform:o=null,background:r=null,optionalContentConfigPromise:c=null,annotationCanvasMap:a=null,pageColors:l=null,printAnnotationStorage:u=null,isEditing:f=!1}){this._stats?.time("Overall");let d=this._transport.getRenderingIntent(i,s,u,f),{renderingIntent:h,cacheKey:p}=d;this.#t=!1,this.#i(),c||=this._transport.getOptionalContentConfig(h);let m=this._intentStates.get(p);m||(m=Object.create(null),this._intentStates.set(p,m)),m.streamReaderCancelTimeout&&(clearTimeout(m.streamReaderCancelTimeout),m.streamReaderCancelTimeout=null);let v=!!(h&Ee.PRINT);m.displayReadyCapability||(m.displayReadyCapability=Promise.withResolvers(),m.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(d));let g=b=>{m.renderTasks.delete(C),(this._maybeCleanupAfterRender||v)&&(this.#t=!0),this.#n(!v),b?(C.capability.reject(b),this._abortOperatorList({intentState:m,reason:b instanceof Error?b:new Error(b)})):C.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},C=new G8({callback:g,params:{canvasContext:e,viewport:t,transform:o,background:r},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:a,operatorList:m.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!v,pdfBug:this._pdfBug,pageColors:l});(m.renderTasks||=new Set).add(C);let M=C.task;return Promise.all([m.displayReadyCapability.promise,c]).then(([b,L])=>{if(this.destroyed){g();return}if(this._stats?.time("Rendering"),!(L.renderingIntent&h))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");C.initializeGraphics({transparency:b,optionalContentConfig:L}),C.operatorListChanged()}).catch(g),M}getOperatorList({intent:e="display",annotationMode:t=wt.ENABLE,printAnnotationStorage:i=null,isEditing:s=!1}={}){function o(){c.operatorList.lastChunk&&(c.opListReadCapability.resolve(c.operatorList),c.renderTasks.delete(a))}let r=this._transport.getRenderingIntent(e,t,i,s,!0),c=this._intentStates.get(r.cacheKey);c||(c=Object.create(null),this._intentStates.set(r.cacheKey,c));let a;return c.opListReadCapability||(a=Object.create(null),a.operatorListChanged=o,c.opListReadCapability=Promise.withResolvers(),(c.renderTasks||=new Set).add(a),c.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(r)),c.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(s){return s.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>E4.textContent(i));let t=this.streamTextContent(e);return new Promise(function(i,s){function o(){r.read().then(function({value:a,done:l}){if(l){i(c);return}c.lang??=a.lang,Object.assign(c.styles,a.styles),c.items.push(...a.items),o()},s)}let r=t.getReader(),c={items:[],styles:Object.create(null),lang:null};o()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;let e=[];for(let t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(let i of t.renderTasks)e.push(i.completed),i.cancel();return this.objs.clear(),this.#t=!1,this.#i(),Promise.all(e)}cleanup(e=!1){this.#t=!0;let t=this.#n(!1);return e&&t&&(this._stats&&=new Hs),t}#n(e=!1){if(this.#i(),!this.#t||this.destroyed)return!1;if(e)return this.#e=setTimeout(()=>{this.#e=null,this.#n(!1)},TS),!1;for(let{renderTasks:t,operatorList:i}of this._intentStates.values())if(t.size>0||!i.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}#i(){this.#e&&(clearTimeout(this.#e),this.#e=null)}_startRenderPage(e,t){let i=this._intentStates.get(t);i&&(this._stats?.timeEnd("Page Request"),i.displayReadyCapability?.resolve(e))}_renderPageChunk(e,t){for(let i=0,s=e.length;i<s;i++)t.operatorList.fnArray.push(e.fnArray[i]),t.operatorList.argsArray.push(e.argsArray[i]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(let i of t.renderTasks)i.operatorListChanged();e.lastChunk&&this.#n(!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:i,modifiedIds:s}){let{map:o,transfer:r}=i,a=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:o,modifiedIds:s},r).getReader(),l=this._intentStates.get(t);l.streamReader=a;let u=()=>{a.read().then(({value:f,done:d})=>{if(d){l.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(f,l),u())},f=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(let d of l.renderTasks)d.operatorListChanged();this.#n(!0)}if(l.displayReadyCapability)l.displayReadyCapability.reject(f);else if(l.opListReadCapability)l.opListReadCapability.reject(f);else throw f}})};u()}_abortOperatorList({intentState:e,reason:t,force:i=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!i){if(e.renderTasks.size>0)return;if(t instanceof w4){let s=NS;t.extraDelay>0&&t.extraDelay<1e3&&(s+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},s);return}}if(e.streamReader.cancel(new G2(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(let[s,o]of this._intentStates)if(o===e){this._intentStates.delete(s);break}this.cleanup()}}}get stats(){return this._stats}},j8=class{#e=new Set;#t=Promise.resolve();postMessage(e,t){let i={data:structuredClone(e,t?{transfer:t}:null)};this.#t.then(()=>{for(let s of this.#e)s.call(this,i)})}addEventListener(e,t){this.#e.add(t)}removeEventListener(e,t){this.#e.delete(t)}terminate(){this.#e.clear()}},fn=class n{static#e=0;static#t=!1;static#n;static{ce&&(this.#t=!0,n3.workerSrc||="./pdf.worker.mjs"),this._isSameOrigin=(e,t)=>{let i;try{if(i=new URL(e),!i.origin||i.origin==="null")return!1}catch{return!1}let s=new URL(t,i);return i.origin===s.origin},this._createCDNWrapper=e=>{let t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))}}constructor({name:e=null,port:t=null,verbosity:i=eS()}={}){if(this.name=e,this.destroyed=!1,this.verbosity=i,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if(n.#n?.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(n.#n||=new WeakMap).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return ce?Promise.all([C2.promise,this._readyCapability.promise]):this._readyCapability.promise}#i(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new t3("main","worker",e),this._messageHandler.on("ready",function(){}),this.#i()}_initialize(){if(n.#t||n.#s){this._setupFakeWorker();return}let{workerSrc:e}=n;try{n._isSameOrigin(window.location.href,e)||(e=n._createCDNWrapper(new URL(e,window.location).href));let t=new Worker(e,{type:"module"}),i=new t3("main","worker",t),s=()=>{o.abort(),i.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},o=new AbortController;t.addEventListener("error",()=>{this._webWorker||s()},{signal:o.signal}),i.on("test",c=>{if(o.abort(),this.destroyed||!c){s();return}this._messageHandler=i,this._port=t,this._webWorker=t,this.#i()}),i.on("ready",c=>{if(o.abort(),this.destroyed){s();return}try{r()}catch{this._setupFakeWorker()}});let r=()=>{let c=new Uint8Array;i.send("test",c,[c.buffer])};r();return}catch{f6("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){n.#t||(n1("Setting up fake worker."),n.#t=!0),n._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}let t=new j8;this._port=t;let i=`fake${n.#e++}`,s=new t3(i+"_worker",i,t);e.setup(s,t),this._messageHandler=new t3(i,i+"_worker",t),this.#i()}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),n.#n?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){if(!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");let t=this.#n?.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new n(e)}static get workerSrc(){if(n3.workerSrc)return n3.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get#s(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){return c1(this,"_setupFakeWorkerGlobal",N(this,null,function*(){return this.#s?this.#s:(yield import(this.workerSrc)).WorkerMessageHandler}))}},U8=class{#e=new Map;#t=new Map;#n=new Map;#i=new Map;#s=null;constructor(e,t,i,s,o){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new Ys,this.fontLoader=new f8({ownerDocument:s.ownerDocument,styleElement:s.styleElement}),this.loadingParams=s.loadingParams,this._params=s,this.canvasFactory=o.canvasFactory,this.filterFactory=o.filterFactory,this.cMapReaderFactory=o.cMapReaderFactory,this.standardFontDataFactory=o.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}#o(e,t=null){let i=this.#e.get(e);if(i)return i;let s=this.messageHandler.sendWithPromise(e,t);return this.#e.set(e,s),s}get annotationStorage(){return c1(this,"annotationStorage",new x4)}getRenderingIntent(e,t=wt.ENABLE,i=null,s=!1,o=!1){let r=Ee.DISPLAY,c=u8;switch(e){case"any":r=Ee.ANY;break;case"display":break;case"print":r=Ee.PRINT;break;default:n1(`getRenderingIntent - invalid intent: ${e}`)}let a=r&Ee.PRINT&&i instanceof Us?i:this.annotationStorage;switch(t){case wt.DISABLE:r+=Ee.ANNOTATIONS_DISABLE;break;case wt.ENABLE:break;case wt.ENABLE_FORMS:r+=Ee.ANNOTATIONS_FORMS;break;case wt.ENABLE_STORAGE:r+=Ee.ANNOTATIONS_STORAGE,c=a.serializable;break;default:n1(`getRenderingIntent - invalid annotationMode: ${t}`)}s&&(r+=Ee.IS_EDITING),o&&(r+=Ee.OPLIST);let{ids:l,hash:u}=a.modifiedIds,f=[r,c.hash,u];return{renderingIntent:r,cacheKey:f.join("_"),annotationStorageSerializable:c,modifiedIds:l}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#s?.reject(new Error("Worker was destroyed during onPassword callback"));let e=[];for(let i of this.#t.values())e.push(i._destroy());this.#t.clear(),this.#n.clear(),this.#i.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();let t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),A4.cleanup(),this._networkStream?.cancelAllRequests(new G2("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){let{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(i,s)=>{U1(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=o=>{this._lastProgress={loaded:o.loaded,total:o.total}},s.onPull=()=>{this._fullReader.read().then(function({value:o,done:r}){if(r){s.close();return}U1(o instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{s.error(o)})},s.onCancel=o=>{this._fullReader.cancel(o),s.ready.catch(r=>{if(!this.destroyed)throw r})}}),e.on("ReaderHeadersReady",i=>{let s=Promise.withResolvers(),o=this._fullReader;return o.headersReady.then(()=>{(!o.isStreamingSupported||!o.isRangeSupported)&&(this._lastProgress&&t.onProgress?.(this._lastProgress),o.onProgress=r=>{t.onProgress?.({loaded:r.loaded,total:r.total})}),s.resolve({isStreamingSupported:o.isStreamingSupported,isRangeSupported:o.isRangeSupported,contentLength:o.contentLength})},s.reject),s.promise}),e.on("GetRangeReader",(i,s)=>{U1(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");let o=this._networkStream.getRangeReader(i.begin,i.end);if(!o){s.close();return}s.onPull=()=>{o.read().then(function({value:r,done:c}){if(c){s.close();return}U1(r instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),s.enqueue(new Uint8Array(r),1,[r])}).catch(r=>{s.error(r)})},s.onCancel=r=>{o.cancel(r),s.ready.catch(c=>{if(!this.destroyed)throw c})}}),e.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,t._capability.resolve(new V8(i,this))}),e.on("DocException",function(i){let s;switch(i.name){case"PasswordException":s=new M4(i.message,i.code);break;case"InvalidPDFException":s=new Ts(i.message);break;case"MissingPDFException":s=new $2(i.message);break;case"UnexpectedResponseException":s=new dn(i.message,i.status);break;case"UnknownErrorException":s=new y4(i.message,i.details);break;default:O1("DocException - expected a valid Error.")}t._capability.reject(s)}),e.on("PasswordRequest",i=>{if(this.#s=Promise.withResolvers(),t.onPassword){let s=o=>{o instanceof Error?this.#s.reject(o):this.#s.resolve({password:o})};try{t.onPassword(s,i.code)}catch(o){this.#s.reject(o)}}else this.#s.reject(new M4(i.message,i.code));return this.#s.promise}),e.on("DataLoaded",i=>{t.onProgress?.({loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),e.on("StartRenderPage",i=>{if(this.destroyed)return;this.#t.get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),e.on("commonobj",([i,s,o])=>{if(this.destroyed||this.commonObjs.has(i))return null;switch(s){case"Font":let{disableFontFace:r,fontExtraProperties:c,pdfBug:a}=this._params;if("error"in o){let d=o.error;n1(`Error during font loading: ${d}`),this.commonObjs.resolve(i,d);break}let l=a&&globalThis.FontInspector?.enabled?(d,h)=>globalThis.FontInspector.fontAdded(d,h):null,u=new d8(o,{disableFontFace:r,inspectFont:l});this.fontLoader.bind(u).catch(()=>e.sendWithPromise("FontFallback",{id:i})).finally(()=>{!c&&u.data&&(u.data=null),this.commonObjs.resolve(i,u)});break;case"CopyLocalImage":let{imageRef:f}=o;U1(f,"The imageRef must be defined.");for(let d of this.#t.values())for(let[,h]of d.objs)if(h?.ref===f)return h.dataLen?(this.commonObjs.resolve(i,structuredClone(h)),h.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,o);break;default:throw new Error(`Got unknown common object type ${s}`)}return null}),e.on("obj",([i,s,o,r])=>{if(this.destroyed)return;let c=this.#t.get(s);if(!c.objs.has(i)){if(c._intentStates.size===0){r?.bitmap?.close();return}switch(o){case"Image":c.objs.resolve(i,r),r?.dataLen>Zx&&(c._maybeCleanupAfterRender=!0);break;case"Pattern":c.objs.resolve(i,r);break;default:throw new Error(`Got unknown object type ${o}`)}}}),e.on("DocProgress",i=>{this.destroyed||t.onProgress?.({loaded:i.loaded,total:i.total})}),e.on("FetchBuiltInCMap",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(i):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",i=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(i):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&n1("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");let{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));let t=e-1,i=this.#n.get(t);if(i)return i;let s=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(o=>{if(this.destroyed)throw new Error("Transport destroyed");o.refStr&&this.#i.set(o.refStr,e);let r=new B8(t,o,this,this._params.pdfBug);return this.#t.set(t,r),r});return this.#n.set(t,s),s}getPageIndex(e){return dm(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return this.#o("GetFieldObjects")}hasJSActions(){return this.#o("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#o("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return this.#o("GetOptionalContentConfig").then(t=>new w8(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){let e="GetMetadata",t=this.#e.get(e);if(t)return t;let i=this.messageHandler.sendWithPromise(e,null).then(s=>({info:s[0],metadata:s[1]?new _8(s[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(e,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(e=!1){return N(this,null,function*(){if(!this.destroyed){yield this.messageHandler.sendWithPromise("Cleanup",null);for(let t of this.#t.values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0),A4.cleanup()}})}cachedPageNumber(e){if(!dm(e))return null;let t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return this.#i.get(t)??null}},xs=Symbol("INITIAL_DATA"),Ys=class{#e=Object.create(null);#t(e){return this.#e[e]||=X(D({},Promise.withResolvers()),{data:xs})}get(e,t=null){if(t){let s=this.#t(e);return s.promise.then(()=>t(s.data)),null}let i=this.#e[e];if(!i||i.data===xs)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return i.data}has(e){let t=this.#e[e];return!!t&&t.data!==xs}resolve(e,t=null){let i=this.#t(e);i.data=t,i.resolve()}clear(){for(let e in this.#e){let{data:t}=this.#e[e];t?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(let e in this.#e){let{data:t}=this.#e[e];t!==xs&&(yield[e,t])}}},$8=class{#e=null;constructor(e){this.#e=e,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(e=0){this.#e.cancel(null,e)}get separateAnnots(){let{separateAnnots:e}=this.#e.operatorList;if(!e)return!1;let{annotationCanvasMap:t}=this.#e;return e.form||e.canvas&&t?.size>0}},G8=class n{#e=null;static#t=new WeakSet;constructor({callback:e,params:t,objs:i,commonObjs:s,annotationCanvasMap:o,operatorList:r,pageIndex:c,canvasFactory:a,filterFactory:l,useRequestAnimationFrame:u=!1,pdfBug:f=!1,pageColors:d=null}){this.callback=e,this.params=t,this.objs=i,this.commonObjs=s,this.annotationCanvasMap=o,this.operatorListIdx=null,this.operatorList=r,this._pageIndex=c,this.canvasFactory=a,this.filterFactory=l,this._pdfBug=f,this.pageColors=d,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=u===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new $8(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){if(this.cancelled)return;if(this._canvas){if(n.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");n.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());let{canvasContext:i,viewport:s,transform:o,background:r}=this.params;this.gfx=new un(i,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:s,transparency:e,background:r}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,t=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=null),n.#t.delete(this._canvas),this.callback(e||new w4(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#e=window.requestAnimationFrame(()=>{this.#e=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){return N(this,null,function*(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),n.#t.delete(this._canvas),this.callback())))})}},VS="4.6.82",BS="9b541910f";function hm(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function v4(n){return Math.max(0,Math.min(255,255*n))}var Js=class{static CMYK_G([e,t,i,s]){return["G",1-Math.min(1,.3*e+.59*i+.11*t+s)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=v4(e),[e,e,e]}static G_HTML([e]){let t=hm(e);return`#${t}${t}${t}`}static RGB_G([e,t,i]){return["G",.3*e+.59*t+.11*i]}static RGB_rgb(e){return e.map(v4)}static RGB_HTML(e){return`#${e.map(hm).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,i,s]){return["RGB",1-Math.min(1,e+s),1-Math.min(1,i+s),1-Math.min(1,t+s)]}static CMYK_rgb([e,t,i,s]){return[v4(1-Math.min(1,e+s)),v4(1-Math.min(1,i+s)),v4(1-Math.min(1,t+s))]}static CMYK_HTML(e){let t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,i]){let s=1-e,o=1-t,r=1-i,c=Math.min(s,o,r);return["CMYK",s,o,r,c]}},Ks=class{static setupStorage(e,t,i,s,o){let r=s.getValue(t,{value:null});switch(i.name){case"textarea":if(r.value!==null&&(e.textContent=r.value),o==="print")break;e.addEventListener("input",c=>{s.setValue(t,{value:c.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(r.value===i.attributes.xfaOn?e.setAttribute("checked",!0):r.value===i.attributes.xfaOff&&e.removeAttribute("checked"),o==="print")break;e.addEventListener("change",c=>{s.setValue(t,{value:c.target.checked?c.target.getAttribute("xfaOn"):c.target.getAttribute("xfaOff")})})}else{if(r.value!==null&&e.setAttribute("value",r.value),o==="print")break;e.addEventListener("input",c=>{s.setValue(t,{value:c.target.value})})}break;case"select":if(r.value!==null){e.setAttribute("value",r.value);for(let c of i.children)c.attributes.value===r.value?c.attributes.selected=!0:c.attributes.hasOwnProperty("selected")&&delete c.attributes.selected}e.addEventListener("input",c=>{let a=c.target.options,l=a.selectedIndex===-1?"":a[a.selectedIndex].value;s.setValue(t,{value:l})});break}}static setAttributes({html:e,element:t,storage:i=null,intent:s,linkService:o}){let{attributes:r}=t,c=e instanceof HTMLAnchorElement;r.type==="radio"&&(r.name=`${r.name}-${s}`);for(let[a,l]of Object.entries(r))if(l!=null)switch(a){case"class":l.length&&e.setAttribute(a,l.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",l);break;case"style":Object.assign(e.style,l);break;case"textContent":e.textContent=l;break;default:(!c||a!=="href"&&a!=="newWindow")&&e.setAttribute(a,l)}c&&o.addLinkAttributes(e,r.href,r.newWindow),i&&r.dataId&&this.setupStorage(e,r.dataId,t,i)}static render(e){let t=e.annotationStorage,i=e.linkService,s=e.xfaHtml,o=e.intent||"display",r=document.createElement(s.name);s.attributes&&this.setAttributes({html:r,element:s,intent:o,linkService:i});let c=o!=="richText",a=e.div;if(a.append(r),e.viewport){let f=`matrix(${e.viewport.transform.join(",")})`;a.style.transform=f}c&&a.setAttribute("class","xfaLayer xfaFont");let l=[];if(s.children.length===0){if(s.value){let f=document.createTextNode(s.value);r.append(f),c&&E4.shouldBuildText(s.name)&&l.push(f)}return{textDivs:l}}let u=[[s,-1,r]];for(;u.length>0;){let[f,d,h]=u.at(-1);if(d+1===f.children.length){u.pop();continue}let p=f.children[++u.at(-1)[1]];if(p===null)continue;let{name:m}=p;if(m==="#text"){let g=document.createTextNode(p.value);l.push(g),h.append(g);continue}let v=p?.attributes?.xmlns?document.createElementNS(p.attributes.xmlns,m):document.createElement(m);if(h.append(v),p.attributes&&this.setAttributes({html:v,element:p,storage:t,intent:o,linkService:i}),p.children?.length>0)u.push([p,-1,v]);else if(p.value){let g=document.createTextNode(p.value);c&&E4.shouldBuildText(m)&&l.push(g),v.append(g)}}for(let f of a.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))f.setAttribute("readOnly",!0);return{textDivs:l}}static update(e){let t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}},T4=1e3,jS=9,o3=new WeakSet;function U2(n){return{width:n[2]-n[0],height:n[3]-n[1]}}var W8=class{static create(e){switch(e.data.annotationType){case j1.LINK:return new Qs(e);case j1.TEXT:return new q8(e);case j1.WIDGET:switch(e.data.fieldType){case"Tx":return new Z8(e);case"Btn":return e.data.radioButton?new Xs(e):e.data.checkBox?new J8(e):new K8(e);case"Ch":return new Q8(e);case"Sig":return new Y8(e)}return new W2(e);case j1.POPUP:return new D4(e);case j1.FREETEXT:return new e6(e);case j1.LINE:return new e5(e);case j1.SQUARE:return new t5(e);case j1.CIRCLE:return new n5(e);case j1.POLYLINE:return new t6(e);case j1.CARET:return new s5(e);case j1.INK:return new n6(e);case j1.POLYGON:return new i5(e);case j1.HIGHLIGHT:return new o5(e);case j1.UNDERLINE:return new r5(e);case j1.SQUIGGLY:return new c5(e);case j1.STRIKEOUT:return new a5(e);case j1.STAMP:return new i6(e);case j1.FILEATTACHMENT:return new l5(e);default:return new k1(e)}}},k1=class n{#e=null;#t=!1;#n=null;constructor(e,{isRenderable:t=!1,ignoreBorder:i=!1,createQuadrilaterals:s=!1}={}){this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(i)),s&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:i}){return!!(e?.str||t?.str||i?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return n._hasPopupData(this.data)}updateEdited(e){if(!this.container)return;this.#e||={rect:this.data.rect.slice(0)};let{rect:t}=e;t&&this.#i(t),this.#n?.popup.updateEdited(e)}resetEdited(){this.#e&&(this.#i(this.#e.rect),this.#n?.popup.resetEdited(),this.#e=null)}#i(e){let{container:{style:t},data:{rect:i,rotation:s},parent:{viewport:{rawDims:{pageWidth:o,pageHeight:r,pageX:c,pageY:a}}}}=this;i?.splice(0,4,...e);let{width:l,height:u}=U2(e);t.left=`${100*(e[0]-c)/o}%`,t.top=`${100*(r-e[3]+a)/r}%`,s===0?(t.width=`${100*l/o}%`,t.height=`${100*u/r}%`):this.setRotation(s)}_createContainer(e){let{data:t,parent:{page:i,viewport:s}}=this,o=document.createElement("section");o.setAttribute("data-annotation-id",t.id),this instanceof W2||(o.tabIndex=T4);let{style:r}=o;if(r.zIndex=this.parent.zIndex++,t.popupRef&&o.setAttribute("aria-haspopup","dialog"),t.alternativeText&&(o.title=t.alternativeText),t.noRotate&&o.classList.add("norotate"),!t.rect||this instanceof D4){let{rotation:m}=t;return!t.hasOwnCanvas&&m!==0&&this.setRotation(m,o),o}let{width:c,height:a}=U2(t.rect);if(!e&&t.borderStyle.width>0){r.borderWidth=`${t.borderStyle.width}px`;let m=t.borderStyle.horizontalCornerRadius,v=t.borderStyle.verticalCornerRadius;if(m>0||v>0){let C=`calc(${m}px * var(--scale-factor)) / calc(${v}px * var(--scale-factor))`;r.borderRadius=C}else if(this instanceof Xs){let C=`calc(${c}px * var(--scale-factor)) / calc(${a}px * var(--scale-factor))`;r.borderRadius=C}switch(t.borderStyle.style){case m4.SOLID:r.borderStyle="solid";break;case m4.DASHED:r.borderStyle="dashed";break;case m4.BEVELED:n1("Unimplemented border style: beveled");break;case m4.INSET:n1("Unimplemented border style: inset");break;case m4.UNDERLINE:r.borderBottomStyle="solid";break;default:break}let g=t.borderColor||null;g?(this.#t=!0,r.borderColor=k.makeHexColor(g[0]|0,g[1]|0,g[2]|0)):r.borderWidth=0}let l=k.normalizeRect([t.rect[0],i.view[3]-t.rect[1]+i.view[1],t.rect[2],i.view[3]-t.rect[3]+i.view[1]]),{pageWidth:u,pageHeight:f,pageX:d,pageY:h}=s.rawDims;r.left=`${100*(l[0]-d)/u}%`,r.top=`${100*(l[1]-h)/f}%`;let{rotation:p}=t;return t.hasOwnCanvas||p===0?(r.width=`${100*c/u}%`,r.height=`${100*a/f}%`):this.setRotation(p,o),o}setRotation(e,t=this.container){if(!this.data.rect)return;let{pageWidth:i,pageHeight:s}=this.parent.viewport.rawDims,{width:o,height:r}=U2(this.data.rect),c,a;e%180===0?(c=100*o/i,a=100*r/s):(c=100*r/i,a=100*o/s),t.style.width=`${c}%`,t.style.height=`${a}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){let e=(t,i,s)=>{let o=s.detail[t],r=o[0],c=o.slice(1);s.target.style[i]=Js[`${r}_HTML`](c),this.annotationStorage.setValue(this.data.id,{[i]:Js[`${r}_rgb`](c)})};return c1(this,"_commonActions",{display:t=>{let{display:i}=t.detail,s=i%2===1;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:s,noPrint:i===1||i===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{let{hidden:i}=t.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{let i=t.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(e,t){let i=this._commonActions;for(let s of Object.keys(t.detail))(e[s]||i[s])?.(t)}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;let t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;let i=this._commonActions;for(let[s,o]of Object.entries(t)){let r=i[s];if(r){let c={detail:{[s]:o},target:e};r(c),delete t[s]}}}_createQuadrilaterals(){if(!this.container)return;let{quadPoints:e}=this.data;if(!e)return;let[t,i,s,o]=this.data.rect.map(m=>Math.fround(m));if(e.length===8){let[m,v,g,C]=e.subarray(2,6);if(s===m&&o===v&&t===g&&i===C)return}let{style:r}=this.container,c;if(this.#t){let{borderColor:m,borderWidth:v}=r;r.borderWidth=0,c=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${m}" stroke-width="${v}">`],this.container.classList.add("hasBorder")}let a=s-t,l=o-i,{svgFactory:u}=this,f=u.createElement("svg");f.classList.add("quadrilateralsContainer"),f.setAttribute("width",0),f.setAttribute("height",0);let d=u.createElement("defs");f.append(d);let h=u.createElement("clipPath"),p=`clippath_${this.data.id}`;h.setAttribute("id",p),h.setAttribute("clipPathUnits","objectBoundingBox"),d.append(h);for(let m=2,v=e.length;m<v;m+=8){let g=e[m],C=e[m+1],M=e[m+2],b=e[m+3],L=u.createElement("rect"),y=(M-t)/a,w=(o-C)/l,A=(g-M)/a,_=(C-b)/l;L.setAttribute("x",y),L.setAttribute("y",w),L.setAttribute("width",A),L.setAttribute("height",_),h.append(L),c?.push(`<rect vector-effect="non-scaling-stroke" x="${y}" y="${w}" width="${A}" height="${_}"/>`)}this.#t&&(c.push("</g></svg>')"),r.backgroundImage=c.join("")),this.container.append(f),this.container.style.clipPath=`url(#${p})`}_createPopup(){let{container:e,data:t}=this;e.setAttribute("aria-haspopup","dialog");let i=this.#n=new D4({data:{color:t.color,titleObj:t.titleObj,modificationDate:t.modificationDate,contentsObj:t.contentsObj,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation},parent:this.parent,elements:[this]});this.parent.div.append(i.render())}render(){O1("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){let i=[];if(this._fieldObjects){let s=this._fieldObjects[e];if(s)for(let{page:o,id:r,exportValues:c}of s){if(o===-1||r===t)continue;let a=typeof c=="string"?c:null,l=document.querySelector(`[data-element-id="${r}"]`);if(l&&!o3.has(l)){n1(`_getElementsByName - element not allowed: ${r}`);continue}i.push({id:r,exportValue:a,domElement:l})}return i}for(let s of document.getElementsByName(e)){let{exportValue:o}=s,r=s.getAttribute("data-element-id");r!==t&&o3.has(s)&&i.push({id:r,exportValue:o,domElement:s})}return i}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){let e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(let t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;let{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}},Qs=class extends k1{constructor(e,t=null){super(e,{isRenderable:!0,ignoreBorder:!!t?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){let{data:e,linkService:t}=this,i=document.createElement("a");i.setAttribute("data-element-id",e.id);let s=!1;return e.url?(t.addLinkAttributes(i,e.url,e.newWindow),s=!0):e.action?(this._bindNamedAction(i,e.action),s=!0):e.attachment?(this.#t(i,e.attachment,e.attachmentDest),s=!0):e.setOCGState?(this.#n(i,e.setOCGState),s=!0):e.dest?(this._bindLink(i,e.dest),s=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,e),s=!0),e.resetForm?(this._bindResetFormAction(i,e.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(i),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(e,t){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||t==="")&&this.#e()}_bindNamedAction(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),this.#e()}#t(e,t,i=null){e.href=this.linkService.getAnchorUrl(""),t.description&&(e.title=t.description),e.onclick=()=>(this.downloadManager?.openOrDownloadData(t.content,t.filename,i),!1),this.#e()}#n(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),this.#e()}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");let i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(let s of Object.keys(t.actions)){let o=i.get(s);o&&(e[o]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:s}}),!1))}e.onclick||(e.onclick=()=>!1),this.#e()}_bindResetFormAction(e,t){let i=e.onclick;if(i||(e.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){n1('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(e.onclick=()=>!1);return}e.onclick=()=>{i?.();let{fields:s,refs:o,include:r}=t,c=[];if(s.length!==0||o.length!==0){let u=new Set(o);for(let f of s){let d=this._fieldObjects[f]||[];for(let{id:h}of d)u.add(h)}for(let f of Object.values(this._fieldObjects))for(let d of f)u.has(d.id)===r&&c.push(d)}else for(let u of Object.values(this._fieldObjects))c.push(...u);let a=this.annotationStorage,l=[];for(let u of c){let{id:f}=u;switch(l.push(f),u.type){case"text":{let h=u.defaultValue||"";a.setValue(f,{value:h});break}case"checkbox":case"radiobutton":{let h=u.defaultValue===u.exportValues;a.setValue(f,{value:h});break}case"combobox":case"listbox":{let h=u.defaultValue||"";a.setValue(f,{value:h});break}default:continue}let d=document.querySelector(`[data-element-id="${f}"]`);if(d){if(!o3.has(d)){n1(`_bindResetFormAction - element not allowed: ${f}`);continue}}else continue;d.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:l,name:"ResetForm"}}),!1}}},q8=class extends k1{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");let e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}},W2=class extends k1{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&(e.previousSibling?.nodeName==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return ae.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,i,s,o){i.includes("mouse")?e.addEventListener(i,r=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:o(r),shift:r.shiftKey,modifier:this._getKeyModifier(r)}})}):e.addEventListener(i,r=>{if(i==="blur"){if(!t.focused||!r.relatedTarget)return;t.focused=!1}else if(i==="focus"){if(t.focused)return;t.focused=!0}o&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:s,value:o(r)}})})}_setEventListeners(e,t,i,s){for(let[o,r]of i)(r==="Action"||this.data.actions?.[r])&&((r==="Focus"||r==="Blur")&&(t||={focused:!1}),this._setEventListener(e,t,o,r,s),r==="Focus"&&!this.data.actions?.Blur?this._setEventListener(e,t,"blur","Blur",null):r==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){let t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":k.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){let t=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,s=this.data.defaultAppearanceData.fontSize||jS,o=e.style,r,c=2,a=l=>Math.round(10*l)/10;if(this.data.multiLine){let l=Math.abs(this.data.rect[3]-this.data.rect[1]-c),u=Math.round(l/(As*s))||1,f=l/u;r=Math.min(s,a(f/As))}else{let l=Math.abs(this.data.rect[3]-this.data.rect[1]-c);r=Math.min(s,a(l/As))}o.fontSize=`calc(${r}px * var(--scale-factor))`,o.color=k.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(o.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}},Z8=class extends W2{constructor(e){let t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,i,s){let o=this.annotationStorage;for(let r of this._getElementsByName(e.name,e.id))r.domElement&&(r.domElement[t]=i),o.setValue(r.id,{[s]:i})}render(){let e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){let s=e.getValue(t,{value:this.data.fieldValue}),o=s.value||"",r=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;r&&o.length>r&&(o=o.slice(0,r));let c=s.formattedValue||this.data.textContent?.join(`
`)||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));let a={userValue:o,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=c??o,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type="text",i.setAttribute("value",c??o),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),o3.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=T4,this._setRequired(i,this.data.required),r&&(i.maxLength=r),i.addEventListener("input",u=>{e.setValue(t,{value:u.target.value}),this.setPropertyOnSiblings(i,"value",u.target.value,"value"),a.formattedValue=null}),i.addEventListener("resetform",u=>{let f=this.data.defaultFieldValue??"";i.value=a.userValue=f,a.formattedValue=null});let l=u=>{let{formattedValue:f}=a;f!=null&&(u.target.value=f),u.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",f=>{if(a.focused)return;let{target:d}=f;a.userValue&&(d.value=a.userValue),a.lastCommittedValue=d.value,a.commitKey=1,this.data.actions?.Focus||(a.focused=!0)}),i.addEventListener("updatefromsandbox",f=>{this.showElementAndHideCanvas(f.target);let d={value(h){a.userValue=h.detail.value??"",e.setValue(t,{value:a.userValue.toString()}),h.target.value=a.userValue},formattedValue(h){let{formattedValue:p}=h.detail;a.formattedValue=p,p!=null&&h.target!==document.activeElement&&(h.target.value=p),e.setValue(t,{formattedValue:p})},selRange(h){h.target.setSelectionRange(...h.detail.selRange)},charLimit:h=>{let{charLimit:p}=h.detail,{target:m}=h;if(p===0){m.removeAttribute("maxLength");return}m.setAttribute("maxLength",p);let v=a.userValue;!v||v.length<=p||(v=v.slice(0,p),m.value=a.userValue=v,e.setValue(t,{value:v}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:v,willCommit:!0,commitKey:1,selStart:m.selectionStart,selEnd:m.selectionEnd}}))}};this._dispatchEventFromSandbox(d,f)}),i.addEventListener("keydown",f=>{a.commitKey=1;let d=-1;if(f.key==="Escape"?d=0:f.key==="Enter"&&!this.data.multiLine?d=2:f.key==="Tab"&&(a.commitKey=3),d===-1)return;let{value:h}=f.target;a.lastCommittedValue!==h&&(a.lastCommittedValue=h,a.userValue=h,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:h,willCommit:!0,commitKey:d,selStart:f.target.selectionStart,selEnd:f.target.selectionEnd}}))});let u=l;l=null,i.addEventListener("blur",f=>{if(!a.focused||!f.relatedTarget)return;this.data.actions?.Blur||(a.focused=!1);let{value:d}=f.target;a.userValue=d,a.lastCommittedValue!==d&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:d,willCommit:!0,commitKey:a.commitKey,selStart:f.target.selectionStart,selEnd:f.target.selectionEnd}}),u(f)}),this.data.actions?.Keystroke&&i.addEventListener("beforeinput",f=>{a.lastCommittedValue=null;let{data:d,target:h}=f,{value:p,selectionStart:m,selectionEnd:v}=h,g=m,C=v;switch(f.inputType){case"deleteWordBackward":{let M=p.substring(0,m).match(/\w*[^\w]*$/);M&&(g-=M[0].length);break}case"deleteWordForward":{let M=p.substring(m).match(/^[^\w]*\w*/);M&&(C+=M[0].length);break}case"deleteContentBackward":m===v&&(g-=1);break;case"deleteContentForward":m===v&&(C+=1);break}f.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:p,change:d||"",willCommit:!1,selStart:g,selEnd:C}})}),this._setEventListeners(i,a,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],f=>f.target.value)}if(l&&i.addEventListener("blur",l),this.data.comb){let f=(this.data.rect[2]-this.data.rect[0])/r;i.classList.add("comb"),i.style.letterSpacing=`calc(${f}px * var(--scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}},Y8=class extends W2{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}},J8=class extends W2{constructor(e){super(e,{isRenderable:e.renderForms})}render(){let e=this.annotationStorage,t=this.data,i=t.id,s=e.getValue(i,{value:t.exportValue===t.fieldValue}).value;typeof s=="string"&&(s=s!=="Off",e.setValue(i,{value:s})),this.container.classList.add("buttonWidgetAnnotation","checkBox");let o=document.createElement("input");return o3.add(o),o.setAttribute("data-element-id",i),o.disabled=t.readOnly,this._setRequired(o,this.data.required),o.type="checkbox",o.name=t.fieldName,s&&o.setAttribute("checked",!0),o.setAttribute("exportValue",t.exportValue),o.tabIndex=T4,o.addEventListener("change",r=>{let{name:c,checked:a}=r.target;for(let l of this._getElementsByName(c,i)){let u=a&&l.exportValue===t.exportValue;l.domElement&&(l.domElement.checked=u),e.setValue(l.id,{value:u})}e.setValue(i,{value:a})}),o.addEventListener("resetform",r=>{let c=t.defaultFieldValue||"Off";r.target.checked=c===t.exportValue}),this.enableScripting&&this.hasJSActions&&(o.addEventListener("updatefromsandbox",r=>{let c={value(a){a.target.checked=a.detail.value!=="Off",e.setValue(i,{value:a.target.checked})}};this._dispatchEventFromSandbox(c,r)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],r=>r.target.checked)),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}},Xs=class extends W2{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");let e=this.annotationStorage,t=this.data,i=t.id,s=e.getValue(i,{value:t.fieldValue===t.buttonValue}).value;if(typeof s=="string"&&(s=s!==t.buttonValue,e.setValue(i,{value:s})),s)for(let r of this._getElementsByName(t.fieldName,i))e.setValue(r.id,{value:!1});let o=document.createElement("input");if(o3.add(o),o.setAttribute("data-element-id",i),o.disabled=t.readOnly,this._setRequired(o,this.data.required),o.type="radio",o.name=t.fieldName,s&&o.setAttribute("checked",!0),o.tabIndex=T4,o.addEventListener("change",r=>{let{name:c,checked:a}=r.target;for(let l of this._getElementsByName(c,i))e.setValue(l.id,{value:!1});e.setValue(i,{value:a})}),o.addEventListener("resetform",r=>{let c=t.defaultFieldValue;r.target.checked=c!=null&&c===t.buttonValue}),this.enableScripting&&this.hasJSActions){let r=t.buttonValue;o.addEventListener("updatefromsandbox",c=>{let a={value:l=>{let u=r===l.detail.value;for(let f of this._getElementsByName(l.target.name)){let d=u&&f.id===i;f.domElement&&(f.domElement.checked=d),e.setValue(f.id,{value:d})}}};this._dispatchEventFromSandbox(a,c)}),this._setEventListeners(o,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)}return this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}},K8=class extends Qs{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){let e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");let t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),e}},Q8=class extends W2{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");let e=this.annotationStorage,t=this.data.id,i=e.getValue(t,{value:this.data.fieldValue}),s=document.createElement("select");o3.add(s),s.setAttribute("data-element-id",t),s.disabled=this.data.readOnly,this._setRequired(s,this.data.required),s.name=this.data.fieldName,s.tabIndex=T4;let o=this.data.combo&&this.data.options.length>0;this.data.combo||(s.size=this.data.options.length,this.data.multiSelect&&(s.multiple=!0)),s.addEventListener("resetform",u=>{let f=this.data.defaultFieldValue;for(let d of s.options)d.selected=d.value===f});for(let u of this.data.options){let f=document.createElement("option");f.textContent=u.displayValue,f.value=u.exportValue,i.value.includes(u.exportValue)&&(f.setAttribute("selected",!0),o=!1),s.append(f)}let r=null;if(o){let u=document.createElement("option");u.value=" ",u.setAttribute("hidden",!0),u.setAttribute("selected",!0),s.prepend(u),r=()=>{u.remove(),s.removeEventListener("input",r),r=null},s.addEventListener("input",r)}let c=u=>{let f=u?"value":"textContent",{options:d,multiple:h}=s;return h?Array.prototype.filter.call(d,p=>p.selected).map(p=>p[f]):d.selectedIndex===-1?null:d[d.selectedIndex][f]},a=c(!1),l=u=>{let f=u.target.options;return Array.prototype.map.call(f,d=>({displayValue:d.textContent,exportValue:d.value}))};return this.enableScripting&&this.hasJSActions?(s.addEventListener("updatefromsandbox",u=>{let f={value(d){r?.();let h=d.detail.value,p=new Set(Array.isArray(h)?h:[h]);for(let m of s.options)m.selected=p.has(m.value);e.setValue(t,{value:c(!0)}),a=c(!1)},multipleSelection(d){s.multiple=!0},remove(d){let h=s.options,p=d.detail.remove;h[p].selected=!1,s.remove(p),h.length>0&&Array.prototype.findIndex.call(h,v=>v.selected)===-1&&(h[0].selected=!0),e.setValue(t,{value:c(!0),items:l(d)}),a=c(!1)},clear(d){for(;s.length!==0;)s.remove(0);e.setValue(t,{value:null,items:[]}),a=c(!1)},insert(d){let{index:h,displayValue:p,exportValue:m}=d.detail.insert,v=s.children[h],g=document.createElement("option");g.textContent=p,g.value=m,v?v.before(g):s.append(g),e.setValue(t,{value:c(!0),items:l(d)}),a=c(!1)},items(d){let{items:h}=d.detail;for(;s.length!==0;)s.remove(0);for(let p of h){let{displayValue:m,exportValue:v}=p,g=document.createElement("option");g.textContent=m,g.value=v,s.append(g)}s.options.length>0&&(s.options[0].selected=!0),e.setValue(t,{value:c(!0),items:l(d)}),a=c(!1)},indices(d){let h=new Set(d.detail.indices);for(let p of d.target.options)p.selected=h.has(p.index);e.setValue(t,{value:c(!0)}),a=c(!1)},editable(d){d.target.disabled=!d.detail.editable}};this._dispatchEventFromSandbox(f,u)}),s.addEventListener("input",u=>{let f=c(!0),d=c(!1);e.setValue(t,{value:f}),u.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:a,change:d,changeEx:f,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(s,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],u=>u.target.value)):s.addEventListener("input",function(u){e.setValue(t,{value:c(!0)})}),this.data.combo&&this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}},D4=class extends k1{constructor(e){let{data:t,elements:i}=e;super(e,{isRenderable:k1._hasPopupData(t)}),this.elements=i,this.popup=null}render(){this.container.classList.add("popupAnnotation");let e=this.popup=new X8({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(let i of this.elements)i.popup=e,t.push(i.data.id),i.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(i=>`${gm}${i}`).join(",")),this.container}},X8=class{#e=this.#D.bind(this);#t=this.#x.bind(this);#n=this.#A.bind(this);#i=this.#L.bind(this);#s=null;#o=null;#c=null;#a=null;#f=null;#l=null;#u=null;#r=!1;#d=null;#p=null;#h=null;#m=null;#v=null;#g=null;#C=!1;constructor({container:e,color:t,elements:i,titleObj:s,modificationDate:o,contentsObj:r,richText:c,parent:a,rect:l,parentRect:u,open:f}){this.#o=e,this.#v=s,this.#c=r,this.#m=c,this.#l=a,this.#s=t,this.#h=l,this.#u=u,this.#f=i,this.#a=Vs.toDateObject(o),this.trigger=i.flatMap(d=>d.getElementsToTriggerPopup());for(let d of this.trigger)d.addEventListener("click",this.#i),d.addEventListener("mouseenter",this.#n),d.addEventListener("mouseleave",this.#t),d.classList.add("popupTriggerArea");for(let d of i)d.container?.addEventListener("keydown",this.#e);this.#o.hidden=!0,f&&this.#L()}render(){if(this.#d)return;let e=this.#d=document.createElement("div");if(e.className="popup",this.#s){let o=e.style.outlineColor=k.makeHexColor(...this.#s);CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${o} 30%, white)`:e.style.backgroundColor=k.makeHexColor(...this.#s.map(c=>Math.floor(.7*(255-c)+c)))}let t=document.createElement("span");t.className="header";let i=document.createElement("h1");if(t.append(i),{dir:i.dir,str:i.textContent}=this.#v,e.append(t),this.#a){let o=document.createElement("span");o.classList.add("popupDate"),o.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),o.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#a.valueOf()})),t.append(o)}let s=this.#M;if(s)Ks.render({xfaHtml:s,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{let o=this._formatContents(this.#c);e.append(o)}this.#o.append(e)}get#M(){let e=this.#m,t=this.#c;return e?.str&&(!t?.str||t.str===e.str)&&this.#m.html||null}get#_(){return this.#M?.attributes?.style?.fontSize||0}get#y(){return this.#M?.attributes?.style?.color||null}#w(e){let t=[],i={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},s={style:{color:this.#y,fontSize:this.#_?`calc(${this.#_}px * var(--scale-factor))`:""}};for(let o of e.split(`
`))t.push({name:"span",value:o,attributes:s});return i}_formatContents({str:e,dir:t}){let i=document.createElement("p");i.classList.add("popupContent"),i.dir=t;let s=e.split(/(?:\r\n?|\n)/);for(let o=0,r=s.length;o<r;++o){let c=s[o];i.append(document.createTextNode(c)),o<r-1&&i.append(document.createElement("br"))}return i}#D(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&this.#r)&&this.#L()}updateEdited({rect:e,popupContent:t}){this.#g||={contentsObj:this.#c,richText:this.#m},e&&(this.#p=null),t&&(this.#m=this.#w(t),this.#c=null),this.#d?.remove(),this.#d=null}resetEdited(){this.#g&&({contentsObj:this.#c,richText:this.#m}=this.#g,this.#g=null,this.#d?.remove(),this.#d=null,this.#p=null)}#S(){if(this.#p!==null)return;let{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:i,pageX:s,pageY:o}}}=this.#l,r=!!this.#u,c=r?this.#u:this.#h;for(let p of this.#f)if(!c||k.intersect(p.data.rect,c)!==null){c=p.data.rect,r=!0;break}let a=k.normalizeRect([c[0],e[3]-c[1]+e[1],c[2],e[3]-c[3]+e[1]]),u=r?c[2]-c[0]+5:0,f=a[0]+u,d=a[1];this.#p=[100*(f-s)/t,100*(d-o)/i];let{style:h}=this.#o;h.left=`${this.#p[0]}%`,h.top=`${this.#p[1]}%`}#L(){this.#r=!this.#r,this.#r?(this.#A(),this.#o.addEventListener("click",this.#i),this.#o.addEventListener("keydown",this.#e)):(this.#x(),this.#o.removeEventListener("click",this.#i),this.#o.removeEventListener("keydown",this.#e))}#A(){this.#d||this.render(),this.isVisible?this.#r&&this.#o.classList.add("focused"):(this.#S(),this.#o.hidden=!1,this.#o.style.zIndex=parseInt(this.#o.style.zIndex)+1e3)}#x(){this.#o.classList.remove("focused"),!(this.#r||!this.isVisible)&&(this.#o.hidden=!0,this.#o.style.zIndex=parseInt(this.#o.style.zIndex)-1e3)}forceHide(){this.#C=this.isVisible,this.#C&&(this.#o.hidden=!0)}maybeShow(){this.#C&&(this.#d||this.#A(),this.#C=!1,this.#o.hidden=!1)}get isVisible(){return this.#o.hidden===!1}},e6=class extends k1{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=r1.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){let e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(let t of this.textContent){let i=document.createElement("span");i.textContent=t,e.append(i)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}},e5=class extends k1{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");let e=this.data,{width:t,height:i}=U2(e.rect),s=this.svgFactory.create(t,i,!0),o=this.#e=this.svgFactory.createElement("svg:line");return o.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),o.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),o.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),o.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),o.setAttribute("stroke-width",e.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}},t5=class extends k1{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");let e=this.data,{width:t,height:i}=U2(e.rect),s=this.svgFactory.create(t,i,!0),o=e.borderStyle.width,r=this.#e=this.svgFactory.createElement("svg:rect");return r.setAttribute("x",o/2),r.setAttribute("y",o/2),r.setAttribute("width",t-o),r.setAttribute("height",i-o),r.setAttribute("stroke-width",o||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),s.append(r),this.container.append(s),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}},n5=class extends k1{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");let e=this.data,{width:t,height:i}=U2(e.rect),s=this.svgFactory.create(t,i,!0),o=e.borderStyle.width,r=this.#e=this.svgFactory.createElement("svg:ellipse");return r.setAttribute("cx",t/2),r.setAttribute("cy",i/2),r.setAttribute("rx",t/2-o/2),r.setAttribute("ry",i/2-o/2),r.setAttribute("stroke-width",o||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),s.append(r),this.container.append(s),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}},t6=class extends k1{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);let{data:{rect:e,vertices:t,borderStyle:i,popupRef:s}}=this;if(!t)return this.container;let{width:o,height:r}=U2(e),c=this.svgFactory.create(o,r,!0),a=[];for(let u=0,f=t.length;u<f;u+=2){let d=t[u]-e[0],h=e[3]-t[u+1];a.push(`${d},${h}`)}a=a.join(" ");let l=this.#e=this.svgFactory.createElement(this.svgElementName);return l.setAttribute("points",a),l.setAttribute("stroke-width",i.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),c.append(l),this.container.append(c),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}},i5=class extends t6{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}},s5=class extends k1{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}},n6=class extends k1{#e=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=r1.INK}render(){this.container.classList.add(this.containerClassName);let{data:{rect:e,inkLists:t,borderStyle:i,popupRef:s}}=this,{width:o,height:r}=U2(e),c=this.svgFactory.create(o,r,!0);for(let a of t){let l=[];for(let f=0,d=a.length;f<d;f+=2){let h=a[f]-e[0],p=e[3]-a[f+1];l.push(`${h},${p}`)}l=l.join(" ");let u=this.svgFactory.createElement(this.svgElementName);this.#e.push(u),u.setAttribute("points",l),u.setAttribute("stroke-width",i.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","transparent"),!s&&this.hasPopupData&&this._createPopup(),c.append(u)}return this.container.append(c),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}},o5=class extends k1{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}},r5=class extends k1{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}},c5=class extends k1{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}},a5=class extends k1{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}},i6=class extends k1{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}},l5=class extends k1{#e=null;constructor(e){super(e,{isRenderable:!0});let{file:t}=this.data;this.filename=t.filename,this.content=t.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",D({source:this},t))}render(){this.container.classList.add("fileAttachmentAnnotation");let{container:e,data:t}=this,i;t.hasAppearance||t.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(t.name)?"paperclip":"pushpin"}.svg`,t.fillAlpha&&t.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(t.fillAlpha*100)}%);`)),i.addEventListener("dblclick",this.#t.bind(this)),this.#e=i;let{isMac:s}=ae.platform;return e.addEventListener("keydown",o=>{o.key==="Enter"&&(s?o.metaKey:o.ctrlKey)&&this.#t()}),!t.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),e.append(i),e}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}},u5=class{#e=null;#t=null;#n=new Map;constructor({div:e,accessibilityManager:t,annotationCanvasMap:i,annotationEditorUIManager:s,page:o,viewport:r}){this.div=e,this.#e=t,this.#t=i,this.page=o,this.viewport=r,this.zIndex=0,this._annotationEditorUIManager=s}hasEditableAnnotations(){return this.#n.size>0}#i(e,t){let i=e.firstChild||e;i.id=`${gm}${t}`,this.div.append(e),this.#e?.moveElementInDOM(this.div,e,i,!1)}render(e){return N(this,null,function*(){let{annotations:t}=e,i=this.div;i3(i,this.viewport);let s=new Map,o={data:null,layer:i,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new _4,annotationStorage:e.annotationStorage||new x4,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(let r of t){if(r.noHTML)continue;let c=r.annotationType===j1.POPUP;if(c){let u=s.get(r.id);if(!u)continue;o.elements=u}else{let{width:u,height:f}=U2(r.rect);if(u<=0||f<=0)continue}o.data=r;let a=W8.create(o);if(!a.isRenderable)continue;if(!c&&r.popupRef){let u=s.get(r.popupRef);u?u.push(a):s.set(r.popupRef,[a])}let l=a.render();r.hidden&&(l.style.visibility="hidden"),this.#i(l,r.id),a._isEditable&&(this.#n.set(a.data.id,a),this._annotationEditorUIManager?.renderAnnotationElement(a))}this.#s()})}update({viewport:e}){let t=this.div;this.viewport=e,i3(t,{rotation:e.rotation}),this.#s(),t.hidden=!1}#s(){if(!this.#t)return;let e=this.div;for(let[t,i]of this.#t){let s=e.querySelector(`[data-annotation-id="${t}"]`);if(!s)continue;i.className="annotationContent";let{firstChild:o}=s;o?o.nodeName==="CANVAS"?o.replaceWith(i):o.classList.contains("annotationContent")?o.after(i):o.before(i):s.append(i)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(e){return this.#n.get(e)}},Ss=/\r\n?|\n/g,f5=class n extends m1{#e;#t="";#n=`${this.id}-editor`;#i=null;#s;#o=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){let e=n.prototype,t=o=>o.isEmpty(),i=z4.TRANSLATE_SMALL,s=z4.TRANSLATE_BIG;return c1(this,"_keyboardManager",new s3([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,s],checker:t}]]))}static _type="freetext";static _editorType=r1.FREETEXT;constructor(e){super(X(D({},e),{name:"freeTextEditor"})),this.#e=e.color||n._defaultColor||m1._defaultLineColor,this.#s=e.fontSize||n._defaultFontSize}static initialize(e,t){m1.initialize(e,t,{strings:["pdfjs-free-text-default-content"]});let i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case j.FREETEXT_SIZE:n._defaultFontSize=t;break;case j.FREETEXT_COLOR:n._defaultColor=t;break}}updateParams(e,t){switch(e){case j.FREETEXT_SIZE:this.#c(t);break;case j.FREETEXT_COLOR:this.#a(t);break}}static get defaultPropertiesToUpdate(){return[[j.FREETEXT_SIZE,n._defaultFontSize],[j.FREETEXT_COLOR,n._defaultColor||m1._defaultLineColor]]}get propertiesToUpdate(){return[[j.FREETEXT_SIZE,this.#s],[j.FREETEXT_COLOR,this.#e]]}#c(e){let t=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--scale-factor))`,this.translate(0,-(s-this.#s)*this.parentScale),this.#s=s,this.#l()},i=this.#s;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:j.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#a(e){let t=s=>{this.#e=this.editorDiv.style.color=s},i=this.#e;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:j.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){let e=this.parentScale;return[-n._internalPadding*e,-(n._internalPadding+this.#s)*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(r1.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#i=new AbortController;let e=this._uiManager.combinedSignal(this.#i);this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#n),this._isDraggable=!0,this.#i?.abort(),this.#i=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#f(){let e=[];this.editorDiv.normalize();for(let t of this.editorDiv.childNodes)e.push(n.#u(t));return e.join(`
`)}#l(){let[e,t]=this.parentDimensions,i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{let{currentLayer:s,div:o}=this,r=o.style.display,c=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",s.div.append(this.div),i=o.getBoundingClientRect(),o.remove(),o.style.display=r,o.classList.toggle("hidden",c)}this.rotation%180===this.parentRotation%180?(this.width=i.width/e,this.height=i.height/t):(this.width=i.height/e,this.height=i.width/t),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();let e=this.#t,t=this.#t=this.#f().trimEnd();if(e===t)return;let i=s=>{if(this.#t=s,!s){this.remove();return}this.#r(),this._uiManager.rebuild(this),this.#l()};this.addCommands({cmd:()=>{i(t)},undo:()=>{i(e)},mustExec:!1}),this.#l()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){n._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#n),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),m1._l10nPromise.get("pdfjs-free-text-default-content").then(s=>this.editorDiv?.setAttribute("default-content",s)),this.editorDiv.contentEditable=!0;let{style:i}=this.editorDiv;if(i.fontSize=`calc(${this.#s}px * var(--scale-factor))`,i.color=this.#e,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Bs(this,this.div,["dblclick","keydown"]),this.width){let[s,o]=this.parentDimensions;if(this.annotationElementId){let{position:r}=this.#o,[c,a]=this.getInitialTranslation();[c,a]=this.pageTranslationToScreen(c,a);let[l,u]=this.pageDimensions,[f,d]=this.pageTranslation,h,p;switch(this.rotation){case 0:h=e+(r[0]-f)/l,p=t+this.height-(r[1]-d)/u;break;case 90:h=e+(r[0]-f)/l,p=t-(r[1]-d)/u,[c,a]=[a,-c];break;case 180:h=e-this.width+(r[0]-f)/l,p=t-(r[1]-d)/u,[c,a]=[-c,-a];break;case 270:h=e+(r[0]-f-this.height*u)/l,p=t+(r[1]-d-this.width*l)/u,[c,a]=[-a,c];break}this.setAt(h*s,p*o,c,a)}else this.setAt(e*s,t*o,this.width*s,this.height*o);this.#r(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#u(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(Ss,"")}editorDivPaste(e){let t=e.clipboardData||window.clipboardData,{types:i}=t;if(i.length===1&&i[0]==="text/plain")return;e.preventDefault();let s=n.#p(t.getData("text")||"").replaceAll(Ss,`
`);if(!s)return;let o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();let r=o.getRangeAt(0);if(!s.includes(`
`)){r.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),o.collapseToStart();return}let{startContainer:c,startOffset:a}=r,l=[],u=[];if(c.nodeType===Node.TEXT_NODE){let h=c.parentElement;if(u.push(c.nodeValue.slice(a).replaceAll(Ss,"")),h!==this.editorDiv){let p=l;for(let m of this.editorDiv.childNodes){if(m===h){p=u;continue}p.push(n.#u(m))}}l.push(c.nodeValue.slice(0,a).replaceAll(Ss,""))}else if(c===this.editorDiv){let h=l,p=0;for(let m of this.editorDiv.childNodes)p++===a&&(h=u),h.push(n.#u(m))}this.#t=`${l.join(`
`)}${s}${u.join(`
`)}`,this.#r();let f=new Range,d=l.reduce((h,p)=>h+p.length,0);for(let{firstChild:h}of this.editorDiv.childNodes)if(h.nodeType===Node.TEXT_NODE){let p=h.nodeValue.length;if(d<=p){f.setStart(h,d),f.setEnd(h,d);break}d-=p}o.removeAllRanges(),o.addRange(f)}#r(){if(this.editorDiv.replaceChildren(),!!this.#t)for(let e of this.#t.split(`
`)){let t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}#d(){return this.#t.replaceAll("\xA0"," ")}static#p(e){return e.replaceAll(" ","\xA0")}get contentDiv(){return this.editorDiv}static deserialize(e,t,i){let s=null;if(e instanceof e6){let{data:{defaultAppearanceData:{fontSize:r,fontColor:c},rect:a,rotation:l,id:u},textContent:f,textPosition:d,parent:{page:{pageNumber:h}}}=e;if(!f||f.length===0)return null;s=e={annotationType:r1.FREETEXT,color:Array.from(c),fontSize:r,value:f.join(`
`),position:d,pageIndex:h-1,rect:a.slice(0),rotation:l,id:u,deleted:!1}}let o=super.deserialize(e,t,i);return o.#s=e.fontSize,o.#e=k.makeHexColor(...e.color),o.#t=n.#p(e.value),o.annotationElementId=e.id||null,o.#o=s,o}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};let t=n._internalPadding*this.parentScale,i=this.getRect(t,t),s=m1._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#e),o={annotationType:r1.FREETEXT,color:s,fontSize:this.#s,value:this.#d(),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?o:this.annotationElementId&&!this.#h(o)?null:(o.id=this.annotationElementId,o)}#h(e){let{value:t,fontSize:i,color:s,pageIndex:o}=this.#o;return this._hasBeenMoved||e.value!==t||e.fontSize!==i||e.color.some((r,c)=>r!==s[c])||e.pageIndex!==o}renderAnnotationElement(e){let t=super.renderAnnotationElement(e);if(this.deleted)return t;let{style:i}=t;i.fontSize=`calc(${this.#s}px * var(--scale-factor))`,i.color=this.#e,t.replaceChildren();for(let o of this.#t.split(`
`)){let r=document.createElement("div");r.append(o?document.createTextNode(o):document.createElement("br")),t.append(r)}let s=n._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(s,s),popupContent:this.#t}),t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}},s6=class{#e;#t=[];#n=[];constructor(e,t=0,i=0,s=!0){let o=1/0,r=-1/0,c=1/0,a=-1/0,u=10**-4;for(let{x:g,y:C,width:M,height:b}of e){let L=Math.floor((g-t)/u)*u,y=Math.ceil((g+M+t)/u)*u,w=Math.floor((C-t)/u)*u,A=Math.ceil((C+b+t)/u)*u,_=[L,w,A,!0],S=[y,w,A,!1];this.#t.push(_,S),o=Math.min(o,L),r=Math.max(r,y),c=Math.min(c,w),a=Math.max(a,A)}let f=r-o+2*i,d=a-c+2*i,h=o-i,p=c-i,m=this.#t.at(s?-1:-2),v=[m[0],m[2]];for(let g of this.#t){let[C,M,b]=g;g[0]=(C-h)/f,g[1]=(M-p)/d,g[2]=(b-p)/d}this.#e={x:h,y:p,width:f,height:d,lastPoint:v}}getOutlines(){this.#t.sort((t,i)=>t[0]-i[0]||t[1]-i[1]||t[2]-i[2]);let e=[];for(let t of this.#t)t[3]?(e.push(...this.#a(t)),this.#o(t)):(this.#c(t),e.push(...this.#a(t)));return this.#i(e)}#i(e){let t=[],i=new Set;for(let r of e){let[c,a,l]=r;t.push([c,a,r],[c,l,r])}t.sort((r,c)=>r[1]-c[1]||r[0]-c[0]);for(let r=0,c=t.length;r<c;r+=2){let a=t[r][2],l=t[r+1][2];a.push(l),l.push(a),i.add(a),i.add(l)}let s=[],o;for(;i.size>0;){let r=i.values().next().value,[c,a,l,u,f]=r;i.delete(r);let d=c,h=a;for(o=[c,l],s.push(o);;){let p;if(i.has(u))p=u;else if(i.has(f))p=f;else break;i.delete(p),[c,a,l,u,f]=p,d!==c&&(o.push(d,h,c,h===a?a:l),d=c),h=h===a?l:a}o.push(d,h)}return new d5(s,this.#e)}#s(e){let t=this.#n,i=0,s=t.length-1;for(;i<=s;){let o=i+s>>1,r=t[o][0];if(r===e)return o;r<e?i=o+1:s=o-1}return s+1}#o([,e,t]){let i=this.#s(e);this.#n.splice(i,0,[e,t])}#c([,e,t]){let i=this.#s(e);for(let s=i;s<this.#n.length;s++){let[o,r]=this.#n[s];if(o!==e)break;if(o===e&&r===t){this.#n.splice(s,1);return}}for(let s=i-1;s>=0;s--){let[o,r]=this.#n[s];if(o!==e)break;if(o===e&&r===t){this.#n.splice(s,1);return}}}#a(e){let[t,i,s]=e,o=[[t,i,s]],r=this.#s(s);for(let c=0;c<r;c++){let[a,l]=this.#n[c];for(let u=0,f=o.length;u<f;u++){let[,d,h]=o[u];if(!(l<=d||h<=a)){if(d>=a){if(h>l)o[u][1]=l;else{if(f===1)return[];o.splice(u,1),u--,f--}continue}o[u][2]=a,h>l&&o.push([t,l,h])}}}return o}},o6=class{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(e,t){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof N4}},d5=class extends o6{#e;#t;constructor(e,t){super(),this.#t=e,this.#e=t}toSVGPath(){let e=[];for(let t of this.#t){let[i,s]=t;e.push(`M${i} ${s}`);for(let o=2;o<t.length;o+=2){let r=t[o],c=t[o+1];r===i?(e.push(`V${c}`),s=c):c===s&&(e.push(`H${r}`),i=r)}e.push("Z")}return e.join(" ")}serialize([e,t,i,s],o){let r=[],c=i-e,a=s-t;for(let l of this.#t){let u=new Array(l.length);for(let f=0;f<l.length;f+=2)u[f]=e+l[f]*c,u[f+1]=s-l[f+1]*a;r.push(u)}return r}get box(){return this.#e}},r6=class n{#e;#t=[];#n;#i;#s=[];#o=new Float64Array(18);#c;#a;#f;#l;#u;#r;#d=[];static#p=8;static#h=2;static#m=n.#p+n.#h;constructor({x:e,y:t},i,s,o,r,c=0){this.#e=i,this.#r=o*s,this.#i=r,this.#o.set([NaN,NaN,NaN,NaN,e,t],6),this.#n=c,this.#l=n.#p*s,this.#f=n.#m*s,this.#u=s,this.#d.push(e,t)}get free(){return!0}isEmpty(){return isNaN(this.#o[8])}#v(){let e=this.#o.subarray(4,6),t=this.#o.subarray(16,18),[i,s,o,r]=this.#e;return[(this.#c+(e[0]-t[0])/2-i)/o,(this.#a+(e[1]-t[1])/2-s)/r,(this.#c+(t[0]-e[0])/2-i)/o,(this.#a+(t[1]-e[1])/2-s)/r]}add({x:e,y:t}){this.#c=e,this.#a=t;let[i,s,o,r]=this.#e,[c,a,l,u]=this.#o.subarray(8,12),f=e-l,d=t-u,h=Math.hypot(f,d);if(h<this.#f)return!1;let p=h-this.#l,m=p/h,v=m*f,g=m*d,C=c,M=a;c=l,a=u,l+=v,u+=g,this.#d?.push(e,t);let b=-g/p,L=v/p,y=b*this.#r,w=L*this.#r;return this.#o.set(this.#o.subarray(2,8),0),this.#o.set([l+y,u+w],4),this.#o.set(this.#o.subarray(14,18),12),this.#o.set([l-y,u-w],16),isNaN(this.#o[6])?(this.#s.length===0&&(this.#o.set([c+y,a+w],2),this.#s.push(NaN,NaN,NaN,NaN,(c+y-i)/o,(a+w-s)/r),this.#o.set([c-y,a-w],14),this.#t.push(NaN,NaN,NaN,NaN,(c-y-i)/o,(a-w-s)/r)),this.#o.set([C,M,c,a,l,u],6),!this.isEmpty()):(this.#o.set([C,M,c,a,l,u],6),Math.abs(Math.atan2(M-a,C-c)-Math.atan2(g,v))<Math.PI/2?([c,a,l,u]=this.#o.subarray(2,6),this.#s.push(NaN,NaN,NaN,NaN,((c+l)/2-i)/o,((a+u)/2-s)/r),[c,a,C,M]=this.#o.subarray(14,18),this.#t.push(NaN,NaN,NaN,NaN,((C+c)/2-i)/o,((M+a)/2-s)/r),!0):([C,M,c,a,l,u]=this.#o.subarray(0,6),this.#s.push(((C+5*c)/6-i)/o,((M+5*a)/6-s)/r,((5*c+l)/6-i)/o,((5*a+u)/6-s)/r,((c+l)/2-i)/o,((a+u)/2-s)/r),[l,u,c,a,C,M]=this.#o.subarray(12,18),this.#t.push(((C+5*c)/6-i)/o,((M+5*a)/6-s)/r,((5*c+l)/6-i)/o,((5*a+u)/6-s)/r,((c+l)/2-i)/o,((a+u)/2-s)/r),!0))}toSVGPath(){if(this.isEmpty())return"";let e=this.#s,t=this.#t,i=this.#o.subarray(4,6),s=this.#o.subarray(16,18),[o,r,c,a]=this.#e,[l,u,f,d]=this.#v();if(isNaN(this.#o[6])&&!this.isEmpty())return`M${(this.#o[2]-o)/c} ${(this.#o[3]-r)/a} L${(this.#o[4]-o)/c} ${(this.#o[5]-r)/a} L${l} ${u} L${f} ${d} L${(this.#o[16]-o)/c} ${(this.#o[17]-r)/a} L${(this.#o[14]-o)/c} ${(this.#o[15]-r)/a} Z`;let h=[];h.push(`M${e[4]} ${e[5]}`);for(let p=6;p<e.length;p+=6)isNaN(e[p])?h.push(`L${e[p+4]} ${e[p+5]}`):h.push(`C${e[p]} ${e[p+1]} ${e[p+2]} ${e[p+3]} ${e[p+4]} ${e[p+5]}`);h.push(`L${(i[0]-o)/c} ${(i[1]-r)/a} L${l} ${u} L${f} ${d} L${(s[0]-o)/c} ${(s[1]-r)/a}`);for(let p=t.length-6;p>=6;p-=6)isNaN(t[p])?h.push(`L${t[p+4]} ${t[p+5]}`):h.push(`C${t[p]} ${t[p+1]} ${t[p+2]} ${t[p+3]} ${t[p+4]} ${t[p+5]}`);return h.push(`L${t[4]} ${t[5]} Z`),h.join(" ")}getOutlines(){let e=this.#s,t=this.#t,i=this.#o,s=i.subarray(4,6),o=i.subarray(16,18),[r,c,a,l]=this.#e,u=new Float64Array((this.#d?.length??0)+2);for(let g=0,C=u.length-2;g<C;g+=2)u[g]=(this.#d[g]-r)/a,u[g+1]=(this.#d[g+1]-c)/l;u[u.length-2]=(this.#c-r)/a,u[u.length-1]=(this.#a-c)/l;let[f,d,h,p]=this.#v();if(isNaN(i[6])&&!this.isEmpty()){let g=new Float64Array(36);return g.set([NaN,NaN,NaN,NaN,(i[2]-r)/a,(i[3]-c)/l,NaN,NaN,NaN,NaN,(i[4]-r)/a,(i[5]-c)/l,NaN,NaN,NaN,NaN,f,d,NaN,NaN,NaN,NaN,h,p,NaN,NaN,NaN,NaN,(i[16]-r)/a,(i[17]-c)/l,NaN,NaN,NaN,NaN,(i[14]-r)/a,(i[15]-c)/l],0),new N4(g,u,this.#e,this.#u,this.#n,this.#i)}let m=new Float64Array(this.#s.length+24+this.#t.length),v=e.length;for(let g=0;g<v;g+=2){if(isNaN(e[g])){m[g]=m[g+1]=NaN;continue}m[g]=e[g],m[g+1]=e[g+1]}m.set([NaN,NaN,NaN,NaN,(s[0]-r)/a,(s[1]-c)/l,NaN,NaN,NaN,NaN,f,d,NaN,NaN,NaN,NaN,h,p,NaN,NaN,NaN,NaN,(o[0]-r)/a,(o[1]-c)/l],v),v+=24;for(let g=t.length-6;g>=6;g-=6)for(let C=0;C<6;C+=2){if(isNaN(t[g+C])){m[v]=m[v+1]=NaN,v+=2;continue}m[v]=t[g+C],m[v+1]=t[g+C+1],v+=2}return m.set([NaN,NaN,NaN,NaN,t[4],t[5]],v),new N4(m,u,this.#e,this.#u,this.#n,this.#i)}},N4=class extends o6{#e;#t=null;#n;#i;#s;#o;#c;constructor(e,t,i,s,o,r){super(),this.#c=e,this.#s=t,this.#e=i,this.#o=s,this.#n=o,this.#i=r,this.#l(r);let{x:c,y:a,width:l,height:u}=this.#t;for(let f=0,d=e.length;f<d;f+=2)e[f]=(e[f]-c)/l,e[f+1]=(e[f+1]-a)/u;for(let f=0,d=t.length;f<d;f+=2)t[f]=(t[f]-c)/l,t[f+1]=(t[f+1]-a)/u}toSVGPath(){let e=[`M${this.#c[4]} ${this.#c[5]}`];for(let t=6,i=this.#c.length;t<i;t+=6){if(isNaN(this.#c[t])){e.push(`L${this.#c[t+4]} ${this.#c[t+5]}`);continue}e.push(`C${this.#c[t]} ${this.#c[t+1]} ${this.#c[t+2]} ${this.#c[t+3]} ${this.#c[t+4]} ${this.#c[t+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,t,i,s],o){let r=i-e,c=s-t,a,l;switch(o){case 0:a=this.#a(this.#c,e,s,r,-c),l=this.#a(this.#s,e,s,r,-c);break;case 90:a=this.#f(this.#c,e,t,r,c),l=this.#f(this.#s,e,t,r,c);break;case 180:a=this.#a(this.#c,i,t,-r,c),l=this.#a(this.#s,i,t,-r,c);break;case 270:a=this.#f(this.#c,i,s,-r,-c),l=this.#f(this.#s,i,s,-r,-c);break}return{outline:Array.from(a),points:[Array.from(l)]}}#a(e,t,i,s,o){let r=new Float64Array(e.length);for(let c=0,a=e.length;c<a;c+=2)r[c]=t+e[c]*s,r[c+1]=i+e[c+1]*o;return r}#f(e,t,i,s,o){let r=new Float64Array(e.length);for(let c=0,a=e.length;c<a;c+=2)r[c]=t+e[c+1]*s,r[c+1]=i+e[c]*o;return r}#l(e){let t=this.#c,i=t[4],s=t[5],o=i,r=s,c=i,a=s,l=i,u=s,f=e?Math.max:Math.min;for(let v=6,g=t.length;v<g;v+=6){if(isNaN(t[v]))o=Math.min(o,t[v+4]),r=Math.min(r,t[v+5]),c=Math.max(c,t[v+4]),a=Math.max(a,t[v+5]),u<t[v+5]?(l=t[v+4],u=t[v+5]):u===t[v+5]&&(l=f(l,t[v+4]));else{let C=k.bezierBoundingBox(i,s,...t.slice(v,v+6));o=Math.min(o,C[0]),r=Math.min(r,C[1]),c=Math.max(c,C[2]),a=Math.max(a,C[3]),u<C[3]?(l=C[2],u=C[3]):u===C[3]&&(l=f(l,C[2]))}i=t[v+4],s=t[v+5]}let d=o-this.#n,h=r-this.#n,p=c-o+2*this.#n,m=a-r+2*this.#n;this.#t={x:d,y:h,width:p,height:m,lastPoint:[l,u]}}get box(){return this.#t}getNewOutline(e,t){let{x:i,y:s,width:o,height:r}=this.#t,[c,a,l,u]=this.#e,f=o*l,d=r*u,h=i*l+c,p=s*u+a,m=new r6({x:this.#s[0]*f+h,y:this.#s[1]*d+p},this.#e,this.#o,e,this.#i,t??this.#n);for(let v=2;v<this.#s.length;v+=2)m.add({x:this.#s[v]*f+h,y:this.#s[v+1]*d+p});return m.getOutlines()}},c6=class n{#e=this.#h.bind(this);#t=this.#v.bind(this);#n=null;#i=null;#s;#o=null;#c=!1;#a=!1;#f=null;#l;#u=null;#r;static get _keyboardManager(){return c1(this,"_keyboardManager",new s3([[["Escape","mac+Escape"],n.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],n.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],n.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],n.prototype._moveToPrevious],[["Home","mac+Home"],n.prototype._moveToBeginning],[["End","mac+End"],n.prototype._moveToEnd]]))}constructor({editor:e=null,uiManager:t=null}){e?(this.#a=!1,this.#r=j.HIGHLIGHT_COLOR,this.#f=e):(this.#a=!0,this.#r=j.HIGHLIGHT_DEFAULT_COLOR),this.#u=e?._uiManager||t,this.#l=this.#u._eventBus,this.#s=e?.color||this.#u?.highlightColors.values().next().value||"#FFFF98"}renderButton(){let e=this.#n=document.createElement("button");e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);let t=this.#u._signal;e.addEventListener("click",this.#m.bind(this),{signal:t}),e.addEventListener("keydown",this.#e,{signal:t});let i=this.#i=document.createElement("span");return i.className="swatch",i.setAttribute("aria-hidden",!0),i.style.backgroundColor=this.#s,e.append(i),e}renderMainDropdown(){let e=this.#o=this.#d();return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}#d(){let e=document.createElement("div"),t=this.#u._signal;e.addEventListener("contextmenu",Be,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(let[i,s]of this.#u.highlightColors){let o=document.createElement("button");o.tabIndex="0",o.role="option",o.setAttribute("data-color",s),o.title=i,o.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${i}`);let r=document.createElement("span");o.append(r),r.className="swatch",r.style.backgroundColor=s,o.setAttribute("aria-selected",s===this.#s),o.addEventListener("click",this.#p.bind(this,s),{signal:t}),e.append(o)}return e.addEventListener("keydown",this.#e,{signal:t}),e}#p(e,t){t.stopPropagation(),this.#l.dispatch("switchannotationeditorparams",{source:this,type:this.#r,value:e})}_colorSelectFromKeyboard(e){if(e.target===this.#n){this.#m(e);return}let t=e.target.getAttribute("data-color");t&&this.#p(t,e)}_moveToNext(e){if(!this.#g){this.#m(e);return}if(e.target===this.#n){this.#o.firstChild?.focus();return}e.target.nextSibling?.focus()}_moveToPrevious(e){if(e.target===this.#o?.firstChild||e.target===this.#n){this.#g&&this._hideDropdownFromKeyboard();return}this.#g||this.#m(e),e.target.previousSibling?.focus()}_moveToBeginning(e){if(!this.#g){this.#m(e);return}this.#o.firstChild?.focus()}_moveToEnd(e){if(!this.#g){this.#m(e);return}this.#o.lastChild?.focus()}#h(e){n._keyboardManager.exec(this,e)}#m(e){if(this.#g){this.hideDropdown();return}if(this.#c=e.detail===0,window.addEventListener("pointerdown",this.#t,{signal:this.#u._signal}),this.#o){this.#o.classList.remove("hidden");return}let t=this.#o=this.#d();this.#n.append(t)}#v(e){this.#o?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#o?.classList.add("hidden"),window.removeEventListener("pointerdown",this.#t)}get#g(){return this.#o&&!this.#o.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#a){if(!this.#g){this.#f?.unselect();return}this.hideDropdown(),this.#n.focus({preventScroll:!0,focusVisible:this.#c})}}updateColor(e){if(this.#i&&(this.#i.style.backgroundColor=e),!this.#o)return;let t=this.#u.highlightColors.values();for(let i of this.#o.children)i.setAttribute("aria-selected",t.next().value===e)}destroy(){this.#n?.remove(),this.#n=null,this.#i=null,this.#o?.remove(),this.#o=null}},a6=class n extends m1{#e=null;#t=0;#n;#i=null;#s=null;#o=null;#c=null;#a=0;#f=null;#l=null;#u=null;#r=!1;#d=null;#p;#h=null;#m="";#v;#g="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _l10nPromise;static _type="highlight";static _editorType=r1.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){let e=n.prototype;return c1(this,"_keyboardManager",new s3([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super(X(D({},e),{name:"highlightEditor"})),this.color=e.color||n._defaultColor,this.#v=e.thickness||n._defaultThickness,this.#p=e.opacity||n._defaultOpacity,this.#n=e.boxes||null,this.#g=e.methodOfCreation||"",this.#m=e.text||"",this._isDraggable=!1,e.highlightId>-1?(this.#r=!0,this.#M(e),this.#S()):(this.#e=e.anchorNode,this.#t=e.anchorOffset,this.#c=e.focusNode,this.#a=e.focusOffset,this.#C(),this.#S(),this.rotate(this.rotation))}get telemetryInitialData(){return{action:"added",type:this.#r?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:this.#v,methodOfCreation:this.#g}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#C(){let e=new s6(this.#n,.001);this.#l=e.getOutlines(),{x:this.x,y:this.y,width:this.width,height:this.height}=this.#l.box;let t=new s6(this.#n,.0025,.001,this._uiManager.direction==="ltr");this.#o=t.getOutlines();let{lastPoint:i}=this.#o.box;this.#d=[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height]}#M({highlightOutlines:e,highlightId:t,clipPathId:i}){this.#l=e;let s=1.5;if(this.#o=e.getNewOutline(this.#v/2+s,.0025),t>=0)this.#u=t,this.#i=i,this.parent.drawLayer.finalizeLine(t,e),this.#h=this.parent.drawLayer.highlightOutline(this.#o);else if(this.parent){let u=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(this.#u,e),this.parent.drawLayer.updateBox(this.#u,n.#L(this.#l.box,(u-this.rotation+360)%360)),this.parent.drawLayer.updateLine(this.#h,this.#o),this.parent.drawLayer.updateBox(this.#h,n.#L(this.#o.box,u))}let{x:o,y:r,width:c,height:a}=e.box;switch(this.rotation){case 0:this.x=o,this.y=r,this.width=c,this.height=a;break;case 90:{let[u,f]=this.parentDimensions;this.x=r,this.y=1-o,this.width=c*f/u,this.height=a*u/f;break}case 180:this.x=1-o,this.y=1-r,this.width=c,this.height=a;break;case 270:{let[u,f]=this.parentDimensions;this.x=1-r,this.y=o,this.width=c*f/u,this.height=a*u/f;break}}let{lastPoint:l}=this.#o.box;this.#d=[(l[0]-o)/c,(l[1]-r)/a]}static initialize(e,t){m1.initialize(e,t),n._defaultColor||=t.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,t){switch(e){case j.HIGHLIGHT_DEFAULT_COLOR:n._defaultColor=t;break;case j.HIGHLIGHT_THICKNESS:n._defaultThickness=t;break}}translateInPage(e,t){}get toolbarPosition(){return this.#d}updateParams(e,t){switch(e){case j.HIGHLIGHT_COLOR:this.#_(t);break;case j.HIGHLIGHT_THICKNESS:this.#y(t);break}}static get defaultPropertiesToUpdate(){return[[j.HIGHLIGHT_DEFAULT_COLOR,n._defaultColor],[j.HIGHLIGHT_THICKNESS,n._defaultThickness]]}get propertiesToUpdate(){return[[j.HIGHLIGHT_COLOR,this.color||n._defaultColor],[j.HIGHLIGHT_THICKNESS,this.#v||n._defaultThickness],[j.HIGHLIGHT_FREE,this.#r]]}#_(e){let t=s=>{this.color=s,this.parent?.drawLayer.changeColor(this.#u,s),this.#s?.updateColor(s)},i=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:j.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)}#y(e){let t=this.#v,i=s=>{this.#v=s,this.#w(s)};this.addCommands({cmd:i.bind(this,e),undo:i.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:j.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}addEditToolbar(){return N(this,null,function*(){let e=yield i7(n.prototype,this,"addEditToolbar").call(this);return e?(this._uiManager.highlightColors&&(this.#s=new c6({editor:this}),e.addColorPicker(this.#s)),e):null})}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#N())}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,this.#N())}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){this.#D(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#S(),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?this.#D():e&&(this.#S(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),t&&this.select()}#w(e){if(!this.#r)return;this.#M({highlightOutlines:this.#l.getNewOutline(e/2)}),this.fixAndSetPosition();let[t,i]=this.parentDimensions;this.setDims(this.width*t,this.height*i)}#D(){this.#u===null||!this.parent||(this.parent.drawLayer.remove(this.#u),this.#u=null,this.parent.drawLayer.remove(this.#h),this.#h=null)}#S(e=this.parent){this.#u===null&&({id:this.#u,clipPathId:this.#i}=e.drawLayer.highlight(this.#l,this.color,this.#p),this.#h=e.drawLayer.highlightOutline(this.#o),this.#f&&(this.#f.style.clipPath=this.#i))}static#L({x:e,y:t,width:i,height:s},o){switch(o){case 90:return{x:1-t-s,y:e,width:s,height:i};case 180:return{x:1-e-i,y:1-t-s,width:i,height:s};case 270:return{x:t,y:1-e-i,width:s,height:i}}return{x:e,y:t,width:i,height:s}}rotate(e){let{drawLayer:t}=this.parent,i;this.#r?(e=(e-this.rotation+360)%360,i=n.#L(this.#l.box,e)):i=n.#L(this,e),t.rotate(this.#u,e),t.rotate(this.#h,e),t.updateBox(this.#u,i),t.updateBox(this.#h,n.#L(this.#o.box,e))}render(){if(this.div)return this.div;let e=super.render();this.#m&&(e.setAttribute("aria-label",this.#m),e.setAttribute("role","mark")),this.#r?e.classList.add("free"):this.div.addEventListener("keydown",this.#A.bind(this),{signal:this._uiManager._signal});let t=this.#f=document.createElement("div");e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=this.#i;let[i,s]=this.parentDimensions;return this.setDims(this.width*i,this.height*s),Bs(this,this.#f,["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.parent.drawLayer.addClass(this.#h,"hovered")}pointerleave(){this.parent.drawLayer.removeClass(this.#h,"hovered")}#A(e){n._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#x(!0);break;case 1:case 3:this.#x(!1);break}}#x(e){if(!this.#e)return;let t=window.getSelection();e?t.setPosition(this.#e,this.#t):t.setPosition(this.#c,this.#a)}select(){super.select(),this.#h&&(this.parent?.drawLayer.removeClass(this.#h,"hovered"),this.parent?.drawLayer.addClass(this.#h,"selected"))}unselect(){super.unselect(),this.#h&&(this.parent?.drawLayer.removeClass(this.#h,"selected"),this.#r||this.#x(!1))}get _mustFixPosition(){return!this.#r}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.show(this.#u,e),this.parent.drawLayer.show(this.#h,e))}#N(){return this.#r?this.rotation:0}#k(){if(this.#r)return null;let[e,t]=this.pageDimensions,[i,s]=this.pageTranslation,o=this.#n,r=new Float32Array(o.length*8),c=0;for(let{x:a,y:l,width:u,height:f}of o){let d=a*e+i,h=(1-l-f)*t+s;r[c]=r[c+4]=d,r[c+1]=r[c+3]=h,r[c+2]=r[c+6]=d+u*e,r[c+5]=r[c+7]=h+f*t,c+=8}return r}#z(e){return this.#l.serialize(e,this.#N())}static startHighlighting(e,t,{target:i,x:s,y:o}){let{x:r,y:c,width:a,height:l}=i.getBoundingClientRect(),u=new AbortController,f=e.combinedSignal(u),d=p=>{p.preventDefault(),p.stopPropagation()},h=p=>{u.abort(),this.#E(e,p)};window.addEventListener("blur",h,{signal:f}),window.addEventListener("pointerup",h,{signal:f}),window.addEventListener("pointerdown",d,{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",Be,{signal:f}),i.addEventListener("pointermove",this.#b.bind(this,e),{signal:f}),this._freeHighlight=new r6({x:s,y:o},[r,c,a,l],e.scale,this._defaultThickness/2,t,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static#b(e,t){this._freeHighlight.add(t)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)}static#E(e,t){this._freeHighlight.isEmpty()?e.drawLayer.removeFreeHighlight(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static deserialize(e,t,i){let s=super.deserialize(e,t,i),{rect:[o,r,c,a],color:l,quadPoints:u}=e;s.color=k.makeHexColor(...l),s.#p=e.opacity;let[f,d]=s.pageDimensions;s.width=(c-o)/f,s.height=(a-r)/d;let h=s.#n=[];for(let p=0;p<u.length;p+=8)h.push({x:(u[4]-c)/f,y:(a-(1-u[p+5]))/d,width:(u[p+2]-u[p])/f,height:(u[p+5]-u[p+1])/d});return s.#C(),s}serialize(e=!1){if(this.isEmpty()||e)return null;let t=this.getRect(0,0),i=m1._colorManager.convert(this.color);return{annotationType:r1.HIGHLIGHT,color:i,opacity:this.#p,thickness:this.#v,quadPoints:this.#k(),outlines:this.#z(t),pageIndex:this.pageIndex,rect:t,rotation:this.#N(),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}},h5=class n extends m1{#e=0;#t=0;#n=null;#i=new Path2D;#s=!1;#o=null;#c=!1;#a=!1;#f=null;#l=null;#u=0;#r=0;#d=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";static _editorType=r1.INK;constructor(e){super(X(D({},e),{name:"inkEditor"})),this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,t){m1.initialize(e,t)}static updateDefaultParams(e,t){switch(e){case j.INK_THICKNESS:n._defaultThickness=t;break;case j.INK_COLOR:n._defaultColor=t;break;case j.INK_OPACITY:n._defaultOpacity=t/100;break}}updateParams(e,t){switch(e){case j.INK_THICKNESS:this.#p(t);break;case j.INK_COLOR:this.#h(t);break;case j.INK_OPACITY:this.#m(t);break}}static get defaultPropertiesToUpdate(){return[[j.INK_THICKNESS,n._defaultThickness],[j.INK_COLOR,n._defaultColor||m1._defaultLineColor],[j.INK_OPACITY,Math.round(n._defaultOpacity*100)]]}get propertiesToUpdate(){return[[j.INK_THICKNESS,this.thickness||n._defaultThickness],[j.INK_COLOR,this.color||n._defaultColor||m1._defaultLineColor],[j.INK_OPACITY,Math.round(100*(this.opacity??n._defaultOpacity))]]}#p(e){let t=s=>{this.thickness=s,this.#V()},i=this.thickness;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:j.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#h(e){let t=s=>{this.color=s,this.#L()},i=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:j.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#m(e){let t=s=>{this.opacity=s,this.#L()};e/=100;let i=this.opacity;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:j.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(this.#k(),this.#z()),this.isAttachedToDOM||(this.parent.add(this),this.#b()),this.#V()))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#n&&(clearTimeout(this.#n),this.#n=null),this.#f?.disconnect(),this.#f=null,super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&e===null&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){let[e,t]=this.parentDimensions,i=this.width*e,s=this.height*t;this.setDimensions(i,s)}enableEditMode(){this.#s||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.#A())}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.#x())}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}#v(){let{parentRotation:e,parentDimensions:[t,i]}=this;switch(e){case 90:return[0,i,i,t];case 180:return[t,i,t,i];case 270:return[t,0,i,t];default:return[0,0,t,i]}}#g(){let{ctx:e,color:t,opacity:i,thickness:s,parentScale:o,scaleFactor:r}=this;e.lineWidth=s*o/r,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=`${t}${hS(i)}`}#C(e,t){this.canvas.addEventListener("contextmenu",Be,{signal:this._uiManager._signal}),this.#x(),this.#o=new AbortController;let i=this._uiManager.combinedSignal(this.#o);this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:i}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:i}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:i}),this.isEditing=!0,this.#a||(this.#a=!0,this.#b(),this.thickness||=n._defaultThickness,this.color||=n._defaultColor||m1._defaultLineColor,this.opacity??=n._defaultOpacity),this.currentPath.push([e,t]),this.#c=!1,this.#g(),this.#d=()=>{this.#w(),this.#d&&window.requestAnimationFrame(this.#d)},window.requestAnimationFrame(this.#d)}#M(e,t){let[i,s]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===i&&t===s)return;let o=this.currentPath,r=this.#i;if(o.push([e,t]),this.#c=!0,o.length<=2){r.moveTo(...o[0]),r.lineTo(e,t);return}o.length===3&&(this.#i=r=new Path2D,r.moveTo(...o[0])),this.#D(r,...o.at(-3),...o.at(-2),e,t)}#_(){if(this.currentPath.length===0)return;let e=this.currentPath.at(-1);this.#i.lineTo(...e)}#y(e,t){this.#d=null,e=Math.min(Math.max(e,0),this.canvas.width),t=Math.min(Math.max(t,0),this.canvas.height),this.#M(e,t),this.#_();let i;if(this.currentPath.length!==1)i=this.#S();else{let a=[e,t];i=[[a,a.slice(),a.slice(),a]]}let s=this.#i,o=this.currentPath;this.currentPath=[],this.#i=new Path2D;let r=()=>{this.allRawPaths.push(o),this.paths.push(i),this.bezierPath2D.push(s),this._uiManager.rebuild(this)},c=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(this.#k(),this.#z()),this.#V())};this.addCommands({cmd:r,undo:c,mustExec:!0})}#w(){if(!this.#c)return;this.#c=!1;let e=Math.ceil(this.thickness*this.parentScale),t=this.currentPath.slice(-3),i=t.map(u=>u[0]),s=t.map(u=>u[1]),o=Math.min(...i)-e,r=Math.max(...i)+e,c=Math.min(...s)-e,a=Math.max(...s)+e,{ctx:l}=this;l.save(),l.clearRect(0,0,this.canvas.width,this.canvas.height);for(let u of this.bezierPath2D)l.stroke(u);l.stroke(this.#i),l.restore()}#D(e,t,i,s,o,r,c){let a=(t+s)/2,l=(i+o)/2,u=(s+r)/2,f=(o+c)/2;e.bezierCurveTo(a+2*(s-a)/3,l+2*(o-l)/3,u+2*(s-u)/3,f+2*(o-f)/3,u,f)}#S(){let e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];let t=[],i,[s,o]=e[0];for(i=1;i<e.length-2;i++){let[d,h]=e[i],[p,m]=e[i+1],v=(d+p)/2,g=(h+m)/2,C=[s+2*(d-s)/3,o+2*(h-o)/3],M=[v+2*(d-v)/3,g+2*(h-g)/3];t.push([[s,o],C,M,[v,g]]),[s,o]=[v,g]}let[r,c]=e[i],[a,l]=e[i+1],u=[s+2*(r-s)/3,o+2*(c-o)/3],f=[a+2*(r-a)/3,l+2*(c-l)/3];return t.push([[s,o],u,f,[a,l]]),t}#L(){if(this.isEmpty()){this.#T();return}this.#g();let{canvas:e,ctx:t}=this;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height),this.#T();for(let i of this.bezierPath2D)t.stroke(i)}commit(){this.#s||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#s=!0,this.div.classList.add("disabled"),this.#V(!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}#A(){if(this.#l)return;this.#l=new AbortController;let e=this._uiManager.combinedSignal(this.#l);this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:e})}#x(){this.pointerdownAC?.abort(),this.pointerdownAC=null}canvasPointerdown(e){e.button!==0||!this.isInEditMode()||this.#s||(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),this.#C(e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),this.#M(e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),this.#N(e)}canvasPointerleave(e){this.#N(e)}#N(e){this.#o?.abort(),this.#o=null,this.#A(),this.#n&&clearTimeout(this.#n),this.#n=setTimeout(()=>{this.#n=null,this.canvas.removeEventListener("contextmenu",Be)},10),this.#y(e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#k(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#z(){this.#f=new ResizeObserver(e=>{let t=e[0].contentRect;t.width&&t.height&&this.setDimensions(t.width,t.height)}),this.#f.observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{this.#f?.disconnect(),this.#f=null},{once:!0})}get isResizable(){return!this.isEmpty()&&this.#s}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");let[i,s,o,r]=this.#v();if(this.setAt(i,s,0,0),this.setDims(o,r),this.#k(),this.width){let[c,a]=this.parentDimensions;this.setAspectRatio(this.width*c,this.height*a),this.setAt(e*c,t*a,this.width*c,this.height*a),this.#a=!0,this.#b(),this.setDims(this.width*c,this.height*a),this.#L(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#z(),this.div}#b(){if(!this.#a)return;let[e,t]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*t),this.#T()}setDimensions(e,t){let i=Math.round(e),s=Math.round(t);if(this.#u===i&&this.#r===s)return;this.#u=i,this.#r=s,this.canvas.style.visibility="hidden";let[o,r]=this.parentDimensions;this.width=e/o,this.height=t/r,this.fixAndSetPosition(),this.#s&&this.#E(e,t),this.#b(),this.#L(),this.canvas.style.visibility="visible",this.fixDims()}#E(e,t){let i=this.#F(),s=(e-i)/this.#t,o=(t-i)/this.#e;this.scaleFactor=Math.min(s,o)}#T(){let e=this.#F()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)}static#R(e){let t=new Path2D;for(let i=0,s=e.length;i<s;i++){let[o,r,c,a]=e[i];i===0&&t.moveTo(...o),t.bezierCurveTo(r[0],r[1],c[0],c[1],a[0],a[1])}return t}static#B(e,t,i){let[s,o,r,c]=t;switch(i){case 0:for(let a=0,l=e.length;a<l;a+=2)e[a]+=s,e[a+1]=c-e[a+1];break;case 90:for(let a=0,l=e.length;a<l;a+=2){let u=e[a];e[a]=e[a+1]+s,e[a+1]=u+o}break;case 180:for(let a=0,l=e.length;a<l;a+=2)e[a]=r-e[a],e[a+1]+=o;break;case 270:for(let a=0,l=e.length;a<l;a+=2){let u=e[a];e[a]=r-e[a+1],e[a+1]=c-u}break;default:throw new Error("Invalid rotation")}return e}static#H(e,t,i){let[s,o,r,c]=t;switch(i){case 0:for(let a=0,l=e.length;a<l;a+=2)e[a]-=s,e[a+1]=c-e[a+1];break;case 90:for(let a=0,l=e.length;a<l;a+=2){let u=e[a];e[a]=e[a+1]-o,e[a+1]=u-s}break;case 180:for(let a=0,l=e.length;a<l;a+=2)e[a]=r-e[a],e[a+1]-=o;break;case 270:for(let a=0,l=e.length;a<l;a+=2){let u=e[a];e[a]=c-e[a+1],e[a+1]=r-u}break;default:throw new Error("Invalid rotation")}return e}#P(e,t,i,s){let o=[],r=this.thickness/2,c=e*t+r,a=e*i+r;for(let l of this.paths){let u=[],f=[];for(let d=0,h=l.length;d<h;d++){let[p,m,v,g]=l[d];if(p[0]===g[0]&&p[1]===g[1]&&h===1){let S=e*p[0]+c,T=e*p[1]+a;u.push(S,T),f.push(S,T);break}let C=e*p[0]+c,M=e*p[1]+a,b=e*m[0]+c,L=e*m[1]+a,y=e*v[0]+c,w=e*v[1]+a,A=e*g[0]+c,_=e*g[1]+a;d===0&&(u.push(C,M),f.push(C,M)),u.push(b,L,y,w,A,_),f.push(b,L),d===h-1&&f.push(A,_)}o.push({bezier:n.#B(u,s,this.rotation),points:n.#B(f,s,this.rotation)})}return o}#O(){let e=1/0,t=-1/0,i=1/0,s=-1/0;for(let o of this.paths)for(let[r,c,a,l]of o){let u=k.bezierBoundingBox(...r,...c,...a,...l);e=Math.min(e,u[0]),i=Math.min(i,u[1]),t=Math.max(t,u[2]),s=Math.max(s,u[3])}return[e,i,t,s]}#F(){return this.#s?Math.ceil(this.thickness*this.parentScale):0}#V(e=!1){if(this.isEmpty())return;if(!this.#s){this.#L();return}let t=this.#O(),i=this.#F();this.#t=Math.max(m1.MIN_SIZE,t[2]-t[0]),this.#e=Math.max(m1.MIN_SIZE,t[3]-t[1]);let s=Math.ceil(i+this.#t*this.scaleFactor),o=Math.ceil(i+this.#e*this.scaleFactor),[r,c]=this.parentDimensions;this.width=s/r,this.height=o/c,this.setAspectRatio(s,o);let a=this.translationX,l=this.translationY;this.translationX=-t[0],this.translationY=-t[1],this.#b(),this.#L(),this.#u=s,this.#r=o,this.setDims(s,o);let u=e?i/this.scaleFactor/2:0;this.translate(a-this.translationX-u,l-this.translationY-u)}static deserialize(e,t,i){if(e instanceof n6)return null;let s=super.deserialize(e,t,i);s.thickness=e.thickness,s.color=k.makeHexColor(...e.color),s.opacity=e.opacity;let[o,r]=s.pageDimensions,c=s.width*o,a=s.height*r,l=s.parentScale,u=e.thickness/2;s.#s=!0,s.#u=Math.round(c),s.#r=Math.round(a);let{paths:f,rect:d,rotation:h}=e;for(let{bezier:m}of f){m=n.#H(m,d,h);let v=[];s.paths.push(v);let g=l*(m[0]-u),C=l*(m[1]-u);for(let b=2,L=m.length;b<L;b+=6){let y=l*(m[b]-u),w=l*(m[b+1]-u),A=l*(m[b+2]-u),_=l*(m[b+3]-u),S=l*(m[b+4]-u),T=l*(m[b+5]-u);v.push([[g,C],[y,w],[A,_],[S,T]]),g=S,C=T}let M=this.#R(v);s.bezierPath2D.push(M)}let p=s.#O();return s.#t=Math.max(m1.MIN_SIZE,p[2]-p[0]),s.#e=Math.max(m1.MIN_SIZE,p[3]-p[1]),s.#E(c,a),s}serialize(){if(this.isEmpty())return null;let e=this.getRect(0,0),t=m1._colorManager.convert(this.ctx.strokeStyle);return{annotationType:r1.INK,color:t,thickness:this.thickness,opacity:this.opacity,paths:this.#P(this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}},p5=class n extends m1{#e=null;#t=null;#n=null;#i=null;#s=null;#o="";#c=null;#a=null;#f=null;#l=!1;#u=!1;static _type="stamp";static _editorType=r1.STAMP;constructor(e){super(X(D({},e),{name:"stampEditor"})),this.#i=e.bitmapUrl,this.#s=e.bitmapFile}static initialize(e,t){m1.initialize(e,t)}static get supportedTypes(){return c1(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(t=>`image/${t}`))}static get supportedTypesStr(){return c1(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,t){t.pasteEditor(r1.STAMP,{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(e){let t=e.get("hasAltText");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}#r(e,t=!1){if(!e){this.remove();return}this.#e=e.bitmap,t||(this.#t=e.id,this.#l=e.isSvg),e.file&&(this.#o=e.file.name),this.#h()}#d(){if(this.#n=null,this._uiManager.enableWaiting(!1),!!this.#c){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}mlGuessAltText(e=null,t=!0){return N(this,null,function*(){if(this.hasAltTextData())return null;let{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!(yield i.isEnabledFor("altText")))throw new Error("ML isn't enabled for alt text.");let{data:s,width:o,height:r}=e||this.copyCanvas(null,!0).imageData,c=yield i.guess({name:"altText",request:{data:s,width:o,height:r,channels:s.length/(o*r)}});if(!c)throw new Error("No response from the AI service.");if(c.error)throw new Error("Error from the AI service.");if(c.cancel)return null;if(!c.output)throw new Error("No valid response from the AI service.");let a=c.output;return yield this.setGuessedAltText(a),t&&!this.hasAltTextData()&&(this.altTextData={alt:a,decorative:!1}),a})}#p(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(i=>this.#r(i,!0)).finally(()=>this.#d());return}if(this.#i){let i=this.#i;this.#i=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(i).then(s=>this.#r(s)).finally(()=>this.#d());return}if(this.#s){let i=this.#s;this.#s=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(i).then(s=>this.#r(s)).finally(()=>this.#d());return}let e=document.createElement("input");e.type="file",e.accept=n.supportedTypesStr;let t=this._uiManager._signal;this.#n=new Promise(i=>{e.addEventListener("change",()=>N(this,null,function*(){if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);let s=yield this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#r(s)}i()}),{signal:t}),e.addEventListener("cancel",()=>{this.remove(),i()},{signal:t})}).finally(()=>this.#d()),e.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#c?.remove(),this.#c=null,this.#a?.disconnect(),this.#a=null,this.#f&&(clearTimeout(this.#f),this.#f=null)),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#p();return}super.rebuild(),this.div!==null&&(this.#t&&this.#c===null&&this.#p(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#n||this.#e||this.#i||this.#s||this.#t)}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;if(this.width&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),this.#e?this.#h():this.#p(),this.width){let[i,s]=this.parentDimensions;this.setAt(e*i,t*s,this.width*i,this.height*s)}return this.div}#h(){let{div:e}=this,{width:t,height:i}=this.#e,[s,o]=this.pageDimensions,r=.75;if(this.width)t=this.width*s,i=this.height*o;else if(t>r*s||i>r*o){let u=Math.min(r*s/t,r*o/i);t*=u,i*=u}let[c,a]=this.parentDimensions;this.setDims(t*c/s,i*a/o),this._uiManager.enableWaiting(!1);let l=this.#c=document.createElement("canvas");e.append(l),(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow)&&(e.hidden=!1),this.#g(t,i),this.#M(),this.#u||(this.parent.addUndoableEditor(this),this.#u=!0),this._reportTelemetry({action:"inserted_image"}),this.#o&&l.setAttribute("aria-label",this.#o)}copyCanvas(e,t=!1){e||(e=224);let{width:i,height:s}=this.#e,o=document.createElement("canvas"),r=this.#e,c=i,a=s;if(i>e||s>e){let m=Math.min(e/i,e/s);c=Math.floor(i*m),a=Math.floor(s*m),this.#l||(r=this.#v(c,a))}o.width=c,o.height=a;let l=o.getContext("2d");l.filter=this._uiManager.hcmFilter;let u="white",f="#cfcfd8";this._uiManager.hcmFilter!=="none"?f="black":window.matchMedia?.("(prefers-color-scheme: dark)").matches&&(u="#8f8f9d",f="#42414d");let d=15,h=new OffscreenCanvas(d*2,d*2),p=h.getContext("2d");if(p.fillStyle=u,p.fillRect(0,0,d*2,d*2),p.fillStyle=f,p.fillRect(0,0,d,d),p.fillRect(d,d,d,d),l.fillStyle=l.createPattern(h,"repeat"),l.fillRect(0,0,c,a),t){let m=new OffscreenCanvas(c,a),v=m.getContext("2d",{willReadFrequently:!0});v.drawImage(r,0,0,r.width,r.height,0,0,c,a);let g=v.getImageData(0,0,c,a).data;return l.drawImage(m,0,0),{canvas:o,imageData:{width:c,height:a,data:g}}}return l.drawImage(r,0,0,r.width,r.height,0,0,c,a),{canvas:o,imageData:null}}#m(e,t){let[i,s]=this.parentDimensions;this.width=e/i,this.height=t/s,this.setDims(e,t),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this.#f!==null&&clearTimeout(this.#f);let o=200;this.#f=setTimeout(()=>{this.#f=null,this.#g(e,t)},o)}#v(e,t){let{width:i,height:s}=this.#e,o=i,r=s,c=this.#e;for(;o>2*e||r>2*t;){let a=o,l=r;o>2*e&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),r>2*t&&(r=r>=16384?Math.floor(r/2)-1:Math.ceil(r/2));let u=new OffscreenCanvas(o,r);u.getContext("2d").drawImage(c,0,0,a,l,0,0,o,r),c=u.transferToImageBitmap()}return c}#g(e,t){e=Math.ceil(e),t=Math.ceil(t);let i=this.#c;if(!i||i.width===e&&i.height===t)return;i.width=e,i.height=t;let s=this.#l?this.#e:this.#v(e,t),o=i.getContext("2d");o.filter=this._uiManager.hcmFilter,o.drawImage(s,0,0,s.width,s.height,0,0,e,t)}getImageForAltText(){return this.#c}#C(e){if(e){if(this.#l){let s=this._uiManager.imageManager.getSvgUrl(this.#t);if(s)return s}let t=document.createElement("canvas");return{width:t.width,height:t.height}=this.#e,t.getContext("2d").drawImage(this.#e,0,0),t.toDataURL()}if(this.#l){let[t,i]=this.pageDimensions,s=Math.round(this.width*t*zt.PDF_TO_CSS_UNITS),o=Math.round(this.height*i*zt.PDF_TO_CSS_UNITS),r=new OffscreenCanvas(s,o);return r.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,s,o),r.transferToImageBitmap()}return structuredClone(this.#e)}#M(){this._uiManager._signal&&(this.#a=new ResizeObserver(e=>{let t=e[0].contentRect;t.width&&t.height&&this.#m(t.width,t.height)}),this.#a.observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{this.#a?.disconnect(),this.#a=null},{once:!0}))}static deserialize(e,t,i){if(e instanceof i6)return null;let s=super.deserialize(e,t,i),{rect:o,bitmapUrl:r,bitmapId:c,isSvg:a,accessibilityData:l}=e;c&&i.imageManager.isValidId(c)?s.#t=c:s.#i=r,s.#l=a;let[u,f]=s.pageDimensions;return s.width=(o[2]-o[0])/u,s.height=(o[3]-o[1])/f,l&&(s.altTextData=l),s}serialize(e=!1,t=null){if(this.isEmpty())return null;let i={annotationType:r1.STAMP,bitmapId:this.#t,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#l,structTreeParentId:this._structTreeParentId};if(e)return i.bitmapUrl=this.#C(!0),i.accessibilityData=this.serializeAltText(!0),i;let{decorative:s,altText:o}=this.serializeAltText(!1);if(!s&&o&&(i.accessibilityData={type:"Figure",alt:o}),t===null)return i;t.stamps||=new Map;let r=this.#l?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!t.stamps.has(this.#t))t.stamps.set(this.#t,{area:r,serialized:i}),i.bitmap=this.#C(!1);else if(this.#l){let c=t.stamps.get(this.#t);r>c.area&&(c.area=r,c.serialized.bitmap.close(),c.serialized.bitmap=this.#C(!1))}return i}},US=(()=>{class n{#e;#t=!1;#n=null;#i=null;#s=null;#o=new Map;#c=!1;#a=!1;#f=!1;#l=null;#u=null;#r;static _initialized=!1;static#d=new Map([f5,h5,p5,a6].map(t=>[t._editorType,t]));constructor({uiManager:t,pageIndex:i,div:s,accessibilityManager:o,annotationLayer:r,drawLayer:c,textLayer:a,viewport:l,l10n:u}){let f=[...n.#d.values()];if(!n._initialized){n._initialized=!0;for(let d of f)d.initialize(u,t)}t.registerEditorTypes(f),this.#r=t,this.pageIndex=i,this.div=s,this.#e=o,this.#n=r,this.viewport=l,this.#l=a,this.drawLayer=c,this.#r.addLayer(this)}get isEmpty(){return this.#o.size===0}get isInvisible(){return this.isEmpty&&this.#r.getMode()===r1.NONE}updateToolbar(t){this.#r.updateToolbar(t)}updateMode(t=this.#r.getMode()){switch(this.#g(),t){case r1.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case r1.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case r1.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);let{classList:i}=this.div;for(let s of n.#d.values())i.toggle(`${s._type}Editing`,t===s._editorType);this.div.hidden=!1}hasTextLayer(t){return t===this.#l?.div}addInkEditorIfNeeded(t){if(this.#r.getMode()!==r1.INK)return;if(!t){for(let s of this.#o.values())if(s.isEmpty()){s.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(t){this.#r.setEditingState(t)}addCommands(t){this.#r.addCommands(t)}toggleDrawing(t=!1){this.div.classList.toggle("drawing",!t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){this.#n?.div.classList.toggle("disabled",!t)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);let t=new Set;for(let s of this.#o.values())s.enableEditing(),s.show(!0),s.annotationElementId&&(this.#r.removeChangedExistingAnnotation(s),t.add(s.annotationElementId));if(!this.#n)return;let i=this.#n.getEditableAnnotations();for(let s of i){if(s.hide(),this.#r.isDeletedAnnotationElement(s.data.id)||t.has(s.data.id))continue;let o=this.deserialize(s);o&&(this.addOrRebuild(o),o.enableEditing())}}disable(){this.#f=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1);let t=new Map,i=new Map;for(let o of this.#o.values())if(o.disableEditing(),!!o.annotationElementId){if(o.serialize()!==null){t.set(o.annotationElementId,o);continue}else i.set(o.annotationElementId,o);this.getEditableAnnotation(o.annotationElementId)?.show(),o.remove()}if(this.#n){let o=this.#n.getEditableAnnotations();for(let r of o){let{id:c}=r.data;if(this.#r.isDeletedAnnotationElement(c))continue;let a=i.get(c);if(a){a.resetAnnotationElement(r),a.show(!1),r.show();continue}a=t.get(c),a&&(this.#r.addChangedExistingAnnotation(a),a.renderAnnotationElement(r),a.show(!1)),r.show()}}this.#g(),this.isEmpty&&(this.div.hidden=!0);let{classList:s}=this.div;for(let o of n.#d.values())s.remove(`${o._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#f=!1}getEditableAnnotation(t){return this.#n?.getEditableAnnotation(t)||null}setActiveEditor(t){this.#r.getActive()!==t&&this.#r.setActiveEditor(t)}enableTextSelection(){if(this.div.tabIndex=-1,this.#l?.div&&!this.#u){this.#u=new AbortController;let t=this.#r.combinedSignal(this.#u);this.#l.div.addEventListener("pointerdown",this.#p.bind(this),{signal:t}),this.#l.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#l?.div&&this.#u&&(this.#u.abort(),this.#u=null,this.#l.div.classList.remove("highlighting"))}#p(t){this.#r.unselectAll();let{target:i}=t;if(i===this.#l.div||i.classList.contains("endOfContent")&&this.#l.div.contains(i)){let{isMac:s}=ae.platform;if(t.button!==0||t.ctrlKey&&s)return;this.#r.showAllEditors("highlight",!0,!0),this.#l.div.classList.add("free"),this.toggleDrawing(),a6.startHighlighting(this,this.#r.direction==="ltr",t),this.#l.div.addEventListener("pointerup",()=>{this.#l.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#r._signal}),t.preventDefault()}}enableClick(){if(this.#i)return;this.#i=new AbortController;let t=this.#r.combinedSignal(this.#i);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:t}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:t})}disableClick(){this.#i?.abort(),this.#i=null}attach(t){this.#o.set(t.id,t);let{annotationElementId:i}=t;i&&this.#r.isDeletedAnnotationElement(i)&&this.#r.removeDeletedAnnotationElement(t)}detach(t){this.#o.delete(t.id),this.#e?.removePointerInTextLayer(t.contentDiv),!this.#f&&t.annotationElementId&&this.#r.addDeletedAnnotationElement(t)}remove(t){this.detach(t),this.#r.removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,this.#a||this.addInkEditorIfNeeded(!1)}changeParent(t){t.parent!==this&&(t.parent&&t.annotationElementId&&(this.#r.addDeletedAnnotationElement(t.annotationElementId),m1.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),t.parent?.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),this.#r.addEditor(t),this.attach(t),!t.isAttachedToDOM){let i=t.render();this.div.append(i),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),this.#r.addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){if(!t.isAttachedToDOM)return;let{activeElement:i}=document;t.div.contains(i)&&!this.#s&&(t._focusEventsAllowed=!1,this.#s=setTimeout(()=>{this.#s=null,t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this.#r._signal}),i.focus())},0)),t._structTreeParentId=this.#e?.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||=this,t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){let i=()=>t._uiManager.rebuild(t),s=()=>{t.remove()};this.addCommands({cmd:i,undo:s,mustExec:!1})}getNextId(){return this.#r.getId()}get#h(){return n.#d.get(this.#r.getMode())}combinedSignal(t){return this.#r.combinedSignal(t)}#m(t){let i=this.#h;return i?new i.prototype.constructor(t):null}canCreateNewEmptyEditor(){return this.#h?.canCreateNewEmptyEditor()}pasteEditor(t,i){this.#r.updateToolbar(t),this.#r.updateMode(t);let{offsetX:s,offsetY:o}=this.#v(),r=this.getNextId(),c=this.#m(D({parent:this,id:r,x:s,y:o,uiManager:this.#r,isCentered:!0},i));c&&this.add(c)}deserialize(t){return n.#d.get(t.annotationType??t.annotationEditorType)?.deserialize(t,this,this.#r)||null}createAndAddNewEditor(t,i,s={}){let o=this.getNextId(),r=this.#m(D({parent:this,id:o,x:t.offsetX,y:t.offsetY,uiManager:this.#r,isCentered:i},s));return r&&this.add(r),r}#v(){let{x:t,y:i,width:s,height:o}=this.div.getBoundingClientRect(),r=Math.max(0,t),c=Math.max(0,i),a=Math.min(window.innerWidth,t+s),l=Math.min(window.innerHeight,i+o),u=(r+a)/2-t,f=(c+l)/2-i,[d,h]=this.viewport.rotation%180===0?[u,f]:[f,u];return{offsetX:d,offsetY:h}}addNewEditor(){this.createAndAddNewEditor(this.#v(),!0)}setSelected(t){this.#r.setSelected(t)}toggleSelected(t){this.#r.toggleSelected(t)}isSelected(t){return this.#r.isSelected(t)}unselect(t){this.#r.unselect(t)}pointerup(t){let{isMac:i}=ae.platform;if(!(t.button!==0||t.ctrlKey&&i)&&t.target===this.div&&this.#c){if(this.#c=!1,!this.#t){this.#t=!0;return}if(this.#r.getMode()===r1.STAMP){this.#r.unselectAll();return}this.createAndAddNewEditor(t,!1)}}pointerdown(t){if(this.#r.getMode()===r1.HIGHLIGHT&&this.enableTextSelection(),this.#c){this.#c=!1;return}let{isMac:i}=ae.platform;if(t.button!==0||t.ctrlKey&&i||t.target!==this.div)return;this.#c=!0;let s=this.#r.getActive();this.#t=!s||s.isEmpty()}findNewParent(t,i,s){let o=this.#r.findParent(i,s);return o===null||o===this?!1:(o.changeParent(t),!0)}destroy(){this.#r.getActive()?.parent===this&&(this.#r.commitOrRemove(),this.#r.setActiveEditor(null)),this.#s&&(clearTimeout(this.#s),this.#s=null);for(let t of this.#o.values())this.#e?.removePointerInTextLayer(t.contentDiv),t.setParent(null),t.isAttachedToDOM=!1,t.div.remove();this.div=null,this.#o.clear(),this.#r.removeLayer(this)}#g(){this.#a=!0;for(let t of this.#o.values())t.isEmpty()&&t.remove();this.#a=!1}render({viewport:t}){this.viewport=t,i3(this.div,t);for(let i of this.#r.getEditors(this.pageIndex))this.add(i),i.rebuild();this.updateMode()}update({viewport:t}){this.#r.commitOrRemove(),this.#g();let i=this.viewport.rotation,s=t.rotation;if(this.viewport=t,i3(this.div,{rotation:s}),i!==s)for(let o of this.#o.values())o.rotate(s);this.addInkEditorIfNeeded(!1)}get pageDimensions(){let{pageWidth:t,pageHeight:i}=this.viewport.rawDims;return[t,i]}get scale(){return this.#r.viewParameters.realScale}}return n})(),m5=class n{#e=null;#t=0;#n=new Map;#i=new Map;constructor({pageIndex:e}){this.pageIndex=e}setParent(e){if(!this.#e){this.#e=e;return}if(this.#e!==e){if(this.#n.size>0)for(let t of this.#n.values())t.remove(),e.append(t);this.#e=e}}static get _svgFactory(){return c1(this,"_svgFactory",new _4)}static#s(e,{x:t=0,y:i=0,width:s=1,height:o=1}={}){let{style:r}=e;r.top=`${100*i}%`,r.left=`${100*t}%`,r.width=`${100*s}%`,r.height=`${100*o}%`}#o(e){let t=n._svgFactory.create(1,1,!0);return this.#e.append(t),t.setAttribute("aria-hidden",!0),n.#s(t,e),t}#c(e,t){let i=n._svgFactory.createElement("clipPath");e.append(i);let s=`clip_${t}`;i.setAttribute("id",s),i.setAttribute("clipPathUnits","objectBoundingBox");let o=n._svgFactory.createElement("use");return i.append(o),o.setAttribute("href",`#${t}`),o.classList.add("clip"),s}highlight(e,t,i,s=!1){let o=this.#t++,r=this.#o(e.box);r.classList.add("highlight"),e.free&&r.classList.add("free");let c=n._svgFactory.createElement("defs");r.append(c);let a=n._svgFactory.createElement("path");c.append(a);let l=`path_p${this.pageIndex}_${o}`;a.setAttribute("id",l),a.setAttribute("d",e.toSVGPath()),s&&this.#i.set(o,a);let u=this.#c(c,l),f=n._svgFactory.createElement("use");return r.append(f),r.setAttribute("fill",t),r.setAttribute("fill-opacity",i),f.setAttribute("href",`#${l}`),this.#n.set(o,r),{id:o,clipPathId:`url(#${u})`}}highlightOutline(e){let t=this.#t++,i=this.#o(e.box);i.classList.add("highlightOutline");let s=n._svgFactory.createElement("defs");i.append(s);let o=n._svgFactory.createElement("path");s.append(o);let r=`path_p${this.pageIndex}_${t}`;o.setAttribute("id",r),o.setAttribute("d",e.toSVGPath()),o.setAttribute("vector-effect","non-scaling-stroke");let c;if(e.free){i.classList.add("free");let u=n._svgFactory.createElement("mask");s.append(u),c=`mask_p${this.pageIndex}_${t}`,u.setAttribute("id",c),u.setAttribute("maskUnits","objectBoundingBox");let f=n._svgFactory.createElement("rect");u.append(f),f.setAttribute("width","1"),f.setAttribute("height","1"),f.setAttribute("fill","white");let d=n._svgFactory.createElement("use");u.append(d),d.setAttribute("href",`#${r}`),d.setAttribute("stroke","none"),d.setAttribute("fill","black"),d.setAttribute("fill-rule","nonzero"),d.classList.add("mask")}let a=n._svgFactory.createElement("use");i.append(a),a.setAttribute("href",`#${r}`),c&&a.setAttribute("mask",`url(#${c})`);let l=a.cloneNode();return i.append(l),a.classList.add("mainOutline"),l.classList.add("secondaryOutline"),this.#n.set(t,i),t}finalizeLine(e,t){let i=this.#i.get(e);this.#i.delete(e),this.updateBox(e,t.box),i.setAttribute("d",t.toSVGPath())}updateLine(e,t){this.#n.get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}removeFreeHighlight(e){this.remove(e),this.#i.delete(e)}updatePath(e,t){this.#i.get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){n.#s(this.#n.get(e),t)}show(e,t){this.#n.get(e).classList.toggle("hidden",!t)}rotate(e,t){this.#n.get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){this.#n.get(e).setAttribute("fill",t)}changeOpacity(e,t){this.#n.get(e).setAttribute("fill-opacity",t)}addClass(e,t){this.#n.get(e).classList.add(t)}removeClass(e,t){this.#n.get(e).classList.remove(t)}remove(e){this.#e!==null&&(this.#n.get(e).remove(),this.#n.delete(e))}destroy(){this.#e=null;for(let e of this.#n.values())e.remove();this.#n.clear()}};var $S=$.AbortException,GS=$.AnnotationEditorLayer,WS=$.AnnotationEditorParamsType,y5=$.AnnotationEditorType,qS=$.AnnotationEditorUIManager,ZS=$.AnnotationLayer,YS=$.AnnotationMode,JS=$.CMapCompressionType,KS=$.ColorPicker,QS=$.DOMSVGFactory,XS=$.DrawLayer,eA=$.FeatureTest,_5=$.GlobalWorkerOptions,tA=$.ImageKind,nA=$.InvalidPDFException,iA=$.MissingPDFException,sA=$.OPS,oA=$.PDFDataRangeTransport,rA=$.PDFDateString,cA=$.PDFWorker,aA=$.PasswordResponses,lA=$.PermissionFlag,uA=$.PixelsPerInch,fA=$.RenderingCancelledException,dA=$.TextLayer,hA=$.UnexpectedResponseException,pA=$.Util,L5=$.VerbosityLevel,mA=$.XfaLayer,gA=$.build,vA=$.createValidAbsoluteUrl,CA=$.fetchData,w5=$.getDocument,bA=$.getFilenameFromUrl,MA=$.getPdfFilenameFromUrl,yA=$.getXfaPageViewport,_A=$.isDataScheme,LA=$.isPdfFile,wA=$.noContextMenu,zA=$.normalizeUnicode,xA=$.setLayerDimensions,SA=$.shadow,I4=$.version;var hl={};n7(hl,{AnnotationLayerBuilder:()=>hD,DownloadManager:()=>pD,EventBus:()=>mD,FindState:()=>gD,GenericL10n:()=>al,LinkTarget:()=>l3,PDFFindController:()=>ll,PDFHistory:()=>vD,PDFLinkService:()=>ul,PDFPageView:()=>CD,PDFScriptingManager:()=>bD,PDFSinglePageViewer:()=>fl,PDFViewer:()=>dl,ProgressBar:()=>MD,RenderingStates:()=>yD,ScrollMode:()=>_D,SimpleLinkService:()=>LD,SpreadMode:()=>wD,StructTreeLayerBuilder:()=>zD,TextLayerBuilder:()=>xD,XfaLayerBuilder:()=>SD,parseQueryString:()=>AD});var P4={};P4.d=(n,e)=>{for(var t in e)P4.o(e,t)&&!P4.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})};P4.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var S1=globalThis.pdfjsViewer={};P4.d(S1,{AnnotationLayerBuilder:()=>z6,DownloadManager:()=>F5,EventBus:()=>x6,FindState:()=>St,GenericL10n:()=>vn,LinkTarget:()=>r3,PDFFindController:()=>R5,PDFHistory:()=>Y5,PDFLinkService:()=>L6,PDFPageView:()=>T6,PDFScriptingManager:()=>sl,PDFSinglePageViewer:()=>cl,PDFViewer:()=>I6,ProgressBar:()=>P5,RenderingStates:()=>N1,ScrollMode:()=>a1,SimpleLinkService:()=>O4,SpreadMode:()=>le,StructTreeLayerBuilder:()=>E6,TextLayerBuilder:()=>D6,XfaLayerBuilder:()=>N6,parseQueryString:()=>k6});var AA="auto",ng=1,Lm=1.1,EA=.1,DA=10,z5=0,NA=1.25,wm=40,zm=5,N1={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},pn={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};var b2={DISABLE:0,ENABLE:1,ENABLE_PERMISSIONS:2},a1={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3},le={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};var k5=class{constructor(){let e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}};function ig(n,e,t=!1){let i=n.offsetParent;if(!i){console.error("offsetParent is not set -- cannot scroll");return}let s=n.offsetTop+n.clientTop,o=n.offsetLeft+n.clientLeft;for(;i.clientHeight===i.scrollHeight&&i.clientWidth===i.scrollWidth||t&&(i.classList.contains("markedContent")||getComputedStyle(i).overflow==="hidden");)if(s+=i.offsetTop,o+=i.offsetLeft,i=i.offsetParent,!i)return;e&&(e.top!==void 0&&(s+=e.top),e.left!==void 0&&(o+=e.left,i.scrollLeft=o)),i.scrollTop=s}function TA(n,e,t=void 0){let i=function(r){o||(o=window.requestAnimationFrame(function(){o=null;let a=n.scrollLeft,l=s.lastX;a!==l&&(s.right=a>l),s.lastX=a;let u=n.scrollTop,f=s.lastY;u!==f&&(s.down=u>f),s.lastY=u,e(s)}))},s={right:!0,down:!0,lastX:n.scrollLeft,lastY:n.scrollTop,_eventHandler:i},o=null;return n.addEventListener("scroll",i,{useCapture:!0,signal:t}),t?.addEventListener("abort",()=>window.cancelAnimationFrame(o),{once:!0}),s}function k6(n){let e=new Map;for(let[t,i]of new URLSearchParams(n))e.set(t.toLowerCase(),i);return e}var xm=/[\x00-\x1F]/g;function _6(n,e=!1){return xm.test(n)?e?n.replaceAll(xm,t=>t==="\0"?"":" "):n.replaceAll("\0",""):n}function R4(n,e,t=0){let i=t,s=n.length-1;if(s<0||!e(n[s]))return n.length;if(e(n[i]))return i;for(;i<s;){let o=i+s>>1,r=n[o];e(r)?s=o:i=o+1}return i}function Sm(n){if(Math.floor(n)===n)return[n,1];let e=1/n,t=8;if(e>t)return[1,t];if(Math.floor(e)===e)return[1,e];let i=n>1?e:n,s=0,o=1,r=1,c=1;for(;;){let l=s+r,u=o+c;if(u>t)break;i<=l/u?(r=l,c=u):(s=l,o=u)}let a;return i-s/o<r/c-i?a=i===n?[s,o]:[o,s]:a=i===n?[r,c]:[c,r],a}function g6(n,e){return n-n%e}function IA(n,e,t){if(n<2)return n;let i=e[n].div,s=i.offsetTop+i.clientTop;s>=t&&(i=e[n-1].div,s=i.offsetTop+i.clientTop);for(let o=n-2;o>=0&&(i=e[o].div,!(i.offsetTop+i.clientTop+i.clientHeight<=s));--o)n=o;return n}function kA({scrollEl:n,views:e,sortByVisibility:t=!1,horizontal:i=!1,rtl:s=!1}){let o=n.scrollTop,r=o+n.clientHeight,c=n.scrollLeft,a=c+n.clientWidth;function l(C){let M=C.div;return M.offsetTop+M.clientTop+M.clientHeight>o}function u(C){let M=C.div,b=M.offsetLeft+M.clientLeft,L=b+M.clientWidth;return s?b<a:L>c}let f=[],d=new Set,h=e.length,p=R4(e,i?u:l);p>0&&p<h&&!i&&(p=IA(p,e,o));let m=i?a:-1;for(let C=p;C<h;C++){let M=e[C],b=M.div,L=b.offsetLeft+b.clientLeft,y=b.offsetTop+b.clientTop,w=b.clientWidth,A=b.clientHeight,_=L+w,S=y+A;if(m===-1)S>=r&&(m=S);else if((i?L:y)>m)break;if(S<=o||y>=r||_<=c||L>=a)continue;let T=Math.max(0,o-y)+Math.max(0,S-r),h1=Math.max(0,c-L)+Math.max(0,_-a),v1=(A-T)/A,C1=(w-h1)/w,A1=v1*C1*100|0;f.push({id:M.id,x:L,y,view:M,percent:A1,widthPercent:C1*100|0}),d.add(M.id)}let v=f[0],g=f.at(-1);return t&&f.sort(function(C,M){let b=C.percent-M.percent;return Math.abs(b)>.001?-b:C.id-M.id}),{first:v,last:g,views:f,ids:d}}function sg(n){return Number.isInteger(n)&&n%90===0}function PA(n){return Number.isInteger(n)&&Object.values(a1).includes(n)&&n!==a1.UNKNOWN}function RA(n){return Number.isInteger(n)&&Object.values(le).includes(n)&&n!==le.UNKNOWN}function Am(n){return n.width<=n.height}var WB=new Promise(function(n){window.requestAnimationFrame(n)}),OA=document.documentElement.style;function FA(n,e,t){return Math.min(Math.max(n,e),t)}var P5=class{#e=null;#t=null;#n=0;#i=null;#s=!0;constructor(e){this.#e=e.classList,this.#i=e.style}get percent(){return this.#n}set percent(e){if(this.#n=FA(e,0,100),isNaN(e)){this.#e.add("indeterminate");return}this.#e.remove("indeterminate"),this.#i.setProperty("--progressBar-percent",`${this.#n}%`)}setWidth(e){if(!e)return;let i=e.parentNode.offsetWidth-e.offsetWidth;i>0&&this.#i.setProperty("--progressBar-end-offset",`${i}px`)}setDisableAutoFetch(e=5e3){this.#n===100||isNaN(this.#n)||(this.#t&&clearTimeout(this.#t),this.show(),this.#t=setTimeout(()=>{this.#t=null,this.hide()},e))}hide(){this.#s&&(this.#s=!1,this.#e.add("hidden"))}show(){this.#s||(this.#s=!0,this.#e.remove("hidden"))}};function HA(n){let e=a1.VERTICAL,t=le.NONE;switch(n){case"SinglePage":e=a1.PAGE;break;case"OneColumn":break;case"TwoPageLeft":e=a1.PAGE;case"TwoColumnLeft":t=le.ODD;break;case"TwoPageRight":e=a1.PAGE;case"TwoColumnRight":t=le.EVEN;break}return{scrollMode:e,spreadMode:t}}var e2={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};function VA(n){return n<11904}function BA(n){return(n&65408)===0}function jA(n){return n>=97&&n<=122||n>=65&&n<=90}function UA(n){return n>=48&&n<=57}function $A(n){return n===32||n===9||n===13||n===10}function GA(n){return n>=13312&&n<=40959||n>=63744&&n<=64255}function WA(n){return n>=12448&&n<=12543}function qA(n){return n>=12352&&n<=12447}function ZA(n){return n>=65376&&n<=65439}function YA(n){return(n&65408)===3584}function v6(n){return VA(n)?BA(n)?$A(n)?e2.SPACE:jA(n)||UA(n)||n===95?e2.ALPHA_LETTER:e2.PUNCT:YA(n)?e2.THAI_LETTER:n===160?e2.SPACE:e2.ALPHA_LETTER:GA(n)?e2.HAN_LETTER:WA(n)?e2.KATAKANA_LETTER:qA(n)?e2.HIRAGANA_LETTER:ZA(n)?e2.HALFWIDTH_KATAKANA_LETTER:e2.ALPHA_LETTER}var Em;function JA(){return Em||="\xA0\xA8\xAA\xAF\xB2-\xB5\xB8-\xBA\xBC-\xBE\u0132-\u0133\u013F-\u0140\u0149\u017F\u01C4-\u01CC\u01F1-\u01F3\u02B0-\u02B8\u02D8-\u02DD\u02E0-\u02E4\u0374\u037A\u037E\u0384-\u0385\u0387\u03D0-\u03D6\u03F0-\u03F2\u03F4-\u03F5\u03F9\u0587\u0675-\u0678\u0958-\u095F\u09DC-\u09DD\u09DF\u0A33\u0A36\u0A59-\u0A5B\u0A5E\u0B5C-\u0B5D\u0E33\u0EB3\u0EDC-\u0EDD\u0F0C\u0F43\u0F4D\u0F52\u0F57\u0F5C\u0F69\u10FC\u1D2C-\u1D2E\u1D30-\u1D3A\u1D3C-\u1D4D\u1D4F-\u1D6A\u1D78\u1D9B-\u1DBF\u1E9A-\u1E9B\u1F71\u1F73\u1F75\u1F77\u1F79\u1F7B\u1F7D\u1FBB\u1FBD-\u1FC1\u1FC9\u1FCB\u1FCD-\u1FCF\u1FD3\u1FDB\u1FDD-\u1FDF\u1FE3\u1FEB\u1FED-\u1FEF\u1FF9\u1FFB\u1FFD-\u1FFE\u2000-\u200A\u2011\u2017\u2024-\u2026\u202F\u2033-\u2034\u2036-\u2037\u203C\u203E\u2047-\u2049\u2057\u205F\u2070-\u2071\u2074-\u208E\u2090-\u209C\u20A8\u2100-\u2103\u2105-\u2107\u2109-\u2113\u2115-\u2116\u2119-\u211D\u2120-\u2122\u2124\u2126\u2128\u212A-\u212D\u212F-\u2131\u2133-\u2139\u213B-\u2140\u2145-\u2149\u2150-\u217F\u2189\u222C-\u222D\u222F-\u2230\u2329-\u232A\u2460-\u24EA\u2A0C\u2A74-\u2A76\u2ADC\u2C7C-\u2C7D\u2D6F\u2E9F\u2EF3\u2F00-\u2FD5\u3000\u3036\u3038-\u303A\u309B-\u309C\u309F\u30FF\u3131-\u318E\u3192-\u319F\u3200-\u321E\u3220-\u3247\u3250-\u327E\u3280-\u33FF\uA69C-\uA69D\uA770\uA7F2-\uA7F4\uA7F8-\uA7F9\uAB5C-\uAB5F\uAB69\uF900-\uFA0D\uFA10\uFA12\uFA15-\uFA1E\uFA20\uFA22\uFA25-\uFA26\uFA2A-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFC\uFE10-\uFE19\uFE30-\uFE44\uFE47-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFE70-\uFE72\uFE74\uFE76-\uFEFC\uFF01-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC\uFFE0-\uFFE6",Em}var St={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3},KA=250,QA=-50,XA=-400,Dm={"\u2010":"-","\u2018":"'","\u2019":"'","\u201A":"'","\u201B":"'","\u201C":'"',"\u201D":'"',"\u201E":'"',"\u201F":'"',"\xBC":"1/4","\xBD":"1/2","\xBE":"3/4"},Nm=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),Tm,eE=new RegExp("\\p{M}+","gu"),tE=new RegExp("([.*+?^${}()|[\\]\\\\])|(\\p{P})|(\\s+)|(\\p{M})|(\\p{L})","gu"),nE=new RegExp("([^\\p{M}])\\p{M}*$","u"),iE=new RegExp("^\\p{M}*([^\\p{M}])","u"),sE=/[\uAC00-\uD7AF\uFA6C\uFACF-\uFAD1\uFAD5-\uFAD7]+/g,Im=new Map,oE="[\\u1100-\\u1112\\ud7a4-\\ud7af\\ud84a\\ud84c\\ud850\\ud854\\ud857\\ud85f]",km=new Map,x5=null,S5=null;function A5(n){let e=[],t;for(;(t=sE.exec(n))!==null;){let{index:h}=t;for(let p of t[0]){let m=Im.get(p);m||(m=p.normalize("NFD").length,Im.set(p,m)),e.push([m,h++])}}let i;if(e.length===0&&x5)i=x5;else if(e.length>0&&S5)i=S5;else{let h=Object.keys(Dm).join(""),p=JA(),g=`([${h}])|([${p}])|((?:\u3099|\u309A)\\n)|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|((?:\\p{Ideographic}|[\u3040-\u30FF])\\n)|(\\n)`;e.length===0?i=x5=new RegExp(g+"|(\\u0000)","gum"):i=S5=new RegExp(g+`|(${oE})`,"gum")}let s=[];for(;(t=eE.exec(n))!==null;)s.push([t[0].length,t.index]);let o=n.normalize("NFD"),r=[[0,0]],c=0,a=0,l=0,u=0,f=0,d=!1;return o=o.replace(i,(h,p,m,v,g,C,M,b,L,y)=>{if(y-=u,p){let w=Dm[p],A=w.length;for(let _=1;_<A;_++)r.push([y-l+_,l-_]);return l-=A-1,w}if(m){let w=km.get(m);w||(w=m.normalize("NFKC"),km.set(m,w));let A=w.length;for(let _=1;_<A;_++)r.push([y-l+_,l-_]);return l-=A-1,w}if(v)return d=!0,y+f===s[c]?.[1]?++c:(r.push([y-1-l+1,l-1]),l-=1,u+=1),r.push([y-l+1,l]),u+=1,f+=1,v.charAt(0);if(g){let w=g.endsWith(`
`),A=w?g.length-2:g.length;d=!0;let _=A;y+f===s[c]?.[1]&&(_-=s[c][0],++c);for(let S=1;S<=_;S++)r.push([y-1-l+S,l-S]);return l-=_,u+=_,w?(y+=A-1,r.push([y-l+1,1+l]),l+=1,u+=1,f+=1,g.slice(0,A)):g}if(C){let w=C.length-2;return r.push([y-l+w,1+l]),l+=1,u+=1,f+=1,C.slice(0,-2)}if(M){let w=M.length-1;return r.push([y-l+w,l]),u+=1,f+=1,M.slice(0,-1)}if(b)return r.push([y-l+1,l-1]),l-=1,u+=1,f+=1," ";if(y+f===e[a]?.[1]){let w=e[a][0]-1;++a;for(let A=1;A<=w;A++)r.push([y-(l-A),l-A]);l-=w,u+=w}return L}),r.push([o.length,l]),[o,r,d]}function rE(n,e,t){if(!n)return[e,t];let i=e,s=e+t-1,o=R4(n,u=>u[0]>=i);n[o][0]>i&&--o;let r=R4(n,u=>u[0]>=s,o);n[r][0]>s&&--r;let c=i+n[o][1],l=s+n[r][1]+1-c;return[c,l]}var R5=class{#e=null;#t=!0;#n=0;constructor({linkService:e,eventBus:t,updateMatchesCountOnProgress:i=!0}){this._linkService=e,this._eventBus=t,this.#t=i,this.onIsPageVisible=null,this.#s(),t._on("find",this.#i.bind(this)),t._on("findbarclose",this.#C.bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this.#e}setDocument(e){this._pdfDocument&&this.#s(),e&&(this._pdfDocument=e,this._firstPageCapability.resolve())}#i(e){if(!e)return;let t=this._pdfDocument,{type:i}=e;(this.#e===null||this.#c(e))&&(this._dirtyMatch=!0),this.#e=e,i!=="highlightallchange"&&this.#y(St.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||t&&this._pdfDocument!==t)return;this.#u();let s=!this._highlightMatches,o=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),i?this._dirtyMatch?this.#p():i==="again"?(this.#p(),s&&this.#e.highlightAll&&this.#d()):i==="highlightallchange"?(o?this.#p():this._highlightMatches=!0,this.#d()):this.#p():this._findTimeout=setTimeout(()=>{this.#p(),this._findTimeout=null},KA)})}scrollMatchIntoView({element:e=null,selectedLeft:t=0,pageIndex:i=-1,matchIndex:s=-1}){if(!this._scrollMatches||!e)return;if(s===-1||s!==this._selected.matchIdx)return;if(i===-1||i!==this._selected.pageIdx)return;this._scrollMatches=!1;let o={top:QA,left:t+XA};ig(e,o,!0)}#s(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this.#n=0,this.#e=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=Promise.withResolvers()}get#o(){let{query:e}=this.#e;return typeof e=="string"?(e!==this._rawQuery&&(this._rawQuery=e,[this._normalizedQuery]=A5(e)),this._normalizedQuery):(e||[]).filter(t=>!!t).map(t=>A5(t)[0])}#c(e){let t=e.query,i=this.#e.query,s=typeof t;if(s!==typeof i)return!0;if(s==="string"){if(t!==i)return!0}else if(JSON.stringify(t)!==JSON.stringify(i))return!0;switch(e.type){case"again":let r=this._selected.pageIdx+1,c=this._linkService;return r>=1&&r<=c.pagesCount&&r!==c.page&&!(this.onIsPageVisible?.(r)??!0);case"highlightallchange":return!1}return!0}#a(e,t,i){let s=e.slice(0,t).match(nE);if(s){let o=e.charCodeAt(t),r=s[1].charCodeAt(0);if(v6(o)===v6(r))return!1}if(s=e.slice(t+i).match(iE),s){let o=e.charCodeAt(t+i-1),r=s[1].charCodeAt(0);if(v6(o)===v6(r))return!1}return!0}#f(e,t){let{matchDiacritics:i}=this.#e,s=!1;e=e.replaceAll(tE,(r,c,a,l,u,f)=>c?`[ ]*\\${c}[ ]*`:a?`[ ]*${a}[ ]*`:l?"[ ]+":i?u||f:u?Nm.has(u.charCodeAt(0))?u:"":t?(s=!0,`${f}\\p{M}*`):f);let o="[ ]*";return e.endsWith(o)&&(e=e.slice(0,e.length-o.length)),i&&t&&(Tm||=String.fromCharCode(...Nm),s=!0,e=`${e}(?=[${Tm}]|[^\\p{M}]|$)`),[s,e]}#l(e){let t=this.#o;if(t.length===0)return;let i=this._pageContents[e],s=this.match(t,i,e),o=this._pageMatches[e]=[],r=this._pageMatchesLength[e]=[],c=this._pageDiffs[e];s?.forEach(({index:l,length:u})=>{let[f,d]=rE(c,l,u);d&&(o.push(f),r.push(d))}),this.#e.highlightAll&&this.#r(e),this._resumePageIdx===e&&(this._resumePageIdx=null,this.#m());let a=o.length;this._matchesCountTotal+=a,this.#t?a>0&&this.#_():++this.#n===this._linkService.pagesCount&&this.#_()}match(e,t,i){let s=this._hasDiacritics[i],o=!1;if(typeof e=="string"?[o,e]=this.#f(e,s):e=e.sort().reverse().map(f=>{let[d,h]=this.#f(f,s);return o||=d,`(${h})`}).join("|"),!e)return;let{caseSensitive:r,entireWord:c}=this.#e,a=`g${o?"u":""}${r?"":"i"}`;e=new RegExp(e,a);let l=[],u;for(;(u=e.exec(t))!==null;)c&&!this.#a(t,u.index,u[0].length)||l.push({index:u.index,length:u[0].length});return l}#u(){if(this._extractTextPromises.length>0)return;let e=Promise.resolve(),t={disableNormalization:!0};for(let i=0,s=this._linkService.pagesCount;i<s;i++){let{promise:o,resolve:r}=Promise.withResolvers();this._extractTextPromises[i]=o,e=e.then(()=>this._pdfDocument.getPage(i+1).then(c=>c.getTextContent(t)).then(c=>{let a=[];for(let l of c.items)a.push(l.str),l.hasEOL&&a.push(`
`);[this._pageContents[i],this._pageDiffs[i],this._hasDiacritics[i]]=A5(a.join("")),r()},c=>{console.error(`Unable to get text content for page ${i+1}`,c),this._pageContents[i]="",this._pageDiffs[i]=null,this._hasDiacritics[i]=!1,r()}))}}#r(e){this._scrollMatches&&this._selected.pageIdx===e&&(this._linkService.page=e+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:e})}#d(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}#p(){let e=this.#e.findPrevious,t=this._linkService.page-1,i=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=t,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this.#n=0,this._matchesCountTotal=0,this.#d();for(let r=0;r<i;r++)this._pendingFindMatches.has(r)||(this._pendingFindMatches.add(r),this._extractTextPromises[r].then(()=>{this._pendingFindMatches.delete(r),this.#l(r)}))}if(this.#o.length===0){this.#y(St.FOUND);return}if(this._resumePageIdx)return;let o=this._offset;if(this._pagesToSearch=i,o.matchIdx!==null){let r=this._pageMatches[o.pageIdx].length;if(!e&&o.matchIdx+1<r||e&&o.matchIdx>0){o.matchIdx=e?o.matchIdx-1:o.matchIdx+1,this.#g(!0);return}this.#v(e)}this.#m()}#h(e){let t=this._offset,i=e.length,s=this.#e.findPrevious;return i?(t.matchIdx=s?i-1:0,this.#g(!0),!0):(this.#v(s),t.wrapped&&(t.matchIdx=null,this._pagesToSearch<0)?(this.#g(!1),!0):!1)}#m(){this._resumePageIdx!==null&&console.error("There can only be one pending page.");let e=null;do{let t=this._offset.pageIdx;if(e=this._pageMatches[t],!e){this._resumePageIdx=t;break}}while(!this.#h(e))}#v(e){let t=this._offset,i=this._linkService.pagesCount;t.pageIdx=e?t.pageIdx-1:t.pageIdx+1,t.matchIdx=null,this._pagesToSearch--,(t.pageIdx>=i||t.pageIdx<0)&&(t.pageIdx=e?i-1:0,t.wrapped=!0)}#g(e=!1){let t=St.NOT_FOUND,i=this._offset.wrapped;if(this._offset.wrapped=!1,e){let s=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,t=i?St.WRAPPED:St.FOUND,s!==-1&&s!==this._selected.pageIdx&&this.#r(s)}this.#y(t,this.#e.findPrevious),this._selected.pageIdx!==-1&&(this._scrollMatches=!0,this.#r(this._selected.pageIdx))}#C(e){let t=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||t&&this._pdfDocument!==t||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),this.#y(St.FOUND),this._highlightMatches=!1,this.#d())})}#M(){let{pageIdx:e,matchIdx:t}=this._selected,i=0,s=this._matchesCountTotal;if(t!==-1){for(let o=0;o<e;o++)i+=this._pageMatches[o]?.length||0;i+=t+1}return(i<1||i>s)&&(i=s=0),{current:i,total:s}}#_(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this.#M()})}#y(e,t=!1){!this.#t&&(this.#n!==this._linkService.pagesCount||e===St.PENDING)||this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:e,previous:t,entireWord:this.#e?.entireWord??null,matchesCount:this.#M(),rawQuery:this.#e?.query??null})}},cE="noopener noreferrer nofollow",r3={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4},L6=class n{externalLinkEnabled=!0;constructor({eventBus:e,externalLinkTarget:t=null,externalLinkRel:i=null,ignoreDestinationZoom:s=!1}={}){this.eventBus=e,this.externalLinkTarget=t,this.externalLinkRel=i,this._ignoreDestinationZoom=s,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(e,t=null){this.baseUrl=t,this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setHistory(e){this.pdfHistory=e}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfDocument?this.pdfViewer.currentPageNumber:1}set page(e){this.pdfDocument&&(this.pdfViewer.currentPageNumber=e)}get rotation(){return this.pdfDocument?this.pdfViewer.pagesRotation:0}set rotation(e){this.pdfDocument&&(this.pdfViewer.pagesRotation=e)}get isInPresentationMode(){return this.pdfDocument?this.pdfViewer.isInPresentationMode:!1}goToDestination(e){return N(this,null,function*(){if(!this.pdfDocument)return;let t,i,s;if(typeof e=="string"?(t=e,i=yield this.pdfDocument.getDestination(e)):(t=null,i=yield e),!Array.isArray(i)){console.error(`goToDestination: "${i}" is not a valid destination array, for dest="${e}".`);return}let[o]=i;if(o&&typeof o=="object"){if(s=this.pdfDocument.cachedPageNumber(o),!s)try{s=(yield this.pdfDocument.getPageIndex(o))+1}catch{console.error(`goToDestination: "${o}" is not a valid page reference, for dest="${e}".`);return}}else Number.isInteger(o)&&(s=o+1);if(!s||s<1||s>this.pagesCount){console.error(`goToDestination: "${s}" is not a valid page number, for dest="${e}".`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:t,explicitDest:i,pageNumber:s})),this.pdfViewer.scrollPageIntoView({pageNumber:s,destArray:i,ignoreDestinationZoom:this._ignoreDestinationZoom})})}goToPage(e){if(!this.pdfDocument)return;let t=typeof e=="string"&&this.pdfViewer.pageLabelToPageNumber(e)||e|0;if(!(Number.isInteger(t)&&t>0&&t<=this.pagesCount)){console.error(`PDFLinkService.goToPage: "${e}" is not a valid page.`);return}this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(t)),this.pdfViewer.scrollPageIntoView({pageNumber:t})}addLinkAttributes(e,t,i=!1){if(!t||typeof t!="string")throw new Error('A valid "url" parameter must provided.');let s=i?r3.BLANK:this.externalLinkTarget,o=this.externalLinkRel;this.externalLinkEnabled?e.href=e.title=t:(e.href="",e.title=`Disabled: ${t}`,e.onclick=()=>!1);let r="";switch(s){case r3.NONE:break;case r3.SELF:r="_self";break;case r3.BLANK:r="_blank";break;case r3.PARENT:r="_parent";break;case r3.TOP:r="_top";break}e.target=r,e.rel=typeof o=="string"?o:cE}getDestinationHash(e){if(typeof e=="string"){if(e.length>0)return this.getAnchorUrl("#"+escape(e))}else if(Array.isArray(e)){let t=JSON.stringify(e);if(t.length>0)return this.getAnchorUrl("#"+escape(t))}return this.getAnchorUrl("")}getAnchorUrl(e){return this.baseUrl?this.baseUrl+e:e}setHash(e){if(!this.pdfDocument)return;let t,i;if(e.includes("=")){let s=k6(e);if(s.has("search")){let o=s.get("search").replaceAll('"',""),r=s.get("phrase")==="true";this.eventBus.dispatch("findfromurlhash",{source:this,query:r?o:o.match(/\S+/g)})}if(s.has("page")&&(t=s.get("page")|0||1),s.has("zoom")){let o=s.get("zoom").split(","),r=o[0],c=parseFloat(r);r.includes("Fit")?r==="Fit"||r==="FitB"?i=[null,{name:r}]:r==="FitH"||r==="FitBH"||r==="FitV"||r==="FitBV"?i=[null,{name:r},o.length>1?o[1]|0:null]:r==="FitR"?o.length!==5?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):i=[null,{name:r},o[1]|0,o[2]|0,o[3]|0,o[4]|0]:console.error(`PDFLinkService.setHash: "${r}" is not a valid zoom value.`):i=[null,{name:"XYZ"},o.length>1?o[1]|0:null,o.length>2?o[2]|0:null,c?c/100:r]}i?this.pdfViewer.scrollPageIntoView({pageNumber:t||this.page,destArray:i,allowNegativeOffset:!0}):t&&(this.page=t),s.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:s.get("pagemode")}),s.has("nameddest")&&this.goToDestination(s.get("nameddest"));return}i=unescape(e);try{i=JSON.parse(i),Array.isArray(i)||(i=i.toString())}catch{}if(typeof i=="string"||n.#e(i)){this.goToDestination(i);return}console.error(`PDFLinkService.setHash: "${unescape(e)}" is not a valid destination.`)}executeNamedAction(e){if(this.pdfDocument){switch(e){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1;break;default:break}this.eventBus.dispatch("namedaction",{source:this,action:e})}}executeSetOCGState(e){return N(this,null,function*(){if(!this.pdfDocument)return;let t=this.pdfDocument,i=yield this.pdfViewer.optionalContentConfigPromise;t===this.pdfDocument&&(i.setOCGState(e),this.pdfViewer.optionalContentConfigPromise=Promise.resolve(i))})}static#e(e){if(!Array.isArray(e)||e.length<2)return!1;let[t,i,...s]=e;if(!(typeof t=="object"&&Number.isInteger(t?.num)&&Number.isInteger(t?.gen))&&!Number.isInteger(t)||!(typeof i=="object"&&typeof i?.name=="string"))return!1;let o=s.length,r=!0;switch(i.name){case"XYZ":if(o<2||o>3)return!1;break;case"Fit":case"FitB":return o===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(o>1)return!1;break;case"FitR":if(o!==4)return!1;r=!1;break;default:return!1}for(let c of s)if(!(typeof c=="number"||r&&c===null))return!1;return!0}},O4=class extends L6{setDocument(e,t=null){}},{AbortException:aE,AnnotationEditorLayer:lE,AnnotationEditorParamsType:qB,AnnotationEditorType:De,AnnotationEditorUIManager:uE,AnnotationLayer:fE,AnnotationMode:Z2,build:ZB,CMapCompressionType:YB,ColorPicker:JB,createValidAbsoluteUrl:dE,DOMSVGFactory:KB,DrawLayer:hE,FeatureTest:QB,fetchData:Pm,getDocument:XB,getFilenameFromUrl:ej,getPdfFilenameFromUrl:pE,getXfaPageViewport:tj,GlobalWorkerOptions:nj,ImageKind:ij,InvalidPDFException:sj,isDataScheme:oj,isPdfFile:mE,MissingPDFException:rj,noContextMenu:cj,normalizeUnicode:gE,OPS:aj,PasswordResponses:lj,PDFDataRangeTransport:uj,PDFDateString:fj,PDFWorker:dj,PermissionFlag:C6,PixelsPerInch:q2,RenderingCancelledException:O5,setLayerDimensions:vE,shadow:w6,TextLayer:CE,UnexpectedResponseException:hj,Util:pj,VerbosityLevel:mj,version:Rm,XfaLayer:E5}=globalThis.pdfjsLib,z6=class{#e=null;#t=null;constructor({pdfPage:e,linkService:t,downloadManager:i,annotationStorage:s=null,imageResourcesPath:o="",renderForms:r=!0,enableScripting:c=!1,hasJSActionsPromise:a=null,fieldObjectsPromise:l=null,annotationCanvasMap:u=null,accessibilityManager:f=null,annotationEditorUIManager:d=null,onAppend:h=null}){this.pdfPage=e,this.linkService=t,this.downloadManager=i,this.imageResourcesPath=o,this.renderForms=r,this.annotationStorage=s,this.enableScripting=c,this._hasJSActionsPromise=a||Promise.resolve(!1),this._fieldObjectsPromise=l||Promise.resolve(null),this._annotationCanvasMap=u,this._accessibilityManager=f,this._annotationEditorUIManager=d,this.#e=h,this.annotationLayer=null,this.div=null,this._cancelled=!1,this._eventBus=t.eventBus}render(e,t="display"){return N(this,null,function*(){if(this.div){if(this._cancelled||!this.annotationLayer)return;this.annotationLayer.update({viewport:e.clone({dontFlip:!0})});return}let[i,s,o]=yield Promise.all([this.pdfPage.getAnnotations({intent:t}),this._hasJSActionsPromise,this._fieldObjectsPromise]);if(this._cancelled)return;let r=this.div=document.createElement("div");if(r.className="annotationLayer",this.#e?.(r),i.length===0){this.hide();return}this.annotationLayer=new fE({div:r,accessibilityManager:this._accessibilityManager,annotationCanvasMap:this._annotationCanvasMap,annotationEditorUIManager:this._annotationEditorUIManager,page:this.pdfPage,viewport:e.clone({dontFlip:!0})}),yield this.annotationLayer.render({annotations:i,imageResourcesPath:this.imageResourcesPath,renderForms:this.renderForms,linkService:this.linkService,downloadManager:this.downloadManager,annotationStorage:this.annotationStorage,enableScripting:this.enableScripting,hasJSActions:s,fieldObjects:o}),this.linkService.isInPresentationMode&&this.#n(pn.FULLSCREEN),this.#t||(this.#t=new AbortController,this._eventBus?._on("presentationmodechanged",c=>{this.#n(c.state)},{signal:this.#t.signal}))})}cancel(){this._cancelled=!0,this.#t?.abort(),this.#t=null}hide(){this.div&&(this.div.hidden=!0)}hasEditableAnnotations(){return!!this.annotationLayer?.hasEditableAnnotations()}#n(e){if(!this.div)return;let t=!1;switch(e){case pn.FULLSCREEN:t=!0;break;case pn.NORMAL:break;default:return}for(let i of this.div.childNodes)i.hasAttribute("data-internal-link")||(i.inert=t)}};function Om(n,e){let t=document.createElement("a");if(!t.click)throw new Error('DownloadManager: "a.click()" is not supported.');t.href=n,t.target="_parent","download"in t&&(t.download=e),(document.body||document.documentElement).append(t),t.click(),t.remove()}var F5=class{#e=new WeakMap;downloadData(e,t,i){let s=URL.createObjectURL(new Blob([e],{type:i}));Om(s,t)}openOrDownloadData(e,t,i=null){let o=mE(t)?"application/pdf":"";return this.downloadData(e,t,o),!1}download(e,t,i){let s;if(e)s=URL.createObjectURL(new Blob([e],{type:"application/pdf"}));else{if(!dE(t,"http://example.com")){console.error(`download - not a valid URL: ${t}`);return}s=t+"#pdfjs.action=download"}Om(s,i)}},Fm={EVENT:"event",TIMEOUT:"timeout"};function bE(i){return N(this,arguments,function*({target:n,name:e,delay:t=0}){if(typeof n!="object"||!(e&&typeof e=="string")||!(Number.isInteger(t)&&t>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");let{promise:s,resolve:o}=Promise.withResolvers(),r=new AbortController;function c(u){r.abort(),clearTimeout(l),o(u)}let a=n instanceof x6?"_on":"addEventListener";n[a](e,c.bind(null,Fm.EVENT),{signal:r.signal});let l=setTimeout(c.bind(null,Fm.TIMEOUT),t);return s})}var x6=class{#e=Object.create(null);on(e,t,i=null){this._on(e,t,{external:!0,once:i?.once,signal:i?.signal})}off(e,t,i=null){this._off(e,t)}dispatch(e,t){let i=this.#e[e];if(!i||i.length===0)return;let s;for(let{listener:o,external:r,once:c}of i.slice(0)){if(c&&this._off(e,o),r){(s||=[]).push(o);continue}o(t)}if(s){for(let o of s)o(t);s=null}}_on(e,t,i=null){let s=null;if(i?.signal instanceof AbortSignal){let{signal:r}=i;if(r.aborted){console.error("Cannot use an `aborted` signal.");return}let c=()=>this._off(e,t);s=()=>r.removeEventListener("abort",c),r.addEventListener("abort",c)}(this.#e[e]||=[]).push({listener:t,external:i?.external===!0,once:i?.once===!0,rmAbort:s})}_off(e,t,i=null){let s=this.#e[e];if(s)for(let o=0,r=s.length;o<r;o++){let c=s[o];if(c.listener===t){c.rmAbort?.(),s.splice(o,1);return}}}};var mn=class{constructor(e){this.value=e}valueOf(){return this.value}},T1=class extends mn{constructor(e="???"){super(e)}toString(e){return`{${this.value}}`}},t2=class extends mn{constructor(e,t={}){super(e),this.opts=t}toString(e){try{return e.memoizeIntlObject(Intl.NumberFormat,this.opts).format(this.value)}catch(t){return e.reportError(t),this.value.toString(10)}}},a3=class extends mn{constructor(e,t={}){super(e),this.opts=t}toString(e){try{return e.memoizeIntlObject(Intl.DateTimeFormat,this.opts).format(this.value)}catch(t){return e.reportError(t),new Date(this.value).toISOString()}}},Hm=100,ME="\u2068",yE="\u2069";function _E(n,e,t){if(t===e||t instanceof t2&&e instanceof t2&&t.value===e.value)return!0;if(e instanceof t2&&typeof t=="string"){let i=n.memoizeIntlObject(Intl.PluralRules,e.opts).select(e.value);if(t===i)return!0}return!1}function Vm(n,e,t){return e[t]?gn(n,e[t].value):(n.reportError(new RangeError("No default")),new T1)}function H5(n,e){let t=[],i=Object.create(null);for(let s of e)s.type==="narg"?i[s.name]=F4(n,s.value):t.push(F4(n,s));return{positional:t,named:i}}function F4(n,e){switch(e.type){case"str":return e.value;case"num":return new t2(e.value,{minimumFractionDigits:e.precision});case"var":return LE(n,e);case"mesg":return wE(n,e);case"term":return zE(n,e);case"func":return xE(n,e);case"select":return SE(n,e);default:return new T1}}function LE(n,{name:e}){let t;if(n.params)if(Object.prototype.hasOwnProperty.call(n.params,e))t=n.params[e];else return new T1(`$${e}`);else if(n.args&&Object.prototype.hasOwnProperty.call(n.args,e))t=n.args[e];else return n.reportError(new ReferenceError(`Unknown variable: $${e}`)),new T1(`$${e}`);if(t instanceof mn)return t;switch(typeof t){case"string":return t;case"number":return new t2(t);case"object":if(t instanceof Date)return new a3(t.getTime());default:return n.reportError(new TypeError(`Variable type not supported: $${e}, ${typeof t}`)),new T1(`$${e}`)}}function wE(n,{name:e,attr:t}){let i=n.bundle._messages.get(e);if(!i)return n.reportError(new ReferenceError(`Unknown message: ${e}`)),new T1(e);if(t){let s=i.attributes[t];return s?gn(n,s):(n.reportError(new ReferenceError(`Unknown attribute: ${t}`)),new T1(`${e}.${t}`))}return i.value?gn(n,i.value):(n.reportError(new ReferenceError(`No value: ${e}`)),new T1(e))}function zE(n,{name:e,attr:t,args:i}){let s=`-${e}`,o=n.bundle._terms.get(s);if(!o)return n.reportError(new ReferenceError(`Unknown term: ${s}`)),new T1(s);if(t){let c=o.attributes[t];if(c){n.params=H5(n,i).named;let a=gn(n,c);return n.params=null,a}return n.reportError(new ReferenceError(`Unknown attribute: ${t}`)),new T1(`${s}.${t}`)}n.params=H5(n,i).named;let r=gn(n,o.value);return n.params=null,r}function xE(n,{name:e,args:t}){let i=n.bundle._functions[e];if(!i)return n.reportError(new ReferenceError(`Unknown function: ${e}()`)),new T1(`${e}()`);if(typeof i!="function")return n.reportError(new TypeError(`Function ${e}() is not callable`)),new T1(`${e}()`);try{let s=H5(n,t);return i(s.positional,s.named)}catch(s){return n.reportError(s),new T1(`${e}()`)}}function SE(n,{selector:e,variants:t,star:i}){let s=F4(n,e);if(s instanceof T1)return Vm(n,t,i);for(let o of t){let r=F4(n,o.key);if(_E(n,s,r))return gn(n,o.value)}return Vm(n,t,i)}function og(n,e){if(n.dirty.has(e))return n.reportError(new RangeError("Cyclic reference")),new T1;n.dirty.add(e);let t=[],i=n.bundle._useIsolating&&e.length>1;for(let s of e){if(typeof s=="string"){t.push(n.bundle._transform(s));continue}if(n.placeables++,n.placeables>Hm)throw n.dirty.delete(e),new RangeError(`Too many placeables expanded: ${n.placeables}, max allowed is ${Hm}`);i&&t.push(ME),t.push(F4(n,s).toString(n)),i&&t.push(yE)}return n.dirty.delete(e),t.join("")}function gn(n,e){return typeof e=="string"?n.bundle._transform(e):og(n,e)}var V5=class{constructor(e,t,i){this.dirty=new WeakSet,this.params=null,this.placeables=0,this.bundle=e,this.errors=t,this.args=i}reportError(e){if(!this.errors||!(e instanceof Error))throw e;this.errors.push(e)}memoizeIntlObject(e,t){let i=this.bundle._intls.get(e);i||(i={},this.bundle._intls.set(e,i));let s=JSON.stringify(t);return i[s]||(i[s]=new e(this.bundle.locales,t)),i[s]}};function S6(n,e){let t=Object.create(null);for(let[i,s]of Object.entries(n))e.includes(i)&&(t[i]=s.valueOf());return t}var Bm=["unitDisplay","currencyDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits"];function AE(n,e){let t=n[0];if(t instanceof T1)return new T1(`NUMBER(${t.valueOf()})`);if(t instanceof t2)return new t2(t.valueOf(),D(D({},t.opts),S6(e,Bm)));if(t instanceof a3)return new t2(t.valueOf(),D({},S6(e,Bm)));throw new TypeError("Invalid argument to NUMBER")}var jm=["dateStyle","timeStyle","fractionalSecondDigits","dayPeriod","hour12","weekday","era","year","month","day","hour","minute","second","timeZoneName"];function EE(n,e){let t=n[0];if(t instanceof T1)return new T1(`DATETIME(${t.valueOf()})`);if(t instanceof a3)return new a3(t.valueOf(),D(D({},t.opts),S6(e,jm)));if(t instanceof t2)return new a3(t.valueOf(),D({},S6(e,jm)));throw new TypeError("Invalid argument to DATETIME")}var Um=new Map;function DE(n){let e=Array.isArray(n)?n.join(" "):n,t=Um.get(e);return t===void 0&&(t=new Map,Um.set(e,t)),t}var B5=class{constructor(e,{functions:t,useIsolating:i=!0,transform:s=o=>o}={}){this._terms=new Map,this._messages=new Map,this.locales=Array.isArray(e)?e:[e],this._functions=D({NUMBER:AE,DATETIME:EE},t),this._useIsolating=i,this._transform=s,this._intls=DE(e)}hasMessage(e){return this._messages.has(e)}getMessage(e){return this._messages.get(e)}addResource(e,{allowOverrides:t=!1}={}){let i=[];for(let s=0;s<e.body.length;s++){let o=e.body[s];if(o.id.startsWith("-")){if(t===!1&&this._terms.has(o.id)){i.push(new Error(`Attempt to override an existing term: "${o.id}"`));continue}this._terms.set(o.id,o)}else{if(t===!1&&this._messages.has(o.id)){i.push(new Error(`Attempt to override an existing message: "${o.id}"`));continue}this._messages.set(o.id,o)}}return i}formatPattern(e,t=null,i=null){if(typeof e=="string")return this._transform(e);let s=new V5(this,i,t);try{return og(s,e).toString(s)}catch(o){if(s.errors&&o instanceof Error)return s.errors.push(o),new T1().toString(s);throw o}}},D5=/^(-?[a-zA-Z][\w-]*) *= */gm,$m=/\.([a-zA-Z][\w-]*) *= */y,NE=/\*?\[/y,N5=/(-?[0-9]+(?:\.([0-9]+))?)/y,TE=/([a-zA-Z][\w-]*)/y,Gm=/([$-])?([a-zA-Z][\w-]*)(?:\.([a-zA-Z][\w-]*))?/y,IE=/^[A-Z][A-Z0-9_-]*$/,b6=/([^{}\n\r]+)/y,kE=/([^\\"\n\r]*)/y,Wm=/\\([\\"])/y,qm=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{6})/y,PE=/^\n+/,Zm=/ +$/,RE=/ *\r?\n/g,OE=/( *)$/,FE=/{\s*/y,Ym=/\s*}/y,HE=/\[\s*/y,VE=/\s*] */y,BE=/\s*\(\s*/y,jE=/\s*->\s*/y,UE=/\s*:\s*/y,$E=/\s*,?\s*/y,GE=/\s+/y,j5=class{constructor(e){this.body=[],D5.lastIndex=0;let t=0;for(;;){let _=D5.exec(e);if(_===null)break;t=D5.lastIndex;try{this.body.push(a(_[1]))}catch(S){if(S instanceof SyntaxError)continue;throw S}}function i(_){return _.lastIndex=t,_.test(e)}function s(_,S){if(e[t]===_)return t++,!0;if(S)throw new S(`Expected ${_}`);return!1}function o(_,S){if(i(_))return t=_.lastIndex,!0;if(S)throw new S(`Expected ${_.toString()}`);return!1}function r(_){_.lastIndex=t;let S=_.exec(e);if(S===null)throw new SyntaxError(`Expected ${_.toString()}`);return t=_.lastIndex,S}function c(_){return r(_)[1]}function a(_){let S=u(),T=l();if(S===null&&Object.keys(T).length===0)throw new SyntaxError("Expected message value or attributes");return{id:_,value:S,attributes:T}}function l(){let _=Object.create(null);for(;i($m);){let S=c($m),T=u();if(T===null)throw new SyntaxError("Expected attribute value");_[S]=T}return _}function u(){let _;if(i(b6)&&(_=c(b6)),e[t]==="{"||e[t]==="}")return f(_?[_]:[],1/0);let S=y();return S?_?f([_,S],S.length):(S.value=w(S.value,PE),f([S],S.length)):_?w(_,Zm):null}function f(_=[],S){for(;;){if(i(b6)){_.push(c(b6));continue}if(e[t]==="{"){_.push(d());continue}if(e[t]==="}")throw new SyntaxError("Unbalanced closing brace");let C1=y();if(C1){_.push(C1),S=Math.min(S,C1.length);continue}break}let T=_.length-1,h1=_[T];typeof h1=="string"&&(_[T]=w(h1,Zm));let v1=[];for(let C1 of _)C1 instanceof A6&&(C1=C1.value.slice(0,C1.value.length-S)),C1&&v1.push(C1);return v1}function d(){o(FE,SyntaxError);let _=h();if(o(Ym))return _;if(o(jE)){let S=v();return o(Ym,SyntaxError),D({type:"select",selector:_},S)}throw new SyntaxError("Unclosed placeable")}function h(){if(e[t]==="{")return d();if(i(Gm)){let[,_,S,T=null]=r(Gm);if(_==="$")return{type:"var",name:S};if(o(BE)){let h1=p();if(_==="-")return{type:"term",name:S,attr:T,args:h1};if(IE.test(S))return{type:"func",name:S,args:h1};throw new SyntaxError("Function names must be all upper-case")}return _==="-"?{type:"term",name:S,attr:T,args:[]}:{type:"mesg",name:S,attr:T}}return C()}function p(){let _=[];for(;;){switch(e[t]){case")":return t++,_;case void 0:throw new SyntaxError("Unclosed argument list")}_.push(m()),o($E)}}function m(){let _=h();return _.type!=="mesg"?_:o(UE)?{type:"narg",name:_.name,value:C()}:_}function v(){let _=[],S=0,T;for(;i(NE);){s("*")&&(T=S);let h1=g(),v1=u();if(v1===null)throw new SyntaxError("Expected variant value");_[S++]={key:h1,value:v1}}if(S===0)return null;if(T===void 0)throw new SyntaxError("Expected default variant");return{variants:_,star:T}}function g(){o(HE,SyntaxError);let _;return i(N5)?_=M():_={type:"str",value:c(TE)},o(VE,SyntaxError),_}function C(){if(i(N5))return M();if(e[t]==='"')return b();throw new SyntaxError("Invalid expression")}function M(){let[,_,S=""]=r(N5),T=S.length;return{type:"num",value:parseFloat(_),precision:T}}function b(){s('"',SyntaxError);let _="";for(;;){if(_+=c(kE),e[t]==="\\"){_+=L();continue}if(s('"'))return{type:"str",value:_};throw new SyntaxError("Unclosed string literal")}}function L(){if(i(Wm))return c(Wm);if(i(qm)){let[,_,S]=r(qm),T=parseInt(_||S,16);return T<=55295||57344<=T?String.fromCodePoint(T):"\uFFFD"}throw new SyntaxError("Unknown escape sequence")}function y(){let _=t;switch(o(GE),e[t]){case".":case"[":case"*":case"}":case void 0:return!1;case"{":return A(e.slice(_,t))}return e[t-1]===" "?A(e.slice(_,t)):!1}function w(_,S){return _.replace(S,"")}function A(_){let S=_.replace(RE,`
`),T=OE.exec(_)[1].length;return new A6(S,T)}}},A6=class{constructor(e,t){this.value=e,this.length=t}},WE=/<|&#?\w+;/,qE={"http://www.w3.org/1999/xhtml":["em","strong","small","s","cite","q","dfn","abbr","data","time","code","var","samp","kbd","sub","sup","i","b","u","mark","bdi","bdo","span","br","wbr"]},ZE={"http://www.w3.org/1999/xhtml":{global:["title","aria-label","aria-valuetext"],a:["download"],area:["download","alt"],input:["alt","placeholder"],menuitem:["label"],menu:["label"],optgroup:["label"],option:["label"],track:["label"],img:["alt"],textarea:["placeholder"],th:["abbr"]},"http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul":{global:["accesskey","aria-label","aria-valuetext","label","title","tooltiptext"],description:["value"],key:["key","keycode"],label:["value"],textbox:["placeholder","value"]}};function YE(n,e){let{value:t}=e;if(typeof t=="string")if(n.localName==="title"&&n.namespaceURI==="http://www.w3.org/1999/xhtml")n.textContent=t;else if(!WE.test(t))n.textContent=t;else{let i=n.ownerDocument.createElementNS("http://www.w3.org/1999/xhtml","template");i.innerHTML=t,JE(i.content,n)}rg(e,n)}function JE(n,e){for(let t of n.childNodes)if(t.nodeType!==t.TEXT_NODE){if(t.hasAttribute("data-l10n-name")){let i=QE(e,t);n.replaceChild(i,t);continue}if(eD(t)){let i=XE(t);n.replaceChild(i,t);continue}console.warn(`An element of forbidden type "${t.localName}" was found in the translation. Only safe text-level elements and elements with data-l10n-name are allowed.`),n.replaceChild(U5(t),t)}e.textContent="",e.appendChild(n)}function KE(n,e){if(!n)return!1;for(let t of n)if(t.name===e)return!0;return!1}function rg(n,e){let t=e.hasAttribute("data-l10n-attrs")?e.getAttribute("data-l10n-attrs").split(",").map(i=>i.trim()):null;for(let i of Array.from(e.attributes))Jm(i.name,e,t)&&!KE(n.attributes,i.name)&&e.removeAttribute(i.name);if(n.attributes)for(let i of Array.from(n.attributes))Jm(i.name,e,t)&&e.getAttribute(i.name)!==i.value&&e.setAttribute(i.name,i.value)}function QE(n,e){let t=e.getAttribute("data-l10n-name"),i=n.querySelector(`[data-l10n-name="${t}"]`);if(!i)return console.warn(`An element named "${t}" wasn't found in the source.`),U5(e);if(i.localName!==e.localName)return console.warn(`An element named "${t}" was found in the translation but its type ${e.localName} didn't match the element found in the source (${i.localName}).`),U5(e);n.removeChild(i);let s=i.cloneNode(!1);return cg(e,s)}function XE(n){let e=n.ownerDocument.createElement(n.localName);return cg(n,e)}function U5(n){return n.ownerDocument.createTextNode(n.textContent)}function eD(n){let e=qE[n.namespaceURI];return e&&e.includes(n.localName)}function Jm(n,e,t=null){if(t&&t.includes(n))return!0;let i=ZE[e.namespaceURI];if(!i)return!1;let s=n.toLowerCase(),o=e.localName;if(i.global.includes(s))return!0;if(!i[o])return!1;if(i[o].includes(s))return!0;if(e.namespaceURI==="http://www.w3.org/1999/xhtml"&&o==="input"&&s==="value"){let r=e.type.toLowerCase();if(r==="submit"||r==="button"||r==="reset")return!0}return!1}function cg(n,e){return e.textContent=n.textContent,rg(n,e),e}var $5=class extends Array{static from(e){return e instanceof this?e:new this(e)}};var G5=class extends $5{constructor(e){if(super(),Symbol.asyncIterator in Object(e))this.iterator=e[Symbol.asyncIterator]();else if(Symbol.iterator in Object(e))this.iterator=e[Symbol.iterator]();else throw new TypeError("Argument must implement the iteration protocol.")}[Symbol.asyncIterator](){let e=this,t=0;return{next(){return N(this,null,function*(){return e.length<=t&&e.push(e.iterator.next()),e[t++]})}}}touchNext(e=1){return N(this,null,function*(){let t=0;for(;t++<e;){let i=this[this.length-1];if(i&&(yield i).done)break;this.push(this.iterator.next())}return this[this.length-1]})}},W5=class{constructor(e=[],t){this.resourceIds=e,this.generateBundles=t,this.onChange(!0)}addResourceIds(e,t=!1){return this.resourceIds.push(...e),this.onChange(t),this.resourceIds.length}removeResourceIds(e){return this.resourceIds=this.resourceIds.filter(t=>!e.includes(t)),this.onChange(),this.resourceIds.length}formatWithFallback(e,t){return N(this,null,function*(){let i=[],s=!1;try{for(var o=s7(this.bundles),r,c,a;r=!(c=yield o.next()).done;r=!1){let l=c.value;s=!0;let u=iD(t,l,e,i);if(u.size===0)break;if(typeof console<"u"){let f=l.locales[0],d=Array.from(u).join(", ");console.warn(`[fluent] Missing translations in ${f}: ${d}`)}}}catch{a=[c]}finally{try{r&&(c=o.return)&&(yield c.call(o))}finally{if(a)throw a[0]}}return!s&&typeof console<"u"&&console.warn(`[fluent] Request for keys failed because no resource bundles got generated.
  keys: ${JSON.stringify(e)}.
  resourceIds: ${JSON.stringify(this.resourceIds)}.`),i})}formatMessages(e){return this.formatWithFallback(e,nD)}formatValues(e){return this.formatWithFallback(e,tD)}formatValue(e,t){return N(this,null,function*(){let[i]=yield this.formatValues([{id:e,args:t}]);return i})}handleEvent(){this.onChange()}onChange(e=!1){this.bundles=G5.from(this.generateBundles(this.resourceIds)),e&&this.bundles.touchNext(2)}};function tD(n,e,t,i){return t.value?n.formatPattern(t.value,i,e):null}function nD(n,e,t,i){let s={value:null,attributes:null};t.value&&(s.value=n.formatPattern(t.value,i,e));let o=Object.keys(t.attributes);if(o.length>0){s.attributes=new Array(o.length);for(let[r,c]of o.entries()){let a=n.formatPattern(t.attributes[c],i,e);s.attributes[r]={name:c,value:a}}}return s}function iD(n,e,t,i){let s=[],o=new Set;return t.forEach(({id:r,args:c},a)=>{if(i[a]!==void 0)return;let l=e.getMessage(r);if(l){if(s.length=0,i[a]=n(e,s,l,c),s.length>0&&typeof console<"u"){let u=e.locales[0],f=s.join(", ");console.warn(`[fluent][resolver] errors in ${u}/${r}: ${f}.`)}}else o.add(r)}),o}var c3="data-l10n-id",k4="data-l10n-args",sD=`[${c3}]`,q5=class extends W5{constructor(e,t){super(e,t),this.roots=new Set,this.pendingrAF=null,this.pendingElements=new Set,this.windowElement=null,this.mutationObserver=null,this.observerConfig={attributes:!0,characterData:!1,childList:!0,subtree:!0,attributeFilter:[c3,k4]}}onChange(e=!1){super.onChange(e),this.roots&&this.translateRoots()}setAttributes(e,t,i){return e.setAttribute(c3,t),i?e.setAttribute(k4,JSON.stringify(i)):e.removeAttribute(k4),e}getAttributes(e){return{id:e.getAttribute(c3),args:JSON.parse(e.getAttribute(k4)||null)}}connectRoot(e){for(let t of this.roots)if(t===e||t.contains(e)||e.contains(t))throw new Error("Cannot add a root that overlaps with existing root.");if(this.windowElement){if(this.windowElement!==e.ownerDocument.defaultView)throw new Error(`Cannot connect a root:
          DOMLocalization already has a root from a different window.`)}else this.windowElement=e.ownerDocument.defaultView,this.mutationObserver=new this.windowElement.MutationObserver(t=>this.translateMutations(t));this.roots.add(e),this.mutationObserver.observe(e,this.observerConfig)}disconnectRoot(e){return this.roots.delete(e),this.pauseObserving(),this.roots.size===0?(this.mutationObserver=null,this.windowElement&&this.pendingrAF&&this.windowElement.cancelAnimationFrame(this.pendingrAF),this.windowElement=null,this.pendingrAF=null,this.pendingElements.clear(),!0):(this.resumeObserving(),!1)}translateRoots(){let e=Array.from(this.roots);return Promise.all(e.map(t=>this.translateFragment(t)))}pauseObserving(){this.mutationObserver&&(this.translateMutations(this.mutationObserver.takeRecords()),this.mutationObserver.disconnect())}resumeObserving(){if(this.mutationObserver)for(let e of this.roots)this.mutationObserver.observe(e,this.observerConfig)}translateMutations(e){for(let t of e)switch(t.type){case"attributes":t.target.hasAttribute("data-l10n-id")&&this.pendingElements.add(t.target);break;case"childList":for(let i of t.addedNodes)if(i.nodeType===i.ELEMENT_NODE)if(i.childElementCount)for(let s of this.getTranslatables(i))this.pendingElements.add(s);else i.hasAttribute(c3)&&this.pendingElements.add(i);break}this.pendingElements.size>0&&this.pendingrAF===null&&(this.pendingrAF=this.windowElement.requestAnimationFrame(()=>{this.translateElements(Array.from(this.pendingElements)),this.pendingElements.clear(),this.pendingrAF=null}))}translateFragment(e){return this.translateElements(this.getTranslatables(e))}translateElements(e){return N(this,null,function*(){if(!e.length)return;let t=e.map(this.getKeysForElement),i=yield this.formatMessages(t);return this.applyTranslations(e,i)})}applyTranslations(e,t){this.pauseObserving();for(let i=0;i<e.length;i++)t[i]!==void 0&&YE(e[i],t[i]);this.resumeObserving()}getTranslatables(e){let t=Array.from(e.querySelectorAll(sD));return typeof e.hasAttribute=="function"&&e.hasAttribute(c3)&&t.push(e),t}getKeysForElement(e){return{id:e.getAttribute(c3),args:JSON.parse(e.getAttribute(k4)||null)}}},Z5=class n{#e;#t=new Set;#n;#i;constructor({lang:e,isRTL:t},i=null){this.#n=n.#s(e),this.#i=i,this.#e=t??n.#o(this.#n)?"rtl":"ltr"}_setL10n(e){this.#i=e}getLanguage(){return this.#n}getDirection(){return this.#e}get(e,t=null,i){return N(this,null,function*(){return Array.isArray(e)?(e=e.map(r=>({id:r})),(yield this.#i.formatMessages(e)).map(r=>r.value)):(yield this.#i.formatMessages([{id:e,args:t}]))[0]?.value||i})}translate(e){return N(this,null,function*(){this.#t.add(e);try{this.#i.connectRoot(e),yield this.#i.translateRoots()}catch{}})}translateOnce(e){return N(this,null,function*(){try{yield this.#i.translateElements([e])}catch(t){console.error(`translateOnce: "${t}".`)}})}destroy(){return N(this,null,function*(){for(let e of this.#t)this.#i.disconnectRoot(e);this.#t.clear(),this.#i.pauseObserving()})}pause(){this.#i.pauseObserving()}resume(){this.#i.resumeObserving()}static#s(e){return e=e?.toLowerCase()||"en-us",{en:"en-us",es:"es-es",fy:"fy-nl",ga:"ga-ie",gu:"gu-in",hi:"hi-in",hy:"hy-am",nb:"nb-no",ne:"ne-np",nn:"nn-no",pa:"pa-in",pt:"pt-pt",sv:"sv-se",zh:"zh-cn"}[e]||e}static#o(e){let t=e.split("-",1)[0];return["ar","he","fa","ps","ur"].includes(t)}};function Km(n,e){let t=new j5(e),i=new B5(n),s=i.addResource(t);return s.length&&console.error("L10n errors",s),i}var vn=class n extends Z5{constructor(e){super({lang:e});let t=e?n.#e.bind(n,"en-us",this.getLanguage()):n.#i.bind(n,this.getLanguage());this._setL10n(new q5([],t))}static#e(e,t){return no(this,null,function*(){let{baseURL:i,paths:s}=yield new u0(this.#n()),o=[t];if(e!==t){let r=t.split("-",1)[0];r!==t&&o.push(r),o.push(e)}for(let r of o){let c=yield new u0(this.#t(r,i,s));c?yield c:r==="en-us"&&(yield this.#s(r))}})}static#t(e,t,i){return N(this,null,function*(){let s=i[e];if(!s)return null;let o=new URL(s,t),r=yield Pm(o,"text");return Km(e,r)})}static#n(){return N(this,null,function*(){try{let{href:e}=document.querySelector('link[type="application/l10n"]'),t=yield Pm(e,"json");return{baseURL:e.replace(/[^/]*$/,"")||"./",paths:t}}catch{}return{baseURL:"./",paths:Object.create(null)}})}static#i(e){return no(this,null,function*(){yield this.#s(e)})}static#s(e){return N(this,null,function*(){return Km(e,`pdfjs-previous-button =
    .title = Previous Page
pdfjs-previous-button-label = Previous
pdfjs-next-button =
    .title = Next Page
pdfjs-next-button-label = Next
pdfjs-page-input =
    .title = Page
pdfjs-of-pages = of { $pagesCount }
pdfjs-page-of-pages = ({ $pageNumber } of { $pagesCount })
pdfjs-zoom-out-button =
    .title = Zoom Out
pdfjs-zoom-out-button-label = Zoom Out
pdfjs-zoom-in-button =
    .title = Zoom In
pdfjs-zoom-in-button-label = Zoom In
pdfjs-zoom-select =
    .title = Zoom
pdfjs-presentation-mode-button =
    .title = Switch to Presentation Mode
pdfjs-presentation-mode-button-label = Presentation Mode
pdfjs-open-file-button =
    .title = Open File
pdfjs-open-file-button-label = Open
pdfjs-print-button =
    .title = Print
pdfjs-print-button-label = Print
pdfjs-save-button =
    .title = Save
pdfjs-save-button-label = Save
pdfjs-download-button =
    .title = Download
pdfjs-download-button-label = Download
pdfjs-bookmark-button =
    .title = Current Page (View URL from Current Page)
pdfjs-bookmark-button-label = Current Page
pdfjs-tools-button =
    .title = Tools
pdfjs-tools-button-label = Tools
pdfjs-first-page-button =
    .title = Go to First Page
pdfjs-first-page-button-label = Go to First Page
pdfjs-last-page-button =
    .title = Go to Last Page
pdfjs-last-page-button-label = Go to Last Page
pdfjs-page-rotate-cw-button =
    .title = Rotate Clockwise
pdfjs-page-rotate-cw-button-label = Rotate Clockwise
pdfjs-page-rotate-ccw-button =
    .title = Rotate Counterclockwise
pdfjs-page-rotate-ccw-button-label = Rotate Counterclockwise
pdfjs-cursor-text-select-tool-button =
    .title = Enable Text Selection Tool
pdfjs-cursor-text-select-tool-button-label = Text Selection Tool
pdfjs-cursor-hand-tool-button =
    .title = Enable Hand Tool
pdfjs-cursor-hand-tool-button-label = Hand Tool
pdfjs-scroll-page-button =
    .title = Use Page Scrolling
pdfjs-scroll-page-button-label = Page Scrolling
pdfjs-scroll-vertical-button =
    .title = Use Vertical Scrolling
pdfjs-scroll-vertical-button-label = Vertical Scrolling
pdfjs-scroll-horizontal-button =
    .title = Use Horizontal Scrolling
pdfjs-scroll-horizontal-button-label = Horizontal Scrolling
pdfjs-scroll-wrapped-button =
    .title = Use Wrapped Scrolling
pdfjs-scroll-wrapped-button-label = Wrapped Scrolling
pdfjs-spread-none-button =
    .title = Do not join page spreads
pdfjs-spread-none-button-label = No Spreads
pdfjs-spread-odd-button =
    .title = Join page spreads starting with odd-numbered pages
pdfjs-spread-odd-button-label = Odd Spreads
pdfjs-spread-even-button =
    .title = Join page spreads starting with even-numbered pages
pdfjs-spread-even-button-label = Even Spreads
pdfjs-document-properties-button =
    .title = Document Properties\u2026
pdfjs-document-properties-button-label = Document Properties\u2026
pdfjs-document-properties-file-name = File name:
pdfjs-document-properties-file-size = File size:
pdfjs-document-properties-size-kb = { NUMBER($kb, maximumSignificantDigits: 3) } KB ({ $b } bytes)
pdfjs-document-properties-size-mb = { NUMBER($mb, maximumSignificantDigits: 3) } MB ({ $b } bytes)
pdfjs-document-properties-title = Title:
pdfjs-document-properties-author = Author:
pdfjs-document-properties-subject = Subject:
pdfjs-document-properties-keywords = Keywords:
pdfjs-document-properties-creation-date = Creation Date:
pdfjs-document-properties-modification-date = Modification Date:
pdfjs-document-properties-date-time-string = { DATETIME($dateObj, dateStyle: "short", timeStyle: "medium") }
pdfjs-document-properties-creator = Creator:
pdfjs-document-properties-producer = PDF Producer:
pdfjs-document-properties-version = PDF Version:
pdfjs-document-properties-page-count = Page Count:
pdfjs-document-properties-page-size = Page Size:
pdfjs-document-properties-page-size-unit-inches = in
pdfjs-document-properties-page-size-unit-millimeters = mm
pdfjs-document-properties-page-size-orientation-portrait = portrait
pdfjs-document-properties-page-size-orientation-landscape = landscape
pdfjs-document-properties-page-size-name-a-three = A3
pdfjs-document-properties-page-size-name-a-four = A4
pdfjs-document-properties-page-size-name-letter = Letter
pdfjs-document-properties-page-size-name-legal = Legal
pdfjs-document-properties-page-size-dimension-string = { $width } \xD7 { $height } { $unit } ({ $orientation })
pdfjs-document-properties-page-size-dimension-name-string = { $width } \xD7 { $height } { $unit } ({ $name }, { $orientation })
pdfjs-document-properties-linearized = Fast Web View:
pdfjs-document-properties-linearized-yes = Yes
pdfjs-document-properties-linearized-no = No
pdfjs-document-properties-close-button = Close
pdfjs-print-progress-message = Preparing document for printing\u2026
pdfjs-print-progress-percent = { $progress }%
pdfjs-print-progress-close-button = Cancel
pdfjs-printing-not-supported = Warning: Printing is not fully supported by this browser.
pdfjs-printing-not-ready = Warning: The PDF is not fully loaded for printing.
pdfjs-toggle-sidebar-button =
    .title = Toggle Sidebar
pdfjs-toggle-sidebar-notification-button =
    .title = Toggle Sidebar (document contains outline/attachments/layers)
pdfjs-toggle-sidebar-button-label = Toggle Sidebar
pdfjs-document-outline-button =
    .title = Show Document Outline (double-click to expand/collapse all items)
pdfjs-document-outline-button-label = Document Outline
pdfjs-attachments-button =
    .title = Show Attachments
pdfjs-attachments-button-label = Attachments
pdfjs-layers-button =
    .title = Show Layers (double-click to reset all layers to the default state)
pdfjs-layers-button-label = Layers
pdfjs-thumbs-button =
    .title = Show Thumbnails
pdfjs-thumbs-button-label = Thumbnails
pdfjs-current-outline-item-button =
    .title = Find Current Outline Item
pdfjs-current-outline-item-button-label = Current Outline Item
pdfjs-findbar-button =
    .title = Find in Document
pdfjs-findbar-button-label = Find
pdfjs-additional-layers = Additional Layers
pdfjs-thumb-page-title =
    .title = Page { $page }
pdfjs-thumb-page-canvas =
    .aria-label = Thumbnail of Page { $page }
pdfjs-find-input =
    .title = Find
    .placeholder = Find in document\u2026
pdfjs-find-previous-button =
    .title = Find the previous occurrence of the phrase
pdfjs-find-previous-button-label = Previous
pdfjs-find-next-button =
    .title = Find the next occurrence of the phrase
pdfjs-find-next-button-label = Next
pdfjs-find-highlight-checkbox = Highlight All
pdfjs-find-match-case-checkbox-label = Match Case
pdfjs-find-match-diacritics-checkbox-label = Match Diacritics
pdfjs-find-entire-word-checkbox-label = Whole Words
pdfjs-find-reached-top = Reached top of document, continued from bottom
pdfjs-find-reached-bottom = Reached end of document, continued from top
pdfjs-find-match-count =
    { $total ->
        [one] { $current } of { $total } match
       *[other] { $current } of { $total } matches
    }
pdfjs-find-match-count-limit =
    { $limit ->
        [one] More than { $limit } match
       *[other] More than { $limit } matches
    }
pdfjs-find-not-found = Phrase not found
pdfjs-page-scale-width = Page Width
pdfjs-page-scale-fit = Page Fit
pdfjs-page-scale-auto = Automatic Zoom
pdfjs-page-scale-actual = Actual Size
pdfjs-page-scale-percent = { $scale }%
pdfjs-page-landmark =
    .aria-label = Page { $page }
pdfjs-loading-error = An error occurred while loading the PDF.
pdfjs-invalid-file-error = Invalid or corrupted PDF file.
pdfjs-missing-file-error = Missing PDF file.
pdfjs-unexpected-response-error = Unexpected server response.
pdfjs-rendering-error = An error occurred while rendering the page.
pdfjs-annotation-date-time-string = { DATETIME($dateObj, dateStyle: "short", timeStyle: "medium") }
pdfjs-text-annotation-type =
    .alt = [{ $type } Annotation]
pdfjs-password-label = Enter the password to open this PDF file.
pdfjs-password-invalid = Invalid password. Please try again.
pdfjs-password-ok-button = OK
pdfjs-password-cancel-button = Cancel
pdfjs-web-fonts-disabled = Web fonts are disabled: unable to use embedded PDF fonts.
pdfjs-editor-free-text-button =
    .title = Text
pdfjs-editor-free-text-button-label = Text
pdfjs-editor-ink-button =
    .title = Draw
pdfjs-editor-ink-button-label = Draw
pdfjs-editor-stamp-button =
    .title = Add or edit images
pdfjs-editor-stamp-button-label = Add or edit images
pdfjs-editor-highlight-button =
    .title = Highlight
pdfjs-editor-highlight-button-label = Highlight
pdfjs-highlight-floating-button1 =
    .title = Highlight
    .aria-label = Highlight
pdfjs-highlight-floating-button-label = Highlight
pdfjs-editor-remove-ink-button =
    .title = Remove drawing
pdfjs-editor-remove-freetext-button =
    .title = Remove text
pdfjs-editor-remove-stamp-button =
    .title = Remove image
pdfjs-editor-remove-highlight-button =
    .title = Remove highlight
pdfjs-editor-free-text-color-input = Color
pdfjs-editor-free-text-size-input = Size
pdfjs-editor-ink-color-input = Color
pdfjs-editor-ink-thickness-input = Thickness
pdfjs-editor-ink-opacity-input = Opacity
pdfjs-editor-stamp-add-image-button =
    .title = Add image
pdfjs-editor-stamp-add-image-button-label = Add image
pdfjs-editor-free-highlight-thickness-input = Thickness
pdfjs-editor-free-highlight-thickness-title =
    .title = Change thickness when highlighting items other than text
pdfjs-free-text =
    .aria-label = Text Editor
pdfjs-free-text-default-content = Start typing\u2026
pdfjs-ink =
    .aria-label = Draw Editor
pdfjs-ink-canvas =
    .aria-label = User-created image
pdfjs-editor-alt-text-button-label = Alt text
pdfjs-editor-alt-text-edit-button-label = Edit alt text
pdfjs-editor-alt-text-dialog-label = Choose an option
pdfjs-editor-alt-text-dialog-description = Alt text (alternative text) helps when people can\u2019t see the image or when it doesn\u2019t load.
pdfjs-editor-alt-text-add-description-label = Add a description
pdfjs-editor-alt-text-add-description-description = Aim for 1-2 sentences that describe the subject, setting, or actions.
pdfjs-editor-alt-text-mark-decorative-label = Mark as decorative
pdfjs-editor-alt-text-mark-decorative-description = This is used for ornamental images, like borders or watermarks.
pdfjs-editor-alt-text-cancel-button = Cancel
pdfjs-editor-alt-text-save-button = Save
pdfjs-editor-alt-text-decorative-tooltip = Marked as decorative
pdfjs-editor-alt-text-textarea =
    .placeholder = For example, \u201CA young man sits down at a table to eat a meal\u201D
pdfjs-editor-resizer-top-left =
    .aria-label = Top left corner \u2014 resize
pdfjs-editor-resizer-top-middle =
    .aria-label = Top middle \u2014 resize
pdfjs-editor-resizer-top-right =
    .aria-label = Top right corner \u2014 resize
pdfjs-editor-resizer-middle-right =
    .aria-label = Middle right \u2014 resize
pdfjs-editor-resizer-bottom-right =
    .aria-label = Bottom right corner \u2014 resize
pdfjs-editor-resizer-bottom-middle =
    .aria-label = Bottom middle \u2014 resize
pdfjs-editor-resizer-bottom-left =
    .aria-label = Bottom left corner \u2014 resize
pdfjs-editor-resizer-middle-left =
    .aria-label = Middle left \u2014 resize
pdfjs-editor-highlight-colorpicker-label = Highlight color
pdfjs-editor-colorpicker-button =
    .title = Change color
pdfjs-editor-colorpicker-dropdown =
    .aria-label = Color choices
pdfjs-editor-colorpicker-yellow =
    .title = Yellow
pdfjs-editor-colorpicker-green =
    .title = Green
pdfjs-editor-colorpicker-blue =
    .title = Blue
pdfjs-editor-colorpicker-pink =
    .title = Pink
pdfjs-editor-colorpicker-red =
    .title = Red
pdfjs-editor-highlight-show-all-button-label = Show all
pdfjs-editor-highlight-show-all-button =
    .title = Show all
pdfjs-editor-new-alt-text-dialog-edit-label = Edit alt text (image description)
pdfjs-editor-new-alt-text-dialog-add-label = Add alt text (image description)
pdfjs-editor-new-alt-text-textarea =
    .placeholder = Write your description here\u2026
pdfjs-editor-new-alt-text-description = Short description for people who can\u2019t see the image or when the image doesn\u2019t load.
pdfjs-editor-new-alt-text-disclaimer1 = This alt text was created automatically and may be inaccurate.
pdfjs-editor-new-alt-text-disclaimer-learn-more-url = Learn more
pdfjs-editor-new-alt-text-create-automatically-button-label = Create alt text automatically
pdfjs-editor-new-alt-text-not-now-button = Not now
pdfjs-editor-new-alt-text-error-title = Couldn\u2019t create alt text automatically
pdfjs-editor-new-alt-text-error-description = Please write your own alt text or try again later.
pdfjs-editor-new-alt-text-error-close-button = Close
pdfjs-editor-new-alt-text-ai-model-downloading-progress = Downloading alt text AI model ({ $downloadedSize } of { $totalSize } MB)
    .aria-valuetext = Downloading alt text AI model ({ $downloadedSize } of { $totalSize } MB)
pdfjs-editor-new-alt-text-added-button-label = Alt text added
pdfjs-editor-new-alt-text-missing-button-label = Missing alt text
pdfjs-editor-new-alt-text-to-review-button-label = Review alt text
pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer = Created automatically: { $generatedAltText }
pdfjs-image-alt-text-settings-button =
    .title = Image alt text settings
pdfjs-image-alt-text-settings-button-label = Image alt text settings
pdfjs-editor-alt-text-settings-dialog-label = Image alt text settings
pdfjs-editor-alt-text-settings-automatic-title = Automatic alt text
pdfjs-editor-alt-text-settings-create-model-button-label = Create alt text automatically
pdfjs-editor-alt-text-settings-create-model-description = Suggests descriptions to help people who can\u2019t see the image or when the image doesn\u2019t load.
pdfjs-editor-alt-text-settings-download-model-label = Alt text AI model ({ $totalSize } MB)
pdfjs-editor-alt-text-settings-ai-model-description = Runs locally on your device so your data stays private. Required for automatic alt text.
pdfjs-editor-alt-text-settings-delete-model-button = Delete
pdfjs-editor-alt-text-settings-download-model-button = Download
pdfjs-editor-alt-text-settings-downloading-model-button = Downloading\u2026
pdfjs-editor-alt-text-settings-editor-title = Alt text editor
pdfjs-editor-alt-text-settings-show-dialog-button-label = Show alt text editor right away when adding an image
pdfjs-editor-alt-text-settings-show-dialog-description = Helps you make sure all your images have alt text.
pdfjs-editor-alt-text-settings-close-button = Close`)})}},oD=1e3,T5=50,Qm=1e3;function I5(){return document.location.hash}var Y5=class{#e=null;constructor({linkService:e,eventBus:t}){this.linkService=e,this.eventBus=t,this._initialized=!1,this._fingerprint="",this.reset(),this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",i=>{this._isPagesLoaded=!!i.pagesCount},{once:!0})})}initialize({fingerprint:e,resetHistory:t=!1,updateUrl:i=!1}){if(!e||typeof e!="string"){console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');return}this._initialized&&this.reset();let s=this._fingerprint!==""&&this._fingerprint!==e;this._fingerprint=e,this._updateUrl=i===!0,this._initialized=!0,this.#u();let o=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=I5(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this.#s(o,!0)||t){let{hash:c,page:a,rotation:l}=this.#c(!0);if(!c||s||t){this.#t(null,!0);return}this.#t({hash:c,page:a,rotation:l},!0);return}let r=o.destination;this.#o(r,o.uid,!0),r.rotation!==void 0&&(this._initialRotation=r.rotation),r.dest?(this._initialBookmark=JSON.stringify(r.dest),this._destination.page=null):r.hash?this._initialBookmark=r.hash:r.page&&(this._initialBookmark=`page=${r.page}`)}reset(){this._initialized&&(this.#l(),this._initialized=!1,this.#r()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:e=null,explicitDest:t,pageNumber:i}){if(!this._initialized)return;if(e&&typeof e!="string"){console.error(`PDFHistory.push: "${e}" is not a valid namedDest parameter.`);return}else if(Array.isArray(t)){if(!this.#i(i)&&(i!==null||this._destination)){console.error(`PDFHistory.push: "${i}" is not a valid pageNumber parameter.`);return}}else{console.error(`PDFHistory.push: "${t}" is not a valid explicitDest parameter.`);return}let s=e||JSON.stringify(t);if(!s)return;let o=!1;if(this._destination&&(rD(this._destination.hash,s)||cD(this._destination.dest,t))){if(this._destination.page)return;o=!0}this._popStateInProgress&&!o||(this.#t({dest:t,hash:s,page:i,rotation:this.linkService.rotation},o),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(e){if(this._initialized){if(!this.#i(e)){console.error(`PDFHistory.pushPage: "${e}" is not a valid page number.`);return}this._destination?.page!==e&&(this._popStateInProgress||(this.#t({dest:null,hash:`page=${e}`,page:e,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this.#n()}back(){if(!this._initialized||this._popStateInProgress)return;let e=window.history.state;this.#s(e)&&e.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;let e=window.history.state;this.#s(e)&&e.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}#t(e,t=!1){let i=t||!this._destination,s={fingerprint:this._fingerprint,uid:i?this._uid:this._uid+1,destination:e};this.#o(e,s.uid);let o;if(this._updateUrl&&e?.hash){let r=document.location.href.split("#",1)[0];r.startsWith("file://")||(o=`${r}#${e.hash}`)}i?window.history.replaceState(s,"",o):window.history.pushState(s,"",o)}#n(e=!1){if(!this._position)return;let t=this._position;if(e&&(t=Object.assign(Object.create(null),this._position),t.temporary=!0),!this._destination){this.#t(t);return}if(this._destination.temporary){this.#t(t,!0);return}if(this._destination.hash===t.hash||!this._destination.page&&(T5<=0||this._numPositionUpdates<=T5))return;let i=!1;if(this._destination.page>=t.first&&this._destination.page<=t.page){if(this._destination.dest!==void 0||!this._destination.first)return;i=!0}this.#t(t,i)}#i(e){return Number.isInteger(e)&&e>0&&e<=this.linkService.pagesCount}#s(e,t=!1){if(!e)return!1;if(e.fingerprint!==this._fingerprint)if(t){if(typeof e.fingerprint!="string"||e.fingerprint.length!==this._fingerprint.length)return!1;let[i]=performance.getEntriesByType("navigation");if(i?.type!=="reload")return!1}else return!1;return!(!Number.isInteger(e.uid)||e.uid<0||e.destination===null||typeof e.destination!="object")}#o(e,t,i=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),i&&e?.temporary&&delete e.temporary,this._destination=e,this._uid=t,this._maxUid=Math.max(this._maxUid,t),this._numPositionUpdates=0}#c(e=!1){let t=unescape(I5()).substring(1),i=k6(t),s=i.get("nameddest")||"",o=i.get("page")|0;return(!this.#i(o)||e&&s.length>0)&&(o=null),{hash:t,page:o,rotation:this.linkService.rotation}}#a({location:e}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:e.pdfOpenParams.substring(1),page:this.linkService.page,first:e.pageNumber,rotation:e.rotation},!this._popStateInProgress&&(T5>0&&this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,Qm>0&&(this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this.#n(!0),this._updateViewareaTimeout=null},Qm)))}#f({state:e}){let t=I5(),i=this._currentHash!==t;if(this._currentHash=t,!e){this._uid++;let{hash:o,page:r,rotation:c}=this.#c();this.#t({hash:o,page:r,rotation:c},!0);return}if(!this.#s(e))return;this._popStateInProgress=!0,i&&(this._blockHashChange++,bE({target:window,name:"hashchange",delay:oD}).then(()=>{this._blockHashChange--}));let s=e.destination;this.#o(s,e.uid,!0),sg(s.rotation)&&(this.linkService.rotation=s.rotation),s.dest?this.linkService.goToDestination(s.dest):s.hash?this.linkService.setHash(s.hash):s.page&&(this.linkService.page=s.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}#l(){(!this._destination||this._destination.temporary)&&this.#n()}#u(){if(this.#e)return;this.#e=new AbortController;let{signal:e}=this.#e;this.eventBus._on("updateviewarea",this.#a.bind(this),{signal:e}),window.addEventListener("popstate",this.#f.bind(this),{signal:e}),window.addEventListener("pagehide",this.#l.bind(this),{signal:e})}#r(){this.#e?.abort(),this.#e=null}};function rD(n,e){return typeof n!="string"||typeof e!="string"?!1:n===e||k6(n).get("nameddest")===e}function cD(n,e){function t(i,s){if(typeof i!=typeof s||Array.isArray(i)||Array.isArray(s))return!1;if(i!==null&&typeof i=="object"&&s!==null){if(Object.keys(i).length!==Object.keys(s).length)return!1;for(let o in i)if(!t(i[o],s[o]))return!1;return!0}return i===s||Number.isNaN(i)&&Number.isNaN(s)}if(!(Array.isArray(n)&&Array.isArray(e))||n.length!==e.length)return!1;for(let i=0,s=n.length;i<s;i++)if(!t(n[i],e[i]))return!1;return!0}var J5=class{#e=null;#t=null;#n=null;#i=null;#s;constructor(e){this.pdfPage=e.pdfPage,this.accessibilityManager=e.accessibilityManager,this.l10n=e.l10n,this.l10n||=new vn,this.annotationEditorLayer=null,this.div=null,this._cancelled=!1,this.#s=e.uiManager,this.#e=e.annotationLayer||null,this.#i=e.textLayer||null,this.#t=e.drawLayer||null,this.#n=e.onAppend||null}render(e,t="display"){return N(this,null,function*(){if(t!=="display"||this._cancelled)return;let i=e.clone({dontFlip:!0});if(this.div){this.annotationEditorLayer.update({viewport:i}),this.show();return}let s=this.div=document.createElement("div");s.className="annotationEditorLayer",s.hidden=!0,s.dir=this.#s.direction,this.#n?.(s),this.annotationEditorLayer=new lE({uiManager:this.#s,div:s,accessibilityManager:this.accessibilityManager,pageIndex:this.pdfPage.pageNumber-1,l10n:this.l10n,viewport:i,annotationLayer:this.#e,textLayer:this.#i,drawLayer:this.#t});let o={viewport:i,div:s,annotations:null,intent:t};this.annotationEditorLayer.render(o),this.show()})}cancel(){this._cancelled=!0,this.div&&this.annotationEditorLayer.destroy()}hide(){this.div&&(this.div.hidden=!0)}show(){!this.div||this.annotationEditorLayer.isInvisible||(this.div.hidden=!1)}};{y6=new Map;let n=navigator.userAgent||"",e=navigator.platform||"",t=navigator.maxTouchPoints||1,i=/Android/.test(n),s=/\b(iPad|iPhone|iPod)(?=;)/.test(n)||e==="MacIntel"&&t>1;(function(){(s||i)&&y6.set("maxCanvasPixels",5242880)})(),function(){i&&y6.set("useSystemFonts",!1)}()}var y6,z={BROWSER:1,VIEWER:2,API:4,WORKER:8,EVENT_DISPATCH:16,PREFERENCE:128},K5={BOOLEAN:1,NUMBER:2,OBJECT:4,STRING:8,UNDEFINED:16},M2={allowedGlobalEvents:{value:null,kind:z.BROWSER},canvasMaxAreaInBytes:{value:-1,kind:z.BROWSER+z.API},isInAutomation:{value:!1,kind:z.BROWSER},localeProperties:{value:{lang:navigator.language||"en-US"},kind:z.BROWSER},nimbusDataStr:{value:"",kind:z.BROWSER},supportsCaretBrowsingMode:{value:!1,kind:z.BROWSER},supportsDocumentFonts:{value:!0,kind:z.BROWSER},supportsIntegratedFind:{value:!1,kind:z.BROWSER},supportsMouseWheelZoomCtrlKey:{value:!0,kind:z.BROWSER},supportsMouseWheelZoomMetaKey:{value:!0,kind:z.BROWSER},supportsPinchToZoom:{value:!0,kind:z.BROWSER},toolbarDensity:{value:0,kind:z.BROWSER+z.EVENT_DISPATCH},altTextLearnMoreUrl:{value:"",kind:z.VIEWER+z.PREFERENCE},annotationEditorMode:{value:0,kind:z.VIEWER+z.PREFERENCE},annotationMode:{value:2,kind:z.VIEWER+z.PREFERENCE},cursorToolOnLoad:{value:0,kind:z.VIEWER+z.PREFERENCE},debuggerSrc:{value:"./debugger.mjs",kind:z.VIEWER},defaultZoomDelay:{value:400,kind:z.VIEWER+z.PREFERENCE},defaultZoomValue:{value:"",kind:z.VIEWER+z.PREFERENCE},disableHistory:{value:!1,kind:z.VIEWER},disablePageLabels:{value:!1,kind:z.VIEWER+z.PREFERENCE},enableAltText:{value:!1,kind:z.VIEWER+z.PREFERENCE},enableAltTextModelDownload:{value:!0,kind:z.VIEWER+z.PREFERENCE+z.EVENT_DISPATCH},enableGuessAltText:{value:!0,kind:z.VIEWER+z.PREFERENCE+z.EVENT_DISPATCH},enableHighlightFloatingButton:{value:!1,kind:z.VIEWER+z.PREFERENCE},enableNewAltTextWhenAddingImage:{value:!0,kind:z.VIEWER+z.PREFERENCE},enablePermissions:{value:!1,kind:z.VIEWER+z.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:z.VIEWER+z.PREFERENCE},enableScripting:{value:!0,kind:z.VIEWER+z.PREFERENCE},enableUpdatedAddImage:{value:!1,kind:z.VIEWER+z.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:z.VIEWER},externalLinkTarget:{value:0,kind:z.VIEWER+z.PREFERENCE},highlightEditorColors:{value:"yellow=#FFFF98,green=#53FFBC,blue=#80EBFF,pink=#FFCBE6,red=#FF4F5F",kind:z.VIEWER+z.PREFERENCE},historyUpdateUrl:{value:!1,kind:z.VIEWER+z.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:z.VIEWER+z.PREFERENCE},imageResourcesPath:{value:"./images/",kind:z.VIEWER},maxCanvasPixels:{value:2**25,kind:z.VIEWER},forcePageColors:{value:!1,kind:z.VIEWER+z.PREFERENCE},pageColorsBackground:{value:"Canvas",kind:z.VIEWER+z.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:z.VIEWER+z.PREFERENCE},pdfBugEnabled:{value:!1,kind:z.VIEWER+z.PREFERENCE},printResolution:{value:150,kind:z.VIEWER},sidebarViewOnLoad:{value:-1,kind:z.VIEWER+z.PREFERENCE},scrollModeOnLoad:{value:-1,kind:z.VIEWER+z.PREFERENCE},spreadModeOnLoad:{value:-1,kind:z.VIEWER+z.PREFERENCE},textLayerMode:{value:1,kind:z.VIEWER+z.PREFERENCE},viewOnLoad:{value:0,kind:z.VIEWER+z.PREFERENCE},cMapPacked:{value:!0,kind:z.API},cMapUrl:{value:"../web/cmaps/",kind:z.API},disableAutoFetch:{value:!1,kind:z.API+z.PREFERENCE},disableFontFace:{value:!1,kind:z.API+z.PREFERENCE},disableRange:{value:!1,kind:z.API+z.PREFERENCE},disableStream:{value:!1,kind:z.API+z.PREFERENCE},docBaseUrl:{value:"",kind:z.API},enableHWA:{value:!0,kind:z.API+z.VIEWER+z.PREFERENCE},enableXfa:{value:!0,kind:z.API+z.PREFERENCE},fontExtraProperties:{value:!1,kind:z.API},isEvalSupported:{value:!0,kind:z.API},isOffscreenCanvasSupported:{value:!0,kind:z.API},maxImageSize:{value:-1,kind:z.API},pdfBug:{value:!1,kind:z.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:z.API},useSystemFonts:{value:void 0,kind:z.API,type:K5.BOOLEAN+K5.UNDEFINED},verbosity:{value:1,kind:z.API},workerPort:{value:null,kind:z.WORKER},workerSrc:{value:"../build/pdf.worker.mjs",kind:z.WORKER}};M2.defaultUrl={value:"compressed.tracemonkey-pldi-09.pdf",kind:z.VIEWER},M2.sandboxBundleSrc={value:"../build/pdf.sandbox.mjs",kind:z.VIEWER},M2.viewerCssTheme={value:0,kind:z.VIEWER+z.PREFERENCE},M2.enableFakeMLManager={value:!0,kind:z.VIEWER};M2.disablePreferences={value:!1,kind:z.VIEWER};var Q5=class{static eventBus;static#e=new Map;static{for(let e in M2)this.#e.set(e,M2[e].value);for(let[e,t]of y6)this.#e.set(e,t);this._hasInvokedSet=!1,this._checkDisablePreferences=()=>this.get("disablePreferences")?!0:(this._hasInvokedSet&&console.warn('The Preferences may override manually set AppOptions; please use the "disablePreferences"-option to prevent that.'),!1)}static get(e){return this.#e.get(e)}static getAll(e=null,t=!1){let i=Object.create(null);for(let s in M2){let o=M2[s];e&&!(e&o.kind)||(i[s]=t?o.value:this.#e.get(s))}return i}static set(e,t){this.setAll({[e]:t})}static setAll(e,t=!1){this._hasInvokedSet||=!0;let i;for(let s in e){let o=M2[s],r=e[s];if(!o||!(typeof r==typeof o.value||K5[(typeof r).toUpperCase()]&o.type))continue;let{kind:c}=o;t&&!(c&z.BROWSER||c&z.PREFERENCE)||(this.eventBus&&c&z.EVENT_DISPATCH&&(i||=new Map).set(s,r),this.#e.set(s,r))}if(i)for(let[s,o]of i)this.eventBus.dispatch(s.toLowerCase(),{source:this,value:o})}},X5=class{#e=null;constructor(e){this.pageIndex=e.pageIndex}render(e="display"){return N(this,null,function*(){e!=="display"||this.#e||this._cancelled||(this.#e=new hE({pageIndex:this.pageIndex}))})}cancel(){this._cancelled=!0,this.#e&&(this.#e.destroy(),this.#e=null)}setParent(e){this.#e?.setParent(e)}getDrawLayer(){return this.#e}},Xm={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},aD=/^H(\d+)$/,E6=class{#e=void 0;get renderingDone(){return this.#e!==void 0}render(e){if(this.#e!==void 0)return this.#e;let t=this.#n(e);return t?.classList.add("structTree"),this.#e=t}hide(){this.#e&&!this.#e.hidden&&(this.#e.hidden=!0)}show(){this.#e?.hidden&&(this.#e.hidden=!1)}#t(e,t){let{alt:i,id:s,lang:o}=e;i!==void 0&&t.setAttribute("aria-label",_6(i)),s!==void 0&&t.setAttribute("aria-owns",s),o!==void 0&&t.setAttribute("lang",_6(o,!0))}#n(e){if(!e)return null;let t=document.createElement("span");if("role"in e){let{role:i}=e,s=i.match(aD);s?(t.setAttribute("role","heading"),t.setAttribute("aria-level",s[1])):Xm[i]&&t.setAttribute("role",Xm[i])}if(this.#t(e,t),e.children)if(e.children.length===1&&"id"in e.children[0])this.#t(e.children[0],t);else for(let i of e.children)t.append(this.#n(i));return t}},el=class n{#e=!1;#t=null;#n=new Map;#i=new Map;setTextMapping(e){this.#t=e}static#s(e,t){let i=e.getBoundingClientRect(),s=t.getBoundingClientRect();if(i.width===0&&i.height===0)return 1;if(s.width===0&&s.height===0)return-1;let o=i.y,r=i.y+i.height,c=i.y+i.height/2,a=s.y,l=s.y+s.height,u=s.y+s.height/2;if(c<=a&&u>=r)return-1;if(u<=o&&c>=l)return 1;let f=i.x+i.width/2,d=s.x+s.width/2;return f-d}enable(){if(this.#e)throw new Error("TextAccessibilityManager is already enabled.");if(!this.#t)throw new Error("Text divs and strings have not been set.");if(this.#e=!0,this.#t=this.#t.slice(),this.#t.sort(n.#s),this.#n.size>0){let e=this.#t;for(let[t,i]of this.#n){if(!document.getElementById(t)){this.#n.delete(t);continue}this.#o(t,e[i])}}for(let[e,t]of this.#i)this.addPointerInTextLayer(e,t);this.#i.clear()}disable(){this.#e&&(this.#i.clear(),this.#t=null,this.#e=!1)}removePointerInTextLayer(e){if(!this.#e){this.#i.delete(e);return}let t=this.#t;if(!t||t.length===0)return;let{id:i}=e,s=this.#n.get(i);if(s===void 0)return;let o=t[s];this.#n.delete(i);let r=o.getAttribute("aria-owns");r?.includes(i)&&(r=r.split(" ").filter(c=>c!==i).join(" "),r?o.setAttribute("aria-owns",r):(o.removeAttribute("aria-owns"),o.setAttribute("role","presentation")))}#o(e,t){let i=t.getAttribute("aria-owns");i?.includes(e)||t.setAttribute("aria-owns",i?`${i} ${e}`:e),t.removeAttribute("role")}addPointerInTextLayer(e,t){let{id:i}=e;if(!i)return null;if(!this.#e)return this.#i.set(e,t),null;t&&this.removePointerInTextLayer(e);let s=this.#t;if(!s||s.length===0)return null;let o=R4(s,l=>n.#s(e,l)<0),r=Math.max(0,o-1),c=s[r];this.#o(i,c),this.#n.set(i,r);let a=c.parentNode;return a?.classList.contains("markedContent")?a.id:null}moveElementInDOM(e,t,i,s){let o=this.addPointerInTextLayer(i,s);if(!e.hasChildNodes())return e.append(t),o;let r=Array.from(e.childNodes).filter(l=>l!==t);if(r.length===0)return o;let c=i||t,a=R4(r,l=>n.#s(c,l)<0);return a===0?r[0].before(t):r[a-1].after(t),o}},tl=class{#e=null;constructor({findController:e,eventBus:t,pageIndex:i}){this.findController=e,this.matches=[],this.eventBus=t,this.pageIdx=i,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(e,t){this.textDivs=e,this.textContentItemsStr=t}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this.#e||(this.#e=new AbortController,this.eventBus._on("updatetextlayermatches",e=>{(e.pageIndex===this.pageIdx||e.pageIndex===-1)&&this._updateMatches()},{signal:this.#e.signal})),this._updateMatches()}disable(){this.enabled&&(this.enabled=!1,this.#e?.abort(),this.#e=null,this._updateMatches(!0))}_convertMatches(e,t){if(!e)return[];let{textContentItemsStr:i}=this,s=0,o=0,r=i.length-1,c=[];for(let a=0,l=e.length;a<l;a++){let u=e[a];for(;s!==r&&u>=o+i[s].length;)o+=i[s].length,s++;s===i.length&&console.error("Could not find a matching mapping");let f={begin:{divIdx:s,offset:u-o}};for(u+=t[a];s!==r&&u>o+i[s].length;)o+=i[s].length,s++;f.end={divIdx:s,offset:u-o},c.push(f)}return c}_renderMatches(e){if(e.length===0)return;let{findController:t,pageIdx:i}=this,{textContentItemsStr:s,textDivs:o}=this,r=i===t.selected.pageIdx,c=t.selected.matchIdx,a=t.state.highlightAll,l=null,u={divIdx:-1,offset:void 0};function f(g,C){let M=g.divIdx;return o[M].textContent="",d(M,0,g.offset,C)}function d(g,C,M,b){let L=o[g];if(L.nodeType===Node.TEXT_NODE){let A=document.createElement("span");L.before(A),A.append(L),o[g]=A,L=A}let y=s[g].substring(C,M),w=document.createTextNode(y);if(b){let A=document.createElement("span");return A.className=`${b} appended`,A.append(w),L.append(A),b.includes("selected")?A.offsetLeft:0}return L.append(w),0}let h=c,p=h+1;if(a)h=0,p=e.length;else if(!r)return;let m=-1,v=-1;for(let g=h;g<p;g++){let C=e[g],M=C.begin;if(M.divIdx===m&&M.offset===v)continue;m=M.divIdx,v=M.offset;let b=C.end,L=r&&g===c,y=L?" selected":"",w=0;if(!l||M.divIdx!==l.divIdx?(l!==null&&d(l.divIdx,l.offset,u.offset),f(M)):d(l.divIdx,l.offset,M.offset),M.divIdx===b.divIdx)w=d(M.divIdx,M.offset,b.offset,"highlight"+y);else{w=d(M.divIdx,M.offset,u.offset,"highlight begin"+y);for(let A=M.divIdx+1,_=b.divIdx;A<_;A++)o[A].className="highlight middle"+y;f(b,"highlight end"+y)}l=b,L&&t.scrollMatchIntoView({element:o[M.divIdx],selectedLeft:w,pageIndex:i,matchIndex:c})}l&&d(l.divIdx,l.offset,u.offset)}_updateMatches(e=!1){if(!this.enabled&&!e)return;let{findController:t,matches:i,pageIdx:s}=this,{textContentItemsStr:o,textDivs:r}=this,c=-1;for(let u of i){let f=Math.max(c,u.begin.divIdx);for(let d=f,h=u.end.divIdx;d<=h;d++){let p=r[d];p.textContent=o[d],p.className=""}c=u.end.divIdx+1}if(!t?.highlightMatches||e)return;let a=t.pageMatches[s]||null,l=t.pageMatchesLength[s]||null;this.matches=this._convertMatches(a,l),this._renderMatches(this.matches)}},D6=class n{#e=!1;#t=null;#n=!1;#i=null;static#s=new Map;static#o=null;constructor({pdfPage:e,highlighter:t=null,accessibilityManager:i=null,enablePermissions:s=!1,onAppend:o=null}){this.pdfPage=e,this.highlighter=t,this.accessibilityManager=i,this.#e=s===!0,this.#t=o,this.div=document.createElement("div"),this.div.tabIndex=0,this.div.className="textLayer"}render(e,t=null){return N(this,null,function*(){if(this.#n&&this.#i){this.#i.update({viewport:e,onBefore:this.hide.bind(this)}),this.show();return}this.cancel(),this.#i=new CE({textContentSource:this.pdfPage.streamTextContent(t||{includeMarkedContent:!0,disableNormalization:!0}),container:this.div,viewport:e});let{textDivs:i,textContentItemsStr:s}=this.#i;this.highlighter?.setTextMapping(i,s),this.accessibilityManager?.setTextMapping(i),yield this.#i.render(),this.#n=!0;let o=document.createElement("div");o.className="endOfContent",this.div.append(o),this.#c(o),this.#t?.(this.div),this.highlighter?.enable(),this.accessibilityManager?.enable()})}hide(){!this.div.hidden&&this.#n&&(this.highlighter?.disable(),this.div.hidden=!0)}show(){this.div.hidden&&this.#n&&(this.div.hidden=!1,this.highlighter?.enable())}cancel(){this.#i?.cancel(),this.#i=null,this.highlighter?.disable(),this.accessibilityManager?.disable(),n.#a(this.div)}#c(e){let{div:t}=this;t.addEventListener("mousedown",()=>{t.classList.add("selecting")}),t.addEventListener("copy",i=>{if(!this.#e){let s=document.getSelection();i.clipboardData.setData("text/plain",_6(gE(s.toString())))}i.preventDefault(),i.stopPropagation()}),n.#s.set(t,e),n.#f()}static#a(e){this.#s.delete(e),this.#s.size===0&&(this.#o?.abort(),this.#o=null)}static#f(){if(this.#o)return;this.#o=new AbortController;let{signal:e}=this.#o,t=(r,c)=>{c.append(r),r.style.width="",r.style.height="",c.classList.remove("selecting")},i=!1;document.addEventListener("pointerdown",()=>{i=!0},{signal:e}),document.addEventListener("pointerup",()=>{i=!1,this.#s.forEach(t)},{signal:e}),window.addEventListener("blur",()=>{i=!1,this.#s.forEach(t)},{signal:e}),document.addEventListener("keyup",()=>{i||this.#s.forEach(t)},{signal:e});var s,o;document.addEventListener("selectionchange",()=>{let r=document.getSelection();if(r.rangeCount===0){this.#s.forEach(t);return}let c=new Set;for(let h=0;h<r.rangeCount;h++){let p=r.getRangeAt(h);for(let m of this.#s.keys())!c.has(m)&&p.intersectsNode(m)&&c.add(m)}for(let[h,p]of this.#s)c.has(h)?h.classList.add("selecting"):t(p,h);if(s??=getComputedStyle(this.#s.values().next().value).getPropertyValue("-moz-user-select")==="none",s)return;let a=r.getRangeAt(0),l=o&&(a.compareBoundaryPoints(Range.END_TO_END,o)===0||a.compareBoundaryPoints(Range.START_TO_END,o)===0),u=l?a.startContainer:a.endContainer;u.nodeType===Node.TEXT_NODE&&(u=u.parentNode);let f=u.parentElement.closest(".textLayer"),d=this.#s.get(f);d&&(d.style.width=f.style.width,d.style.height=f.style.height,u.parentElement.insertBefore(d,l?u:u.nextSibling)),o=a.cloneRange()},{signal:e})}},N6=class{constructor({pdfPage:e,annotationStorage:t=null,linkService:i,xfaHtml:s=null}){this.pdfPage=e,this.annotationStorage=t,this.linkService=i,this.xfaHtml=s,this.div=null,this._cancelled=!1}render(e,t="display"){return N(this,null,function*(){if(t==="print"){let o={viewport:e.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t};return this.div=document.createElement("div"),o.div=this.div,E5.render(o)}let i=yield this.pdfPage.getXfa();if(this._cancelled||!i)return{textDivs:[]};let s={viewport:e.clone({dontFlip:!0}),div:this.div,xfaHtml:i,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:t};return this.div?E5.update(s):(this.div=document.createElement("div"),s.div=this.div,E5.render(s))})}cancel(){this._cancelled=!0}hide(){this.div&&(this.div.hidden=!0)}},lD={annotationEditorUIManager:null,annotationStorage:null,downloadManager:null,enableScripting:!1,fieldObjectsPromise:null,findController:null,hasJSActionsPromise:null,get linkService(){return new O4}},uD=new Map([["canvasWrapper",0],["textLayer",1],["annotationLayer",2],["annotationEditorLayer",3],["xfaLayer",3]]),T6=class{#e=Z2.ENABLE_FORMS;#t=!1;#n=!1;#i=!1;#s=null;#o=null;#c=null;#a=null;#f=N1.INITIAL;#l=b2.ENABLE;#u={directDrawing:!0,initialOptionalContent:!0,regularAnnotations:!0};#r=new WeakMap;#d=[null,null,null,null];constructor(e){let t=e.container,i=e.defaultViewport;this.id=e.id,this.renderingId="page"+this.id,this.#s=e.layerProperties||lD,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=e.scale||ng,this.viewport=i,this.pdfPageRotate=i.rotation,this._optionalContentConfigPromise=e.optionalContentConfigPromise||null,this.#l=e.textLayerMode??b2.ENABLE,this.#e=e.annotationMode??Z2.ENABLE_FORMS,this.imageResourcesPath=e.imageResourcesPath||"",this.maxCanvasPixels=e.maxCanvasPixels??Q5.get("maxCanvasPixels"),this.pageColors=e.pageColors||null,this.#t=e.enableHWA||!1,this.eventBus=e.eventBus,this.renderingQueue=e.renderingQueue,this.l10n=e.l10n,this.l10n||=new vn,this.renderTask=null,this.resume=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._container=t,this._annotationCanvasMap=null,this.annotationLayer=null,this.annotationEditorLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null,this.drawLayer=null;let s=document.createElement("div");if(s.className="page",s.setAttribute("data-page-number",this.id),s.setAttribute("role","region"),s.setAttribute("data-l10n-id","pdfjs-page-landmark"),s.setAttribute("data-l10n-args",JSON.stringify({page:this.id})),this.div=s,this.#h(),t?.append(s),this._isStandalone){t?.style.setProperty("--scale-factor",this.scale*q2.PDF_TO_CSS_UNITS);let{optionalContentConfigPromise:o}=e;o&&o.then(r=>{o===this._optionalContentConfigPromise&&(this.#u.initialOptionalContent=r.hasInitialVisibility)}),e.l10n||this.l10n.translate(this.div)}}#p(e,t){let i=uD.get(t),s=this.#d[i];if(this.#d[i]=e,s){s.replaceWith(e);return}for(let o=i-1;o>=0;o--){let r=this.#d[o];if(r){r.after(e);return}}this.div.prepend(e)}get renderingState(){return this.#f}set renderingState(e){if(e!==this.#f)switch(this.#f=e,this.#o&&(clearTimeout(this.#o),this.#o=null),e){case N1.PAUSED:this.div.classList.remove("loading");break;case N1.RUNNING:this.div.classList.add("loadingIcon"),this.#o=setTimeout(()=>{this.div.classList.add("loading"),this.#o=null},0);break;case N1.INITIAL:case N1.FINISHED:this.div.classList.remove("loadingIcon","loading");break}}#h(){let{viewport:e}=this;if(this.pdfPage){if(this.#c===e.rotation)return;this.#c=e.rotation}vE(this.div,e,!0,!1)}setPdfPage(e){this._isStandalone&&(this.pageColors?.foreground==="CanvasText"||this.pageColors?.background==="Canvas")&&(this._container?.style.setProperty("--hcm-highlight-filter",e.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),this._container?.style.setProperty("--hcm-highlight-selected-filter",e.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","Highlight"))),this.pdfPage=e,this.pdfPageRotate=e.rotate;let t=(this.rotation+this.pdfPageRotate)%360;this.viewport=e.getViewport({scale:this.scale*q2.PDF_TO_CSS_UNITS,rotation:t}),this.#h(),this.reset()}destroy(){this.reset(),this.pdfPage?.cleanup()}hasEditableAnnotations(){return!!this.annotationLayer?.hasEditableAnnotations()}get _textHighlighter(){return w6(this,"_textHighlighter",new tl({pageIndex:this.id-1,eventBus:this.eventBus,findController:this.#s.findController}))}#m(e,t){this.eventBus.dispatch(e,{source:this,pageNumber:this.id,error:t})}#v(){return N(this,null,function*(){let e=null;try{yield this.annotationLayer.render(this.viewport,"display")}catch(t){console.error(`#renderAnnotationLayer: "${t}".`),e=t}finally{this.#m("annotationlayerrendered",e)}})}#g(){return N(this,null,function*(){let e=null;try{yield this.annotationEditorLayer.render(this.viewport,"display")}catch(t){console.error(`#renderAnnotationEditorLayer: "${t}".`),e=t}finally{this.#m("annotationeditorlayerrendered",e)}})}#C(){return N(this,null,function*(){try{yield this.drawLayer.render("display")}catch(e){console.error(`#renderDrawLayer: "${e}".`)}})}#M(){return N(this,null,function*(){let e=null;try{let t=yield this.xfaLayer.render(this.viewport,"display");t?.textDivs&&this._textHighlighter&&this.#w(t.textDivs)}catch(t){console.error(`#renderXfaLayer: "${t}".`),e=t}finally{this.xfaLayer?.div&&(this.l10n.pause(),this.#p(this.xfaLayer.div,"xfaLayer"),this.l10n.resume()),this.#m("xfalayerrendered",e)}})}#_(){return N(this,null,function*(){if(!this.textLayer)return;let e=null;try{yield this.textLayer.render(this.viewport)}catch(t){if(t instanceof aE)return;console.error(`#renderTextLayer: "${t}".`),e=t}this.#m("textlayerrendered",e),this.#y()})}#y(){return N(this,null,function*(){if(!this.textLayer)return;this.structTreeLayer||=new E6;let e=yield this.structTreeLayer.renderingDone?null:this.pdfPage.getStructTree(),t=this.structTreeLayer?.render(e);t&&(this.l10n.pause(),this.canvas?.append(t),this.l10n.resume()),this.structTreeLayer?.show()})}#w(e){return N(this,null,function*(){let t=yield this.pdfPage.getTextContent(),i=[];for(let s of t.items)i.push(s.str);this._textHighlighter.setTextMapping(e,i),this._textHighlighter.enable()})}_resetZoomLayer(e=!1){if(!this.zoomLayer)return;let t=this.zoomLayer.firstChild;this.#r.delete(t),t.width=0,t.height=0,e&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:e=!1,keepAnnotationLayer:t=!1,keepAnnotationEditorLayer:i=!1,keepXfaLayer:s=!1,keepTextLayer:o=!1}={}){this.cancelRendering({keepAnnotationLayer:t,keepAnnotationEditorLayer:i,keepXfaLayer:s,keepTextLayer:o}),this.renderingState=N1.INITIAL;let r=this.div,c=r.childNodes,a=e&&this.zoomLayer||null,l=t&&this.annotationLayer?.div||null,u=i&&this.annotationEditorLayer?.div||null,f=s&&this.xfaLayer?.div||null,d=o&&this.textLayer?.div||null;for(let h=c.length-1;h>=0;h--){let p=c[h];switch(p){case a:case l:case u:case f:case d:continue}p.remove();let m=this.#d.indexOf(p);m>=0&&(this.#d[m]=null)}r.removeAttribute("data-loaded"),l&&this.annotationLayer.hide(),u&&this.annotationEditorLayer.hide(),f&&this.xfaLayer.hide(),d&&this.textLayer.hide(),this.structTreeLayer?.hide(),a||(this.canvas&&(this.#r.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer())}toggleEditingMode(e){this.hasEditableAnnotations()&&(this.#i=e,this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0}))}update({scale:e=0,rotation:t=null,optionalContentConfigPromise:i=null,drawingDelay:s=-1}){this.scale=e||this.scale,typeof t=="number"&&(this.rotation=t),i instanceof Promise&&(this._optionalContentConfigPromise=i,i.then(r=>{i===this._optionalContentConfigPromise&&(this.#u.initialOptionalContent=r.hasInitialVisibility)})),this.#u.directDrawing=!0;let o=(this.rotation+this.pdfPageRotate)%360;if(this.viewport=this.viewport.clone({scale:this.scale*q2.PDF_TO_CSS_UNITS,rotation:o}),this.#h(),this._isStandalone&&this._container?.style.setProperty("--scale-factor",this.viewport.scale),this.canvas){let r=!1;if(this.#n){if(this.maxCanvasPixels===0)r=!0;else if(this.maxCanvasPixels>0){let{width:a,height:l}=this.viewport,{sx:u,sy:f}=this.outputScale;r=(Math.floor(a)*u|0)*(Math.floor(l)*f|0)>this.maxCanvasPixels}}let c=s>=0&&s<1e3;if(c||r){if(c&&!r&&this.renderingState!==N1.FINISHED&&(this.cancelRendering({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0,cancelExtraDelay:s}),this.renderingState=N1.FINISHED,this.#u.directDrawing=!1),this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawAnnotationEditorLayer:!0,redrawXfaLayer:!0,redrawTextLayer:!c,hideTextLayer:c}),c)return;this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this.#a});return}!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepAnnotationEditorLayer:!0,keepXfaLayer:!0,keepTextLayer:!0})}cancelRendering({keepAnnotationLayer:e=!1,keepAnnotationEditorLayer:t=!1,keepXfaLayer:i=!1,keepTextLayer:s=!1,cancelExtraDelay:o=0}={}){this.renderTask&&(this.renderTask.cancel(o),this.renderTask=null),this.resume=null,this.textLayer&&(!s||!this.textLayer.div)&&(this.textLayer.cancel(),this.textLayer=null),this.structTreeLayer&&!this.textLayer&&(this.structTreeLayer=null),this.annotationLayer&&(!e||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.annotationEditorLayer&&(!t||!this.annotationEditorLayer.div)&&(this.drawLayer&&(this.drawLayer.cancel(),this.drawLayer=null),this.annotationEditorLayer.cancel(),this.annotationEditorLayer=null),this.xfaLayer&&(!i||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this._textHighlighter?.disable())}cssTransform({target:e,redrawAnnotationLayer:t=!1,redrawAnnotationEditorLayer:i=!1,redrawXfaLayer:s=!1,redrawTextLayer:o=!1,hideTextLayer:r=!1}){if(!e.hasAttribute("zooming")){e.setAttribute("zooming",!0);let{style:a}=e;a.width=a.height=""}let c=this.#r.get(e);if(this.viewport!==c){let a=this.viewport.rotation-c.rotation,l=Math.abs(a),u=1,f=1;if(l===90||l===270){let{width:d,height:h}=this.viewport;u=h/d,f=d/h}e.style.transform=`rotate(${a}deg) scale(${u}, ${f})`}t&&this.annotationLayer&&this.#v(),i&&this.annotationEditorLayer&&(this.drawLayer&&this.#C(),this.#g()),s&&this.xfaLayer&&this.#M(),this.textLayer&&(r?(this.textLayer.hide(),this.structTreeLayer?.hide()):o&&this.#_())}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(e,t){return this.viewport.convertToPdfPoint(e,t)}#D(e,t=null){return N(this,null,function*(){if(e===this.renderTask&&(this.renderTask=null),t instanceof O5){this.#a=null;return}if(this.#a=t,this.renderingState=N1.FINISHED,this._resetZoomLayer(!0),this.#u.regularAnnotations=!e.separateAnnots,this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!1,timestamp:performance.now(),error:this.#a}),t)throw t})}draw(){return N(this,null,function*(){this.renderingState!==N1.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());let{div:e,l10n:t,pageColors:i,pdfPage:s,viewport:o}=this;if(!s)throw this.renderingState=N1.FINISHED,new Error("pdfPage is not loaded");this.renderingState=N1.RUNNING;let r=document.createElement("div");if(r.classList.add("canvasWrapper"),this.#p(r,"canvasWrapper"),!this.textLayer&&this.#l!==b2.DISABLE&&!s.isPureXfa&&(this._accessibilityManager||=new el,this.textLayer=new D6({pdfPage:s,highlighter:this._textHighlighter,accessibilityManager:this._accessibilityManager,enablePermissions:this.#l===b2.ENABLE_PERMISSIONS,onAppend:y=>{this.l10n.pause(),this.#p(y,"textLayer"),this.l10n.resume()}})),!this.annotationLayer&&this.#e!==Z2.DISABLE){let{annotationStorage:y,annotationEditorUIManager:w,downloadManager:A,enableScripting:_,fieldObjectsPromise:S,hasJSActionsPromise:T,linkService:h1}=this.#s;this._annotationCanvasMap||=new Map,this.annotationLayer=new z6({pdfPage:s,annotationStorage:y,imageResourcesPath:this.imageResourcesPath,renderForms:this.#e===Z2.ENABLE_FORMS,linkService:h1,downloadManager:A,enableScripting:_,hasJSActionsPromise:T,fieldObjectsPromise:S,annotationCanvasMap:this._annotationCanvasMap,accessibilityManager:this._accessibilityManager,annotationEditorUIManager:w,onAppend:v1=>{this.#p(v1,"annotationLayer")}})}let c=y=>{if(d?.(!1),this.renderingQueue&&!this.renderingQueue.isHighestPriority(this)){this.renderingState=N1.PAUSED,this.resume=()=>{this.renderingState=N1.RUNNING,y()};return}y()},{width:a,height:l}=o,u=document.createElement("canvas");u.setAttribute("role","presentation"),u.hidden=!0;let f=!!(i?.background&&i?.foreground),d=y=>{(!f||y)&&(u.hidden=!1,d=null)};r.append(u),this.canvas=u;let h=u.getContext("2d",{alpha:!1,willReadFrequently:!this.#t}),p=this.outputScale=new k5;if(this.maxCanvasPixels===0){let y=1/this.scale;p.sx*=y,p.sy*=y,this.#n=!0}else if(this.maxCanvasPixels>0){let y=a*l,w=Math.sqrt(this.maxCanvasPixels/y);p.sx>w||p.sy>w?(p.sx=w,p.sy=w,this.#n=!0):this.#n=!1}let m=Sm(p.sx),v=Sm(p.sy);u.width=g6(a*p.sx,m[0]),u.height=g6(l*p.sy,v[0]);let{style:g}=u;g.width=g6(a,m[1])+"px",g.height=g6(l,v[1])+"px",this.#r.set(u,o);let C=p.scaled?[p.sx,0,0,p.sy,0,0]:null,M={canvasContext:h,transform:C,viewport:o,annotationMode:this.#e,optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:i,isEditing:this.#i},b=this.renderTask=s.render(M);b.onContinue=c;let L=b.promise.then(()=>N(this,null,function*(){d?.(!0),yield this.#D(b),this.#_(),this.annotationLayer&&(yield this.#v());let{annotationEditorUIManager:y}=this.#s;y&&(this.drawLayer||=new X5({pageIndex:this.id}),yield this.#C(),this.drawLayer.setParent(r),this.annotationEditorLayer||=new J5({uiManager:y,pdfPage:s,l10n:t,accessibilityManager:this._accessibilityManager,annotationLayer:this.annotationLayer?.annotationLayer,textLayer:this.textLayer,drawLayer:this.drawLayer.getDrawLayer(),onAppend:w=>{this.#p(w,"annotationEditorLayer")}}),this.#g())}),y=>(y instanceof O5||d?.(!0),this.#D(b,y)));if(s.isPureXfa){if(!this.xfaLayer){let{annotationStorage:y,linkService:w}=this.#s;this.xfaLayer=new N6({pdfPage:s,annotationStorage:y,linkService:w})}this.#M()}return e.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),L})}setPageLabel(e){this.pageLabel=typeof e=="string"?e:null,this.div.setAttribute("data-l10n-args",JSON.stringify({page:this.pageLabel??this.id})),this.pageLabel!==null?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}get thumbnailCanvas(){let{directDrawing:e,initialOptionalContent:t,regularAnnotations:i}=this.#u;return e&&t&&i?this.canvas:null}};function fD(n){return N(this,null,function*(){let e="",t=e.split("#",1)[0],{info:i,metadata:s,contentDispositionFilename:o,contentLength:r}=yield n.getMetadata();if(!r){let{length:c}=yield n.getDownloadInfo();r=c}return X(D({},i),{baseURL:t,filesize:r,filename:o||pE(e),metadata:s?.getRaw(),authors:s?.get("dc:creator"),numPages:n.numPages,URL:e})})}var nl=class{constructor(e){this._ready=new Promise((t,i)=>{import(e).then(o=>{t(o.QuickJSSandbox())}).catch(i)})}createSandbox(e){return N(this,null,function*(){(yield this._ready).create(e)})}dispatchEventInSandbox(e){return N(this,null,function*(){let t=yield this._ready;setTimeout(()=>t.dispatchEvent(e),0)})}destroySandbox(){return N(this,null,function*(){(yield this._ready).nukeSandbox()})}},il=class{#e=null;#t=null;#n=null;#i=null;#s=null;#o=null;#c=null;#a=null;#f=!1;#l=null;#u=null;constructor({eventBus:e,externalServices:t=null,docProperties:i=null}){this.#s=e,this.#o=t,this.#n=i}setViewer(e){this.#a=e}setDocument(e){return N(this,null,function*(){if(this.#c&&(yield this.#m()),this.#c=e,!e)return;let[t,i,s]=yield Promise.all([e.getFieldObjects(),e.getCalculationOrderIds(),e.getJSActions()]);if(!t&&!s){yield this.#m();return}if(e!==this.#c)return;try{this.#l=this.#h()}catch(c){console.error(`setDocument: "${c.message}".`),yield this.#m();return}let o=this.#s;this.#i=new AbortController;let{signal:r}=this.#i;o._on("updatefromsandbox",c=>{c?.source===window&&this.#r(c.detail)},{signal:r}),o._on("dispatcheventinsandbox",c=>{this.#l?.dispatchEventInSandbox(c.detail)},{signal:r}),o._on("pagechanging",({pageNumber:c,previous:a})=>{c!==a&&(this.#p(a),this.#d(c))},{signal:r}),o._on("pagerendered",({pageNumber:c})=>{this._pageOpenPending.has(c)&&c===this.#a.currentPageNumber&&this.#d(c)},{signal:r}),o._on("pagesdestroy",()=>N(this,null,function*(){yield this.#p(this.#a.currentPageNumber),yield this.#l?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),this.#e?.resolve()}),{signal:r});try{let c=yield this.#n(e);if(e!==this.#c)return;yield this.#l.createSandbox({objects:t,calculationOrder:i,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:X(D({},c),{actions:s})}),o.dispatch("sandboxcreated",{source:this})}catch(c){console.error(`setDocument: "${c.message}".`),yield this.#m();return}yield this.#l?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield this.#d(this.#a.currentPageNumber,!0),Promise.resolve().then(()=>{e===this.#c&&(this.#f=!0)})})}dispatchWillSave(){return N(this,null,function*(){return this.#l?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})}dispatchDidSave(){return N(this,null,function*(){return this.#l?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})}dispatchWillPrint(){return N(this,null,function*(){if(this.#l){yield this.#u?.promise,this.#u=Promise.withResolvers();try{yield this.#l.dispatchEventInSandbox({id:"doc",name:"WillPrint"})}catch(e){throw this.#u.resolve(),this.#u=null,e}yield this.#u.promise}})}dispatchDidPrint(){return N(this,null,function*(){return this.#l?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})}get destroyPromise(){return this.#t?.promise||null}get ready(){return this.#f}get _pageOpenPending(){return w6(this,"_pageOpenPending",new Set)}get _visitedPages(){return w6(this,"_visitedPages",new Map)}#r(e){return N(this,null,function*(){let t=this.#a,i=t.isInPresentationMode||t.isChangingPresentationMode,{id:s,siblings:o,command:r,value:c}=e;if(!s){switch(r){case"clear":console.clear();break;case"error":console.error(c);break;case"layout":if(!i){let l=HA(c);t.spreadMode=l.spreadMode}break;case"page-num":t.currentPageNumber=c+1;break;case"print":yield t.pagesPromise,this.#s.dispatch("print",{source:this});break;case"println":console.log(c);break;case"zoom":i||(t.currentScaleValue=c);break;case"SaveAs":this.#s.dispatch("download",{source:this});break;case"FirstPage":t.currentPageNumber=1;break;case"LastPage":t.currentPageNumber=t.pagesCount;break;case"NextPage":t.nextPage();break;case"PrevPage":t.previousPage();break;case"ZoomViewIn":i||t.increaseScale();break;case"ZoomViewOut":i||t.decreaseScale();break;case"WillPrintFinished":this.#u?.resolve(),this.#u=null;break}return}if(i&&e.focus)return;delete e.id,delete e.siblings;let a=o?[s,...o]:[s];for(let l of a){let u=document.querySelector(`[data-element-id="${l}"]`);u?u.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:e})):this.#c?.annotationStorage.setValue(l,e)}})}#d(e,t=!1){return N(this,null,function*(){let i=this.#c,s=this._visitedPages;if(t&&(this.#e=Promise.withResolvers()),!this.#e)return;let o=this.#a.getPageView(e-1);if(o?.renderingState!==N1.FINISHED){this._pageOpenPending.add(e);return}this._pageOpenPending.delete(e);let r=N(this,null,function*(){let c=yield s.has(e)?null:o.pdfPage?.getJSActions();i===this.#c&&(yield this.#l?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:e,actions:c}))});s.set(e,r)})}#p(e){return N(this,null,function*(){let t=this.#c,i=this._visitedPages;if(!this.#e||this._pageOpenPending.has(e))return;let s=i.get(e);s&&(i.set(e,null),yield s,t===this.#c&&(yield this.#l?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:e})))})}#h(){if(this.#t=Promise.withResolvers(),this.#l)throw new Error("#initScripting: Scripting already exists.");return this.#o.createScripting()}#m(){return N(this,null,function*(){if(!this.#l){this.#c=null,this.#t?.resolve();return}this.#e&&(yield Promise.race([this.#e.promise,new Promise(e=>{setTimeout(e,1e3)})]).catch(()=>{}),this.#e=null),this.#c=null;try{yield this.#l.destroySandbox()}catch{}this.#u?.reject(new Error("Scripting destroyed.")),this.#u=null,this.#i?.abort(),this.#i=null,this._pageOpenPending.clear(),this._visitedPages.clear(),this.#l=null,this.#f=!1,this.#t?.resolve()})}},sl=class extends il{constructor(e){e.externalServices||window.addEventListener("updatefromsandbox",t=>{e.eventBus.dispatch("updatefromsandbox",{source:window,detail:t.detail})}),e.externalServices||={createScripting:()=>new nl(e.sandboxBundleSrc)},e.docProperties||=t=>fD(t),super(e)}},dD=3e4,ol=class{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1,Object.defineProperty(this,"hasViewer",{value:()=>!!this.pdfViewer})}setViewer(e){this.pdfViewer=e}setThumbnailViewer(e){this.pdfThumbnailViewer=e}isHighestPriority(e){return this.highestPriorityPage===e.renderingId}renderHighestPriority(e){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(e)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),dD)))}getHighestPriority(e,t,i,s=!1){let o=e.views,r=o.length;if(r===0)return null;for(let f=0;f<r;f++){let d=o[f].view;if(!this.isViewFinished(d))return d}let c=e.first.id,a=e.last.id;if(a-c+1>r){let f=e.ids;for(let d=1,h=a-c;d<h;d++){let p=i?c+d:a-d;if(f.has(p))continue;let m=t[p-1];if(!this.isViewFinished(m))return m}}let l=i?a:c-2,u=t[l];return u&&!this.isViewFinished(u)||s&&(l+=i?1:-1,u=t[l],u&&!this.isViewFinished(u))?u:null}isViewFinished(e){return e.renderingState===N1.FINISHED}renderView(e){switch(e.renderingState){case N1.FINISHED:return!1;case N1.PAUSED:this.highestPriorityPage=e.renderingId,e.resume();break;case N1.RUNNING:this.highestPriorityPage=e.renderingId;break;case N1.INITIAL:this.highestPriorityPage=e.renderingId,e.draw().finally(()=>{this.renderHighestPriority()}).catch(t=>{t instanceof O5||console.error(`renderView: "${t}"`)});break}return!0}},eg=10,M6={FORCE_SCROLL_MODE_PAGE:1e4,FORCE_LAZY_PAGE_INIT:5e3,PAUSE_EAGER_PAGE_INIT:250};function tg(n){return Object.values(De).includes(n)&&n!==De.DISABLE}var rl=class{#e=new Set;#t=0;constructor(e){this.#t=e}push(e){let t=this.#e;t.has(e)&&t.delete(e),t.add(e),t.size>this.#t&&this.#n()}resize(e,t=null){this.#t=e;let i=this.#e;if(t){let s=i.size,o=1;for(let r of i)if(t.has(r.id)&&(i.delete(r),i.add(r)),++o>s)break}for(;i.size>this.#t;)this.#n()}has(e){return this.#e.has(e)}[Symbol.iterator](){return this.#e.keys()}#n(){let e=this.#e.keys().next().value;e?.destroy(),this.#e.delete(e)}},I6=class{#e=null;#t=null;#n=null;#i=De.NONE;#s=null;#o=Z2.ENABLE_FORMS;#c=null;#a=!1;#f=!1;#l=!1;#u=!1;#r=!1;#d=null;#p=null;#h=null;#m=null;#v=!1;#g=null;#C=!1;#M=0;#_=new ResizeObserver(this.#O.bind(this));#y=null;#w=null;#D=b2.ENABLE;constructor(e){let t="4.6.82";if(Rm!==t)throw new Error(`The API version "${Rm}" does not match the Viewer version "${t}".`);if(this.container=e.container,this.viewer=e.viewer||e.container.firstElementChild,this.container?.tagName!=="DIV"||this.viewer?.tagName!=="DIV")throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&getComputedStyle(this.container).position!=="absolute")throw new Error("The `container` must be absolutely positioned.");this.#_.observe(this.container),this.eventBus=e.eventBus,this.linkService=e.linkService||new O4,this.downloadManager=e.downloadManager||null,this.findController=e.findController||null,this.#t=e.altTextManager||null,this.findController&&(this.findController.onIsPageVisible=s=>this._getVisiblePages().ids.has(s)),this._scriptingManager=e.scriptingManager||null,this.#D=e.textLayerMode??b2.ENABLE,this.#o=e.annotationMode??Z2.ENABLE_FORMS,this.#i=e.annotationEditorMode??De.NONE,this.#n=e.annotationEditorHighlightColors||null,this.#f=e.enableHighlightFloatingButton===!0,this.#u=e.enableUpdatedAddImage===!0,this.#r=e.enableNewAltTextWhenAddingImage===!0,this.imageResourcesPath=e.imageResourcesPath||"",this.enablePrintAutoRotate=e.enablePrintAutoRotate||!1,this.removePageBorders=e.removePageBorders||!1,this.maxCanvasPixels=e.maxCanvasPixels,this.l10n=e.l10n,this.l10n||=new vn,this.#l=e.enablePermissions||!1,this.pageColors=e.pageColors||null,this.#p=e.mlManager||null,this.#a=e.enableHWA||!1,this.defaultRenderingQueue=!e.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new ol,this.renderingQueue.setViewer(this)):this.renderingQueue=e.renderingQueue;let{abortSignal:i}=e;i?.addEventListener("abort",()=>{this.#_.disconnect(),this.#_=null},{once:!0}),this.scroll=TA(this.container,this._scrollUpdate.bind(this),i),this.presentationModeState=pn.UNKNOWN,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.#P(),this.eventBus._on("thumbnailrendered",({pageNumber:s,pdfPage:o})=>{let r=this._pages[s-1];this.#e.has(r)||o?.cleanup()}),e.l10n||this.l10n.translate(this.container)}get pagesCount(){return this._pages.length}getPageView(e){return this._pages[e]}getCachedPageViews(){return new Set(this.#e)}get pageViewsReady(){return this._pages.every(e=>e?.pdfPage)}get renderForms(){return this.#o===Z2.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(e){if(!Number.isInteger(e))throw new Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(e,!0)||console.error(`currentPageNumber: "${e}" is not a valid page.`))}_setCurrentPageNumber(e,t=!1){if(this._currentPageNumber===e)return t&&this.#T(),!0;if(!(0<e&&e<=this.pagesCount))return!1;let i=this._currentPageNumber;return this._currentPageNumber=e,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:e,pageLabel:this._pageLabels?.[e-1]??null,previous:i}),t&&this.#T(),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(e){if(!this.pdfDocument)return;let t=e|0;if(this._pageLabels){let i=this._pageLabels.indexOf(e);i>=0&&(t=i+1)}this._setCurrentPageNumber(t,!0)||console.error(`currentPageLabel: "${e}" is not a valid page.`)}get currentScale(){return this._currentScale!==z5?this._currentScale:ng}set currentScale(e){if(isNaN(e))throw new Error("Invalid numeric scale.");this.pdfDocument&&this.#E(e,{noScroll:!1})}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(e){this.pdfDocument&&this.#E(e,{noScroll:!1})}get pagesRotation(){return this._pagesRotation}set pagesRotation(e){if(!sg(e))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||(e%=360,e<0&&(e+=360),this._pagesRotation===e))return;this._pagesRotation=e;let t=this._currentPageNumber;this.refresh(!0,{rotation:e}),this._currentScaleValue&&this.#E(this._currentScaleValue,{noScroll:!0}),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:e,pageNumber:t}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}get _layerProperties(){let e=this;return w6(this,"_layerProperties",{get annotationEditorUIManager(){return e.#s},get annotationStorage(){return e.pdfDocument?.annotationStorage},get downloadManager(){return e.downloadManager},get enableScripting(){return!!e._scriptingManager},get fieldObjectsPromise(){return e.pdfDocument?.getFieldObjects()},get findController(){return e.findController},get hasJSActionsPromise(){return e.pdfDocument?.hasJSActions()},get linkService(){return e.linkService}})}#S(e){let t={annotationEditorMode:this.#i,annotationMode:this.#o,textLayerMode:this.#D};return e&&(!e.includes(C6.COPY)&&this.#D===b2.ENABLE&&(t.textLayerMode=b2.ENABLE_PERMISSIONS),e.includes(C6.MODIFY_CONTENTS)||(t.annotationEditorMode=De.DISABLE),!e.includes(C6.MODIFY_ANNOTATIONS)&&!e.includes(C6.FILL_INTERACTIVE_FORMS)&&this.#o===Z2.ENABLE_FORMS&&(t.annotationMode=Z2.ENABLE)),t}#L(e){return N(this,null,function*(){if(document.visibilityState==="hidden"||!this.container.offsetParent||this._getVisiblePages().views.length===0)return;let t=Promise.withResolvers();function i(){document.visibilityState==="hidden"&&t.resolve()}document.addEventListener("visibilitychange",i,{signal:e}),yield Promise.race([this._onePageRenderedCapability.promise,t.promise]),document.removeEventListener("visibilitychange",i)})}getAllText(){return N(this,null,function*(){let e=[],t=[];for(let i=1,s=this.pdfDocument.numPages;i<=s;++i){if(this.#C)return null;t.length=0;let o=yield this.pdfDocument.getPage(i),{items:r}=yield o.getTextContent();for(let c of r)c.str&&t.push(c.str),c.hasEOL&&t.push(`
`);e.push(_6(t.join("")))}return e.join(`
`)})}#A(e,t){let i=document.getSelection(),{focusNode:s,anchorNode:o}=i;if(o&&s&&i.containsNode(this.#g)){if(this.#v||e===b2.ENABLE_PERMISSIONS){t.preventDefault(),t.stopPropagation();return}this.#v=!0;let{classList:r}=this.viewer;r.add("copyAll");let c=new AbortController;window.addEventListener("keydown",a=>this.#C=a.key==="Escape",{signal:c.signal}),this.getAllText().then(a=>N(this,null,function*(){a!==null&&(yield navigator.clipboard.writeText(a))})).catch(a=>{console.warn(`Something goes wrong when extracting the text: ${a.message}`)}).finally(()=>{this.#v=!1,this.#C=!1,c.abort(),r.remove("copyAll")}),t.preventDefault(),t.stopPropagation()}}setDocument(e){if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController?.setDocument(null),this._scriptingManager?.setDocument(null),this.#s?.destroy(),this.#s=null),this.pdfDocument=e,!e)return;let t=e.numPages,i=e.getPage(1),s=e.getOptionalContentConfig({intent:"display"}),o=this.#l?e.getPermissions():Promise.resolve(),{eventBus:r,pageColors:c,viewer:a}=this;this.#d=new AbortController;let{signal:l}=this.#d;if(t>M6.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");let d=this._scrollMode=a1.PAGE;r.dispatch("scrollmodechanged",{source:this,mode:d})}this._pagesCapability.promise.then(()=>{r.dispatch("pagesloaded",{source:this,pagesCount:t})},()=>{});let u=d=>{let h=this._pages[d.pageNumber-1];h&&this.#e.push(h)};r._on("pagerender",u,{signal:l});let f=d=>{d.cssTransform||(this._onePageRenderedCapability.resolve({timestamp:d.timestamp}),r._off("pagerendered",f))};r._on("pagerendered",f,{signal:l}),Promise.all([i,o]).then(([d,h])=>{if(e!==this.pdfDocument)return;this._firstPageCapability.resolve(d),this._optionalContentConfigPromise=s;let{annotationEditorMode:p,annotationMode:m,textLayerMode:v}=this.#S(h);if(v!==b2.DISABLE){let b=this.#g=document.createElement("div");b.id="hiddenCopyElement",a.before(b)}if(typeof AbortSignal.any=="function"&&p!==De.DISABLE){let b=p;e.isPureXfa?console.warn("Warning: XFA-editing is not implemented."):tg(b)?(this.#s=new uE(this.container,a,this.#t,r,e,c,this.#n,this.#f,this.#u,this.#r,this.#p),r.dispatch("annotationeditoruimanager",{source:this,uiManager:this.#s}),b!==De.NONE&&(b===De.STAMP&&this.#p?.loadModel("altText"),this.#s.updateMode(b))):console.error(`Invalid AnnotationEditor mode: ${b}`)}let g=this._scrollMode===a1.PAGE?null:a,C=this.currentScale,M=d.getViewport({scale:C*q2.PDF_TO_CSS_UNITS});a.style.setProperty("--scale-factor",M.scale),(c?.foreground==="CanvasText"||c?.background==="Canvas")&&(a.style.setProperty("--hcm-highlight-filter",e.filterFactory.addHighlightHCMFilter("highlight","CanvasText","Canvas","HighlightText","Highlight")),a.style.setProperty("--hcm-highlight-selected-filter",e.filterFactory.addHighlightHCMFilter("highlight_selected","CanvasText","Canvas","HighlightText","ButtonText")));for(let b=1;b<=t;++b){let L=new T6({container:g,eventBus:r,id:b,scale:C,defaultViewport:M.clone(),optionalContentConfigPromise:s,renderingQueue:this.renderingQueue,textLayerMode:v,annotationMode:m,imageResourcesPath:this.imageResourcesPath,maxCanvasPixels:this.maxCanvasPixels,pageColors:c,l10n:this.l10n,layerProperties:this._layerProperties,enableHWA:this.#a});this._pages.push(L)}this._pages[0]?.setPdfPage(d),this._scrollMode===a1.PAGE?this.#x():this._spreadMode!==le.NONE&&this._updateSpreadMode(),this.#L(l).then(()=>N(this,null,function*(){if(e!==this.pdfDocument)return;if(this.findController?.setDocument(e),this._scriptingManager?.setDocument(e),this.#g&&document.addEventListener("copy",this.#A.bind(this,v),{signal:l}),this.#s&&r.dispatch("annotationeditormodechanged",{source:this,mode:this.#i}),e.loadingParams.disableAutoFetch||t>M6.FORCE_LAZY_PAGE_INIT){this._pagesCapability.resolve();return}let b=t-1;if(b<=0){this._pagesCapability.resolve();return}for(let L=2;L<=t;++L){let y=e.getPage(L).then(w=>{let A=this._pages[L-1];A.pdfPage||A.setPdfPage(w),--b===0&&this._pagesCapability.resolve()},w=>{console.error(`Unable to get page ${L} to initialize viewer`,w),--b===0&&this._pagesCapability.resolve()});L%M6.PAUSE_EAGER_PAGE_INIT===0&&(yield y)}})),r.dispatch("pagesinit",{source:this}),e.getMetadata().then(({info:b})=>{e===this.pdfDocument&&b.Language&&(a.lang=b.Language)}),this.defaultRenderingQueue&&this.update()}).catch(d=>{console.error("Unable to initialize viewer",d),this._pagesCapability.reject(d)})}setPageLabels(e){if(this.pdfDocument){e?Array.isArray(e)&&this.pdfDocument.numPages===e.length?this._pageLabels=e:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let t=0,i=this._pages.length;t<i;t++)this._pages[t].setPageLabel(this._pageLabels?.[t]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=z5,this._currentScaleValue=null,this._pageLabels=null,this.#e=new rl(eg),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=Promise.withResolvers(),this._onePageRenderedCapability=Promise.withResolvers(),this._pagesCapability=Promise.withResolvers(),this._scrollMode=a1.VERTICAL,this._previousScrollMode=a1.UNKNOWN,this._spreadMode=le.NONE,this.#y={previousPageNumber:1,scrollDown:!0,pages:[]},this.#d?.abort(),this.#d=null,this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.#g?.remove(),this.#g=null,this.#F()}#x(){if(this._scrollMode!==a1.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");let e=this._currentPageNumber,t=this.#y,i=this.viewer;if(i.textContent="",t.pages.length=0,this._spreadMode===le.NONE&&!this.isInPresentationMode){let s=this._pages[e-1];i.append(s.div),t.pages.push(s)}else{let s=new Set,o=this._spreadMode-1;o===-1?s.add(e-1):e%2!==o?(s.add(e-1),s.add(e)):(s.add(e-2),s.add(e-1));let r=document.createElement("div");if(r.className="spread",this.isInPresentationMode){let c=document.createElement("div");c.className="dummyPage",r.append(c)}for(let c of s){let a=this._pages[c];a&&(r.append(a.div),t.pages.push(a))}i.append(r)}t.scrollDown=e>=t.previousPageNumber,t.previousPageNumber=e}_scrollUpdate(){this.pagesCount!==0&&this.update()}#N(e,t=null){let{div:i,id:s}=e;if(this._currentPageNumber!==s&&this._setCurrentPageNumber(s),this._scrollMode===a1.PAGE&&(this.#x(),this.update()),!t&&!this.isInPresentationMode){let o=i.offsetLeft+i.clientLeft,r=o+i.clientWidth,{scrollLeft:c,clientWidth:a}=this.container;(this._scrollMode===a1.HORIZONTAL||o<c||r>c+a)&&(t={left:0,top:0})}ig(i,t),!this._currentScaleValue&&this._location&&(this._location=null)}#k(e){return e===this._currentScale||Math.abs(e-this._currentScale)<1e-15}#z(e,t,{noScroll:i=!1,preset:s=!1,drawingDelay:o=-1,origin:r=null}){if(this._currentScaleValue=t.toString(),this.#k(e)){s&&this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:t});return}this.viewer.style.setProperty("--scale-factor",e*q2.PDF_TO_CSS_UNITS);let c=o>=0&&o<1e3;this.refresh(!0,{scale:e,drawingDelay:c?o:-1}),c&&(this.#w=setTimeout(()=>{this.#w=null,this.refresh()},o));let a=this._currentScale;if(this._currentScale=e,!i){let l=this._currentPageNumber,u;if(this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(l=this._location.pageNumber,u=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:l,destArray:u,allowNegativeOffset:!0}),Array.isArray(r)){let f=e/a-1,[d,h]=this.containerTopLeft;this.container.scrollLeft+=(r[0]-h)*f,this.container.scrollTop+=(r[1]-d)*f}}this.eventBus.dispatch("scalechanging",{source:this,scale:e,presetValue:s?t:void 0}),this.defaultRenderingQueue&&this.update()}get#b(){return this._spreadMode!==le.NONE&&this._scrollMode!==a1.HORIZONTAL?2:1}#E(e,t){let i=parseFloat(e);if(i>0)t.preset=!1,this.#z(i,e,t);else{let s=this._pages[this._currentPageNumber-1];if(!s)return;let o=wm,r=zm;this.isInPresentationMode?(o=r=4,this._spreadMode!==le.NONE&&(o*=2)):this.removePageBorders?o=r=0:this._scrollMode===a1.HORIZONTAL&&([o,r]=[r,o]);let c=(this.container.clientWidth-o)/s.width*s.scale/this.#b,a=(this.container.clientHeight-r)/s.height*s.scale;switch(e){case"page-actual":i=1;break;case"page-width":i=c;break;case"page-height":i=a;break;case"page-fit":i=Math.min(c,a);break;case"auto":let l=Am(s)?c:Math.min(a,c);i=Math.min(NA,l);break;default:console.error(`#setScale: "${e}" is an unknown zoom value.`);return}t.preset=!0,this.#z(i,e,t)}}#T(){let e=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this.#E(this._currentScaleValue,{noScroll:!0}),this.#N(e)}pageLabelToPageNumber(e){if(!this._pageLabels)return null;let t=this._pageLabels.indexOf(e);return t<0?null:t+1}scrollPageIntoView({pageNumber:e,destArray:t=null,allowNegativeOffset:i=!1,ignoreDestinationZoom:s=!1}){if(!this.pdfDocument)return;let o=Number.isInteger(e)&&this._pages[e-1];if(!o){console.error(`scrollPageIntoView: "${e}" is not a valid pageNumber parameter.`);return}if(this.isInPresentationMode||!t){this._setCurrentPageNumber(e,!0);return}let r=0,c=0,a=0,l=0,u,f,d=o.rotation%180!==0,h=(d?o.height:o.width)/o.scale/q2.PDF_TO_CSS_UNITS,p=(d?o.width:o.height)/o.scale/q2.PDF_TO_CSS_UNITS,m=0;switch(t[1].name){case"XYZ":r=t[2],c=t[3],m=t[4],r=r!==null?r:0,c=c!==null?c:p;break;case"Fit":case"FitB":m="page-fit";break;case"FitH":case"FitBH":c=t[2],m="page-width",c===null&&this._location?(r=this._location.left,c=this._location.top):(typeof c!="number"||c<0)&&(c=p);break;case"FitV":case"FitBV":r=t[2],a=h,l=p,m="page-height";break;case"FitR":r=t[2],c=t[3],a=t[4]-r,l=t[5]-c;let M=wm,b=zm;this.removePageBorders&&(M=b=0),u=(this.container.clientWidth-M)/a/q2.PDF_TO_CSS_UNITS,f=(this.container.clientHeight-b)/l/q2.PDF_TO_CSS_UNITS,m=Math.min(Math.abs(u),Math.abs(f));break;default:console.error(`scrollPageIntoView: "${t[1].name}" is not a valid destination type.`);return}if(s||(m&&m!==this._currentScale?this.currentScaleValue=m:this._currentScale===z5&&(this.currentScaleValue=AA)),m==="page-fit"&&!t[4]){this.#N(o);return}let v=[o.viewport.convertToViewportPoint(r,c),o.viewport.convertToViewportPoint(r+a,c+l)],g=Math.min(v[0][0],v[1][0]),C=Math.min(v[0][1],v[1][1]);i||(g=Math.max(g,0),C=Math.max(C,0)),this.#N(o,{left:g,top:C})}_updateLocation(e){let t=this._currentScale,i=this._currentScaleValue,s=parseFloat(i)===t?Math.round(t*1e4)/100:i,o=e.id,r=this._pages[o-1],c=this.container,a=r.getPagePoint(c.scrollLeft-e.x,c.scrollTop-e.y),l=Math.round(a[0]),u=Math.round(a[1]),f=`#page=${o}`;this.isInPresentationMode||(f+=`&zoom=${s},${l},${u}`),this._location={pageNumber:o,scale:s,top:u,left:l,rotation:this._pagesRotation,pdfOpenParams:f}}update(){let e=this._getVisiblePages(),t=e.views,i=t.length;if(i===0)return;let s=Math.max(eg,2*i+1);this.#e.resize(s,e.ids),this.renderingQueue.renderHighestPriority(e);let o=this._spreadMode===le.NONE&&(this._scrollMode===a1.PAGE||this._scrollMode===a1.VERTICAL),r=this._currentPageNumber,c=!1;for(let a of t){if(a.percent<100)break;if(a.id===r&&o){c=!0;break}}this._setCurrentPageNumber(c?r:t[0].id),this._updateLocation(e.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}#R(){let e=this._getVisiblePages(),t=[],{ids:i,views:s}=e;for(let o of s){let{view:r}=o;if(!r.hasEditableAnnotations()){i.delete(r.id);continue}t.push(o)}return t.length===0?null:(this.renderingQueue.renderHighestPriority({first:t[0],last:t.at(-1),views:t,ids:i}),i)}containsElement(e){return this.container.contains(e)}focus(){this.container.focus()}get _isContainerRtl(){return getComputedStyle(this.container).direction==="rtl"}get isInPresentationMode(){return this.presentationModeState===pn.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===pn.CHANGING}get isHorizontalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return this.isInPresentationMode?!1:this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){let e=this._scrollMode===a1.PAGE?this.#y.pages:this._pages,t=this._scrollMode===a1.HORIZONTAL,i=t&&this._isContainerRtl;return kA({scrollEl:this.container,views:e,sortByVisibility:!0,horizontal:t,rtl:i})}cleanup(){for(let e of this._pages)e.renderingState!==N1.FINISHED&&e.reset()}_cancelRendering(){for(let e of this._pages)e.cancelRendering()}#B(e){return N(this,null,function*(){if(e.pdfPage)return e.pdfPage;try{let t=yield this.pdfDocument.getPage(e.id);return e.pdfPage||e.setPdfPage(t),t}catch(t){return console.error("Unable to get page for page view",t),null}})}#H(e){if(e.first?.id===1)return!0;if(e.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case a1.PAGE:return this.#y.scrollDown;case a1.HORIZONTAL:return this.scroll.right}return this.scroll.down}forceRendering(e){let t=e||this._getVisiblePages(),i=this.#H(t),s=this._spreadMode!==le.NONE&&this._scrollMode!==a1.HORIZONTAL,o=this.renderingQueue.getHighestPriority(t,this._pages,i,s);return o?(this.#B(o).then(()=>{this.renderingQueue.renderView(o)}),!0):!1}get hasEqualPageSizes(){let e=this._pages[0];for(let t=1,i=this._pages.length;t<i;++t){let s=this._pages[t];if(s.width!==e.width||s.height!==e.height)return!1}return!0}getPagesOverview(){let e;return this._pages.map(t=>{let i=t.pdfPage.getViewport({scale:1}),s=Am(i);if(e===void 0)e=s;else if(this.enablePrintAutoRotate&&s!==e)return{width:i.height,height:i.width,rotation:(i.rotation-90)%360};return{width:i.width,height:i.height,rotation:i.rotation}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:(console.error("optionalContentConfigPromise: Not initialized yet."),this.pdfDocument.getOptionalContentConfig({intent:"display"})):Promise.resolve(null)}set optionalContentConfigPromise(e){if(!(e instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${e}`);this.pdfDocument&&this._optionalContentConfigPromise&&(this._optionalContentConfigPromise=e,this.refresh(!1,{optionalContentConfigPromise:e}),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:e}))}get scrollMode(){return this._scrollMode}set scrollMode(e){if(this._scrollMode!==e){if(!PA(e))throw new Error(`Invalid scroll mode: ${e}`);this.pagesCount>M6.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=e,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:e}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(e=null){let t=this._scrollMode,i=this.viewer;i.classList.toggle("scrollHorizontal",t===a1.HORIZONTAL),i.classList.toggle("scrollWrapped",t===a1.WRAPPED),!(!this.pdfDocument||!e)&&(t===a1.PAGE?this.#x():this._previousScrollMode===a1.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this.#E(this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(e,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(e){if(this._spreadMode!==e){if(!RA(e))throw new Error(`Invalid spread mode: ${e}`);this._spreadMode=e,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:e}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(e=null){if(!this.pdfDocument)return;let t=this.viewer,i=this._pages;if(this._scrollMode===a1.PAGE)this.#x();else if(t.textContent="",this._spreadMode===le.NONE)for(let s of this._pages)t.append(s.div);else{let s=this._spreadMode-1,o=null;for(let r=0,c=i.length;r<c;++r)o===null?(o=document.createElement("div"),o.className="spread",t.append(o)):r%2===s&&(o=o.cloneNode(!1),t.append(o)),o.append(i[r].div)}e&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this.#E(this._currentScaleValue,{noScroll:!0}),this._setCurrentPageNumber(e,!0),this.update())}_getPageAdvance(e,t=!1){switch(this._scrollMode){case a1.WRAPPED:{let{views:i}=this._getVisiblePages(),s=new Map;for(let{id:o,y:r,percent:c,widthPercent:a}of i){if(c===0||a<100)continue;let l=s.get(r);l||s.set(r,l||=[]),l.push(o)}for(let o of s.values()){let r=o.indexOf(e);if(r===-1)continue;let c=o.length;if(c===1)break;if(t)for(let a=r-1,l=0;a>=l;a--){let u=o[a],f=o[a+1]-1;if(u<f)return e-f}else for(let a=r+1,l=c;a<l;a++){let u=o[a],f=o[a-1]+1;if(u>f)return f-e}if(t){let a=o[0];if(a<e)return e-a+1}else{let a=o[c-1];if(a>e)return a-e+1}break}break}case a1.HORIZONTAL:break;case a1.PAGE:case a1.VERTICAL:{if(this._spreadMode===le.NONE)break;let i=this._spreadMode-1;if(t&&e%2!==i)break;if(!t&&e%2===i)break;let{views:s}=this._getVisiblePages(),o=t?e-1:e+1;for(let{id:r,percent:c,widthPercent:a}of s)if(r===o){if(c>0&&a===100)return 2;break}break}}return 1}nextPage(){let e=this._currentPageNumber,t=this.pagesCount;if(e>=t)return!1;let i=this._getPageAdvance(e,!1)||1;return this.currentPageNumber=Math.min(e+i,t),!0}previousPage(){let e=this._currentPageNumber;if(e<=1)return!1;let t=this._getPageAdvance(e,!0)||1;return this.currentPageNumber=Math.max(e-t,1),!0}updateScale({drawingDelay:e,scaleFactor:t=null,steps:i=null,origin:s}){if(i===null&&t===null)throw new Error("Invalid updateScale options: either `steps` or `scaleFactor` must be provided.");if(!this.pdfDocument)return;let o=this._currentScale;if(t>0&&t!==1)o=Math.round(o*t*100)/100;else if(i){let r=i>0?Lm:1/Lm,c=i>0?Math.ceil:Math.floor;i=Math.abs(i);do o=c((o*r).toFixed(2)*10)/10;while(--i>0)}o=Math.max(EA,Math.min(DA,o)),this.#E(o,{noScroll:!1,drawingDelay:e,origin:s})}increaseScale(e={}){this.updateScale(X(D({},e),{steps:e.steps??1}))}decreaseScale(e={}){this.updateScale(X(D({},e),{steps:-(e.steps??1)}))}#P(e=this.container.clientHeight){e!==this.#M&&(this.#M=e,OA.setProperty("--viewer-container-height",`${e}px`))}#O(e){for(let t of e)if(t.target===this.container){this.#P(Math.floor(t.borderBoxSize[0].blockSize)),this.#c=null;break}}get containerTopLeft(){return this.#c||=[this.container.offsetTop,this.container.offsetLeft]}#F(){this.#h&&(this.eventBus._off("pagerendered",this.#h),this.#h=null),this.#m!==null&&(clearTimeout(this.#m),this.#m=null)}get annotationEditorMode(){return this.#s?this.#i:De.DISABLE}set annotationEditorMode({mode:e,editId:t=null,isFromKeyboard:i=!1}){if(!this.#s)throw new Error("The AnnotationEditor is not enabled.");if(this.#i===e)return;if(!tg(e))throw new Error(`Invalid AnnotationEditor mode: ${e}`);if(!this.pdfDocument)return;e===De.STAMP&&this.#p?.loadModel("altText");let{eventBus:s}=this,o=()=>{this.#F(),this.#i=e,this.#s.updateMode(e,t,i),s.dispatch("annotationeditormodechanged",{source:this,mode:e})};if(e===De.NONE||this.#i===De.NONE){let r=e!==De.NONE;r||this.pdfDocument.annotationStorage.resetModifiedIds();for(let a of this._pages)a.toggleEditingMode(r);let c=this.#R();if(r&&c){this.#F(),this.#h=({pageNumber:l})=>{c.delete(l),c.size===0&&(this.#m=setTimeout(o,0))};let{signal:a}=this.#d;s._on("pagerendered",this.#h,{signal:a});return}}o()}refresh(e=!1,t=Object.create(null)){if(this.pdfDocument){for(let i of this._pages)i.update(t);this.#w!==null&&(clearTimeout(this.#w),this.#w=null),e||this.update()}}},cl=class extends I6{_resetView(){super._resetView(),this._scrollMode=a1.PAGE,this._spreadMode=le.NONE}set scrollMode(e){}_updateScrollMode(){}set spreadMode(e){}_updateSpreadMode(){}};var hD=S1.AnnotationLayerBuilder,pD=S1.DownloadManager,mD=S1.EventBus,gD=S1.FindState,al=S1.GenericL10n,l3=S1.LinkTarget,ll=S1.PDFFindController,vD=S1.PDFHistory,ul=S1.PDFLinkService,CD=S1.PDFPageView,bD=S1.PDFScriptingManager,fl=S1.PDFSinglePageViewer,dl=S1.PDFViewer,MD=S1.ProgressBar,yD=S1.RenderingStates,_D=S1.ScrollMode,LD=S1.SimpleLinkService,wD=S1.SpreadMode,zD=S1.StructTreeLayerBuilder,xD=S1.TextLayerBuilder,SD=S1.XfaLayerBuilder,AD=S1.parseQueryString;var ED=["pdfViewerContainer"];function DD(n,e){let t=new n.EventBus;return ND(t,e),t}function ND(n,e){l1(n,"documentload").pipe(J(e)).subscribe(()=>{let t=document.createEvent("CustomEvent");t.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(t)}),l1(n,"pagerendered").pipe(J(e)).subscribe(({pageNumber:t,cssTransform:i,source:s})=>{let o=document.createEvent("CustomEvent");o.initCustomEvent("pagerendered",!0,!0,{pageNumber:t,cssTransform:i}),s.div.dispatchEvent(o)}),l1(n,"textlayerrendered").pipe(J(e)).subscribe(({pageNumber:t,source:i})=>{let s=document.createEvent("CustomEvent");s.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:t}),i.textLayerDiv?.dispatchEvent(s)}),l1(n,"pagechanging").pipe(J(e)).subscribe(({pageNumber:t,source:i})=>{let s=document.createEvent("UIEvents");s.initEvent("pagechanging",!0,!0),s.pageNumber=t,i.container.dispatchEvent(s)}),l1(n,"pagesinit").pipe(J(e)).subscribe(({source:t})=>{let i=document.createEvent("CustomEvent");i.initCustomEvent("pagesinit",!0,!0,null),t.container.dispatchEvent(i)}),l1(n,"pagesloaded").pipe(J(e)).subscribe(({pagesCount:t,source:i})=>{let s=document.createEvent("CustomEvent");s.initCustomEvent("pagesloaded",!0,!0,{pagesCount:t}),i.container.dispatchEvent(s)}),l1(n,"scalechange").pipe(J(e)).subscribe(({scale:t,presetValue:i,source:s})=>{let o=document.createEvent("UIEvents");o.initEvent("scalechange",!0,!0),o.scale=t,o.presetValue=i,s.container.dispatchEvent(o)}),l1(n,"updateviewarea").pipe(J(e)).subscribe(({location:t,source:i})=>{let s=document.createEvent("UIEvents");s.initEvent("updateviewarea",!0,!0),s.location=t,i.container.dispatchEvent(s)}),l1(n,"find").pipe(J(e)).subscribe(({source:t,type:i,query:s,phraseSearch:o,caseSensitive:r,highlightAll:c,findPrevious:a})=>{if(t===window)return;let l=document.createEvent("CustomEvent");l.initCustomEvent("find"+i,!0,!0,{query:s,phraseSearch:o,caseSensitive:r,highlightAll:c,findPrevious:a}),window.dispatchEvent(l)}),l1(n,"attachmentsloaded").pipe(J(e)).subscribe(({attachmentsCount:t,source:i})=>{let s=document.createEvent("CustomEvent");s.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:t}),i.container.dispatchEvent(s)}),l1(n,"sidebarviewchanged").pipe(J(e)).subscribe(({view:t,source:i})=>{let s=document.createEvent("CustomEvent");s.initCustomEvent("sidebarviewchanged",!0,!0,{view:t}),i.outerContainer.dispatchEvent(s)}),l1(n,"pagemode").pipe(J(e)).subscribe(({mode:t,source:i})=>{let s=document.createEvent("CustomEvent");s.initCustomEvent("pagemode",!0,!0,{mode:t}),i.pdfViewer.container.dispatchEvent(s)}),l1(n,"namedaction").pipe(J(e)).subscribe(({action:t,source:i})=>{let s=document.createEvent("CustomEvent");s.initCustomEvent("namedaction",!0,!0,{action:t}),i.pdfViewer.container.dispatchEvent(s)}),l1(n,"presentationmodechanged").pipe(J(e)).subscribe(({active:t,switchInProgress:i})=>{let s=document.createEvent("CustomEvent");s.initCustomEvent("presentationmodechanged",!0,!0,{active:t,switchInProgress:i}),window.dispatchEvent(s)}),l1(n,"outlineloaded").pipe(J(e)).subscribe(({outlineCount:t,source:i})=>{let s=document.createEvent("CustomEvent");s.initCustomEvent("outlineloaded",!0,!0,{outlineCount:t}),i.container.dispatchEvent(s)})}function pl(n,e,t){n[e]=t}function H4(){return typeof window>"u"}H4()||pl(hn,"verbosity",L5.INFOS);typeof Promise.withResolvers>"u"&&window&&(window.Promise.withResolvers=()=>{let n,e;return{promise:new Promise((i,s)=>{n=i,e=s}),resolve:n,reject:e}});var ml=function(n){return n[n.DISABLED=0]="DISABLED",n[n.ENABLED=1]="ENABLED",n[n.ENHANCED=2]="ENHANCED",n}(ml||{}),ag=(()=>{class n{element;ngZone;static CSS_UNITS=96/72;static BORDER_WIDTH=9;pdfViewerContainer;eventBus;pdfLinkService;pdfFindController;pdfViewer;isVisible=!1;_cMapsUrl=typeof hn<"u"?`https://unpkg.com/pdfjs-dist@${I4}/cmaps/`:null;_imageResourcesPath=typeof hn<"u"?`https://unpkg.com/pdfjs-dist@${I4}/web/images/`:void 0;_renderText=!0;_renderTextMode=ml.ENABLED;_stickToPage=!1;_originalSize=!0;_pdf;_page=1;_zoom=1;_zoomScale="page-width";_rotation=0;_showAll=!0;_canAutoResize=!0;_fitToPage=!1;_externalLinkTarget="blank";_showBorders=!1;lastLoaded;_latestScrolledPage;pageScrollTimeout=null;isInitialized=!1;loadingTask;destroy$=new p1;afterLoadComplete=new _1;pageRendered=new _1;pageInitialized=new _1;textLayerRendered=new _1;onError=new _1;onProgress=new _1;pageChange=new _1(!0);src;set cMapsUrl(t){this._cMapsUrl=t}set page(t){t=parseInt(t,10)||1;let i=t;this._pdf&&(t=this.getValidPageNumber(t)),this._page=t,i!==t&&this.pageChange.emit(t)}set renderText(t){this._renderText=t}set renderTextMode(t){this._renderTextMode=t}set originalSize(t){this._originalSize=t}set showAll(t){this._showAll=t}set stickToPage(t){this._stickToPage=t}set zoom(t){t<=0||(this._zoom=t)}get zoom(){return this._zoom}set zoomScale(t){this._zoomScale=t}get zoomScale(){return this._zoomScale}set rotation(t){if(!(typeof t=="number"&&t%90===0)){console.warn("Invalid pages rotation angle.");return}this._rotation=t}set externalLinkTarget(t){this._externalLinkTarget=t}set autoresize(t){this._canAutoResize=!!t}set fitToPage(t){this._fitToPage=!!t}set showBorders(t){this._showBorders=!!t}static getLinkTarget(t){switch(t){case"blank":return l3.BLANK;case"none":return l3.NONE;case"self":return l3.SELF;case"parent":return l3.PARENT;case"top":return l3.TOP}return null}constructor(t,i){if(this.element=t,this.ngZone=i,H4())return;let s,o=I4,r=window[`pdfWorkerSrc${o}`];r?s=r:window.hasOwnProperty("pdfWorkerSrc")&&typeof window.pdfWorkerSrc=="string"&&window.pdfWorkerSrc?s=window.pdfWorkerSrc:s=`https://cdn.jsdelivr.net/npm/pdfjs-dist@${o}/legacy/build/pdf.worker.min.mjs`,pl(_5,"workerSrc",s)}ngAfterViewChecked(){if(this.isInitialized)return;let t=this.pdfViewerContainer.nativeElement.offsetParent;if(this.isVisible===!0&&t==null){this.isVisible=!1;return}this.isVisible===!1&&t!=null&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})}))}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}ngOnChanges(t){if(!(H4()||!this.isVisible)){if("src"in t)this.loadPDF();else if(this._pdf){if(("renderText"in t||"showAll"in t)&&(this.setupViewer(),this.resetPdfDocument()),"page"in t){let{page:i}=t;if(i.currentValue===this._latestScrolledPage)return;this.pdfViewer.scrollPageIntoView({pageNumber:this._page})}this.update()}}}updateSize(){y1(this._pdf.getPage(this.pdfViewer.currentPageNumber)).pipe(J(this.destroy$)).subscribe({next:t=>{let i=this._rotation+t.rotate,s=t.getViewport({scale:this._zoom,rotation:i}).width*n.CSS_UNITS,o=this._zoom,r=!0;if(!this._originalSize||this._fitToPage&&s>this.pdfViewerContainer.nativeElement.clientWidth){let c=t.getViewport({scale:1,rotation:i});o=this.getScale(c.width,c.height),r=!this._stickToPage}this.pdfViewer.currentScale=o,r&&this.pdfViewer.scrollPageIntoView({pageNumber:t.pageNumber,ignoreDestinationZoom:!0})}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._latestScrolledPage=0,this._pdf.destroy(),this._pdf=void 0),this.pdfViewer&&this.pdfViewer.setDocument(null),this.pdfLinkService&&this.pdfLinkService.setDocument(null,null),this.pdfFindController&&this.pdfFindController.setDocument(null)}getPDFLinkServiceConfig(){let t=n.getLinkTarget(this._externalLinkTarget);return t?{externalLinkTarget:t}:{}}initEventBus(){this.eventBus=DD(hl,this.destroy$),l1(this.eventBus,"pagerendered").pipe(J(this.destroy$)).subscribe(t=>{this.pageRendered.emit(t)}),l1(this.eventBus,"pagesinit").pipe(J(this.destroy$)).subscribe(t=>{this.pageInitialized.emit(t)}),l1(this.eventBus,"pagechanging").pipe(J(this.destroy$)).subscribe(({pageNumber:t})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=t,this.pageChange.emit(t)},100)}),l1(this.eventBus,"textlayerrendered").pipe(J(this.destroy$)).subscribe(t=>{this.textLayerRendered.emit(t)})}initPDFServices(){this.pdfLinkService=new ul(D({eventBus:this.eventBus},this.getPDFLinkServiceConfig())),this.pdfFindController=new ll({eventBus:this.eventBus,linkService:this.pdfLinkService})}getPDFOptions(){return{eventBus:this.eventBus,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfLinkService,textLayerMode:this._renderText?this._renderTextMode:ml.DISABLED,findController:this.pdfFindController,l10n:new al("en"),imageResourcesPath:this._imageResourcesPath,annotationEditorMode:y5.DISABLE}}setupViewer(){this.pdfViewer&&this.pdfViewer.setDocument(null),pl(hn,"disableTextLayer",!this._renderText),this.initPDFServices(),this._showAll?this.pdfViewer=new dl(this.getPDFOptions()):this.pdfViewer=new fl(this.getPDFOptions()),this.pdfLinkService.setViewer(this.pdfViewer),this.pdfViewer._currentPageNumber=this._page}getValidPageNumber(t){return t<1?1:t>this._pdf.numPages?this._pdf.numPages:t}getDocumentParams(){let t=typeof this.src;if(!this._cMapsUrl)return this.src;let i={cMapUrl:this._cMapsUrl,cMapPacked:!0,enableXfa:!0};return i.isEvalSupported=!1,t==="string"?i.url=this.src:t==="object"&&(this.src.byteLength!==void 0?i.data=this.src:Object.assign(i,this.src)),i}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src){this.update();return}this.clear(),this.setupViewer(),this.loadingTask=w5(this.getDocumentParams()),this.loadingTask.onProgress=i=>{this.onProgress.emit(i)};let t=this.src;y1(this.loadingTask.promise).pipe(J(this.destroy$)).subscribe({next:i=>{this._pdf=i,this.lastLoaded=t,this.afterLoadComplete.emit(i),this.resetPdfDocument(),this.update()},error:i=>{this.lastLoaded=null,this.onError.emit(i)}})}update(){this.page=this._page,this.render()}render(){if(this._page=this.getValidPageNumber(this._page),(this._rotation!==0||this.pdfViewer.pagesRotation!==this._rotation)&&this.pdfViewer.firstPagePromise?.then(()=>this.pdfViewer.pagesRotation=this._rotation),this._stickToPage&&setTimeout(()=>{this.pdfViewer.currentPageNumber=this._page}),this.pdfViewer._pages?.length)this.updateSize();else{let t=this.pageInitialized.subscribe(()=>{this.updateSize(),t.unsubscribe()})}}getScale(t,i){let s=this._showBorders?2*n.BORDER_WIDTH:0,o=this.pdfViewerContainer.nativeElement.clientWidth-s,r=this.pdfViewerContainer.nativeElement.clientHeight-s;if(r===0||i===0||o===0||t===0)return 1;let c=1;switch(this._zoomScale){case"page-fit":c=Math.min(r/i,o/t);break;case"page-height":c=r/i;break;case"page-width":default:c=o/t;break}return this._zoom*c/n.CSS_UNITS}resetPdfDocument(){this.pdfLinkService.setDocument(this._pdf,null),this.pdfFindController.setDocument(this._pdf),this.pdfViewer.setDocument(this._pdf)}initialize(){H4()||!this.isVisible||(this.isInitialized=!0,this.initEventBus(),this.setupViewer())}setupResizeListener(){H4()||this.ngZone.runOutsideAngular(()=>{l1(window,"resize").pipe(zo(100),V1(()=>this._canAutoResize&&!!this._pdf),J(this.destroy$)).subscribe(()=>{this.updateSize()})})}static \u0275fac=function(i){return new(i||n)(s1(Y1),s1(d1))};static \u0275cmp=se({type:n,selectors:[["pdf-viewer"]],viewQuery:function(i,s){if(i&1&&Xi(ED,5),i&2){let o;en(o=tn())&&(s.pdfViewerContainer=o.first)}},inputs:{src:"src",cMapsUrl:[0,"c-maps-url","cMapsUrl"],page:"page",renderText:[0,"render-text","renderText"],renderTextMode:[0,"render-text-mode","renderTextMode"],originalSize:[0,"original-size","originalSize"],showAll:[0,"show-all","showAll"],stickToPage:[0,"stick-to-page","stickToPage"],zoom:"zoom",zoomScale:[0,"zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:[0,"external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:[0,"fit-to-page","fitToPage"],showBorders:[0,"show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},standalone:!1,features:[Oe],decls:3,vars:0,consts:[["pdfViewerContainer",""],[1,"ng2-pdf-viewer-container"],[1,"pdfViewer"]],template:function(i,s){i&1&&(z1(0,"div",1,0),J1(2,"div",2),D1())},styles:[`.ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--viewer-container-height: 0;--annotation-unfocused-field-background: url("data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>");--xfa-unfocused-field-background: var( --annotation-unfocused-field-background );--page-border-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=) 9 9 repeat;--scale-factor: 1;--focus-outline: solid 2px blue;--hover-outline: dashed 2px blue;--freetext-line-height: 1.35;--freetext-padding: 2px;--editorInk-editing-cursor: pointer}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 8px auto -1px;--page-border: 1px solid CanvasText;--page-border-image: none;--spreadHorizontalWrapped-margin-LR: 3.5px}}@media (forced-colors: active){[_nghost-%COMP%]    {--focus-outline: solid 3px ButtonText;--hover-outline: dashed 3px ButtonText}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;inset:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none;transform-origin:0 0}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:rgb(0,0,255)}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;inset:100% 0 0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}@media (forced-colors: active){[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:required, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:required, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:required{outline:1.5px solid selectedItem}}[_nghost-%COMP%]     .annotationLayer{position:absolute;top:0;left:0;pointer-events:none;transform-origin:0 0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial;pointer-events:auto;box-sizing:border-box;transform-origin:0 0}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:rgb(255,255,0);box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font:calc(9px * var(--scale-factor)) sans-serif;height:100%;margin:0;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:required, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:required, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:required, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:required{outline:1.5px solid red}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid rgb(0,0,0)}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:CanvasText;content:"";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;appearance:none}[_nghost-%COMP%]     .annotationLayer .popupTriggerArea{height:100%;width:100%}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;font-size:calc(9px * var(--scale-factor));width:100%;min-width:calc(180px * var(--scale-factor));pointer-events:none}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;max-width:calc(180px * var(--scale-factor));background-color:#ff9;box-shadow:0 calc(2px * var(--scale-factor)) calc(5px * var(--scale-factor)) #888;border-radius:calc(2px * var(--scale-factor));padding:calc(6px * var(--scale-factor));margin-left:calc(5px * var(--scale-factor));cursor:pointer;font:message-box;white-space:normal;word-wrap:break-word;pointer-events:auto}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:calc(9px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:calc(5px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid rgb(51,51,51);margin-top:calc(2px * var(--scale-factor));padding-top:calc(2px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap;font-size:calc(9px * var(--scale-factor))}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .annotationLayer section svg{position:absolute;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .annotationTextContent{position:absolute;width:100%;height:100%;opacity:0;color:transparent;-webkit-user-select:none;user-select:none;pointer-events:none}[_nghost-%COMP%]     .annotationLayer .annotationTextContent span{width:100%;display:inline-block}@media (forced-colors: active){[_nghost-%COMP%]     .xfaLayer *:required{outline:1.5px solid selectedItem}}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:rgb(0,0,255)}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer *:required{outline:1.5px solid red}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;appearance:none;text-indent:1px;text-overflow:""}}[_nghost-%COMP%]     [data-editor-rotation="90"]{transform:rotate(90deg)}[_nghost-%COMP%]     [data-editor-rotation="180"]{transform:rotate(180deg)}[_nghost-%COMP%]     [data-editor-rotation="270"]{transform:rotate(270deg)}[_nghost-%COMP%]     .annotationEditorLayer{background:transparent;position:absolute;top:0;left:0;font-size:calc(100px * var(--scale-factor));transform-origin:0 0}[_nghost-%COMP%]     .annotationEditorLayer .selectedEditor{outline:var(--focus-outline);resize:none}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor{position:absolute;background:transparent;border-radius:3px;padding:calc(var(--freetext-padding) * var(--scale-factor));resize:none;width:auto;height:auto;z-index:1;transform-origin:0 0;touch-action:none}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal{background:transparent;border:none;top:0;left:0;overflow:visible;white-space:nowrap;resize:none;font:10px sans-serif;line-height:var(--freetext-line-height)}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .overlay{position:absolute;display:none;background:transparent;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .overlay.enabled{display:block}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal:empty:before{content:attr(default-content);color:gray}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor .internal:focus{outline:none}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.disabled{resize:none}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.disabled.selectedEditor{resize:horizontal}[_nghost-%COMP%]     .annotationEditorLayer .freeTextEditor:hover:not(.selectedEditor), [_nghost-%COMP%]     .annotationEditorLayer .inkEditor:hover:not(.selectedEditor){outline:var(--hover-outline)}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor{position:absolute;background:transparent;border-radius:3px;overflow:auto;width:100%;height:100%;z-index:1;transform-origin:0 0;cursor:auto}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor.editing{resize:none;cursor:var(--editorInk-editing-cursor),pointer}[_nghost-%COMP%]     .annotationEditorLayer .inkEditor .inkEditorCanvas{position:absolute;top:0;left:0;width:100%;height:100%;touch-action:none}[_nghost-%COMP%]     [data-main-rotation="90"]{transform:rotate(90deg) translateY(-100%)}[_nghost-%COMP%]     [data-main-rotation="180"]{transform:rotate(180deg) translate(-100%,-100%)}[_nghost-%COMP%]     [data-main-rotation="270"]{transform:rotate(270deg) translate(-100%)}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);border-image:var(--page-border-image);background-clip:content-box;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;inset:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}`]})}return n})(),lg=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=f1({type:n});static \u0275inj=u1({})}return n})();var ID=()=>["fas","file-pdf"],kD=()=>["fas","download"],PD=()=>["fas","window-close"];function RD(n,e){if(n&1){let t=h2();z1(0,"div",3)(1,"h4",4),Qe(2," Curr\xEDculo - Joshua Maia Rodrigues - "),z1(3,"a",5),be("click",function(){qe(t);let s=Ke();return Ze(s.downloadPDF())}),J1(4,"fa-icon",2),D1(),z1(5,"a",6),be("click",function(){qe(t);let s=Ke();return Ze(s.close())}),J1(6,"fa-icon",2),D1()()(),z1(7,"div",7),J1(8,"pdf-viewer",8),D1()}if(n&2){let t=Ke();ie(4),xe("icon",vt(5,kD)),ie(2),xe("icon",vt(6,PD)),ie(2),xe("src",t.pdfSrc)("render-text",!0)("original-size",!1)}}var Sj=(()=>{class n{constructor(t){this.modalService=t,this.pdfSrc="../../assets/Joshua_MaiaRodrigues_Resume.pdf"}ngOnInit(){}open(t){this.modalService.open(t,{size:"lg",backdrop:"static"})}close(){this.modalService.dismissAll()}downloadPDF(){let t=document.createElement("a");t.href=this.pdfSrc,t.download="Joshua_MaiaRodrigues_Resume.pdf",t.click()}static{this.\u0275fac=function(i){return new(i||n)(s1(e3))}}static{this.\u0275cmp=se({type:n,selectors:[["app-exibir-download-curriculo"]],standalone:!1,decls:4,vars:2,consts:[["curriculo",""],[1,"textotopo",2,"cursor","pointer",3,"click"],[3,"icon"],[1,"modal-header","header-modal"],[1,"modal-title","pull-left"],[1,"m-2","textopdf",2,"cursor","pointer",3,"click"],[1,"textopdf",2,"cursor","pointer",3,"click"],[1,"modal-body","modalcss"],[2,"width","100%","height","600px",3,"src","render-text","original-size"]],template:function(i,s){if(i&1){let o=h2();z1(0,"a",1),be("click",function(){qe(o);let c=qt(3);return Ze(s.open(c))}),J1(1,"fa-icon",2),D1(),mt(2,RD,9,7,"ng-template",null,0,Zt)}i&2&&(ie(),xe("icon",vt(1,ID)))},dependencies:[an,ag],styles:[".theme-day[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff!important}.theme-day[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#007bff!important}"]})}}return n})();var Vj=(()=>{class n{constructor(t){this.fontAwesomeLibrary=t,this.configureFontAwesome()}configureFontAwesome(){this.fontAwesomeLibrary.addIcons(...Qp)}static{this.\u0275fac=function(i){return new(i||n)(F(Ha))}}static{this.\u0275mod=f1({type:n})}static{this.\u0275inj=u1({imports:[rs,Va,Op,lg,Va]})}}return n})();var q="primary",X4=Symbol("RouteTitle"),Ml=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Ln(n){return new Ml(n)}function OD(n,e,t){let i=t.path.split("/");if(i.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||i.length<n.length))return null;let s={};for(let o=0;o<i.length;o++){let r=i[o],c=n[o];if(r[0]===":")s[r.substring(1)]=c;else if(r!==c.path)return null}return{consumed:n.slice(0,i.length),posParams:s}}function FD(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!y2(n[t],e[t]))return!1;return!0}function y2(n,e){let t=n?yl(n):void 0,i=e?yl(e):void 0;if(!t||!i||t.length!=i.length)return!1;let s;for(let o=0;o<t.length;o++)if(s=t[o],!yg(n[s],e[s]))return!1;return!0}function yl(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function yg(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),i=[...e].sort();return t.every((s,o)=>i[o]===s)}else return n===e}function _g(n){return n.length>0?n[n.length-1]:null}function Et(n){return _o(n)?n:n4(n)?y1(Promise.resolve(n)):O(n)}var HD={exact:wg,subset:zg},Lg={exact:VD,subset:BD,ignored:()=>!0};function ug(n,e,t){return HD[t.paths](n.root,e.root,t.matrixParams)&&Lg[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function VD(n,e){return y2(n,e)}function wg(n,e,t){if(!f3(n.segments,e.segments)||!O6(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!n.children[i]||!wg(n.children[i],e.children[i],t))return!1;return!0}function BD(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>yg(n[t],e[t]))}function zg(n,e,t){return xg(n,e,e.segments,t)}function xg(n,e,t,i){if(n.segments.length>t.length){let s=n.segments.slice(0,t.length);return!(!f3(s,t)||e.hasChildren()||!O6(s,t,i))}else if(n.segments.length===t.length){if(!f3(n.segments,t)||!O6(n.segments,t,i))return!1;for(let s in e.children)if(!n.children[s]||!zg(n.children[s],e.children[s],i))return!1;return!0}else{let s=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!f3(n.segments,s)||!O6(n.segments,s,i)||!n.children[q]?!1:xg(n.children[q],e,o,i)}}function O6(n,e,t){return e.every((i,s)=>Lg[t](n[s].parameters,i.parameters))}var J2=class{root;queryParams;fragment;_queryParamMap;constructor(e=new g1([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Ln(this.queryParams),this._queryParamMap}toString(){return $D.serialize(this)}},g1=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return F6(this)}},u3=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Ln(this.parameters),this._parameterMap}toString(){return Ag(this)}};function jD(n,e){return f3(n,e)&&n.every((t,i)=>y2(t.parameters,e[i].parameters))}function f3(n,e){return n.length!==e.length?!1:n.every((t,i)=>t.path===e[i].path)}function UD(n,e){let t=[];return Object.entries(n.children).forEach(([i,s])=>{i===q&&(t=t.concat(e(s,i)))}),Object.entries(n.children).forEach(([i,s])=>{i!==q&&(t=t.concat(e(s,i)))}),t}var e0=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=I({token:n,factory:()=>new wn,providedIn:"root"})}return n})(),wn=class{parse(e){let t=new Ll(e);return new J2(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${V4(e.root,!0)}`,i=qD(e.queryParams),s=typeof e.fragment=="string"?`#${GD(e.fragment)}`:"";return`${t}${i}${s}`}},$D=new wn;function F6(n){return n.segments.map(e=>Ag(e)).join("/")}function V4(n,e){if(!n.hasChildren())return F6(n);if(e){let t=n.children[q]?V4(n.children[q],!1):"",i=[];return Object.entries(n.children).forEach(([s,o])=>{s!==q&&i.push(`${s}:${V4(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=UD(n,(i,s)=>s===q?[V4(n.children[q],!1)]:[`${s}:${V4(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[q]!=null?`${F6(n)}/${t[0]}`:`${F6(n)}/(${t.join("//")})`}}function Sg(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function P6(n){return Sg(n).replace(/%3B/gi,";")}function GD(n){return encodeURI(n)}function _l(n){return Sg(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function H6(n){return decodeURIComponent(n)}function fg(n){return H6(n.replace(/\+/g,"%20"))}function Ag(n){return`${_l(n.path)}${WD(n.parameters)}`}function WD(n){return Object.entries(n).map(([e,t])=>`;${_l(e)}=${_l(t)}`).join("")}function qD(n){let e=Object.entries(n).map(([t,i])=>Array.isArray(i)?i.map(s=>`${P6(t)}=${P6(s)}`).join("&"):`${P6(t)}=${P6(i)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var ZD=/^[^\/()?;#]+/;function gl(n){let e=n.match(ZD);return e?e[0]:""}var YD=/^[^\/()?;=#]+/;function JD(n){let e=n.match(YD);return e?e[0]:""}var KD=/^[^=?&#]+/;function QD(n){let e=n.match(KD);return e?e[0]:""}var XD=/^[^&#]+/;function eN(n){let e=n.match(XD);return e?e[0]:""}var Ll=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new g1([],{}):new g1([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[q]=new g1(e,t)),i}parseSegment(){let e=gl(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new P(4009,!1);return this.capture(e),new u3(H6(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=JD(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let s=gl(this.remaining);s&&(i=s,this.capture(i))}e[H6(t)]=H6(i)}parseQueryParam(e){let t=QD(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=eN(this.remaining);r&&(i=r,this.capture(i))}let s=fg(t),o=fg(i);if(e.hasOwnProperty(s)){let r=e[s];Array.isArray(r)||(r=[r],e[s]=r),r.push(o)}else e[s]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=gl(this.remaining),s=this.remaining[i.length];if(s!=="/"&&s!==")"&&s!==";")throw new P(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=q);let r=this.parseChildren();t[o]=Object.keys(r).length===1?r[q]:new g1([],r),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new P(4011,!1)}};function Eg(n){return n.segments.length>0?new g1([],{[q]:n}):n}function Dg(n){let e={};for(let[i,s]of Object.entries(n.children)){let o=Dg(s);if(i===q&&o.segments.length===0&&o.hasChildren())for(let[r,c]of Object.entries(o.children))e[r]=c;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let t=new g1(n.segments,e);return tN(t)}function tN(n){if(n.numberOfChildren===1&&n.children[q]){let e=n.children[q];return new g1(n.segments.concat(e.segments),e.children)}return n}function d3(n){return n instanceof J2}function nN(n,e,t=null,i=null){let s=Ng(n);return Tg(s,e,t,i)}function Ng(n){let e;function t(o){let r={};for(let a of o.children){let l=t(a);r[a.outlet]=l}let c=new g1(o.url,r);return o===n&&(e=c),c}let i=t(n.root),s=Eg(i);return e??s}function Tg(n,e,t,i){let s=n;for(;s.parent;)s=s.parent;if(e.length===0)return vl(s,s,s,t,i);let o=iN(e);if(o.toRoot())return vl(s,s,new g1([],{}),t,i);let r=sN(o,s,n),c=r.processChildren?U4(r.segmentGroup,r.index,o.commands):kg(r.segmentGroup,r.index,o.commands);return vl(s,r.segmentGroup,c,t,i)}function V6(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function W4(n){return typeof n=="object"&&n!=null&&n.outlets}function vl(n,e,t,i,s){let o={};i&&Object.entries(i).forEach(([a,l])=>{o[a]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let r;n===e?r=t:r=Ig(n,e,t);let c=Eg(Dg(r));return new J2(c,o,s)}function Ig(n,e,t){let i={};return Object.entries(n.children).forEach(([s,o])=>{o===e?i[s]=t:i[s]=Ig(o,e,t)}),new g1(n.segments,i)}var B6=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&V6(i[0]))throw new P(4003,!1);let s=i.find(W4);if(s&&s!==_g(i))throw new P(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function iN(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new B6(!0,0,n);let e=0,t=!1,i=n.reduce((s,o,r)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([a,l])=>{c[a]=typeof l=="string"?l.split("/"):l}),[...s,{outlets:c}]}if(o.segmentPath)return[...s,o.segmentPath]}return typeof o!="string"?[...s,o]:r===0?(o.split("/").forEach((c,a)=>{a==0&&c==="."||(a==0&&c===""?t=!0:c===".."?e++:c!=""&&s.push(c))}),s):[...s,o]},[]);return new B6(t,e,i)}var Mn=class{segmentGroup;processChildren;index;constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}};function sN(n,e,t){if(n.isAbsolute)return new Mn(e,!0,0);if(!t)return new Mn(e,!1,NaN);if(t.parent===null)return new Mn(t,!0,0);let i=V6(n.commands[0])?0:1,s=t.segments.length-1+i;return oN(t,s,n.numberOfDoubleDots)}function oN(n,e,t){let i=n,s=e,o=t;for(;o>s;){if(o-=s,i=i.parent,!i)throw new P(4005,!1);s=i.segments.length}return new Mn(i,!1,s-o)}function rN(n){return W4(n[0])?n[0].outlets:{[q]:n}}function kg(n,e,t){if(n??=new g1([],{}),n.segments.length===0&&n.hasChildren())return U4(n,e,t);let i=cN(n,e,t),s=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let o=new g1(n.segments.slice(0,i.pathIndex),{});return o.children[q]=new g1(n.segments.slice(i.pathIndex),n.children),U4(o,0,s)}else return i.match&&s.length===0?new g1(n.segments,{}):i.match&&!n.hasChildren()?wl(n,e,t):i.match?U4(n,0,s):wl(n,e,t)}function U4(n,e,t){if(t.length===0)return new g1(n.segments,{});{let i=rN(t),s={};if(Object.keys(i).some(o=>o!==q)&&n.children[q]&&n.numberOfChildren===1&&n.children[q].segments.length===0){let o=U4(n.children[q],e,t);return new g1(n.segments,o.children)}return Object.entries(i).forEach(([o,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(s[o]=kg(n.children[o],e,r))}),Object.entries(n.children).forEach(([o,r])=>{i[o]===void 0&&(s[o]=r)}),new g1(n.segments,s)}}function cN(n,e,t){let i=0,s=e,o={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(i>=t.length)return o;let r=n.segments[s],c=t[i];if(W4(c))break;let a=`${c}`,l=i<t.length-1?t[i+1]:null;if(s>0&&a===void 0)break;if(a&&l&&typeof l=="object"&&l.outlets===void 0){if(!hg(a,l,r))return o;i+=2}else{if(!hg(a,{},r))return o;i++}s++}return{match:!0,pathIndex:s,commandIndex:i}}function wl(n,e,t){let i=n.segments.slice(0,e),s=0;for(;s<t.length;){let o=t[s];if(W4(o)){let a=aN(o.outlets);return new g1(i,a)}if(s===0&&V6(t[0])){let a=n.segments[e];i.push(new u3(a.path,dg(t[0]))),s++;continue}let r=W4(o)?o.outlets[q]:`${o}`,c=s<t.length-1?t[s+1]:null;r&&c&&V6(c)?(i.push(new u3(r,dg(c))),s+=2):(i.push(new u3(r,{})),s++)}return new g1(i,{})}function aN(n){let e={};return Object.entries(n).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[t]=wl(new g1([],{}),0,i))}),e}function dg(n){let e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function hg(n,e,t){return n==t.path&&y2(e,t.parameters)}var $4="imperative",W1=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(W1||{}),je=class{id;url;constructor(e,t){this.id=e,this.url=t}},zn=class extends je{type=W1.NavigationStart;navigationTrigger;restoredState;constructor(e,t,i="imperative",s=null){super(e,t),this.navigationTrigger=i,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},i2=class extends je{urlAfterRedirects;type=W1.NavigationEnd;constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Te=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Te||{}),j6=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(j6||{}),Y2=class extends je{reason;code;type=W1.NavigationCancel;constructor(e,t,i,s){super(e,t),this.reason=i,this.code=s}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},At=class extends je{reason;code;type=W1.NavigationSkipped;constructor(e,t,i,s){super(e,t),this.reason=i,this.code=s}},q4=class extends je{error;target;type=W1.NavigationError;constructor(e,t,i,s){super(e,t),this.error=i,this.target=s}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},U6=class extends je{urlAfterRedirects;state;type=W1.RoutesRecognized;constructor(e,t,i,s){super(e,t),this.urlAfterRedirects=i,this.state=s}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zl=class extends je{urlAfterRedirects;state;type=W1.GuardsCheckStart;constructor(e,t,i,s){super(e,t),this.urlAfterRedirects=i,this.state=s}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xl=class extends je{urlAfterRedirects;state;shouldActivate;type=W1.GuardsCheckEnd;constructor(e,t,i,s,o){super(e,t),this.urlAfterRedirects=i,this.state=s,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Sl=class extends je{urlAfterRedirects;state;type=W1.ResolveStart;constructor(e,t,i,s){super(e,t),this.urlAfterRedirects=i,this.state=s}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Al=class extends je{urlAfterRedirects;state;type=W1.ResolveEnd;constructor(e,t,i,s){super(e,t),this.urlAfterRedirects=i,this.state=s}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},El=class{route;type=W1.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Dl=class{route;type=W1.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Nl=class{snapshot;type=W1.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Tl=class{snapshot;type=W1.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Il=class{snapshot;type=W1.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},kl=class{snapshot;type=W1.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$6=class{routerEvent;position;anchor;type=W1.Scroll;constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Z4=class{},xn=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function lN(n,e){return n.providers&&!n._injector&&(n._injector=Wi(n.providers,e,`Route: ${n.path}`)),n._injector??e}function n2(n){return n.outlet||q}function uN(n,e){let t=n.filter(i=>n2(i)===e);return t.push(...n.filter(i=>n2(i)!==e)),t}function t0(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Pl=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return t0(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new n0(this.rootInjector)}},n0=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,i){let s=this.getOrCreateContext(t);s.outlet=i,this.contexts.set(t,s)}onChildOutletDestroyed(t){let i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new Pl(this.rootInjector),this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(i){return new(i||n)(F(ee))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),G6=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Rl(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){let t=Rl(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Ol(e,this._root);return t.length<2?[]:t[t.length-2].children.map(s=>s.value).filter(s=>s!==e)}pathFromRoot(e){return Ol(e,this._root).map(t=>t.value)}};function Rl(n,e){if(n===e.value)return e;for(let t of e.children){let i=Rl(n,t);if(i)return i}return null}function Ol(n,e){if(n===e.value)return[e];for(let t of e.children){let i=Ol(n,t);if(i.length)return i.unshift(e),i}return[]}var Ne=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function bn(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var W6=class extends G6{snapshot;constructor(e,t){super(e),this.snapshot=t,Wl(this,e)}toString(){return this.snapshot.toString()}};function Pg(n){let e=fN(n),t=new $1([new u3("",{})]),i=new $1({}),s=new $1({}),o=new $1({}),r=new $1(""),c=new h3(t,i,o,r,s,q,n,e.root);return c.snapshot=e.root,new W6(new Ne(c,[]),e)}function fN(n){let e={},t={},i={},s="",o=new yn([],e,i,s,t,q,n,null,{});return new Z6("",new Ne(o,[]))}var h3=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,i,s,o,r,c,a){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=s,this.dataSubject=o,this.outlet=r,this.component=c,this._futureSnapshot=a,this.title=this.dataSubject?.pipe(t1(l=>l[X4]))??O(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=s,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(t1(e=>Ln(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(t1(e=>Ln(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function q6(n,e,t="emptyOnly"){let i,{routeConfig:s}=n;return e!==null&&(t==="always"||s?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:D(D({},e.params),n.params),data:D(D({},e.data),n.data),resolve:D(D(D(D({},n.data),e.data),s?.data),n._resolvedData)}:i={params:D({},n.params),data:D({},n.data),resolve:D(D({},n.data),n._resolvedData??{})},s&&Og(s)&&(i.resolve[X4]=s.title),i}var yn=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[X4]}constructor(e,t,i,s,o,r,c,a,l){this.url=e,this.params=t,this.queryParams=i,this.fragment=s,this.data=o,this.outlet=r,this.component=c,this.routeConfig=a,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ln(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ln(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Z6=class extends G6{url;constructor(e,t){super(t),this.url=e,Wl(this,t)}toString(){return Rg(this._root)}};function Wl(n,e){e.value._routerState=n,e.children.forEach(t=>Wl(n,t))}function Rg(n){let e=n.children.length>0?` { ${n.children.map(Rg).join(", ")} } `:"";return`${n.value}${e}`}function Cl(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,y2(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),y2(e.params,t.params)||n.paramsSubject.next(t.params),FD(e.url,t.url)||n.urlSubject.next(t.url),y2(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Fl(n,e){let t=y2(n.params,e.params)&&jD(n.url,e.url),i=!n.parent!=!e.parent;return t&&!i&&(!n.parent||Fl(n.parent,e.parent))}function Og(n){return typeof n.title=="string"||n.title===null}var dN=new V(""),hN=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=q;activateEvents=new _1;deactivateEvents=new _1;attachEvents=new _1;detachEvents=new _1;routerOutletData=Ju(void 0);parentContexts=x(n0);location=x(pt);changeDetector=x(Ct);inputBinder=x(X6,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:i,previousValue:s}=t.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new P(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new P(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new P(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new P(4013,!1);this._activatedRoute=t;let s=this.location,r=t.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,a=new Hl(t,c,s.injector,this.routerOutletData);this.activated=s.createComponent(r,{index:s.length,injector:a,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=f2({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Oe]})}return n})(),Hl=class n{route;childContexts;parent;outletData;__ngOutletInjector(e){return new n(this.route,this.childContexts,e,this.outletData)}constructor(e,t,i,s){this.route=e,this.childContexts=t,this.parent=i,this.outletData=s}get(e,t){return e===h3?this.route:e===n0?this.childContexts:e===dN?this.outletData:this.parent.get(e,t)}},X6=new V(""),pg=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:i}=t,s=z3([i.queryParams,i.params,i.data]).pipe(pe(([o,r,c],a)=>(c=D(D(D({},o),r),c),a===0?O(c):Promise.resolve(c)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(t);return}let r=Id(i.component);if(!r){this.unsubscribeFromRouteData(t);return}for(let{templateName:c}of r.inputs)t.activatedComponentRef.setInput(c,o[c])});this.outletDataSubscriptions.set(t,s)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})();function pN(n,e,t){let i=Y4(n,e._root,t?t._root:void 0);return new W6(i,e)}function Y4(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=e.value;let s=mN(n,e,t);return new Ne(i,s)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let r=o.route;return r.value._futureSnapshot=e.value,r.children=e.children.map(c=>Y4(n,c)),r}}let i=gN(e.value),s=e.children.map(o=>Y4(n,o));return new Ne(i,s)}}function mN(n,e,t){return e.children.map(i=>{for(let s of t.children)if(n.shouldReuseRoute(i.value,s.value.snapshot))return Y4(n,i,s);return Y4(n,i)})}function gN(n){return new h3(new $1(n.url),new $1(n.params),new $1(n.queryParams),new $1(n.fragment),new $1(n.data),n.outlet,n.component,n)}var J4=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},Fg="ngNavigationCancelingError";function Y6(n,e){let{redirectTo:t,navigationBehaviorOptions:i}=d3(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,s=Hg(!1,Te.Redirect);return s.url=t,s.navigationBehaviorOptions=i,s}function Hg(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[Fg]=!0,t.cancellationCode=e,t}function vN(n){return Vg(n)&&d3(n.url)}function Vg(n){return!!n&&n[Fg]}var CN=(n,e,t,i)=>t1(s=>(new Vl(e,s.targetRouterState,s.currentRouterState,t,i).activate(n),s)),Vl=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,i,s,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=s,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),Cl(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){let s=bn(t);e.children.forEach(o=>{let r=o.value.outlet;this.deactivateRoutes(o,s[r],i),delete s[r]}),Object.values(s).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){let s=e.value,o=t?t.value:null;if(s===o)if(s.component){let r=i.getContext(s.outlet);r&&this.deactivateChildRoutes(e,t,r.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let i=t.getContext(e.value.outlet),s=i&&e.value.component?i.children:t,o=bn(e);for(let r of Object.values(o))this.deactivateRouteAndItsChildren(r,s);if(i&&i.outlet){let r=i.outlet.detach(),c=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:r,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){let i=t.getContext(e.value.outlet),s=i&&e.value.component?i.children:t,o=bn(e);for(let r of Object.values(o))this.deactivateRouteAndItsChildren(r,s);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){let s=bn(t);e.children.forEach(o=>{this.activateRoutes(o,s[o.value.outlet],i),this.forwardEvent(new kl(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Tl(e.value.snapshot))}activateRoutes(e,t,i){let s=e.value,o=t?t.value:null;if(Cl(s),s===o)if(s.component){let r=i.getOrCreateContext(s.outlet);this.activateChildRoutes(e,t,r.children)}else this.activateChildRoutes(e,t,i);else if(s.component){let r=i.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){let c=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),r.children.onOutletReAttached(c.contexts),r.attachRef=c.componentRef,r.route=c.route.value,r.outlet&&r.outlet.attach(c.componentRef,c.route.value),Cl(c.route.value),this.activateChildRoutes(e,null,r.children)}else r.attachRef=null,r.route=s,r.outlet&&r.outlet.activateWith(s,r.injector),this.activateChildRoutes(e,null,r.children)}else this.activateChildRoutes(e,null,i)}},J6=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},_n=class{component;route;constructor(e,t){this.component=e,this.route=t}};function bN(n,e,t){let i=n._root,s=e?e._root:null;return B4(i,s,t,[i.value])}function MN(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function An(n,e){let t=Symbol(),i=e.get(n,t);return i===t?typeof n=="function"&&!U9(n)?n:e.get(n):i}function B4(n,e,t,i,s={canDeactivateChecks:[],canActivateChecks:[]}){let o=bn(e);return n.children.forEach(r=>{yN(r,o[r.value.outlet],t,i.concat([r.value]),s),delete o[r.value.outlet]}),Object.entries(o).forEach(([r,c])=>G4(c,t.getContext(r),s)),s}function yN(n,e,t,i,s={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,r=e?e.value:null,c=t?t.getContext(n.value.outlet):null;if(r&&o.routeConfig===r.routeConfig){let a=_N(r,o,o.routeConfig.runGuardsAndResolvers);a?s.canActivateChecks.push(new J6(i)):(o.data=r.data,o._resolvedData=r._resolvedData),o.component?B4(n,e,c?c.children:null,i,s):B4(n,e,t,i,s),a&&c&&c.outlet&&c.outlet.isActivated&&s.canDeactivateChecks.push(new _n(c.outlet.component,r))}else r&&G4(e,c,s),s.canActivateChecks.push(new J6(i)),o.component?B4(n,null,c?c.children:null,i,s):B4(n,null,t,i,s);return s}function _N(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!f3(n.url,e.url);case"pathParamsOrQueryParamsChange":return!f3(n.url,e.url)||!y2(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Fl(n,e)||!y2(n.queryParams,e.queryParams);case"paramsChange":default:return!Fl(n,e)}}function G4(n,e,t){let i=bn(n),s=n.value;Object.entries(i).forEach(([o,r])=>{s.component?e?G4(r,e.children.getContext(o),t):G4(r,null,t):G4(r,e,t)}),s.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new _n(e.outlet.component,s)):t.canDeactivateChecks.push(new _n(null,s)):t.canDeactivateChecks.push(new _n(null,s))}function i0(n){return typeof n=="function"}function LN(n){return typeof n=="boolean"}function wN(n){return n&&i0(n.canLoad)}function zN(n){return n&&i0(n.canActivate)}function xN(n){return n&&i0(n.canActivateChild)}function SN(n){return n&&i0(n.canDeactivate)}function AN(n){return n&&i0(n.canMatch)}function Bg(n){return n instanceof L2||n?.name==="EmptyError"}var R6=Symbol("INITIAL_VALUE");function Sn(){return pe(n=>z3(n.map(e=>e.pipe(Ie(1),V0(R6)))).pipe(t1(e=>{for(let t of e)if(t!==!0){if(t===R6)return R6;if(t===!1||EN(t))return t}return!0}),V1(e=>e!==R6),Ie(1)))}function EN(n){return d3(n)||n instanceof J4}function DN(n,e){return w1(t=>{let{targetSnapshot:i,currentSnapshot:s,guards:{canActivateChecks:o,canDeactivateChecks:r}}=t;return r.length===0&&o.length===0?O(X(D({},t),{guardsResult:!0})):NN(r,i,s,n).pipe(w1(c=>c&&LN(c)?TN(i,o,n,e):O(c)),t1(c=>X(D({},t),{guardsResult:c})))})}function NN(n,e,t,i){return y1(n).pipe(w1(s=>ON(s.component,s.route,t,e,i)),o2(s=>s!==!0,!0))}function TN(n,e,t,i){return y1(e).pipe(Rt(s=>tt(kN(s.route.parent,i),IN(s.route,i),RN(n,s.path,t),PN(n,s.route,t))),o2(s=>s!==!0,!0))}function IN(n,e){return n!==null&&e&&e(new Il(n)),O(!0)}function kN(n,e){return n!==null&&e&&e(new Nl(n)),O(!0)}function PN(n,e,t){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return O(!0);let s=i.map(o=>O0(()=>{let r=t0(e)??t,c=An(o,r),a=zN(c)?c.canActivate(e,n):Re(r,()=>c(e,n));return Et(a).pipe(o2())}));return O(s).pipe(Sn())}function RN(n,e,t){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(r=>MN(r)).filter(r=>r!==null).map(r=>O0(()=>{let c=r.guards.map(a=>{let l=t0(r.node)??t,u=An(a,l),f=xN(u)?u.canActivateChild(i,n):Re(l,()=>u(i,n));return Et(f).pipe(o2())});return O(c).pipe(Sn())}));return O(o).pipe(Sn())}function ON(n,e,t,i,s){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return O(!0);let r=o.map(c=>{let a=t0(e)??s,l=An(c,a),u=SN(l)?l.canDeactivate(n,e,t,i):Re(a,()=>l(n,e,t,i));return Et(u).pipe(o2())});return O(r).pipe(Sn())}function FN(n,e,t,i){let s=e.canLoad;if(s===void 0||s.length===0)return O(!0);let o=s.map(r=>{let c=An(r,n),a=wN(c)?c.canLoad(e,t):Re(n,()=>c(e,t));return Et(a)});return O(o).pipe(Sn(),jg(i))}function jg(n){return go(B1(e=>{if(typeof e!="boolean")throw Y6(n,e)}),t1(e=>e===!0))}function HN(n,e,t,i){let s=e.canMatch;if(!s||s.length===0)return O(!0);let o=s.map(r=>{let c=An(r,n),a=AN(c)?c.canMatch(e,t):Re(n,()=>c(e,t));return Et(a)});return O(o).pipe(Sn(),jg(i))}var K4=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Q4=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function Cn(n){return w3(new K4(n))}function VN(n){return w3(new P(4e3,!1))}function BN(n){return w3(Hg(!1,Te.GuardRejected))}var Bl=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],s=t.root;for(;;){if(i=i.concat(s.segments),s.numberOfChildren===0)return O(i);if(s.numberOfChildren>1||!s.children[q])return VN(`${e.redirectTo}`);s=s.children[q]}}applyRedirectCommands(e,t,i,s,o){if(typeof t!="string"){let c=t,{queryParams:a,fragment:l,routeConfig:u,url:f,outlet:d,params:h,data:p,title:m}=s,v=Re(o,()=>c({params:h,data:p,queryParams:a,fragment:l,routeConfig:u,url:f,outlet:d,title:m}));if(v instanceof J2)throw new Q4(v);t=v}let r=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t[0]==="/")throw new Q4(r);return r}applyRedirectCreateUrlTree(e,t,i,s){let o=this.createSegmentGroup(e,t.root,i,s);return new J2(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let i={};return Object.entries(e).forEach(([s,o])=>{if(typeof o=="string"&&o[0]===":"){let c=o.substring(1);i[s]=t[c]}else i[s]=o}),i}createSegmentGroup(e,t,i,s){let o=this.createSegments(e,t.segments,i,s),r={};return Object.entries(t.children).forEach(([c,a])=>{r[c]=this.createSegmentGroup(e,a,i,s)}),new g1(o,r)}createSegments(e,t,i,s){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,s):this.findOrReturn(o,i))}findPosParam(e,t,i){let s=i[t.path.substring(1)];if(!s)throw new P(4001,!1);return s}findOrReturn(e,t){let i=0;for(let s of t){if(s.path===e.path)return t.splice(i),s;i++}return e}},jl={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function jN(n,e,t,i,s){let o=Ug(n,e,t);return o.matched?(i=lN(e,i),HN(i,e,t,s).pipe(t1(r=>r===!0?o:D({},jl)))):O(o)}function Ug(n,e,t){if(e.path==="**")return UN(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?D({},jl):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let s=(e.matcher||OD)(t,n,e);if(!s)return D({},jl);let o={};Object.entries(s.posParams??{}).forEach(([c,a])=>{o[c]=a.path});let r=s.consumed.length>0?D(D({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:r,positionalParamSegments:s.posParams??{}}}function UN(n){return{matched:!0,parameters:n.length>0?_g(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function mg(n,e,t,i){return t.length>0&&WN(n,t,i)?{segmentGroup:new g1(e,GN(i,new g1(t,n.children))),slicedSegments:[]}:t.length===0&&qN(n,t,i)?{segmentGroup:new g1(n.segments,$N(n,t,i,n.children)),slicedSegments:t}:{segmentGroup:new g1(n.segments,n.children),slicedSegments:t}}function $N(n,e,t,i){let s={};for(let o of t)if(eo(n,e,o)&&!i[n2(o)]){let r=new g1([],{});s[n2(o)]=r}return D(D({},i),s)}function GN(n,e){let t={};t[q]=e;for(let i of n)if(i.path===""&&n2(i)!==q){let s=new g1([],{});t[n2(i)]=s}return t}function WN(n,e,t){return t.some(i=>eo(n,e,i)&&n2(i)!==q)}function qN(n,e,t){return t.some(i=>eo(n,e,i))}function eo(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function ZN(n,e,t){return e.length===0&&!n.children[t]}var Ul=class{};function YN(n,e,t,i,s,o,r="emptyOnly"){return new $l(n,e,t,i,s,r,o).recognize()}var JN=31,$l=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,i,s,o,r,c){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=s,this.urlTree=o,this.paramsInheritanceStrategy=r,this.urlSerializer=c,this.applyRedirects=new Bl(this.urlSerializer,this.urlTree)}noMatchError(e){return new P(4002,`'${e.segmentGroup}'`)}recognize(){let e=mg(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(t1(({children:t,rootSnapshot:i})=>{let s=new Ne(i,t),o=new Z6("",s),r=nN(i,[],this.urlTree.queryParams,this.urlTree.fragment);return r.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(r),{state:o,tree:r}}))}match(e){let t=new yn([],Object.freeze({}),Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),q,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,q,t).pipe(t1(i=>({children:i,rootSnapshot:t})),nt(i=>{if(i instanceof Q4)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof K4?this.noMatchError(i):i}))}processSegmentGroup(e,t,i,s,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,t,i,o):this.processSegment(e,t,i,i.segments,s,!0,o).pipe(t1(r=>r instanceof Ne?[r]:[]))}processChildren(e,t,i,s){let o=[];for(let r of Object.keys(i.children))r==="primary"?o.unshift(r):o.push(r);return y1(o).pipe(Rt(r=>{let c=i.children[r],a=uN(t,r);return this.processSegmentGroup(e,a,c,r,s)}),Eo((r,c)=>(r.push(...c),r)),it(null),Ao(),w1(r=>{if(r===null)return Cn(i);let c=$g(r);return KN(c),O(c)}))}processSegment(e,t,i,s,o,r,c){return y1(t).pipe(Rt(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,i,s,o,r,c).pipe(nt(l=>{if(l instanceof K4)return O(null);throw l}))),o2(a=>!!a),nt(a=>{if(Bg(a))return ZN(i,s,o)?O(new Ul):Cn(i);throw a}))}processSegmentAgainstRoute(e,t,i,s,o,r,c,a){return n2(i)!==r&&(r===q||!eo(s,o,i))?Cn(s):i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,s,i,o,r,a):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,s,t,i,o,r,a):Cn(s)}expandSegmentAgainstRouteUsingRedirect(e,t,i,s,o,r,c){let{matched:a,parameters:l,consumedSegments:u,positionalParamSegments:f,remainingSegments:d}=Ug(t,s,o);if(!a)return Cn(t);typeof s.redirectTo=="string"&&s.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>JN&&(this.allowRedirects=!1));let h=new yn(o,l,Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,gg(s),n2(s),s.component??s._loadedComponent??null,s,vg(s)),p=q6(h,c,this.paramsInheritanceStrategy);h.params=Object.freeze(p.params),h.data=Object.freeze(p.data);let m=this.applyRedirects.applyRedirectCommands(u,s.redirectTo,f,h,e);return this.applyRedirects.lineralizeSegments(s,m).pipe(w1(v=>this.processSegment(e,i,t,v.concat(d),r,!1,c)))}matchSegmentAgainstRoute(e,t,i,s,o,r){let c=jN(t,i,s,e,this.urlSerializer);return i.path==="**"&&(t.children={}),c.pipe(pe(a=>a.matched?(e=i._injector??e,this.getChildConfig(e,i,s).pipe(pe(({routes:l})=>{let u=i._loadedInjector??e,{parameters:f,consumedSegments:d,remainingSegments:h}=a,p=new yn(d,f,Object.freeze(D({},this.urlTree.queryParams)),this.urlTree.fragment,gg(i),n2(i),i.component??i._loadedComponent??null,i,vg(i)),m=q6(p,r,this.paramsInheritanceStrategy);p.params=Object.freeze(m.params),p.data=Object.freeze(m.data);let{segmentGroup:v,slicedSegments:g}=mg(t,d,h,l);if(g.length===0&&v.hasChildren())return this.processChildren(u,l,v,p).pipe(t1(M=>new Ne(p,M)));if(l.length===0&&g.length===0)return O(new Ne(p,[]));let C=n2(i)===o;return this.processSegment(u,l,v,g,C?q:o,!0,p).pipe(t1(M=>new Ne(p,M instanceof Ne?[M]:[])))}))):Cn(t)))}getChildConfig(e,t,i){return t.children?O({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?O({routes:t._loadedRoutes,injector:t._loadedInjector}):FN(e,t,i,this.urlSerializer).pipe(w1(s=>s?this.configLoader.loadChildren(e,t).pipe(B1(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):BN(t))):O({routes:[],injector:e})}};function KN(n){n.sort((e,t)=>e.value.outlet===q?-1:t.value.outlet===q?1:e.value.outlet.localeCompare(t.value.outlet))}function QN(n){let e=n.value.routeConfig;return e&&e.path===""}function $g(n){let e=[],t=new Set;for(let i of n){if(!QN(i)){e.push(i);continue}let s=e.find(o=>i.value.routeConfig===o.value.routeConfig);s!==void 0?(s.children.push(...i.children),t.add(s)):e.push(i)}for(let i of t){let s=$g(i.children);e.push(new Ne(i.value,s))}return e.filter(i=>!t.has(i))}function gg(n){return n.data||{}}function vg(n){return n.resolve||{}}function XN(n,e,t,i,s,o){return w1(r=>YN(n,e,t,i,r.extractedUrl,s,o).pipe(t1(({state:c,tree:a})=>X(D({},r),{targetSnapshot:c,urlAfterRedirects:a}))))}function eT(n,e){return w1(t=>{let{targetSnapshot:i,guards:{canActivateChecks:s}}=t;if(!s.length)return O(t);let o=new Set(s.map(a=>a.route)),r=new Set;for(let a of o)if(!r.has(a))for(let l of Gg(a))r.add(l);let c=0;return y1(r).pipe(Rt(a=>o.has(a)?tT(a,i,n,e):(a.data=q6(a,a.parent,n).resolve,O(void 0))),B1(()=>c++),S3(1),w1(a=>c===r.size?O(t):Z1))})}function Gg(n){let e=n.children.map(t=>Gg(t)).flat();return[n,...e]}function tT(n,e,t,i){let s=n.routeConfig,o=n._resolve;return s?.title!==void 0&&!Og(s)&&(o[X4]=s.title),nT(o,n,e,i).pipe(t1(r=>(n._resolvedData=r,n.data=q6(n,n.parent,t).resolve,null)))}function nT(n,e,t,i){let s=yl(n);if(s.length===0)return O({});let o={};return y1(s).pipe(w1(r=>iT(n[r],e,t,i).pipe(o2(),B1(c=>{if(c instanceof J4)throw Y6(new wn,c);o[r]=c}))),S3(1),xo(o),nt(r=>Bg(r)?Z1:w3(r)))}function iT(n,e,t,i){let s=t0(e)??i,o=An(n,s),r=o.resolve?o.resolve(e,t):Re(s,()=>o(e,t));return Et(r)}function bl(n){return pe(e=>{let t=n(e);return t?y1(t).pipe(t1(()=>e)):O(e)})}var Wg=(()=>{class n{buildTitle(t){let i,s=t.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===q);return i}getResolvedTitleForRoute(t){return t.data[X4]}static \u0275fac=function(i){return new(i||n)};static \u0275prov=I({token:n,factory:()=>x(sT),providedIn:"root"})}return n})(),sT=(()=>{class n extends Wg{title;constructor(t){super(),this.title=t}updateTitle(t){let i=this.buildTitle(t);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||n)(F(nh))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),s0=new V("",{providedIn:"root",factory:()=>({})}),oT=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=se({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(i,s){i&1&&J1(0,"router-outlet")},dependencies:[hN],encapsulation:2})}return n})();function ql(n){let e=n.children&&n.children.map(ql),t=e?X(D({},n),{children:e}):D({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==q&&(t.component=oT),t}var K6=new V(""),Zl=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=x(ts);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return O(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let i=Et(t.loadComponent()).pipe(t1(qg),B1(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),x3(()=>{this.componentLoaders.delete(t)})),s=new M3(i,()=>new p1).pipe(b3());return this.componentLoaders.set(t,s),s}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return O({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=rT(i,this.compiler,t,this.onLoadEndListener).pipe(x3(()=>{this.childrenLoaders.delete(i)})),r=new M3(o,()=>new p1).pipe(b3());return this.childrenLoaders.set(i,r),r}static \u0275fac=function(i){return new(i||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function rT(n,e,t,i){return Et(n.loadChildren()).pipe(t1(qg),w1(s=>s instanceof jn||Array.isArray(s)?O(s):y1(e.compileModuleAsync(s))),t1(s=>{i&&i(n);let o,r,c=!1;return Array.isArray(s)?(r=s,c=!0):(o=s.create(t).injector,r=o.get(K6,[],{optional:!0,self:!0}).flat()),{routes:r.map(ql),injector:o}}))}function cT(n){return n&&typeof n=="object"&&"default"in n}function qg(n){return cT(n)?n.default:n}var Yl=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=I({token:n,factory:()=>x(aT),providedIn:"root"})}return n})(),aT=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static \u0275fac=function(i){return new(i||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Zg=new V(""),Yg=new V("");function lT(n,e,t){let i=n.get(Yg),s=n.get(I1);return n.get(d1).runOutsideAngular(()=>{if(!s.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,r=new Promise(l=>{o=l}),c=s.startViewTransition(()=>(o(),uT(n))),{onViewTransitionCreated:a}=i;return a&&Re(n,()=>a({transition:c,from:e,to:t})),r})}function uT(n){return new Promise(e=>{K3({read:()=>setTimeout(e)},{injector:n})})}var Jg=new V(""),Jl=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new p1;transitionAbortSubject=new p1;configLoader=x(Zl);environmentInjector=x(ee);urlSerializer=x(e0);rootContexts=x(n0);location=x(nn);inputBindingEnabled=x(X6,{optional:!0})!==null;titleStrategy=x(Wg);options=x(s0,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=x(Yl);createViewTransition=x(Zg,{optional:!0});navigationErrorHandler=x(Jg,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>O(void 0);rootComponentType=null;constructor(){let t=s=>this.events.next(new El(s)),i=s=>this.events.next(new Dl(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let i=++this.navigationId;this.transitions?.next(X(D(D({},this.transitions.value),t),{id:i}))}setupNavigations(t,i,s){return this.transitions=new $1({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:$4,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(V1(o=>o.id!==0),t1(o=>X(D({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),pe(o=>{let r=!1,c=!1;return O(o).pipe(pe(a=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Te.SupersededByNewNavigation),Z1;this.currentTransition=o,this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,targetBrowserUrl:typeof a.extras.browserUrl=="string"?this.urlSerializer.parse(a.extras.browserUrl):a.extras.browserUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?X(D({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=a.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&u!=="reload"){let f="";return this.events.next(new At(a.id,this.urlSerializer.serialize(a.rawUrl),f,j6.IgnoredSameUrlNavigation)),a.resolve(!1),Z1}if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return O(a).pipe(pe(f=>{let d=this.transitions?.getValue();return this.events.next(new zn(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),d!==this.transitions?.getValue()?Z1:Promise.resolve(f)}),XN(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),B1(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=X(D({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let d=new U6(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(d)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){let{id:f,extractedUrl:d,source:h,restoredState:p,extras:m}=a,v=new zn(f,this.urlSerializer.serialize(d),h,p);this.events.next(v);let g=Pg(this.rootComponentType).snapshot;return this.currentTransition=o=X(D({},a),{targetSnapshot:g,urlAfterRedirects:d,extras:X(D({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=d,O(o)}else{let f="";return this.events.next(new At(a.id,this.urlSerializer.serialize(a.extractedUrl),f,j6.IgnoredByUrlHandlingStrategy)),a.resolve(!1),Z1}}),B1(a=>{let l=new zl(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),t1(a=>(this.currentTransition=o=X(D({},a),{guards:bN(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),o)),DN(this.environmentInjector,a=>this.events.next(a)),B1(a=>{if(o.guardsResult=a.guardsResult,a.guardsResult&&typeof a.guardsResult!="boolean")throw Y6(this.urlSerializer,a.guardsResult);let l=new xl(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(l)}),V1(a=>a.guardsResult?!0:(this.cancelNavigationTransition(a,"",Te.GuardRejected),!1)),bl(a=>{if(a.guards.canActivateChecks.length)return O(a).pipe(B1(l=>{let u=new Sl(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),pe(l=>{let u=!1;return O(l).pipe(eT(this.paramsInheritanceStrategy,this.environmentInjector),B1({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(l,"",Te.NoDataFromResolver)}}))}),B1(l=>{let u=new Al(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}))}),bl(a=>{let l=u=>{let f=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(u.routeConfig).pipe(B1(d=>{u.component=d}),t1(()=>{})));for(let d of u.children)f.push(...l(d));return f};return z3(l(a.targetSnapshot.root)).pipe(it(null),Ie(1))}),bl(()=>this.afterPreactivation()),pe(()=>{let{currentSnapshot:a,targetSnapshot:l}=o,u=this.createViewTransition?.(this.environmentInjector,a.root,l.root);return u?y1(u).pipe(t1(()=>o)):O(o)}),t1(a=>{let l=pN(t.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return this.currentTransition=o=X(D({},a),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,o}),B1(()=>{this.events.next(new Z4)}),CN(this.rootContexts,t.routeReuseStrategy,a=>this.events.next(a),this.inputBindingEnabled),Ie(1),B1({next:a=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new i2(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),this.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{r=!0}}),J(this.transitionAbortSubject.pipe(B1(a=>{throw a}))),x3(()=>{!r&&!c&&this.cancelNavigationTransition(o,"",Te.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),nt(a=>{if(c=!0,Vg(a))this.events.next(new Y2(o.id,this.urlSerializer.serialize(o.extractedUrl),a.message,a.cancellationCode)),vN(a)?this.events.next(new xn(a.url,a.navigationBehaviorOptions)):o.resolve(!1);else{let l=new q4(o.id,this.urlSerializer.serialize(o.extractedUrl),a,o.targetSnapshot??void 0);try{let u=Re(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(u instanceof J4){let{message:f,cancellationCode:d}=Y6(this.urlSerializer,u);this.events.next(new Y2(o.id,this.urlSerializer.serialize(o.extractedUrl),f,d)),this.events.next(new xn(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(l),a}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return Z1}))}))}cancelNavigationTransition(t,i,s){let o=new Y2(t.id,this.urlSerializer.serialize(t.extractedUrl),i,s);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function fT(n){return n!==$4}var dT=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=I({token:n,factory:()=>x(hT),providedIn:"root"})}return n})(),Gl=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},hT=(()=>{class n extends Gl{static \u0275fac=(()=>{let t;return function(s){return(t||(t=Yn(n)))(s||n)}})();static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Kg=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=I({token:n,factory:()=>x(pT),providedIn:"root"})}return n})(),pT=(()=>{class n extends Kg{location=x(nn);urlSerializer=x(e0);options=x(s0,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=x(Yl);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new J2;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=Pg(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{i.type==="popstate"&&t(i.url,i.state)})}handleRouterEvent(t,i){if(t instanceof zn)this.stateMemento=this.createStateMemento();else if(t instanceof At)this.rawUrlTree=i.initialUrl;else if(t instanceof U6){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??s,i)}}else t instanceof Z4?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):t instanceof Y2&&(t.code===Te.GuardRejected||t.code===Te.NoDataFromResolver)?this.restoreHistory(i):t instanceof q4?this.restoreHistory(i,!0):t instanceof i2&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,i){let s=t instanceof J2?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,r=D(D({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",r)}else{let o=D(D({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(t,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(s){return(t||(t=Yn(n)))(s||n)}})();static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),j4=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(j4||{});function Qg(n,e){n.events.pipe(V1(t=>t instanceof i2||t instanceof Y2||t instanceof q4||t instanceof At),t1(t=>t instanceof i2||t instanceof At?j4.COMPLETE:(t instanceof Y2?t.code===Te.Redirect||t.code===Te.SupersededByNewNavigation:!1)?j4.REDIRECTING:j4.FAILED),V1(t=>t!==j4.REDIRECTING),Ie(1)).subscribe(()=>{e()})}var mT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},gT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},K2=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=x(qi);stateManager=x(Kg);options=x(s0,{optional:!0})||{};pendingTasks=x(Z3);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=x(Jl);urlSerializer=x(e0);location=x(nn);urlHandlingStrategy=x(Yl);_events=new p1;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=x(dT);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=x(K6,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!x(X6,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new E1;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Y2&&i.code!==Te.Redirect&&i.code!==Te.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof i2)this.navigated=!0;else if(i instanceof xn){let r=i.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),a=D({browserUrl:s.extras.browserUrl,info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:s.extras.replaceUrl||this.urlUpdateStrategy==="eager"||fT(s.source)},r);this.scheduleNavigation(c,$4,null,a,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}CT(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),$4,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",i)},0)})}navigateToSyncWithBrowser(t,i,s){let o={replaceUrl:!0},r=s?.navigationId?s:null;if(s){let a=D({},s);delete a.navigationId,delete a.\u0275routerPageId,Object.keys(a).length!==0&&(o.state=a)}let c=this.parseUrl(t);this.scheduleNavigation(c,i,r,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(ql),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){let{relativeTo:s,queryParams:o,fragment:r,queryParamsHandling:c,preserveFragment:a}=i,l=a?this.currentUrlTree.fragment:r,u=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":u=D(D({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let f;try{let d=s?s.snapshot:this.routerState.snapshot.root;f=Ng(d)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),f=this.currentUrlTree.root}return Tg(f,t,u,l??null)}navigateByUrl(t,i={skipLocationChange:!1}){let s=d3(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,$4,null,i)}navigate(t,i={skipLocationChange:!1}){return vT(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let s;if(i===!0?s=D({},mT):i===!1?s=D({},gT):s=i,d3(t))return ug(this.currentUrlTree,t,s);let o=this.parseUrl(t);return ug(this.currentUrlTree,o,s)}removeEmptyProps(t){return Object.entries(t).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(t,i,s,o,r){if(this.disposed)return Promise.resolve(!1);let c,a,l;r?(c=r.resolve,a=r.reject,l=r.promise):l=new Promise((f,d)=>{c=f,a=d});let u=this.pendingTasks.add();return Qg(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:c,reject:a,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(f=>Promise.reject(f))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function vT(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new P(4008,!1)}function CT(n){return!(n instanceof Z4)&&!(n instanceof xn)}var Cg=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new p1;constructor(t,i,s,o,r,c){this.router=t,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=r,this.locationStrategy=c;let a=r.nativeElement.tagName?.toLowerCase();this.isAnchorElement=a==="a"||a==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof i2&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(d3(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,i,s,o,r){let c=this.urlTree;if(c===null||this.isAnchorElement&&(t!==0||i||s||o||r||typeof this.target=="string"&&this.target!="_self"))return!0;let a={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,a),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let i=this.href===null?null:Mf(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(t,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,t,i):s.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:d3(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(i){return new(i||n)(s1(K2),s1(h3),Oi("tabindex"),s1(ht),s1(Y1),s1(R2))};static \u0275dir=f2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&be("click",function(r){return s.onClick(r.button,r.ctrlKey,r.shiftKey,r.altKey,r.metaKey)}),i&2&&Wt("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",s4],skipLocationChange:[2,"skipLocationChange","skipLocationChange",s4],replaceUrl:[2,"replaceUrl","replaceUrl",s4],routerLink:"routerLink"},features:[Rc,Oe]})}return n})(),oU=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new _1;constructor(t,i,s,o,r){this.router=t,this.element=i,this.renderer=s,this.cdr=o,this.link=r,this.routerEventsSubscription=t.events.subscribe(c=>{c instanceof i2&&this.update()})}ngAfterContentInit(){O(this.links.changes,O(null)).pipe(et()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=y1(t).pipe(et()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(t){let i=Array.isArray(t)?t:t.split(" ");this.classes=i.filter(s=>!!s)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(i=>{t?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let i=bT(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>{let o=s.urlTree;return o?t.isActive(o,i):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(i){return new(i||n)(s1(K2),s1(Y1),s1(ht),s1(Ct),s1(Cg,8))};static \u0275dir=f2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(i,s,o){if(i&1&&Oc(o,Cg,5),i&2){let r;en(r=tn())&&(s.links=r)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Oe]})}return n})();function bT(n){return!!n.paths}var Q6=class{};var MT=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,i,s,o,r){this.router=t,this.injector=s,this.preloadingStrategy=o,this.loader=r}setUpPreloading(){this.subscription=this.router.events.pipe(V1(t=>t instanceof i2),Rt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){let s=[];for(let o of i){o.providers&&!o._injector&&(o._injector=Wi(o.providers,t,`Route: ${o.path}`));let r=o._injector??t,c=o._loadedInjector??r;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(r,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(c,o.children??o._loadedRoutes))}return y1(s).pipe(et())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let s;i.loadChildren&&i.canLoad===void 0?s=this.loader.loadChildren(t,i):s=O(null);let o=s.pipe(w1(r=>r===null?O(void 0):(i._loadedRoutes=r.routes,i._loadedInjector=r.injector,this.processRoutes(r.injector??t,r.routes))));if(i.loadComponent&&!i._loadedComponent){let r=this.loader.loadComponent(i);return y1([o,r]).pipe(et())}else return o})}static \u0275fac=function(i){return new(i||n)(F(K2),F(ts),F(ee),F(Q6),F(Zl))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Xg=new V(""),yT=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(t,i,s,o,r={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=r,r.scrollPositionRestoration||="disabled",r.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof zn?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof i2?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof At&&t.code===j6.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof $6&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new $6(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(i){Rf()};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})();function _T(n){return n.routerState.root}function o0(n,e){return{\u0275kind:n,\u0275providers:e}}function LT(){let n=x(G1);return e=>{let t=n.get(d2);if(e!==t.components[0])return;let i=n.get(K2),s=n.get(ev);n.get(Kl)===1&&i.initialNavigation(),n.get(tv,null,K.Optional)?.setUpPreloading(),n.get(Xg,null,K.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}var ev=new V("",{factory:()=>new p1}),Kl=new V("",{providedIn:"root",factory:()=>1});function wT(){return o0(2,[{provide:Kl,useValue:0},{provide:Ji,multi:!0,deps:[G1],useFactory:e=>{let t=e.get(Bd,Promise.resolve());return()=>t.then(()=>new Promise(i=>{let s=e.get(K2),o=e.get(ev);Qg(s,()=>{i(!0)}),e.get(Jl).afterPreactivation=()=>(i(!0),o.closed?O(void 0):o),s.initialNavigation()}))}}])}function zT(){return o0(3,[{provide:Ji,multi:!0,useFactory:()=>{let e=x(K2);return()=>{e.setUpLocationChangeListener()}}},{provide:Kl,useValue:2}])}var tv=new V("");function xT(n){return o0(0,[{provide:tv,useExisting:MT},{provide:Q6,useExisting:n}])}function ST(){return o0(8,[pg,{provide:X6,useExisting:pg}])}function AT(n){let e=[{provide:Zg,useValue:lT},{provide:Yg,useValue:D({skipNextTransition:!!n?.skipInitialTransition},n)}];return o0(9,e)}var bg=new V("ROUTER_FORROOT_GUARD"),ET=[nn,{provide:e0,useClass:wn},K2,n0,{provide:h3,useFactory:_T,deps:[K2]},Zl,[]],rU=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[ET,[],{provide:K6,multi:!0,useValue:t},{provide:bg,useFactory:IT,deps:[[K2,new Di,new Kr]]},i?.errorHandler?{provide:Jg,useValue:i.errorHandler}:[],{provide:s0,useValue:i||{}},i?.useHash?NT():TT(),DT(),i?.preloadingStrategy?xT(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?kT(i):[],i?.bindToComponentInputs?ST().\u0275providers:[],i?.enableViewTransitions?AT().\u0275providers:[],PT()]}}static forChild(t){return{ngModule:n,providers:[{provide:K6,multi:!0,useValue:t}]}}static \u0275fac=function(i){return new(i||n)(F(bg,8))};static \u0275mod=f1({type:n});static \u0275inj=u1({})}return n})();function DT(){return{provide:Xg,useFactory:()=>{let n=x(Wd),e=x(d1),t=x(s0),i=x(Jl),s=x(e0);return t.scrollOffset&&n.setOffset(t.scrollOffset),new yT(s,i,n,e,t)}}}function NT(){return{provide:R2,useClass:Ud}}function TT(){return{provide:R2,useClass:Wc}}function IT(n){return"guarded"}function kT(n){return[n.initialNavigation==="disabled"?zT().\u0275providers:[],n.initialNavigation==="enabledBlocking"?wT().\u0275providers:[]]}var Mg=new V("");function PT(){return[{provide:Mg,useFactory:LT},{provide:kc,multi:!0,useExisting:Mg}]}export{I as a,u1 as b,F as c,ie as d,s1 as e,U3 as f,se as g,f1 as h,EH as i,mt as j,xe as k,J_ as l,K_ as m,Q_ as n,z1 as o,D1 as p,J1 as q,be as r,Ke as s,Q3 as t,X3 as u,Qe as v,es as w,gt as x,vt as y,fL as z,iV as A,sV as B,rs as C,bV as D,MV as E,hN as F,Cg as G,oU as H,rU as I,an as J,VB as K,jB as L,Sj as M,Vj as N};
